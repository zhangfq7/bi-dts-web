/*!/jquery/jquery-1.11.2.min.js*/
!function(b,a){"object"==typeof module&&"object"==typeof module.exports?module.exports=b.document?a(b,!0):function(c){if(!c.document){throw new Error("jQuery requires a window with a document")}return a(c)}:a(b)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=it.type(e);return"function"===n||it.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(it.isFunction(t)){return it.grep(e,function(e,r){return !!t.call(e,r,e)!==n})}if(t.nodeType){return it.grep(e,function(e){return e===t!==n})}if("string"==typeof t){if(ft.test(t)){return it.filter(t,e,n)}t=it.filter(t,e)}return it.grep(e,function(e){return it.inArray(e,t)>=0!==n})}function i(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function o(e){var t=xt[e]={};return it.each(e.match(bt)||[],function(e,n){t[n]=!0}),t}function a(){ht.addEventListener?(ht.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(ht.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(ht.addEventListener||"load"===event.type||"complete"===ht.readyState)&&(a(),it.ready())}function u(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Et,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Nt.test(n)?it.parseJSON(n):n}catch(i){}it.data(e,t,n)}else{n=void 0}}return n}function l(e){var t;for(t in e){if(("data"!==t||!it.isEmptyObject(e[t]))&&"toJSON"!==t){return !1}}return !0}function c(e,t,n,r){if(it.acceptData(e)){var i,o,a=it.expando,s=e.nodeType,u=s?it.cache:e,l=s?e[a]:e[a]&&a;if(l&&u[l]&&(r||u[l].data)||void 0!==n||"string"!=typeof t){return l||(l=s?e[a]=J.pop()||it.guid++:a),u[l]||(u[l]=s?{}:{toJSON:it.noop}),("object"==typeof t||"function"==typeof t)&&(r?u[l]=it.extend(u[l],t):u[l].data=it.extend(u[l].data,t)),o=u[l],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[it.camelCase(t)]=n),"string"==typeof t?(i=o[t],null==i&&(i=o[it.camelCase(t)])):i=o,i}}}function d(e,t,n){if(it.acceptData(e)){var r,i,o=e.nodeType,a=o?it.cache:e,s=o?e[it.expando]:it.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){it.isArray(t)?t=t.concat(it.map(t,it.camelCase)):t in r?t=[t]:(t=it.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;){delete r[t[i]]}if(n?!l(r):!it.isEmptyObject(r)){return}}(n||(delete a[s].data,l(a[s])))&&(o?it.cleanData([e],!0):nt.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function f(){return !0}function p(){return !1}function h(){try{return ht.activeElement}catch(e){}}function m(e){var t=Ft.split("|"),n=e.createDocumentFragment();if(n.createElement){for(;t.length;){n.createElement(t.pop())}}return n}function g(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==Ct?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ct?e.querySelectorAll(t||"*"):void 0;if(!o){for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++){!t||it.nodeName(r,t)?o.push(r):it.merge(o,g(r,t))}}return void 0===t||t&&it.nodeName(e,t)?it.merge([e],o):o}function v(e){jt.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return it.nodeName(e,"table")&&it.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==it.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=Vt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++){it._data(n,"globalEval",!t||it._data(t[r],"globalEval"))}}function T(e,t){if(1===t.nodeType&&it.hasData(e)){var n,r,i,o=it._data(e),a=it._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s){for(r=0,i=s[n].length;i>r;r++){it.event.add(t,n,s[n][r])}}}a.data&&(a.data=it.extend({},a.data))}}function C(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!nt.noCloneEvent&&t[it.expando]){i=it._data(t);for(r in i.events){it.removeEvent(t,r,i.handle)}t.removeAttribute(it.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),nt.html5Clone&&e.innerHTML&&!it.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&jt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function N(t,n){var r,i=it(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:it.css(i[0],"display");return i.detach(),o}function E(e){var t=ht,n=Zt[e];return n||(n=N(e,t),"none"!==n&&n||(Kt=(Kt||it("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Kt[0].contentWindow||Kt[0].contentDocument).document,t.write(),t.close(),n=N(e,t),Kt.detach()),Zt[e]=n),n}function k(e,t){return{get:function(){var n=e();return null!=n?n?void delete this.get:(this.get=t).apply(this,arguments):void 0}}}function S(e,t){if(t in e){return t}for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=pn.length;i--;){if(t=pn[i]+n,t in e){return t}}return r}function A(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++){r=e[a],r.style&&(o[a]=it._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&At(r)&&(o[a]=it._data(r,"olddisplay",E(r.nodeName)))):(i=At(r),(n&&"none"!==n||!i)&&it._data(r,"olddisplay",i?n:it.css(r,"display"))))}for(a=0;s>a;a++){r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"))}return e}function D(e,t,n){var r=ln.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function j(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2){"margin"===n&&(a+=it.css(e,n+St[o],!0,i)),r?("content"===n&&(a-=it.css(e,"padding"+St[o],!0,i)),"margin"!==n&&(a-=it.css(e,"border"+St[o]+"Width",!0,i))):(a+=it.css(e,"padding"+St[o],!0,i),"padding"!==n&&(a+=it.css(e,"border"+St[o]+"Width",!0,i)))}return a}function L(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=en(e),a=nt.boxSizing&&"border-box"===it.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=tn(e,t,o),(0>i||null==i)&&(i=e.style[t]),rn.test(i)){return i}r=a&&(nt.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+j(e,t,n||(a?"border":"content"),r,o)+"px"}function H(e,t,n,r,i){return new H.prototype.init(e,t,n,r,i)}function q(){return setTimeout(function(){hn=void 0}),hn=it.now()}function _(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t){n=St[i],r["margin"+n]=r["padding"+n]=e}return t&&(r.opacity=r.width=e),r}function M(e,t,n){for(var r,i=(xn[t]||[]).concat(xn["*"]),o=0,a=i.length;a>o;o++){if(r=i[o].call(n,t,e)){return r}}}function F(e,t,n){var r,i,o,a,s,u,l,c,d=this,f={},p=e.style,h=e.nodeType&&At(e),m=it._data(e,"fxshow");n.queue||(s=it._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,it.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height" in t||"width" in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=it.css(e,"display"),c="none"===l?it._data(e,"olddisplay")||E(e.nodeName):l,"inline"===c&&"none"===it.css(e,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",nt.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t){if(i=t[r],gn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r]){continue}h=!0}f[r]=m&&m[r]||it.style(e,r)}else{l=void 0}}if(it.isEmptyObject(f)){"inline"===("none"===l?E(e.nodeName):l)&&(p.display=l)}else{m?"hidden" in m&&(h=m.hidden):m=it._data(e,"fxshow",{}),o&&(m.hidden=!h),h?it(e).show():d.done(function(){it(e).hide()}),d.done(function(){var t;it._removeData(e,"fxshow");for(t in f){it.style(e,t,f[t])}});for(r in f){a=M(h?m[r]:0,r,d),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}}function O(e,t){var n,r,i,o,a;for(n in e){if(r=it.camelCase(n),i=t[r],o=e[n],it.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=it.cssHooks[r],a&&"expand" in a){o=a.expand(o),delete e[r];for(n in o){n in e||(e[n]=o[n],t[n]=i)}}else{t[r]=i}}}function B(e,t,n){var r,i,o=0,a=bn.length,s=it.Deferred().always(function(){delete u.elem}),u=function(){if(i){return !1}for(var t=hn||q(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;u>a;a++){l.tweens[a].run(o)}return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:it.extend({},t),opts:it.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:hn||q(),duration:n.duration,tweens:[],createTween:function(t,n){var r=it.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i){return this}for(i=!0;r>n;n++){l.tweens[n].run(1)}return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(O(c,l.opts.specialEasing);a>o;o++){if(r=bn[o].call(l,e,c,l.opts)){return r}}return it.map(c,M,l),it.isFunction(l.opts.start)&&l.opts.start.call(e,l),it.fx.timer(it.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function P(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(bt)||[];if(it.isFunction(n)){for(;r=o[i++];){"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}}}function R(e,t,n,r){function i(s){var u;return o[s]=!0,it.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===In;return i(t.dataTypes[0])||!o["*"]&&i("*")}function W(e,t){var n,r,i=it.ajaxSettings.flatOptions||{};for(r in t){void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r])}return n&&it.extend(!0,e,n),e}function $(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];){u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"))}if(i){for(a in s){if(s[a]&&s[a].test(i)){u.unshift(a);break}}}if(u[0] in n){o=u[0]}else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function z(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1]){for(a in e.converters){l[a.toLowerCase()]=e.converters[a]}}for(o=c.shift();o;){if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift()){if("*"===o){o=u}else{if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a){for(i in l){if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}}}if(a!==!0){if(a&&e["throws"]){t=a(t)}else{try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+u+" to "+o}}}}}}}}return{state:"success",data:t}}function I(e,t,n,r){var i;if(it.isArray(t)){it.each(t,function(t,i){n||Jn.test(e)?r(e,i):I(e+"["+("object"==typeof i?t:"")+"]",i,n,r)})}else{if(n||"object"!==it.type(t)){r(e,t)}else{for(i in t){I(e+"["+i+"]",t[i],n,r)}}}}function X(){try{return new e.XMLHttpRequest}catch(t){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function V(e){return it.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var J=[],Y=J.slice,G=J.concat,Q=J.push,K=J.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,nt={},rt="1.11.2",it=function(e,t){return new it.fn.init(e,t)},ot=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,st=/-([\da-z])/gi,ut=function(e,t){return t.toUpperCase()};it.fn=it.prototype={jquery:rt,constructor:it,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=it.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return it.each(this,e,t)},map:function(e){return this.pushStack(it.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:J.sort,splice:J.splice},it.extend=it.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||it.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++){if(null!=(i=arguments[s])){for(r in i){e=a[r],n=i[r],a!==n&&(l&&n&&(it.isPlainObject(n)||(t=it.isArray(n)))?(t?(t=!1,o=e&&it.isArray(e)?e:[]):o=e&&it.isPlainObject(e)?e:{},a[r]=it.extend(l,o,n)):void 0!==n&&(a[r]=n))}}}return a},it.extend({expando:"jQuery"+(rt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===it.type(e)},isArray:Array.isArray||function(e){return"array"===it.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return !it.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e){return !1}return !0},isPlainObject:function(e){var t;if(!e||"object"!==it.type(e)||e.nodeType||it.isWindow(e)){return !1}try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf")){return !1}}catch(n){return !1}if(nt.ownLast){for(t in e){return tt.call(e,t)}}for(t in e){}return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&it.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(at,"ms-").replace(st,ut)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s){for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++){}}else{for(o in e){if(i=t.apply(e[o],r),i===!1){break}}}}else{if(s){for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++){}}else{for(o in e){if(i=t.call(e[o],o,e[o]),i===!1){break}}}}return e},trim:function(e){return null==e?"":(e+"").replace(ot,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?it.merge(r,"string"==typeof e?[e]:e):Q.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(K){return K.call(t,e,n)}for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++){if(n in t&&t[n]===e){return n}}}return -1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;){e[i++]=t[r++]}if(n!==n){for(;void 0!==t[r];){e[i++]=t[r++]}}return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++){r=!t(e[o],o),r!==s&&i.push(e[o])}return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),u=[];if(s){for(;a>o;o++){i=t(e[o],o,r),null!=i&&u.push(i)}}else{for(o in e){i=t(e[o],o,r),null!=i&&u.push(i)}}return G.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),it.isFunction(e)?(n=Y.call(arguments,2),r=function(){return e.apply(t||this,n.concat(Y.call(arguments)))},r.guid=e.guid=e.guid||it.guid++,r):void 0},now:function(){return +new Date},support:nt}),it.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var lt=function(e){function t(e,t,n,r){var i,o,a,s,u,l,d,p,h,m;if((t?t.ownerDocument||t:R)!==H&&L(t),t=t||H,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s){return n}if(!r&&_){if(11!==s&&(i=yt.exec(e))){if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode){return n}if(o.id===a){return n.push(o),n}}else{if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&B(t,o)&&o.id===a){return n.push(o),n}}}else{if(i[2]){return K.apply(n,t.getElementsByTagName(e)),n}if((a=i[3])&&w.getElementsByClassName){return K.apply(n,t.getElementsByClassName(a)),n}}}if(w.qsa&&(!M||!M.test(e))){if(p=d=P,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=E(e),(d=t.getAttribute("id"))?p=d.replace(xt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",u=l.length;u--;){l[u]=p+f(l[u])}h=bt.test(e)&&c(t.parentNode)||t,m=l.join(",")}if(m){try{return K.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}}return S(e.replace(ut,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[P]=!0,e}function i(e){var t=H.createElement("div");try{return !!e(t)}catch(n){return !1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;){T.attrHandle[n[r]]=t}}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r){return r}if(n){for(;n=n.nextSibling;){if(n===t){return -1}}}return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;){n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++){r+=e[t].value}return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];){if(1===t.nodeType||i){return e(t,n,o)}}}:function(t,n,a){var s,u,l=[W,o];if(a){for(;t=t[r];){if((1===t.nodeType||i)&&e(t,n,a)){return !0}}}else{for(;t=t[r];){if(1===t.nodeType||i){if(u=t[P]||(t[P]={}),(s=u[r])&&s[0]===W&&s[1]===o){return l[2]=s[2]}if(u[r]=l,l[2]=e(t,n,a)){return !0}}}}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;){if(!e[i](t,n,r)){return !1}}return !0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;o>i;i++){t(e,n[i],r)}return r}function g(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++){(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s))}return a}function v(e,t,n,i,o,a){return i&&!i[P]&&(i=v(i)),o&&!o[P]&&(o=v(o,a)),r(function(r,a,s,u){var l,c,d,f=[],p=[],h=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,f,e,s,u),b=n?o||(r?e:h||i)?[]:a:y;if(n&&n(y,b,s,u),i){for(l=g(b,p),i(l,[],s,u),c=l.length;c--;){(d=l[c])&&(b[p[c]]=!(y[p[c]]=d))}}if(r){if(o||e){if(o){for(l=[],c=b.length;c--;){(d=b[c])&&l.push(y[c]=d)}o(null,b=[],l,u)}for(c=b.length;c--;){(d=b[c])&&(l=o?et(r,d):f[c])>-1&&(r[l]=!(a[l]=d))}}}else{b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,u):K.apply(a,b)}})}function y(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return et(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==A)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];i>s;s++){if(n=T.relative[e[s].type]){c=[p(h(c),n)]}else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[P]){for(r=++s;i>r&&!T.relative[e[r].type];r++){}return v(s>1&&h(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ut,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&f(e))}c.push(n)}}return h(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,d,f,p=0,h="0",m=r&&[],v=[],y=A,b=r||o&&T.find.TAG("*",l),x=W+=null==y?1:Math.random()||0.1,w=b.length;for(l&&(A=a!==H&&a);h!==w&&null!=(c=b[h]);h++){if(o&&c){for(d=0;f=e[d++];){if(f(c,a,s)){u.push(c);break}}l&&(W=x)}i&&((c=!f&&c)&&p--,r&&m.push(c))}if(p+=h,i&&h!==p){for(d=0;f=n[d++];){f(m,v,a,s)}if(r){if(p>0){for(;h--;){m[h]||v[h]||(v[h]=G.call(u))}}v=g(v)}K.apply(u,v),l&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(u)}return l&&(W=x,A=y),m};return i?r(a):a}var x,w,T,C,N,E,k,S,A,D,j,L,H,q,_,M,F,O,B,P="sizzle"+1*new Date,R=e.document,W=0,$=0,z=n(),I=n(),X=n(),U=function(e,t){return e===t&&(j=!0),0},V=1<<31,J={}.hasOwnProperty,Y=[],G=Y.pop,Q=Y.push,K=Y.push,Z=Y.slice,et=function(e,t){for(var n=0,r=e.length;r>n;n++){if(e[n]===t){return n}}return -1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=rt.replace("w","w#"),ot="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",at=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),ut=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),dt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ft=new RegExp(at),pt=new RegExp("^"+it+"$"),ht={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,xt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Tt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ct=function(){L()};try{K.apply(Y=Z.call(R.childNodes),R.childNodes),Y[R.childNodes.length].nodeType}catch(Nt){K={apply:Y.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];){}e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:R;return r!==H&&9===r.nodeType&&r.documentElement?(H=r,q=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),_=!N(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=vt.test(r.getElementsByClassName),w.getById=i(function(e){return q.appendChild(e).id=P,!r.getElementsByName||!r.getElementsByName(P).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&_){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(wt,Tt);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(wt,Tt);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];){1===n.nodeType&&r.push(n)}return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){return _?t.getElementsByClassName(e):void 0},F=[],M=[],(w.qsa=vt.test(r.querySelectorAll))&&(i(function(e){q.appendChild(e).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+nt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+P+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+P+"+*").length||M.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(w.matchesSelector=vt.test(O=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&i(function(e){w.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),F.push("!=",at)}),M=M.length&&new RegExp(M.join("|")),F=F.length&&new RegExp(F.join("|")),t=vt.test(q.compareDocumentPosition),B=t||vt.test(q.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t){for(;t=t.parentNode;){if(t===e){return !0}}}return !1},U=t?function(e,t){if(e===t){return j=!0,0}var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===R&&B(R,e)?-1:t===r||t.ownerDocument===R&&B(R,t)?1:D?et(D,e)-et(D,t):0:4&n?-1:1)}:function(e,t){if(e===t){return j=!0,0}var n,i=0,o=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!o||!s){return e===r?-1:t===r?1:o?-1:s?1:D?et(D,e)-et(D,t):0}if(o===s){return a(e,t)}for(n=e;n=n.parentNode;){u.unshift(n)}for(n=t;n=n.parentNode;){l.unshift(n)}for(;u[i]===l[i];){i++}return i?a(u[i],l[i]):u[i]===R?-1:l[i]===R?1:0},r):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&L(e),n=n.replace(dt,"='$1']"),!(!w.matchesSelector||!_||F&&F.test(n)||M&&M.test(n))){try{var r=O.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType){return r}}catch(i){}}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&J.call(T.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==r?r:w.attributes||!_?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(j=!w.detectDuplicates,D=!w.sortStable&&e.slice(0),e.sort(U),j){for(;t=e[i++];){t===e[i]&&(r=n.push(i))}for(;r--;){e.splice(n[r],1)}}return D=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent){return e.textContent}for(e=e.firstChild;e;e=e.nextSibling){n+=C(e)}}else{if(3===i||4===i){return e.nodeValue}}}else{for(;t=e[r++];){n+=C(t)}}return n},T=t.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,Tt),e[3]=(e[3]||e[4]||e[5]||"").replace(wt,Tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ht.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ft.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(wt,Tt).toLowerCase();return"*"===e?function(){return !0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(st," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return !!e.parentNode}:function(t,n,u){var l,c,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];){if(s?d.nodeName.toLowerCase()===v:1===d.nodeType){return !1}}h=m="only"===e&&!h&&"nextSibling"}return !0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(c=g[P]||(g[P]={}),l=c[e]||[],p=l[0]===W&&l[1],f=l[0]===W&&l[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();){if(1===d.nodeType&&++f&&d===t){c[e]=[W,p,f];break}}}else{if(y&&(l=(t[P]||(t[P]={}))[e])&&l[0]===W){f=l[1]}else{for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[P]||(d[P]={}))[e]=[W,f]),d!==t));){}}}return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[P]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;){r=et(e,i[a]),e[r]=!(t[r]=i[a])}}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(ut,"$1"));return i[P]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;){(o=a[s])&&(e[s]=!(t[s]=o))}}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(wt,Tt),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(wt,Tt).toLowerCase(),function(t){var n;do{if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang")){return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-")}}while((t=t.parentNode)&&1===t.nodeType);return !1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeType<6){return !1}}return !0},parent:function(e){return !T.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2){e.push(n)}return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2){e.push(n)}return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;){e.push(r)}return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;){e.push(r)}return e})}},T.pseudos.nth=T.pseudos.eq;for(x in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){T.pseudos[x]=s(x)}for(x in {submit:!0,reset:!0}){T.pseudos[x]=u(x)}return d.prototype=T.filters=T.pseudos,T.setFilters=new d,E=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=I[e+" "];if(c){return n?0:c.slice(0)}for(s=e,u=[],l=T.preFilter;s;){(!r||(i=lt.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ct.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ut," ")}),s=s.slice(r.length));for(a in T.filter){!(i=ht[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length))}if(!r){break}}return n?s.length:s?t.error(e):I(e,u).slice(0)},k=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;){o=y(t[n]),o[P]?r.push(o):i.push(o)}o=X(e,b(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,d=!r&&E(e=l.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&_&&T.relative[o[1].type]){if(t=(T.find.ID(a.matches[0].replace(wt,Tt),t)||[])[0],!t){return n}l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=ht.needsContext.test(e)?0:o.length;i--&&(a=o[i],!T.relative[s=a.type]);){if((u=T.find[s])&&(r=u(a.matches[0].replace(wt,Tt),bt.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e){return K.apply(n,r),n}break}}}return(l||k(e,d))(r,t,!_,n,bt.test(e)&&c(t.parentNode)||t),n},w.sortStable=P.split("").sort(U).join("")===P,w.detectDuplicates=!!j,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(tt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);it.find=lt,it.expr=lt.selectors,it.expr[":"]=it.expr.pseudos,it.unique=lt.uniqueSort,it.text=lt.getText,it.isXMLDoc=lt.isXML,it.contains=lt.contains;var ct=it.expr.match.needsContext,dt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ft=/^.[^:#\[\.,]*$/;it.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?it.find.matchesSelector(r,e)?[r]:[]:it.find.matches(e,it.grep(t,function(e){return 1===e.nodeType}))},it.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e){return this.pushStack(it(e).filter(function(){for(t=0;i>t;t++){if(it.contains(r[t],this)){return !0}}}))}for(t=0;i>t;t++){it.find(e,r[t],n)}return n=this.pushStack(i>1?it.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return !!r(this,"string"==typeof e&&ct.test(e)?it(e):e||[],!1).length}});var pt,ht=e.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gt=it.fn.init=function(e,t){var n,r;if(!e){return this}if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:mt.exec(e),!n||!n[1]&&t){return !t||t.jquery?(t||pt).find(e):this.constructor(t).find(e)}if(n[1]){if(t=t instanceof it?t[0]:t,it.merge(this,it.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ht,!0)),dt.test(n[1])&&it.isPlainObject(t)){for(n in t){it.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n])}}return this}if(r=ht.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2]){return pt.find(e)}this.length=1,this[0]=r}return this.context=ht,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):it.isFunction(e)?"undefined"!=typeof pt.ready?pt.ready(e):e(it):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),it.makeArray(e,this))};gt.prototype=it.fn,pt=it(ht);var vt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};it.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!it(i).is(n));){1===i.nodeType&&r.push(i),i=i[t]}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling){1===e.nodeType&&e!==t&&n.push(e)}return n}}),it.fn.extend({has:function(e){var t,n=it(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++){if(it.contains(this,n[t])){return !0}}})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ct.test(e)||"string"!=typeof e?it(e,t||this.context):0;i>r;r++){for(n=this[r];n&&n!==t;n=n.parentNode){if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&it.find.matchesSelector(n,e))){o.push(n);break}}}return this.pushStack(o.length>1?it.unique(o):o)},index:function(e){return e?"string"==typeof e?it.inArray(this[0],it(e)):it.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(it.unique(it.merge(this.get(),it(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),it.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return it.dir(e,"parentNode")},parentsUntil:function(e,t,n){return it.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return it.dir(e,"nextSibling")},prevAll:function(e){return it.dir(e,"previousSibling")},nextUntil:function(e,t,n){return it.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return it.dir(e,"previousSibling",n)},siblings:function(e){return it.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return it.sibling(e.firstChild)},contents:function(e){return it.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:it.merge([],e.childNodes)}},function(e,t){it.fn[e]=function(n,r){var i=it.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=it.filter(r,i)),this.length>1&&(yt[e]||(i=it.unique(i)),vt.test(e)&&(i=i.reverse())),this.pushStack(i)}});var bt=/\S+/g,xt={};it.Callbacks=function(e){e="string"==typeof e?xt[e]||o(e):it.extend({},e);var t,n,r,i,a,s,u=[],l=!e.once&&[],c=function(o){for(n=e.memory&&o,r=!0,a=s||0,s=0,i=u.length,t=!0;u&&i>a;a++){if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}}t=!1,u&&(l?l.length&&c(l.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var r=u.length;!function o(t){it.each(t,function(t,n){var r=it.type(n);"function"===r?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),t?i=u.length:n&&(s=r,c(n))}return this},remove:function(){return u&&it.each(arguments,function(e,n){for(var r;(r=it.inArray(n,u,r))>-1;){u.splice(r,1),t&&(i>=r&&i--,a>=r&&a--)}}),this},has:function(e){return e?it.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],i=0,this},disable:function(){return u=l=n=void 0,this},disabled:function(){return !u},lock:function(){return l=void 0,n||d.disable(),this},locked:function(){return !l},fireWith:function(e,n){return !u||r&&!l||(n=n||[],n=[e,n.slice?n.slice():n],t?l.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return !!r}};return d},it.extend({Deferred:function(e){var t=[["resolve","done",it.Callbacks("once memory"),"resolved"],["reject","fail",it.Callbacks("once memory"),"rejected"],["notify","progress",it.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return it.Deferred(function(n){it.each(t,function(t,o){var a=it.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&it.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?it.extend(e,r):r}},i={};return r.pipe=r.then,it.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=Y.call(arguments),a=o.length,s=1!==a||e&&it.isFunction(e.promise)?a:0,u=1===s?e:it.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?Y.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1){for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++){o[i]&&it.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--s}}return s||u.resolveWith(r,o),u.promise()}});var wt;it.fn.ready=function(e){return it.ready.promise().done(e),this},it.extend({isReady:!1,readyWait:1,holdReady:function(e){e?it.readyWait++:it.ready(!0)},ready:function(e){if(e===!0?!--it.readyWait:!it.isReady){if(!ht.body){return setTimeout(it.ready)}it.isReady=!0,e!==!0&&--it.readyWait>0||(wt.resolveWith(ht,[it]),it.fn.triggerHandler&&(it(ht).triggerHandler("ready"),it(ht).off("ready")))}}}),it.ready.promise=function(t){if(!wt){if(wt=it.Deferred(),"complete"===ht.readyState){setTimeout(it.ready)}else{if(ht.addEventListener){ht.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1)}else{ht.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&ht.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!it.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}a(),it.ready()}}()}}}return wt.promise(t)};var Tt,Ct="undefined";for(Tt in it(nt)){break}nt.ownLast="0"!==Tt,nt.inlineBlockNeedsLayout=!1,it(function(){var e,t,n,r;n=ht.getElementsByTagName("body")[0],n&&n.style&&(t=ht.createElement("div"),r=ht.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Ct&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=ht.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(t){nt.deleteExpando=!1}}e=null}(),it.acceptData=function(e){var t=it.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Nt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Et=/([A-Z])/g;it.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?it.cache[e[it.expando]]:e[it.expando],!!e&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),it.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=it.data(o),1===o.nodeType&&!it._data(o,"parsedAttrs"))){for(n=a.length;n--;){a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=it.camelCase(r.slice(5)),u(o,r,i[r])))}it._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){it.data(this,e)}):arguments.length>1?this.each(function(){it.data(this,e,t)}):o?u(o,e,it.data(o,e)):void 0},removeData:function(e){return this.each(function(){it.removeData(this,e)})}}),it.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=it._data(e,t),n&&(!r||it.isArray(n)?r=it._data(e,t,it.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=it.queue(e,t),r=n.length,i=n.shift(),o=it._queueHooks(e,t),a=function(){it.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return it._data(e,n)||it._data(e,n,{empty:it.Callbacks("once memory").add(function(){it._removeData(e,t+"queue"),it._removeData(e,n)})})}}),it.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?it.queue(this[0],e):void 0===t?this:this.each(function(){var n=it.queue(this,e,t);it._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&it.dequeue(this,e)})},dequeue:function(e){return this.each(function(){it.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=it.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;){n=it._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s))}return s(),i.promise(t)}});var kt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,St=["Top","Right","Bottom","Left"],At=function(e,t){return e=t||e,"none"===it.css(e,"display")||!it.contains(e.ownerDocument,e)},Dt=it.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===it.type(n)){i=!0;for(s in n){it.access(e,t,s,n[s],!0,o,a)}}else{if(void 0!==r&&(i=!0,it.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(it(e),n)})),t)){for(;u>s;s++){t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)))}}}return i?e:l?t.call(e):u?t(e[0],n):o},jt=/^(?:checkbox|radio)$/i;!function(){var e=ht.createElement("input"),t=ht.createElement("div"),n=ht.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===t.firstChild.nodeType,nt.tbody=!t.getElementsByTagName("tbody").length,nt.htmlSerialize=!!t.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==ht.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),nt.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){nt.noCloneEvent=!1}),t.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(r){nt.deleteExpando=!1}}}(),function(){var t,n,r=ht.createElement("div");for(t in {submit:!0,change:!0,focusin:!0}){n="on"+t,(nt[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),nt[t+"Bubbles"]=r.attributes[n].expando===!1)}r=null}();var Lt=/^(?:input|select|textarea)$/i,Ht=/^key/,qt=/^(?:mouse|pointer|contextmenu)|click/,_t=/^(?:focusinfocus|focusoutblur)$/,Mt=/^([^.]*)(?:\.(.+)|)$/;it.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=it._data(e);if(g){for(n.handler&&(u=n,n=u.handler,i=u.selector),n.guid||(n.guid=it.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof it===Ct||e&&it.event.triggered===e.type?void 0:it.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(bt)||[""],s=t.length;s--;){o=Mt.exec(t[s])||[],p=m=o[1],h=(o[2]||"").split(".").sort(),p&&(l=it.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=it.event.special[p]||{},d=it.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&it.expr.match.needsContext.test(i),namespace:h.join(".")},u),(f=a[p])||(f=a[p]=[],f.delegateCount=0,l.setup&&l.setup.call(e,r,h,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),it.event.global[p]=!0)}e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=it.hasData(e)&&it._data(e);if(g&&(c=g.events)){for(t=(t||"").match(bt)||[""],l=t.length;l--;){if(s=Mt.exec(t[l])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(d=it.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;){a=f[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a))}u&&!f.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||it.removeEvent(e,p,g.handle),delete c[p])}else{for(p in c){it.event.remove(e,p+t[l],n,r,!0)}}}it.isEmptyObject(c)&&(delete g.handle,it._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,c,d,f=[r||ht],p=tt.call(t,"type")?t.type:t,h=tt.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||ht,3!==r.nodeType&&8!==r.nodeType&&!_t.test(p+it.event.triggered)&&(p.indexOf(".")>=0&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[it.expando]?t:new it.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:it.makeArray(n,[t]),l=it.event.special[p]||{},i||!l.trigger||l.trigger.apply(r,n)!==!1)){if(!i&&!l.noBubble&&!it.isWindow(r)){for(u=l.delegateType||p,_t.test(u+p)||(s=s.parentNode);s;s=s.parentNode){f.push(s),c=s}c===(r.ownerDocument||ht)&&f.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=f[d++])&&!t.isPropagationStopped();){t.type=d>1?u:l.bindType||p,o=(it._data(s,"events")||{})[t.type]&&it._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&it.acceptData(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault())}if(t.type=p,!i&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(f.pop(),n)===!1)&&it.acceptData(r)&&a&&r[p]&&!it.isWindow(r)){c=r[a],c&&(r[a]=null),it.event.triggered=p;try{r[p]()}catch(m){}it.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=it.event.fix(e);var t,n,r,i,o,a=[],s=Y.call(arguments),u=(it._data(this,"events")||{})[e.type]||[],l=it.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=it.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();){for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();){(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((it.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()))}}return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type)){for(;u!=this;u=u.parentNode||this){if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(i=[],o=0;s>o;o++){r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?it(n,this).index(u)>=0:it.find(n,this,null,[u]).length),i[n]&&i.push(r)}i.length&&a.push({elem:u,handlers:i})}}}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[it.expando]){return e}var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=qt.test(i)?this.mouseHooks:Ht.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new it.Event(o),t=r.length;t--;){n=r[t],e[n]=o[n]}return e.target||(e.target=o.srcElement||ht),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||ht,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus){try{return this.focus(),!1}catch(e){}}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return it.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return it.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=it.extend(new it.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?it.event.trigger(i,null,t):it.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},it.removeEvent=ht.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Ct&&(e[r]=null),e.detachEvent(r,n))},it.Event=function(e,t){return this instanceof it.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:p):this.type=e,t&&it.extend(this,t),this.timeStamp=e&&e.timeStamp||it.now(),void (this[it.expando]=!0)):new it.Event(e,t)},it.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},it.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){it.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!it.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),nt.submitBubbles||(it.event.special.submit={setup:function(){return it.nodeName(this,"form")?!1:void it.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=it.nodeName(t,"input")||it.nodeName(t,"button")?t.form:void 0;n&&!it._data(n,"submitBubbles")&&(it.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),it._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&it.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return it.nodeName(this,"form")?!1:void it.event.remove(this,"._submit")}}),nt.changeBubbles||(it.event.special.change={setup:function(){return Lt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(it.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),it.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),it.event.simulate("change",this,e,!0)})),!1):void it.event.add(this,"beforeactivate._change",function(e){var t=e.target;Lt.test(t.nodeName)&&!it._data(t,"changeBubbles")&&(it.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||it.event.simulate("change",this.parentNode,e,!0)}),it._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return it.event.remove(this,"._change"),!Lt.test(this.nodeName)}}),nt.focusinBubbles||it.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){it.event.simulate(t,e.target,it.event.fix(e),!0)};it.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=it._data(r,t);i||r.addEventListener(e,n,!0),it._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=it._data(r,t)-1;i?it._data(r,t,i):(r.removeEventListener(e,n,!0),it._removeData(r,t))}}}),it.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e){this.on(o,t,n,e[o],i)}return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1){r=p}else{if(!r){return this}}return 1===i&&(a=r,r=function(e){return it().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=it.guid++)),this.each(function(){it.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj){return r=e.handleObj,it(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this}if("object"==typeof e){for(i in e){this.off(i,t,e[i])}return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){it.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){it.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?it.event.trigger(e,t,n,!0):void 0}});var Ft="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ot=/ jQuery\d+="(?:null|\d+)"/g,Bt=new RegExp("<(?:"+Ft+")[\\s/>]","i"),Pt=/^\s+/,Rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Wt=/<([\w:]+)/,$t=/<tbody/i,zt=/<|&#?\w+;/,It=/<(?:script|style|link)/i,Xt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^$|\/(?:java|ecma)script/i,Vt=/^true\/(.*)/,Jt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Yt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Gt=m(ht),Qt=Gt.appendChild(ht.createElement("div"));Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td,it.extend({clone:function(e,t,n){var r,i,o,a,s,u=it.contains(e.ownerDocument,e);if(nt.html5Clone||it.isXMLDoc(e)||!Bt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Qt.innerHTML=e.outerHTML,Qt.removeChild(o=Qt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||it.isXMLDoc(e))){for(r=g(o),s=g(e),a=0;null!=(i=s[a]);++a){r[a]&&C(i,r[a])}}if(t){if(n){for(s=s||g(e),r=r||g(o),a=0;null!=(i=s[a]);a++){T(i,r[a])}}else{T(e,o)}}return r=g(o,"script"),r.length>0&&w(r,!u&&g(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c,d=e.length,f=m(t),p=[],h=0;d>h;h++){if(o=e[h],o||0===o){if("object"===it.type(o)){it.merge(p,o.nodeType?[o]:o)}else{if(zt.test(o)){for(s=s||f.appendChild(t.createElement("div")),u=(Wt.exec(o)||["",""])[1].toLowerCase(),c=Yt[u]||Yt._default,s.innerHTML=c[1]+o.replace(Rt,"<$1></$2>")+c[2],i=c[0];i--;){s=s.lastChild}if(!nt.leadingWhitespace&&Pt.test(o)&&p.push(t.createTextNode(Pt.exec(o)[0])),!nt.tbody){for(o="table"!==u||$t.test(o)?"<table>"!==c[1]||$t.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;){it.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l)}}for(it.merge(p,s.childNodes),s.textContent="";s.firstChild;){s.removeChild(s.firstChild)}s=f.lastChild}else{p.push(t.createTextNode(o))}}}}for(s&&f.removeChild(s),nt.appendChecked||it.grep(g(p,"input"),v),h=0;o=p[h++];){if((!r||-1===it.inArray(o,r))&&(a=it.contains(o.ownerDocument,o),s=g(f.appendChild(o),"script"),a&&w(s),n)){for(i=0;o=s[i++];){Ut.test(o.type||"")&&n.push(o)}}}return s=null,f},cleanData:function(e,t){for(var n,r,i,o,a=0,s=it.expando,u=it.cache,l=nt.deleteExpando,c=it.event.special;null!=(n=e[a]);a++){if((t||it.acceptData(n))&&(i=n[s],o=i&&u[i])){if(o.events){for(r in o.events){c[r]?it.event.remove(n,r):it.removeEvent(n,r,o.handle)}}u[i]&&(delete u[i],l?delete n[s]:typeof n.removeAttribute!==Ct?n.removeAttribute(s):n[s]=null,J.push(i))}}}}),it.fn.extend({text:function(e){return Dt(this,function(e){return void 0===e?it.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ht).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?it.filter(e,this):this,i=0;null!=(n=r[i]);i++){t||1!==n.nodeType||it.cleanData(g(n)),n.parentNode&&(t&&it.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n))}return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&it.cleanData(g(e,!1));e.firstChild;){e.removeChild(e.firstChild)}e.options&&it.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return it.clone(this,e,t)})},html:function(e){return Dt(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e){return 1===t.nodeType?t.innerHTML.replace(Ot,""):void 0}if(!("string"!=typeof e||It.test(e)||!nt.htmlSerialize&&Bt.test(e)||!nt.leadingWhitespace&&Pt.test(e)||Yt[(Wt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Rt,"<$1></$2>");try{for(;r>n;n++){t=this[n]||{},1===t.nodeType&&(it.cleanData(g(t,!1)),t.innerHTML=e)}t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,it.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=G.apply([],e);var n,r,i,o,a,s,u=0,l=this.length,c=this,d=l-1,f=e[0],p=it.isFunction(f);if(p||l>1&&"string"==typeof f&&!nt.checkClone&&Xt.test(f)){return this.each(function(n){var r=c.eq(n);p&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)})}if(l&&(s=it.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=it.map(g(s,"script"),b),i=o.length;l>u;u++){r=s,u!==d&&(r=it.clone(r,!0,!0),i&&it.merge(o,g(r,"script"))),t.call(this[u],r,u)}if(i){for(a=o[o.length-1].ownerDocument,it.map(o,x),u=0;i>u;u++){r=o[u],Ut.test(r.type||"")&&!it._data(r,"globalEval")&&it.contains(a,r)&&(r.src?it._evalUrl&&it._evalUrl(r.src):it.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Jt,"")))}}s=n=null}return this}}),it.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){it.fn[e]=function(e){for(var n,r=0,i=[],o=it(e),a=o.length-1;a>=r;r++){n=r===a?this:this.clone(!0),it(o[r])[t](n),Q.apply(i,n.get())}return this.pushStack(i)}});var Kt,Zt={};!function(){var e;nt.shrinkWrapBlocks=function(){if(null!=e){return e}e=!1;var t,n,r;return n=ht.getElementsByTagName("body")[0],n&&n.style?(t=ht.createElement("div"),r=ht.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Ct&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(ht.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var en,tn,nn=/^margin/,rn=new RegExp("^("+kt+")(?!px)[a-z%]+$","i"),on=/^(top|right|bottom|left)$/;e.getComputedStyle?(en=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},tn=function(e,t,n){var r,i,o,a,s=e.style;return n=n||en(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||it.contains(e.ownerDocument,e)||(a=it.style(e,t)),rn.test(a)&&nn.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""}):ht.documentElement.currentStyle&&(en=function(e){return e.currentStyle},tn=function(e,t,n){var r,i,o,a,s=e.style;return n=n||en(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),rn.test(a)&&!on.test(t)&&(r=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),!function(){function t(){var t,n,r,i;n=ht.getElementsByTagName("body")[0],n&&n.style&&(t=ht.createElement("div"),r=ht.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,u=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(ht.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",u=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,o,a,s,u;n=ht.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],(r=i&&i.style)&&(r.cssText="float:left;opacity:.5",nt.opacity="0.5"===r.opacity,nt.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===n.style.backgroundClip,nt.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,it.extend(nt,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==u&&t(),u}}))}(),it.swap=function(e,t,n,r){var i,o,a={};for(o in t){a[o]=e.style[o],e.style[o]=t[o]}i=n.apply(e,r||[]);for(o in t){e.style[o]=a[o]}return i};var an=/alpha\([^)]*\)/i,sn=/opacity\s*=\s*([^)]*)/,un=/^(none|table(?!-c[ea]).+)/,ln=new RegExp("^("+kt+")(.*)$","i"),cn=new RegExp("^([+-])=("+kt+")","i"),dn={position:"absolute",visibility:"hidden",display:"block"},fn={letterSpacing:"0",fontWeight:"400"},pn=["Webkit","O","Moz","ms"];it.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":nt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=it.camelCase(t),u=e.style;if(t=it.cssProps[s]||(it.cssProps[s]=S(u,s)),a=it.cssHooks[t]||it.cssHooks[s],void 0===n){return a&&"get" in a&&void 0!==(i=a.get(e,!1,r))?i:u[t]}if(o=typeof n,"string"===o&&(i=cn.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(it.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||it.cssNumber[s]||(n+="px"),nt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set" in a&&void 0===(n=a.set(e,n,r))))){try{u[t]=n}catch(l){}}}},css:function(e,t,n,r){var i,o,a,s=it.camelCase(t);return t=it.cssProps[s]||(it.cssProps[s]=S(e.style,s)),a=it.cssHooks[t]||it.cssHooks[s],a&&"get" in a&&(o=a.get(e,!0,n)),void 0===o&&(o=tn(e,t,r)),"normal"===o&&t in fn&&(o=fn[t]),""===n||n?(i=parseFloat(o),n===!0||it.isNumeric(i)?i||0:o):o}}),it.each(["height","width"],function(e,t){it.cssHooks[t]={get:function(e,n,r){return n?un.test(it.css(e,"display"))&&0===e.offsetWidth?it.swap(e,dn,function(){return L(e,t,r)}):L(e,t,r):void 0},set:function(e,n,r){var i=r&&en(e);return D(e,n,r?j(e,t,r,nt.boxSizing&&"border-box"===it.css(e,"boxSizing",!1,i),i):0)}}}),nt.opacity||(it.cssHooks.opacity={get:function(e,t){return sn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=it.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===it.trim(o.replace(an,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=an.test(o)?o.replace(an,i):o+" "+i)}}),it.cssHooks.marginRight=k(nt.reliableMarginRight,function(e,t){return t?it.swap(e,{display:"inline-block"},tn,[e,"marginRight"]):void 0}),it.each({margin:"",padding:"",border:"Width"},function(e,t){it.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++){i[e+St[r]+t]=o[r]||o[r-2]||o[0]}return i}},nn.test(e)||(it.cssHooks[e+t].set=D)}),it.fn.extend({css:function(e,t){return Dt(this,function(e,t,n){var r,i,o={},a=0;if(it.isArray(t)){for(r=en(e),i=t.length;i>a;a++){o[t[a]]=it.css(e,t[a],!1,r)}return o}return void 0!==n?it.style(e,t,n):it.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){At(this)?it(this).show():it(this).hide()})}}),it.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(it.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.pos=t=this.options.duration?it.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=it.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){it.fx.step[e.prop]?it.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[it.cssProps[e.prop]]||it.cssHooks[e.prop])?it.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},it.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}},it.fx=H.prototype.init,it.fx.step={};var hn,mn,gn=/^(?:toggle|show|hide)$/,vn=new RegExp("^(?:([+-])=|)("+kt+")([a-z%]*)$","i"),yn=/queueHooks$/,bn=[F],xn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=vn.exec(t),o=i&&i[3]||(it.cssNumber[e]?"":"px"),a=(it.cssNumber[e]||"px"!==o&&+r)&&vn.exec(it.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{s=s||".5",a/=s,it.style(n.elem,e,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};it.Animation=it.extend(B,{tweener:function(e,t){it.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++){n=e[r],xn[n]=xn[n]||[],xn[n].unshift(t)}},prefilter:function(e,t){t?bn.unshift(e):bn.push(e)}}),it.speed=function(e,t,n){var r=e&&"object"==typeof e?it.extend({},e):{complete:n||!n&&t||it.isFunction(e)&&e,duration:e,easing:n&&t||t&&!it.isFunction(t)&&t};return r.duration=it.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in it.fx.speeds?it.fx.speeds[r.duration]:it.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){it.isFunction(r.old)&&r.old.call(this),r.queue&&it.dequeue(this,r.queue)},r},it.fn.extend({fadeTo:function(e,t,n,r){return this.filter(At).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=it.isEmptyObject(e),o=it.speed(t,n,r),a=function(){var t=B(this,it.extend({},e),o);(i||it._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=it.timers,a=it._data(this);if(i){a[i]&&a[i].stop&&r(a[i])}else{for(i in a){a[i]&&a[i].stop&&yn.test(i)&&r(a[i])}}for(i=o.length;i--;){o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1))}(t||!n)&&it.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=it._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=it.timers,a=r?r.length:0;for(n.finish=!0,it.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;){o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1))}for(t=0;a>t;t++){r[t]&&r[t].finish&&r[t].finish.call(this)}delete n.finish})}}),it.each(["toggle","show","hide"],function(e,t){var n=it.fn[t];it.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(_(t,!0),e,r,i)}}),it.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){it.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),it.timers=[],it.fx.tick=function(){var e,t=it.timers,n=0;for(hn=it.now();n<t.length;n++){e=t[n],e()||t[n]!==e||t.splice(n--,1)}t.length||it.fx.stop(),hn=void 0},it.fx.timer=function(e){it.timers.push(e),e()?it.fx.start():it.timers.pop()},it.fx.interval=13,it.fx.start=function(){mn||(mn=setInterval(it.fx.tick,it.fx.interval))},it.fx.stop=function(){clearInterval(mn),mn=null},it.fx.speeds={slow:600,fast:200,_default:400},it.fn.delay=function(e,t){return e=it.fx?it.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=ht.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=ht.createElement("select"),i=n.appendChild(ht.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",nt.getSetAttribute="t"!==t.className,nt.style=/top/.test(r.getAttribute("style")),nt.hrefNormalized="/a"===r.getAttribute("href"),nt.checkOn=!!e.value,nt.optSelected=i.selected,nt.enctype=!!ht.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!i.disabled,e=ht.createElement("input"),e.setAttribute("value",""),nt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),nt.radioValue="t"===e.value}();var wn=/\r/g;it.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=it.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,it(this).val()):e,null==i?i="":"number"==typeof i?i+="":it.isArray(i)&&(i=it.map(i,function(e){return null==e?"":e+""})),t=it.valHooks[this.type]||it.valHooks[this.nodeName.toLowerCase()],t&&"set" in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=it.valHooks[i.type]||it.valHooks[i.nodeName.toLowerCase()],t&&"get" in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(wn,""):null==n?"":n)):void 0}}),it.extend({valHooks:{option:{get:function(e){var t=it.find.attr(e,"value");return null!=t?t:it.trim(it.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++){if(n=r[u],!(!n.selected&&u!==i||(nt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&it.nodeName(n.parentNode,"optgroup"))){if(t=it(n).val(),o){return t}a.push(t)}}return a},set:function(e,t){for(var n,r,i=e.options,o=it.makeArray(t),a=i.length;a--;){if(r=i[a],it.inArray(it.valHooks.option.get(r),o)>=0){try{r.selected=n=!0}catch(s){r.scrollHeight}}else{r.selected=!1}}return n||(e.selectedIndex=-1),i}}}}),it.each(["radio","checkbox"],function(){it.valHooks[this]={set:function(e,t){return it.isArray(t)?e.checked=it.inArray(it(e).val(),t)>=0:void 0}},nt.checkOn||(it.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Tn,Cn,Nn=it.expr.attrHandle,En=/^(?:checked|selected)$/i,kn=nt.getSetAttribute,Sn=nt.input;it.fn.extend({attr:function(e,t){return Dt(this,it.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){it.removeAttr(this,e)})}}),it.extend({attr:function(e,t,n){var r,i,o=e.nodeType;return e&&3!==o&&8!==o&&2!==o?typeof e.getAttribute===Ct?it.prop(e,t,n):(1===o&&it.isXMLDoc(e)||(t=t.toLowerCase(),r=it.attrHooks[t]||(it.expr.match.bool.test(t)?Cn:Tn)),void 0===n?r&&"get" in r&&null!==(i=r.get(e,t))?i:(i=it.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set" in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void it.removeAttr(e,t)):void 0},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(bt);if(o&&1===e.nodeType){for(;n=o[i++];){r=it.propFix[n]||n,it.expr.match.bool.test(n)?Sn&&kn||!En.test(n)?e[r]=!1:e[it.camelCase("default-"+n)]=e[r]=!1:it.attr(e,n,""),e.removeAttribute(kn?n:r)}}},attrHooks:{type:{set:function(e,t){if(!nt.radioValue&&"radio"===t&&it.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Cn={set:function(e,t,n){return t===!1?it.removeAttr(e,n):Sn&&kn||!En.test(n)?e.setAttribute(!kn&&it.propFix[n]||n,n):e[it.camelCase("default-"+n)]=e[n]=!0,n}},it.each(it.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Nn[t]||it.find.attr;Nn[t]=Sn&&kn||!En.test(t)?function(e,t,r){var i,o;return r||(o=Nn[t],Nn[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Nn[t]=o),i}:function(e,t,n){return n?void 0:e[it.camelCase("default-"+t)]?t.toLowerCase():null}}),Sn&&kn||(it.attrHooks.value={set:function(e,t,n){return it.nodeName(e,"input")?void (e.defaultValue=t):Tn&&Tn.set(e,t,n)}}),kn||(Tn={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Nn.id=Nn.name=Nn.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},it.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:Tn.set},it.attrHooks.contenteditable={set:function(e,t,n){Tn.set(e,""===t?!1:t,n)}},it.each(["width","height"],function(e,t){it.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),nt.style||(it.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var An=/^(?:input|select|textarea|button|object)$/i,Dn=/^(?:a|area)$/i;it.fn.extend({prop:function(e,t){return Dt(this,it.prop,e,t,arguments.length>1)},removeProp:function(e){return e=it.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),it.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?(o=1!==a||!it.isXMLDoc(e),o&&(t=it.propFix[t]||t,i=it.propHooks[t]),void 0!==n?i&&"set" in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get" in i&&null!==(r=i.get(e,t))?r:e[t]):void 0},propHooks:{tabIndex:{get:function(e){var t=it.find.attr(e,"tabindex");return t?parseInt(t,10):An.test(e.nodeName)||Dn.test(e.nodeName)&&e.href?0:-1}}}}),nt.hrefNormalized||it.each(["href","src"],function(e,t){it.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),nt.optSelected||(it.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),it.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){it.propFix[this.toLowerCase()]=this}),nt.enctype||(it.propFix.enctype="encoding");var jn=/[\t\r\n\f]/g;it.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l="string"==typeof e&&e;if(it.isFunction(e)){return this.each(function(t){it(this).addClass(e.call(this,t,this.className))})}if(l){for(t=(e||"").match(bt)||[];u>s;s++){if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(jn," "):" ")){for(o=0;i=t[o++];){r.indexOf(" "+i+" ")<0&&(r+=i+" ")}a=it.trim(r),n.className!==a&&(n.className=a)}}}return this},removeClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l=0===arguments.length||"string"==typeof e&&e;if(it.isFunction(e)){return this.each(function(t){it(this).removeClass(e.call(this,t,this.className))})}if(l){for(t=(e||"").match(bt)||[];u>s;s++){if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(jn," "):"")){for(o=0;i=t[o++];){for(;r.indexOf(" "+i+" ")>=0;){r=r.replace(" "+i+" "," ")}}a=e?it.trim(r):"",n.className!==a&&(n.className=a)}}}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(it.isFunction(e)?function(n){it(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n){for(var t,r=0,i=it(this),o=e.match(bt)||[];t=o[r++];){i.hasClass(t)?i.removeClass(t):i.addClass(t)}}else{(n===Ct||"boolean"===n)&&(this.className&&it._data(this,"__className__",this.className),this.className=this.className||e===!1?"":it._data(this,"__className__")||"")}})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++){if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(jn," ").indexOf(t)>=0){return !0}}return !1}}),it.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){it.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),it.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Ln=it.now(),Hn=/\?/,qn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;it.parseJSON=function(t){if(e.JSON&&e.JSON.parse){return e.JSON.parse(t+"")}var n,r=null,i=it.trim(t+"");return i&&!it.trim(i.replace(qn,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():it.error("Invalid JSON: "+t)},it.parseXML=function(t){var n,r;if(!t||"string"!=typeof t){return null}try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||it.error("Invalid XML: "+t),n};var _n,Mn,Fn=/#.*$/,On=/([?&])_=[^&]*/,Bn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Pn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Rn=/^(?:GET|HEAD)$/,Wn=/^\/\//,$n=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,zn={},In={},Xn="*/".concat("*");try{Mn=location.href}catch(Un){Mn=ht.createElement("a"),Mn.href="",Mn=Mn.href}_n=$n.exec(Mn.toLowerCase())||[],it.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mn,type:"GET",isLocal:Pn.test(_n[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":it.parseJSON,"text xml":it.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,it.ajaxSettings),t):W(it.ajaxSettings,e)},ajaxPrefilter:P(zn),ajaxTransport:P(In),ajax:function(e,t){function n(e,t,n,r){var i,c,v,y,x,T=t;2!==b&&(b=2,s&&clearTimeout(s),l=void 0,a=r||"",w.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(y=$(d,w,n)),y=z(d,y,w,i),i?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(it.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(it.etag[o]=x)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,i=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",i?h.resolveWith(f,[c,T,w]):h.rejectWith(f,[w,T,v]),w.statusCode(g),g=void 0,u&&p.trigger(i?"ajaxSuccess":"ajaxError",[w,d,i?c:v]),m.fireWith(f,[w,T]),u&&(p.trigger("ajaxComplete",[w,d]),--it.active||it.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,u,l,c,d=it.ajaxSetup({},t),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?it(f):it.event,h=it.Deferred(),m=it.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c){for(c={};t=Bn.exec(a);){c[t[1].toLowerCase()]=t[2]}}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e){if(2>b){for(t in e){g[t]=[g[t],e[t]]}}else{w.always(e[w.status])}}return this},abort:function(e){var t=e||x;return l&&l.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||Mn)+"").replace(Fn,"").replace(Wn,_n[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=it.trim(d.dataType||"*").toLowerCase().match(bt)||[""],null==d.crossDomain&&(r=$n.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===_n[1]&&r[2]===_n[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(_n[3]||("http:"===_n[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=it.param(d.data,d.traditional)),R(zn,d,t,w),2===b){return w}u=it.event&&d.global,u&&0===it.active++&&it.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Rn.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Hn.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=On.test(o)?o.replace(On,"$1_="+Ln++):o+(Hn.test(o)?"&":"?")+"_="+Ln++)),d.ifModified&&(it.lastModified[o]&&w.setRequestHeader("If-Modified-Since",it.lastModified[o]),it.etag[o]&&w.setRequestHeader("If-None-Match",it.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Xn+"; q=0.01":""):d.accepts["*"]);for(i in d.headers){w.setRequestHeader(i,d.headers[i])}if(d.beforeSend&&(d.beforeSend.call(f,w,d)===!1||2===b)){return w.abort()}x="abort";for(i in {success:1,error:1,complete:1}){w[i](d[i])}if(l=R(In,d,t,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,l.send(v,n)}catch(T){if(!(2>b)){throw T}n(-1,T)}}else{n(-1,"No Transport")}return w},getJSON:function(e,t,n){return it.get(e,t,n,"json")},getScript:function(e,t){return it.get(e,void 0,t,"script")}}),it.each(["get","post"],function(e,t){it[t]=function(e,n,r,i){return it.isFunction(n)&&(i=i||r,r=n,n=void 0),it.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),it._evalUrl=function(e){return it.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},it.fn.extend({wrapAll:function(e){if(it.isFunction(e)){return this.each(function(t){it(this).wrapAll(e.call(this,t))})}if(this[0]){var t=it(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;){e=e.firstChild}return e}).append(this)}return this},wrapInner:function(e){return this.each(it.isFunction(e)?function(t){it(this).wrapInner(e.call(this,t))}:function(){var t=it(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=it.isFunction(e);return this.each(function(n){it(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){it.nodeName(this,"body")||it(this).replaceWith(this.childNodes)}).end()}}),it.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||it.css(e,"display"))},it.expr.filters.visible=function(e){return !it.expr.filters.hidden(e)};var Vn=/%20/g,Jn=/\[\]$/,Yn=/\r?\n/g,Gn=/^(?:submit|button|image|reset|file)$/i,Qn=/^(?:input|select|textarea|keygen)/i;it.param=function(e,t){var n,r=[],i=function(e,t){t=it.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=it.ajaxSettings&&it.ajaxSettings.traditional),it.isArray(e)||e.jquery&&!it.isPlainObject(e)){it.each(e,function(){i(this.name,this.value)})}else{for(n in e){I(n,e[n],t,i)}}return r.join("&").replace(Vn,"+")},it.fn.extend({serialize:function(){return it.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=it.prop(this,"elements");return e?it.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!it(this).is(":disabled")&&Qn.test(this.nodeName)&&!Gn.test(e)&&(this.checked||!jt.test(e))}).map(function(e,t){var n=it(this).val();return null==n?null:it.isArray(n)?it.map(n,function(e){return{name:t.name,value:e.replace(Yn,"\r\n")}}):{name:t.name,value:n.replace(Yn,"\r\n")}}).get()}}),it.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return !this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&X()||U()}:X;var Kn=0,Zn={},er=it.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Zn){Zn[e](void 0,!0)}}),nt.cors=!!er&&"withCredentials" in er,er=nt.ajax=!!er,er&&it.ajaxTransport(function(e){if(!e.crossDomain||nt.cors){var t;return{send:function(n,r){var i,o=e.xhr(),a=++Kn;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields){for(i in e.xhrFields){o[i]=e.xhrFields[i]}}e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n){void 0!==n[i]&&o.setRequestHeader(i,n[i]+"")}o.send(e.hasContent&&e.data||null),t=function(n,i){var s,u,l;if(t&&(i||4===o.readyState)){if(delete Zn[a],t=void 0,o.onreadystatechange=it.noop,i){4!==o.readyState&&o.abort()}else{l={},s=o.status,"string"==typeof o.responseText&&(l.text=o.responseText);try{u=o.statusText}catch(c){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=l.text?200:404}}l&&r(s,u,l,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Zn[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),it.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return it.globalEval(e),e}}}),it.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),it.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=ht.head||it("head")[0]||ht.documentElement;return{send:function(r,i){t=ht.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var tr=[],nr=/(=)\?(?=&|$)|\?\?/;it.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tr.pop()||it.expando+"_"+Ln++;return this[e]=!0,e}}),it.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(nr.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&nr.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=it.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(nr,"$1"+i):t.jsonp!==!1&&(t.url+=(Hn.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||it.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,tr.push(i)),a&&it.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),it.parseHTML=function(e,t,n){if(!e||"string"!=typeof e){return null}"boolean"==typeof t&&(n=t,t=!1),t=t||ht;var r=dt.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=it.buildFragment([e],t,i),i&&i.length&&it(i).remove(),it.merge([],r.childNodes))};var rr=it.fn.load;it.fn.load=function(e,t,n){if("string"!=typeof e&&rr){return rr.apply(this,arguments)}var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=it.trim(e.slice(s,e.length)),e=e.slice(0,s)),it.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&it.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?it("<div>").append(it.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},it.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){it.fn[t]=function(e){return this.on(t,e)}}),it.expr.filters.animated=function(e){return it.grep(it.timers,function(t){return e===t.elem}).length};var ir=e.document.documentElement;it.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=it.css(e,"position"),d=it(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=it.css(e,"top"),u=it.css(e,"left"),l=("absolute"===c||"fixed"===c)&&it.inArray("auto",[o,u])>-1,l?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),it.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using" in t?t.using.call(e,f):d.css(f)}},it.fn.extend({offset:function(e){if(arguments.length){return void 0===e?this:this.each(function(t){it.offset.setOffset(this,e,t)})}var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;return o?(t=o.documentElement,it.contains(t,i)?(typeof i.getBoundingClientRect!==Ct&&(r=i.getBoundingClientRect()),n=V(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===it.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),it.nodeName(e[0],"html")||(n=e.offset()),n.top+=it.css(e[0],"borderTopWidth",!0),n.left+=it.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-it.css(r,"marginTop",!0),left:t.left-n.left-it.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ir;e&&!it.nodeName(e,"html")&&"static"===it.css(e,"position");){e=e.offsetParent}return e||ir})}}),it.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);it.fn[e]=function(r){return Dt(this,function(e,r,i){var o=V(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void (o?o.scrollTo(n?it(o).scrollLeft():i,n?i:it(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),it.each(["top","left"],function(e,t){it.cssHooks[t]=k(nt.pixelPosition,function(e,n){return n?(n=tn(e,t),rn.test(n)?it(e).position()[t]+"px":n):void 0})}),it.each({Height:"height",Width:"width"},function(e,t){it.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){it.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return Dt(this,function(t,n,r){var i;return it.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?it.css(t,n,a):it.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),it.fn.size=function(){return this.length},it.fn.andSelf=it.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return it});var or=e.jQuery,ar=e.$;return it.noConflict=function(t){return e.$===it&&(e.$=ar),t&&e.jQuery===it&&(e.jQuery=or),it},typeof t===Ct&&(e.jQuery=e.$=it),it});
/*!/jquery-ui/jquery-ui.js*/
!function(a){"function"==typeof define&&define.amd?jQuery?a(jQuery):define(["jquery"],a):a(jQuery)}(function(q){function H(f,c){var h,g,b,d=f.nodeName.toLowerCase();return"area"===d?(h=f.parentNode,g=h.name,f.href&&g&&"map"===h.nodeName.toLowerCase()?(b=q("img[usemap='#"+g+"']")[0],!!b&&D(b)):!1):(/^(input|select|textarea|button|object)$/.test(d)?!f.disabled:"a"===d?f.href||c:c)&&D(f)}function D(a){return q.expr.filters.visible(a)&&!q(a).parents().addBack().filter(function(){return"hidden"===q.css(this,"visibility")}).length}function w(b){for(var c,a;b.length&&b[0]!==document;){if(c=b.css("position"),("absolute"===c||"relative"===c||"fixed"===c)&&(a=parseInt(b.css("zIndex"),10),!isNaN(a)&&0!==a)){return a}b=b.parent()}return 0}function A(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},q.extend(this._defaults,this.regional[""]),this.regional.en=q.extend(!0,{},this.regional[""]),this.regional["en-US"]=q.extend(!0,{},this.regional.en),this.dpDiv=z(q("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function z(b){var a="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return b.delegate(a,"mouseout",function(){q(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&q(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&q(this).removeClass("ui-datepicker-next-hover")}).delegate(a,"mouseover",L)}function L(){q.datepicker._isDisabledDatepicker(j.inline?j.dpDiv.parent()[0]:j.input[0])||(q(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),q(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&q(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&q(this).addClass("ui-datepicker-next-hover"))}function x(c,a){q.extend(c,a);for(var b in a){null==a[b]&&(c[b]=a[b])}return c}function E(a){return function(){var b=this.element.val();a.apply(this,arguments),this._refresh(),b!==this.element.val()&&this._trigger("change")}}q.ui=q.ui||{},q.extend(q.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),q.fn.extend({scrollParent:function(c){var a=this.css("position"),b="absolute"===a,f=c?/(auto|scroll|hidden)/:/(auto|scroll)/,d=this.parents().filter(function(){var g=q(this);return b&&"static"===g.css("position")?!1:f.test(g.css("overflow")+g.css("overflow-y")+g.css("overflow-x"))}).eq(0);return"fixed"!==a&&d.length?d:q(this[0].ownerDocument||document)},uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&q(this).removeAttr("id")})}}),q.extend(q.expr[":"],{data:q.expr.createPseudo?q.expr.createPseudo(function(a){return function(b){return !!q.data(b,a)}}):function(c,a,b){return !!q.data(c,b[3])},focusable:function(a){return H(a,!isNaN(q.attr(a,"tabindex")))},tabbable:function(a){var b=q.attr(a,"tabindex"),c=isNaN(b);return(c||b>=0)&&H(a,!c)}}),q("<a>").outerWidth(1).jquery||q.each(["Width","Height"],function(f,c){function d(m,a,l,n){return q.each(h,function(){a-=parseFloat(q.css(m,"padding"+this))||0,l&&(a-=parseFloat(q.css(m,"border"+this+"Width"))||0),n&&(a-=parseFloat(q.css(m,"margin"+this))||0)}),a}var h="Width"===c?["Left","Right"]:["Top","Bottom"],g=c.toLowerCase(),b={innerWidth:q.fn.innerWidth,innerHeight:q.fn.innerHeight,outerWidth:q.fn.outerWidth,outerHeight:q.fn.outerHeight};q.fn["inner"+c]=function(a){return void 0===a?b["inner"+c].call(this):this.each(function(){q(this).css(g,d(this,a)+"px")})},q.fn["outer"+c]=function(a,i){return"number"!=typeof a?b["outer"+c].call(this,a):this.each(function(){q(this).css(g,d(this,a,!0,i)+"px")})}}),q.fn.addBack||(q.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),q("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(q.fn.removeData=function(a){return function(b){return arguments.length?a.call(this,q.camelCase(b)):a.call(this)}}(q.fn.removeData)),q.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),q.fn.extend({focus:function(a){return function(b,c){return"number"==typeof b?this.each(function(){var d=this;setTimeout(function(){q(d).focus(),c&&c.call(d)},b)}):a.apply(this,arguments)}}(q.fn.focus),disableSelection:function(){var a="onselectstart" in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(b){b.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(c){if(void 0!==c){return this.css("zIndex",c)}if(this.length){for(var a,b,d=q(this[0]);d.length&&d[0]!==document;){if(a=d.css("position"),("absolute"===a||"relative"===a||"fixed"===a)&&(b=parseInt(d.css("zIndex"),10),!isNaN(b)&&0!==b)){return b}d=d.parent()}}return 0}}),q.ui.plugin={add:function(c,a,b){var f,d=q.ui[c].prototype;for(f in b){d.plugins[f]=d.plugins[f]||[],d.plugins[f].push([a,b[f]])}},call:function(b,d,a,c){var g,f=b.plugins[d];if(f&&(c||b.element[0].parentNode&&11!==b.element[0].parentNode.nodeType)){for(g=0;g<f.length;g++){b.options[f[g][0]]&&f[g][1].apply(b.element,a)}}}};var C=0,k=Array.prototype.slice;q.cleanData=function(a){return function(c){var d,f,e;for(e=0;null!=(f=c[e]);e++){try{d=q._data(f,"events"),d&&d.remove&&q(f).triggerHandler("remove")}catch(b){}}a(c)}}(q.cleanData),q.widget=function(p,g,u){var d,c,t,b,m={},f=p.split(".")[0];return p=p.split(".")[1],d=f+"-"+p,u||(u=g,g=q.Widget),q.expr[":"][d.toLowerCase()]=function(a){return !!q.data(a,d)},q[f]=q[f]||{},c=q[f][p],t=q[f][p]=function(a,h){return this._createWidget?void (arguments.length&&this._createWidget(a,h)):new t(a,h)},q.extend(t,c,{version:u.version,_proto:q.extend({},u),_childConstructors:[]}),b=new g,b.options=q.widget.extend({},b.options),q.each(u,function(h,a){return q.isFunction(a)?void (m[h]=function(){var e=function(){return g.prototype[h].apply(this,arguments)},i=function(l){return g.prototype[h].apply(this,l)};return function(){var n,l=this._super,r=this._superApply;return this._super=e,this._superApply=i,n=a.apply(this,arguments),this._super=l,this._superApply=r,n}}()):void (m[h]=a)}),t.prototype=q.widget.extend(b,{widgetEventPrefix:c?b.widgetEventPrefix||p:p},m,{constructor:t,namespace:f,widgetName:p,widgetFullName:d}),c?(q.each(c._childConstructors,function(l,a){var h=a.prototype;q.widget(h.namespace+"."+h.widgetName,t,a._proto)}),delete c._childConstructors):g._childConstructors.push(t),q.widget.bridge(p,t),t},q.widget.extend=function(f){for(var c,d,h=k.call(arguments,1),g=0,b=h.length;b>g;g++){for(c in h[g]){d=h[g][c],h[g].hasOwnProperty(c)&&void 0!==d&&(f[c]=q.isPlainObject(d)?q.isPlainObject(f[c])?q.widget.extend({},f[c],d):q.widget.extend({},d):d)}}return f},q.widget.bridge=function(c,a){var b=a.prototype.widgetFullName||c;q.fn[c]=function(g){var f="string"==typeof g,d=k.call(arguments,1),e=this;return f?this.each(function(){var h,l=q.data(this,b);return"instance"===g?(e=l,!1):l?q.isFunction(l[g])&&"_"!==g.charAt(0)?(h=l[g].apply(l,d),h!==l&&void 0!==h?(e=h&&h.jquery?e.pushStack(h.get()):h,!1):void 0):q.error("no such method '"+g+"' for "+c+" widget instance"):q.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}):(d.length&&(g=q.widget.extend.apply(null,[g].concat(d))),this.each(function(){var h=q.data(this,b);h?(h.option(g||{}),h._init&&h._init()):q.data(this,b,new a(g,this))})),e}},q.Widget=function(){},q.Widget._childConstructors=[],q.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,a){a=q(a||this.defaultElement||this)[0],this.element=q(a),this.uuid=C++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=q(),this.hoverable=q(),this.focusable=q(),a!==this&&(q.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(c){c.target===a&&this.destroy()}}),this.document=q(a.style?a.ownerDocument:a.document||a),this.window=q(this.document[0].defaultView||this.document[0].parentWindow)),this.options=q.widget.extend({},this.options,this._getCreateOptions(),b),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:q.noop,_getCreateEventData:q.noop,_create:q.noop,_init:q.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(q.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:q.noop,widget:function(){return this.element},option:function(f,c){var d,h,g,b=f;if(0===arguments.length){return q.widget.extend({},this.options)}if("string"==typeof f){if(b={},d=f.split("."),f=d.shift(),d.length){for(h=b[f]=q.widget.extend({},this.options[f]),g=0;g<d.length-1;g++){h[d[g]]=h[d[g]]||{},h=h[d[g]]}if(f=d.pop(),1===arguments.length){return void 0===h[f]?null:h[f]}h[f]=c}else{if(1===arguments.length){return void 0===this.options[f]?null:this.options[f]}b[f]=c}}return this._setOptions(b),this},_setOptions:function(a){var b;for(b in a){this._setOption(b,a[b])}return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),b&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(c,a,b){var f,d=this;"boolean"!=typeof c&&(b=a,a=c,c=!1),b?(a=f=q(a),this.bindings=this.bindings.add(a)):(b=a,a=this.element,f=this.widget()),q.each(b,function(n,g){function o(){return c||d.options.disabled!==!0&&!q(this).hasClass("ui-state-disabled")?("string"==typeof g?d[g]:g).apply(d,arguments):void 0}"string"!=typeof g&&(o.guid=g.guid=g.guid||o.guid||q.guid++);var m=n.match(/^([\w:-]*)\s*(.*)$/),e=m[1]+d.eventNamespace,i=m[2];i?f.delegate(i,e,o):a.bind(e,o)})},_off:function(b,a){a=(a||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,b.unbind(a).undelegate(a),this.bindings=q(this.bindings.not(b).get()),this.focusable=q(this.focusable.not(b).get()),this.hoverable=q(this.hoverable.not(b).get())},_delay:function(b,d){function a(){return("string"==typeof b?c[b]:b).apply(c,arguments)}var c=this;return setTimeout(a,d||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a),this._on(a,{mouseenter:function(b){q(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){q(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a),this._on(a,{focusin:function(b){q(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){q(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(f,c,d){var h,g,b=this.options[f];if(d=d||{},c=q.Event(c),c.type=(f===this.widgetEventPrefix?f:this.widgetEventPrefix+f).toLowerCase(),c.target=this.element[0],g=c.originalEvent){for(h in g){h in c||(c[h]=g[h])}}return this.element.trigger(c,d),!(q.isFunction(b)&&b.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},q.each({show:"fadeIn",hide:"fadeOut"},function(b,a){q.Widget.prototype["_"+b]=function(d,g,f){"string"==typeof g&&(g={effect:g});var c,e=g?g===!0||"number"==typeof g?a:g.effect||a:b;g=g||{},"number"==typeof g&&(g={duration:g}),c=!q.isEmptyObject(g),g.complete=f,g.delay&&d.delay(g.delay),c&&q.effects&&q.effects.effect[e]?d[b](g):e!==b&&d[e]?d[e](g.duration,g.easing,f):d.queue(function(h){q(this)[b](),f&&f.call(d[0]),h()})}});var J=(q.widget,!1);q(document).mouseup(function(){J=!1});q.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(b){return !0===q.data(b.target,a.widgetName+".preventClickEvent")?(q.removeData(b.target,a.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!J){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var a=this,b=1===c.which,d="string"==typeof this.options.cancel&&c.target.nodeName?q(c.target).closest(this.options.cancel).length:!1;return b&&!d&&this._mouseCapture(c)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(c)!==!1,!this._mouseStarted)?(c.preventDefault(),!0):(!0===q.data(c.target,this.widgetName+".preventClickEvent")&&q.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return a._mouseMove(e)},this._mouseUpDelegate=function(e){return a._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),J=!0,!0)):!0}},_mouseMove:function(a){if(this._mouseMoved){if(q.ui.ie&&(!document.documentMode||document.documentMode<9)&&!a.button){return this._mouseUp(a)}if(!a.which){return this._mouseUp(a)}}return(a.which||a.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(a),a.preventDefault()):(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==!1,this._mouseStarted?this._mouseDrag(a):this._mouseUp(a)),!this._mouseStarted)},_mouseUp:function(a){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&q.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a)),J=!1,!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0}});!function(){function Q(c,d,a){return[parseFloat(c[0])*(g.test(c[0])?d/100:1),parseFloat(c[1])*(g.test(c[1])?a/100:1)]}function N(c,a){return parseInt(q.css(c,a),10)||0}function V(c){var a=c[0];return 9===a.nodeType?{width:c.width(),height:c.height(),offset:{top:0,left:0}}:q.isWindow(a)?{width:c.width(),height:c.height(),offset:{top:c.scrollTop(),left:c.scrollLeft()}}:a.preventDefault?{width:0,height:0,offset:{top:a.pageY,left:a.pageX}}:{width:c.outerWidth(),height:c.outerHeight(),offset:c.offset()}}q.ui=q.ui||{};var t,m,T=Math.max,b=Math.abs,O=Math.round,v=/left|center|right/,U=/top|center|bottom/,S=/[\+\-]\d+(\.[\d]+)?%?/,R=/^\w+/,g=/%$/,P=q.fn.position;q.position={scrollbarWidth:function(){if(void 0!==t){return t}var d,a,c=q("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),f=c.children()[0];return q("body").append(c),d=f.offsetWidth,c.css("overflow","scroll"),a=f.offsetWidth,d===a&&(a=c[0].clientWidth),c.remove(),t=d-a},getScrollInfo:function(d){var a=d.isWindow||d.isDocument?"":d.element.css("overflow-x"),c=d.isWindow||d.isDocument?"":d.element.css("overflow-y"),h="scroll"===a||"auto"===a&&d.width<d.element[0].scrollWidth,f="scroll"===c||"auto"===c&&d.height<d.element[0].scrollHeight;return{width:f?q.position.scrollbarWidth():0,height:h?q.position.scrollbarWidth():0}},getWithinInfo:function(d){var a=q(d||window),c=q.isWindow(a[0]),f=!!a[0]&&9===a[0].nodeType;return{element:a,isWindow:c,isDocument:f,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:c||f?a.width():a.outerWidth(),height:c||f?a.height():a.outerHeight()}}},q.fn.position=function(d){if(!d||!d.of){return P.apply(this,arguments)}d=q.extend({},d);var c,e,h,u,s,l,i=q(d.of),r=q.position.getWithinInfo(d.within),o=q.position.getScrollInfo(r),f=(d.collision||"flip").split(" "),a={};return l=V(i),i[0].preventDefault&&(d.at="left top"),e=l.width,h=l.height,u=l.offset,s=q.extend({},u),q.each(["my","at"],function(){var p,W,n=(d[this]||"").split(" ");1===n.length&&(n=v.test(n[0])?n.concat(["center"]):U.test(n[0])?["center"].concat(n):["center","center"]),n[0]=v.test(n[0])?n[0]:"center",n[1]=U.test(n[1])?n[1]:"center",p=S.exec(n[0]),W=S.exec(n[1]),a[this]=[p?p[0]:0,W?W[0]:0],d[this]=[R.exec(n[0])[0],R.exec(n[1])[0]]}),1===f.length&&(f[1]=f[0]),"right"===d.at[0]?s.left+=e:"center"===d.at[0]&&(s.left+=e/2),"bottom"===d.at[1]?s.top+=h:"center"===d.at[1]&&(s.top+=h/2),c=Q(a.at,e,h),s.left+=c[0],s.top+=c[1],this.each(function(){var ae,p,ad=q(this),aa=ad.outerWidth(),Z=ad.outerHeight(),Y=N(this,"marginLeft"),ab=N(this,"marginTop"),n=aa+Y+N(this,"marginRight")+o.width,ac=Z+ab+N(this,"marginBottom")+o.height,W=q.extend({},s),X=Q(a.my,ad.outerWidth(),ad.outerHeight());"right"===d.my[0]?W.left-=aa:"center"===d.my[0]&&(W.left-=aa/2),"bottom"===d.my[1]?W.top-=Z:"center"===d.my[1]&&(W.top-=Z/2),W.left+=X[0],W.top+=X[1],m||(W.left=O(W.left),W.top=O(W.top)),ae={marginLeft:Y,marginTop:ab},q.each(["left","top"],function(ag,af){q.ui.position[f[ag]]&&q.ui.position[f[ag]][af](W,{targetWidth:e,targetHeight:h,elemWidth:aa,elemHeight:Z,collisionPosition:ae,collisionWidth:n,collisionHeight:ac,offset:[c[0]+X[0],c[1]+X[1]],my:d.my,at:d.at,within:r,elem:ad})}),d.using&&(p=function(ag){var aj=u.left-W.left,af=aj+e-aa,ai=u.top-W.top,ak=ai+h-Z,ah={target:{element:i,left:u.left,top:u.top,width:e,height:h},element:{element:ad,left:W.left,top:W.top,width:aa,height:Z},horizontal:0>af?"left":aj>0?"right":"center",vertical:0>ak?"top":ai>0?"bottom":"middle"};aa>e&&b(aj+af)<e&&(ah.horizontal="center"),Z>h&&b(ai+ak)<h&&(ah.vertical="middle"),ah.important=T(b(aj),b(af))>T(b(ai),b(ak))?"horizontal":"vertical",d.using.call(this,ag,ah)}),ad.offset(q.extend(W,{using:p}))})},q.ui.position={fit:{left:function(X,W){var p,Y=W.within,d=Y.isWindow?Y.scrollLeft:Y.offset.left,c=Y.width,a=X.left-W.collisionPosition.marginLeft,u=d-a,f=a+W.collisionWidth-c-d;W.collisionWidth>c?u>0&&0>=f?(p=X.left+u+W.collisionWidth-c-d,X.left+=u-p):X.left=f>0&&0>=u?d:u>f?d+c-W.collisionWidth:d:u>0?X.left+=u:f>0?X.left-=f:X.left=T(X.left-a,X.left)},top:function(X,W){var p,Y=W.within,d=Y.isWindow?Y.scrollTop:Y.offset.top,c=W.within.height,a=X.top-W.collisionPosition.marginTop,u=d-a,f=a+W.collisionHeight-c-d;W.collisionHeight>c?u>0&&0>=f?(p=X.top+u+W.collisionHeight-c-d,X.top+=u-p):X.top=f>0&&0>=u?d:u>f?d+c-W.collisionHeight:d:u>0?X.top+=u:f>0?X.top-=f:X.top=T(X.top-a,X.top)}},flip:{left:function(ah,ac){var Z,ai,X=ac.within,W=X.offset.left+X.scrollLeft,af=X.width,aa=X.isWindow?X.scrollLeft:X.offset.left,Y=ah.left-ac.collisionPosition.marginLeft,ag=Y-aa,ae=Y+ac.collisionWidth-af-aa,ad="left"===ac.my[0]?-ac.elemWidth:"right"===ac.my[0]?ac.elemWidth:0,r="left"===ac.at[0]?ac.targetWidth:"right"===ac.at[0]?-ac.targetWidth:0,ab=-2*ac.offset[0];0>ag?(Z=ah.left+ad+r+ab+ac.collisionWidth-af-W,(0>Z||Z<b(ag))&&(ah.left+=ad+r+ab)):ae>0&&(ai=ah.left-ac.collisionPosition.marginLeft+ad+r+ab-aa,(ai>0||b(ai)<ae)&&(ah.left+=ad+r+ab))},top:function(ai,ad){var aa,aj,X=ad.within,W=X.offset.top+X.scrollTop,ag=X.height,ab=X.isWindow?X.scrollTop:X.offset.top,Z=ai.top-ad.collisionPosition.marginTop,ah=Z-ab,af=Z+ad.collisionHeight-ag-ab,ae="top"===ad.my[1],r=ae?-ad.elemHeight:"bottom"===ad.my[1]?ad.elemHeight:0,ac="top"===ad.at[1]?ad.targetHeight:"bottom"===ad.at[1]?-ad.targetHeight:0,Y=-2*ad.offset[1];0>ah?(aj=ai.top+r+ac+Y+ad.collisionHeight-ag-W,(0>aj||aj<b(ah))&&(ai.top+=r+ac+Y)):af>0&&(aa=ai.top-ad.collisionPosition.marginTop+r+ac+Y-ab,(aa>0||b(aa)<af)&&(ai.top+=r+ac+Y))}},flipfit:{left:function(){q.ui.position.flip.left.apply(this,arguments),q.ui.position.fit.left.apply(this,arguments)},top:function(){q.ui.position.flip.top.apply(this,arguments),q.ui.position.fit.top.apply(this,arguments)}}},function(){var p,d,l,u,c,o=document.getElementsByTagName("body")[0],f=document.createElement("div");p=document.createElement(o?"div":"body"),l={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&q.extend(l,{position:"absolute",left:"-1000px",top:"-1000px"});for(c in l){p.style[c]=l[c]}p.appendChild(f),d=o||document.documentElement,d.insertBefore(p,d.firstChild),f.style.cssText="position: absolute; left: 10.7432222px;",u=q(f).offset().left,m=u>10&&11>u,p.innerHTML="",d.removeChild(p)}()}();q.ui.position;q.widget("ui.draggable",q.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(a,b){this._super(a,b),"handle"===a&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void (this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(b){var a=this.options;return this._blurActiveElement(b),this.helper||a.disabled||q(b.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(b),this.handle?(this._blockFrames(a.iframeFix===!0?"iframe":a.iframeFix),!0):!1)},_blockFrames:function(a){this.iframeBlocks=this.document.find(a).map(function(){var b=q(this);return q("<div>").css("position","absolute").appendTo(b.parent()).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(c){var a=this.document[0];if(this.handleElement.is(c.target)){try{a.activeElement&&"body"!==a.activeElement.nodeName.toLowerCase()&&q(a.activeElement).blur()}catch(b){}}},_mouseStart:function(b){var a=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),q.ui.ddmanager&&(q.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===q(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(b),this.originalPosition=this.position=this._generatePosition(b,!1),this.originalPageX=b.pageX,this.originalPageY=b.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),q.ui.ddmanager&&!a.dropBehaviour&&q.ui.ddmanager.prepareOffsets(this,b),this._normalizeRightBottom(),this._mouseDrag(b,!0),q.ui.ddmanager&&q.ui.ddmanager.dragStart(this,b),!0)},_refreshOffsets:function(a){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:a.pageX-this.offset.left,top:a.pageY-this.offset.top}},_mouseDrag:function(c,a){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(c,!0),this.positionAbs=this._convertPositionTo("absolute"),!a){var b=this._uiHash();if(this._trigger("drag",c,b)===!1){return this._mouseUp({}),!1}this.position=b.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",q.ui.ddmanager&&q.ui.ddmanager.drag(this,c),!1},_mouseStop:function(c){var a=this,b=!1;return q.ui.ddmanager&&!this.options.dropBehaviour&&(b=q.ui.ddmanager.drop(this,c)),this.dropped&&(b=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!b||"valid"===this.options.revert&&b||this.options.revert===!0||q.isFunction(this.options.revert)&&this.options.revert.call(this.element,b)?q(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){a._trigger("stop",c)!==!1&&a._clear()}):this._trigger("stop",c)!==!1&&this._clear(),!1},_mouseUp:function(a){return this._unblockFrames(),q.ui.ddmanager&&q.ui.ddmanager.dragStop(this,a),this.handleElement.is(a.target)&&this.element.focus(),q.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(a){return this.options.handle?!!q(a.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(c){var a=this.options,b=q.isFunction(a.helper),d=b?q(a.helper.apply(this.element[0],[c])):"clone"===a.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"===a.appendTo?this.element[0].parentNode:a.appendTo),b&&d[0]===this.element[0]&&this._setPositionRelative(),d[0]===this.element[0]||/(fixed|absolute)/.test(d.css("position"))||d.css("position","absolute"),d},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" ")),q.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left" in a&&(this.offset.click.left=a.left+this.margins.left),"right" in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top" in a&&(this.offset.click.top=a.top+this.margins.top),"bottom" in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var b=this.offsetParent.offset(),a=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==a&&q.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition){return{top:0,left:0}}var a=this.element.position(),b=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(b?0:this.scrollParent.scrollTop()),left:a.left-(parseInt(this.helper.css("left"),10)||0)+(b?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c,a,b,f=this.options,d=this.document[0];return this.relativeContainer=null,f.containment?"window"===f.containment?void (this.containment=[q(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,q(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,q(window).scrollLeft()+q(window).width()-this.helperProportions.width-this.margins.left,q(window).scrollTop()+(q(window).height()||d.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===f.containment?void (this.containment=[0,0,q(d).width()-this.helperProportions.width-this.margins.left,(q(d).height()||d.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):f.containment.constructor===Array?void (this.containment=f.containment):("parent"===f.containment&&(f.containment=this.helper[0].parentNode),a=q(f.containment),b=a[0],void (b&&(c=/(scroll|auto)/.test(a.css("overflow")),this.containment=[(parseInt(a.css("borderLeftWidth"),10)||0)+(parseInt(a.css("paddingLeft"),10)||0),(parseInt(a.css("borderTopWidth"),10)||0)+(parseInt(a.css("paddingTop"),10)||0),(c?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a.css("borderRightWidth"),10)||0)-(parseInt(a.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(c?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a.css("borderBottomWidth"),10)||0)-(parseInt(a.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=a))):void (this.containment=null)},_convertPositionTo:function(b,d){d||(d=this.position);var a="absolute"===b?1:-1,c=this._isRootNode(this.scrollParent[0]);return{top:d.top+this.offset.relative.top*a+this.offset.parent.top*a-("fixed"===this.cssPosition?-this.offset.scroll.top:c?0:this.offset.scroll.top)*a,left:d.left+this.offset.relative.left*a+this.offset.parent.left*a-("fixed"===this.cssPosition?-this.offset.scroll.left:c?0:this.offset.scroll.left)*a}},_generatePosition:function(v,p){var g,N,d,c,u=this.options,b=this._isRootNode(this.scrollParent[0]),m=v.pageX,f=v.pageY;return b&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),p&&(this.containment&&(this.relativeContainer?(N=this.relativeContainer.offset(),g=[this.containment[0]+N.left,this.containment[1]+N.top,this.containment[2]+N.left,this.containment[3]+N.top]):g=this.containment,v.pageX-this.offset.click.left<g[0]&&(m=g[0]+this.offset.click.left),v.pageY-this.offset.click.top<g[1]&&(f=g[1]+this.offset.click.top),v.pageX-this.offset.click.left>g[2]&&(m=g[2]+this.offset.click.left),v.pageY-this.offset.click.top>g[3]&&(f=g[3]+this.offset.click.top)),u.grid&&(d=u.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/u.grid[1])*u.grid[1]:this.originalPageY,f=g?d-this.offset.click.top>=g[1]||d-this.offset.click.top>g[3]?d:d-this.offset.click.top>=g[1]?d-u.grid[1]:d+u.grid[1]:d,c=u.grid[0]?this.originalPageX+Math.round((m-this.originalPageX)/u.grid[0])*u.grid[0]:this.originalPageX,m=g?c-this.offset.click.left>=g[0]||c-this.offset.click.left>g[2]?c:c-this.offset.click.left>=g[0]?c-u.grid[0]:c+u.grid[0]:c),"y"===u.axis&&(m=this.originalPageX),"x"===u.axis&&(f=this.originalPageY)),{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:b?0:this.offset.scroll.top),left:m-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:b?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(c,a,b){return b=b||this._uiHash(),q.ui.plugin.call(this,c,[a,b,this],!0),/^(drag|start|stop)/.test(c)&&(this.positionAbs=this._convertPositionTo("absolute"),b.offset=this.positionAbs),q.Widget.prototype._trigger.call(this,c,a,b)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),q.ui.plugin.add("draggable","connectToSortable",{start:function(c,a,b){var d=q.extend({},a,{item:b.element});b.sortables=[],q(b.options.connectToSortable).each(function(){var e=q(this).sortable("instance");e&&!e.options.disabled&&(b.sortables.push(e),e.refreshPositions(),e._trigger("activate",c,d))})},stop:function(c,a,b){var d=q.extend({},a,{item:b.element});b.cancelHelperRemoval=!1,q.each(b.sortables,function(){var e=this;e.isOver?(e.isOver=0,b.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(c),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",c,d))})},drag:function(c,a,b){q.each(b.sortables,function(){var e=!1,d=this;d.positionAbs=b.positionAbs,d.helperProportions=b.helperProportions,d.offset.click=b.offset.click,d._intersectsWith(d.containerCache)&&(e=!0,q.each(b.sortables,function(){return this.positionAbs=b.positionAbs,this.helperProportions=b.helperProportions,this.offset.click=b.offset.click,this!==d&&this._intersectsWith(this.containerCache)&&q.contains(d.element[0],this.element[0])&&(e=!1),e})),e?(d.isOver||(d.isOver=1,b._parent=a.helper.parent(),d.currentItem=a.helper.appendTo(d.element).data("ui-sortable-item",!0),d.options._helper=d.options.helper,d.options.helper=function(){return a.helper[0]},c.target=d.currentItem[0],d._mouseCapture(c,!0),d._mouseStart(c,!0,!0),d.offset.click.top=b.offset.click.top,d.offset.click.left=b.offset.click.left,d.offset.parent.left-=b.offset.parent.left-d.offset.parent.left,d.offset.parent.top-=b.offset.parent.top-d.offset.parent.top,b._trigger("toSortable",c),b.dropped=d.element,q.each(b.sortables,function(){this.refreshPositions()}),b.currentItem=b.element,d.fromOutside=b),d.currentItem&&(d._mouseDrag(c),a.position=d.position)):d.isOver&&(d.isOver=0,d.cancelHelperRemoval=!0,d.options._revert=d.options.revert,d.options.revert=!1,d._trigger("out",c,d._uiHash(d)),d._mouseStop(c,!0),d.options.revert=d.options._revert,d.options.helper=d.options._helper,d.placeholder&&d.placeholder.remove(),a.helper.appendTo(b._parent),b._refreshOffsets(c),a.position=b._generatePosition(c,!0),b._trigger("fromSortable",c),b.dropped=!1,q.each(b.sortables,function(){this.refreshPositions()}))})}}),q.ui.plugin.add("draggable","cursor",{start:function(c,a,b){var f=q("body"),d=b.options;f.css("cursor")&&(d._cursor=f.css("cursor")),f.css("cursor",d.cursor)},stop:function(c,a,b){var d=b.options;d._cursor&&q("body").css("cursor",d._cursor)}}),q.ui.plugin.add("draggable","opacity",{start:function(c,a,b){var f=q(a.helper),d=b.options;f.css("opacity")&&(d._opacity=f.css("opacity")),f.css("opacity",d.opacity)},stop:function(c,a,b){var d=b.options;d._opacity&&q(a.helper).css("opacity",d._opacity)}}),q.ui.plugin.add("draggable","scroll",{start:function(b,c,a){a.scrollParentNotHidden||(a.scrollParentNotHidden=a.helper.scrollParent(!1)),a.scrollParentNotHidden[0]!==a.document[0]&&"HTML"!==a.scrollParentNotHidden[0].tagName&&(a.overflowOffset=a.scrollParentNotHidden.offset())},drag:function(g,c,d){var l=d.options,h=!1,b=d.scrollParentNotHidden[0],f=d.document[0];b!==f&&"HTML"!==b.tagName?(l.axis&&"x"===l.axis||(d.overflowOffset.top+b.offsetHeight-g.pageY<l.scrollSensitivity?b.scrollTop=h=b.scrollTop+l.scrollSpeed:g.pageY-d.overflowOffset.top<l.scrollSensitivity&&(b.scrollTop=h=b.scrollTop-l.scrollSpeed)),l.axis&&"y"===l.axis||(d.overflowOffset.left+b.offsetWidth-g.pageX<l.scrollSensitivity?b.scrollLeft=h=b.scrollLeft+l.scrollSpeed:g.pageX-d.overflowOffset.left<l.scrollSensitivity&&(b.scrollLeft=h=b.scrollLeft-l.scrollSpeed))):(l.axis&&"x"===l.axis||(g.pageY-q(f).scrollTop()<l.scrollSensitivity?h=q(f).scrollTop(q(f).scrollTop()-l.scrollSpeed):q(window).height()-(g.pageY-q(f).scrollTop())<l.scrollSensitivity&&(h=q(f).scrollTop(q(f).scrollTop()+l.scrollSpeed))),l.axis&&"y"===l.axis||(g.pageX-q(f).scrollLeft()<l.scrollSensitivity?h=q(f).scrollLeft(q(f).scrollLeft()-l.scrollSpeed):q(window).width()-(g.pageX-q(f).scrollLeft())<l.scrollSensitivity&&(h=q(f).scrollLeft(q(f).scrollLeft()+l.scrollSpeed)))),h!==!1&&q.ui.ddmanager&&!l.dropBehaviour&&q.ui.ddmanager.prepareOffsets(d,g)}}),q.ui.plugin.add("draggable","snap",{start:function(c,a,b){var d=b.options;b.snapElements=[],q(d.snap.constructor!==String?d.snap.items||":data(ui-draggable)":d.snap).each(function(){var g=q(this),f=g.offset();this!==b.element[0]&&b.snapElements.push({item:this,width:g.outerWidth(),height:g.outerHeight(),top:f.top,left:f.left})})},drag:function(Z,V,O){var S,R,ad,P,W,U,N,ab,aa,Q,Y=O.options,T=Y.snapTolerance,X=V.offset.left,t=X+O.helperProportions.width,ae=V.offset.top,ac=ae+O.helperProportions.height;for(aa=O.snapElements.length-1;aa>=0;aa--){W=O.snapElements[aa].left-O.margins.left,U=W+O.snapElements[aa].width,N=O.snapElements[aa].top-O.margins.top,ab=N+O.snapElements[aa].height,W-T>t||X>U+T||N-T>ac||ae>ab+T||!q.contains(O.snapElements[aa].item.ownerDocument,O.snapElements[aa].item)?(O.snapElements[aa].snapping&&O.options.snap.release&&O.options.snap.release.call(O.element,Z,q.extend(O._uiHash(),{snapItem:O.snapElements[aa].item})),O.snapElements[aa].snapping=!1):("inner"!==Y.snapMode&&(S=Math.abs(N-ac)<=T,R=Math.abs(ab-ae)<=T,ad=Math.abs(W-t)<=T,P=Math.abs(U-X)<=T,S&&(V.position.top=O._convertPositionTo("relative",{top:N-O.helperProportions.height,left:0}).top),R&&(V.position.top=O._convertPositionTo("relative",{top:ab,left:0}).top),ad&&(V.position.left=O._convertPositionTo("relative",{top:0,left:W-O.helperProportions.width}).left),P&&(V.position.left=O._convertPositionTo("relative",{top:0,left:U}).left)),Q=S||R||ad||P,"outer"!==Y.snapMode&&(S=Math.abs(N-ae)<=T,R=Math.abs(ab-ac)<=T,ad=Math.abs(W-X)<=T,P=Math.abs(U-t)<=T,S&&(V.position.top=O._convertPositionTo("relative",{top:N,left:0}).top),R&&(V.position.top=O._convertPositionTo("relative",{top:ab-O.helperProportions.height,left:0}).top),ad&&(V.position.left=O._convertPositionTo("relative",{top:0,left:W}).left),P&&(V.position.left=O._convertPositionTo("relative",{top:0,left:U-O.helperProportions.width}).left)),!O.snapElements[aa].snapping&&(S||R||ad||P||Q)&&O.options.snap.snap&&O.options.snap.snap.call(O.element,Z,q.extend(O._uiHash(),{snapItem:O.snapElements[aa].item})),O.snapElements[aa].snapping=S||R||ad||P||Q)}}}),q.ui.plugin.add("draggable","stack",{start:function(f,c,d){var h,g=d.options,b=q.makeArray(q(g.stack)).sort(function(l,a){return(parseInt(q(l).css("zIndex"),10)||0)-(parseInt(q(a).css("zIndex"),10)||0)});b.length&&(h=parseInt(q(b[0]).css("zIndex"),10)||0,q(b).each(function(a){q(this).css("zIndex",h+a)}),this.css("zIndex",h+b.length))}}),q.ui.plugin.add("draggable","zIndex",{start:function(c,a,b){var f=q(a.helper),d=b.options;f.css("zIndex")&&(d._zIndex=f.css("zIndex")),f.css("zIndex",d.zIndex)},stop:function(c,a,b){var d=b.options;d._zIndex&&q(a.helper).css("zIndex",d._zIndex)}});q.ui.draggable;q.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var c,a=this.options,b=a.accept;this.isover=!1,this.isout=!0,this.accept=q.isFunction(b)?b:function(d){return d.is(b)},this.proportions=function(){return arguments.length?void (c=arguments[0]):c?c:c={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(a.scope),a.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(a){q.ui.ddmanager.droppables[a]=q.ui.ddmanager.droppables[a]||[],q.ui.ddmanager.droppables[a].push(this)},_splice:function(a){for(var b=0;b<a.length;b++){a[b]===this&&a.splice(b,1)}},_destroy:function(){var a=q.ui.ddmanager.droppables[this.options.scope];this._splice(a),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(c,a){if("accept"===c){this.accept=q.isFunction(a)?a:function(d){return d.is(a)}}else{if("scope"===c){var b=q.ui.ddmanager.droppables[this.options.scope];this._splice(b),this._addToManager(a)}}this._super(c,a)},_activate:function(b){var a=q.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),a&&this._trigger("activate",b,this.ui(a))},_deactivate:function(b){var a=q.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),a&&this._trigger("deactivate",b,this.ui(a))},_over:function(b){var a=q.ui.ddmanager.current;a&&(a.currentItem||a.element)[0]!==this.element[0]&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(a)))},_out:function(b){var a=q.ui.ddmanager.current;a&&(a.currentItem||a.element)[0]!==this.element[0]&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(a)))},_drop:function(c,a){var b=a||q.ui.ddmanager.current,d=!1;return b&&(b.currentItem||b.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=q(this).droppable("instance");return e.options.greedy&&!e.options.disabled&&e.options.scope===b.options.scope&&e.accept.call(e.element[0],b.currentItem||b.element)&&q.ui.intersect(b,q.extend(e,{offset:e.element.offset()}),e.options.tolerance,c)?(d=!0,!1):void 0}),d?!1:this.accept.call(this.element[0],b.currentItem||b.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",c,this.ui(b)),this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),q.ui.intersect=function(){function a(c,d,b){return c>=d&&d+b>c}return function(v,p,R,g){if(!p.offset){return !1}var f=(v.positionAbs||v.position.absolute).left+v.margins.left,P=(v.positionAbs||v.position.absolute).top+v.margins.top,b=f+v.helperProportions.width,t=P+v.helperProportions.height,m=p.offset.left,Q=p.offset.top,O=m+p.proportions().width,N=Q+p.proportions().height;switch(R){case"fit":return f>=m&&O>=b&&P>=Q&&N>=t;case"intersect":return m<f+v.helperProportions.width/2&&b-v.helperProportions.width/2<O&&Q<P+v.helperProportions.height/2&&t-v.helperProportions.height/2<N;case"pointer":return a(g.pageY,Q,p.proportions().height)&&a(g.pageX,m,p.proportions().width);case"touch":return(P>=Q&&N>=P||t>=Q&&N>=t||Q>P&&t>N)&&(f>=m&&O>=f||b>=m&&O>=b||m>f&&b>O);default:return !1}}}(),q.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(g,c){var d,l,h=q.ui.ddmanager.droppables[g.options.scope]||[],b=c?c.type:null,f=(g.currentItem||g.element).find(":data(ui-droppable)").addBack();q:for(d=0;d<h.length;d++){if(!(h[d].options.disabled||g&&!h[d].accept.call(h[d].element[0],g.currentItem||g.element))){for(l=0;l<f.length;l++){if(f[l]===h[d].element[0]){h[d].proportions().height=0;continue q}}h[d].visible="none"!==h[d].element.css("display"),h[d].visible&&("mousedown"===b&&h[d]._activate.call(h[d],c),h[d].offset=h[d].element.offset(),h[d].proportions({width:h[d].element[0].offsetWidth,height:h[d].element[0].offsetHeight}))}}},drop:function(c,a){var b=!1;return q.each((q.ui.ddmanager.droppables[c.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&q.ui.intersect(c,this,this.options.tolerance,a)&&(b=this._drop.call(this,a)||b),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,a)))}),b},dragStart:function(b,a){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||q.ui.ddmanager.prepareOffsets(b,a)})},drag:function(b,a){b.options.refreshPositions&&q.ui.ddmanager.prepareOffsets(b,a),q.each(q.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d,g,f,c=q.ui.intersect(b,this,this.options.tolerance,a),e=!c&&this.isover?"isout":c&&!this.isover?"isover":null;e&&(this.options.greedy&&(g=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return q(this).droppable("instance").options.scope===g}),f.length&&(d=q(f[0]).droppable("instance"),d.greedyChild="isover"===e)),d&&"isover"===e&&(d.isover=!1,d.isout=!0,d._out.call(d,a)),this[e]=!0,this["isout"===e?"isover":"isout"]=!1,this["isover"===e?"_over":"_out"].call(this,a),d&&"isout"===e&&(d.isout=!1,d.isover=!0,d._over.call(d,a)))}})},dragStop:function(b,a){b.element.parentsUntil("body").unbind("scroll.droppable"),b.options.refreshPositions||q.ui.ddmanager.prepareOffsets(b,a)}};q.ui.droppable;q.widget("ui.resizable",q.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(a){return parseInt(a,10)||0},_isNumber:function(a){return !isNaN(parseInt(a,10))},_hasScroll:function(c,a){if("hidden"===q(c).css("overflow")){return !1}var b=a&&"left"===a?"scrollLeft":"scrollTop",d=!1;return c[b]>0?!0:(c[b]=1,d=c[b]>0,c[b]=0,d)},_create:function(){var g,c,d,l,h,b=this,f=this.options;if(this.element.addClass("ui-resizable"),q.extend(this,{_aspectRatio:!!f.aspectRatio,aspectRatio:f.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:f.helper||f.ghost||f.animate?f.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(q("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=f.handles||(q(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=q(),this.handles.constructor===String){for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),g=this.handles.split(","),this.handles={},c=0;c<g.length;c++){d=q.trim(g[c]),h="ui-resizable-"+d,l=q("<div class='ui-resizable-handle "+h+"'></div>"),l.css({zIndex:f.zIndex}),"se"===d&&l.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[d]=".ui-resizable-"+d,this.element.append(l)}}this._renderAxis=function(p){var a,m,t,r;p=p||this.element;for(a in this.handles){this.handles[a].constructor===String?this.handles[a]=this.element.children(this.handles[a]).first().show():(this.handles[a].jquery||this.handles[a].nodeType)&&(this.handles[a]=q(this.handles[a]),this._on(this.handles[a],{mousedown:b._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(m=q(this.handles[a],this.element),r=/sw|ne|nw|se|n|s/.test(a)?m.outerHeight():m.outerWidth(),t=["padding",/ne|nw|n/.test(a)?"Top":/se|sw|s/.test(a)?"Bottom":/^e$/.test(a)?"Right":"Left"].join(""),p.css(t,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[a])}},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){b.resizing||(this.className&&(l=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),b.axis=l&&l[1]?l[1]:"se")}),f.autoHide&&(this._handles.hide(),q(this.element).addClass("ui-resizable-autohide").mouseenter(function(){f.disabled||(q(this).removeClass("ui-resizable-autohide"),b._handles.show())}).mouseleave(function(){f.disabled||b.resizing||(q(this).addClass("ui-resizable-autohide"),b._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var b,a=function(c){q(c).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(a(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()),this.originalElement.css("resize",this.originalResizeStyle),a(this.originalElement),this},_mouseCapture:function(c){var a,b,d=!1;for(a in this.handles){b=q(this.handles[a])[0],(b===c.target||q.contains(b,c.target))&&(d=!0)}return !this.options.disabled&&d},_mouseStart:function(f){var c,d,h,g=this.options,b=this.element;return this.resizing=!0,this._renderProxy(),c=this._num(this.helper.css("left")),d=this._num(this.helper.css("top")),g.containment&&(c+=q(g.containment).scrollLeft()||0,d+=q(g.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:c,top:d},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:b.width(),height:b.height()},this.originalSize=this._helper?{width:b.outerWidth(),height:b.outerHeight()}:{width:b.width(),height:b.height()},this.sizeDiff={width:b.outerWidth()-b.width(),height:b.outerHeight()-b.height()},this.originalPosition={left:c,top:d},this.originalMousePosition={left:f.pageX,top:f.pageY},this.aspectRatio="number"==typeof g.aspectRatio?g.aspectRatio:this.originalSize.width/this.originalSize.height||1,h=q(".ui-resizable-"+this.axis).css("cursor"),q("body").css("cursor","auto"===h?this.axis+"-resize":h),b.addClass("ui-resizable-resizing"),this._propagate("start",f),!0},_mouseDrag:function(l){var c,f,p=this.originalMousePosition,m=this.axis,b=l.pageX-p.left||0,g=l.pageY-p.top||0,d=this._change[m];return this._updatePrevProperties(),d?(c=d.apply(this,[l,b,g]),this._updateVirtualBoundaries(l.shiftKey),(this._aspectRatio||l.shiftKey)&&(c=this._updateRatio(c,l)),c=this._respectSize(c,l),this._updateCache(c),this._propagate("resize",l),f=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),q.isEmptyObject(f)||(this._updatePrevProperties(),this._trigger("resize",l,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(p){this.resizing=!1;var g,N,d,c,t,b,m,f=this.options,v=this;return this._helper&&(g=this._proportionallyResizeElements,N=g.length&&/textarea/i.test(g[0].nodeName),d=N&&this._hasScroll(g[0],"left")?0:v.sizeDiff.height,c=N?0:v.sizeDiff.width,t={width:v.helper.width()-c,height:v.helper.height()-d},b=parseInt(v.element.css("left"),10)+(v.position.left-v.originalPosition.left)||null,m=parseInt(v.element.css("top"),10)+(v.position.top-v.originalPosition.top)||null,f.animate||this.element.css(q.extend(t,{top:m,left:b})),v.helper.height(v.size.height),v.helper.width(v.size.width),this._helper&&!f.animate&&this._proportionallyResize()),q("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",p),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var a={};return this.position.top!==this.prevPosition.top&&(a.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(a.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(a.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(a.height=this.size.height+"px"),this.helper.css(a),a},_updateVirtualBoundaries:function(d){var g,c,f,l,h,b=this.options;h={minWidth:this._isNumber(b.minWidth)?b.minWidth:0,maxWidth:this._isNumber(b.maxWidth)?b.maxWidth:1/0,minHeight:this._isNumber(b.minHeight)?b.minHeight:0,maxHeight:this._isNumber(b.maxHeight)?b.maxHeight:1/0},(this._aspectRatio||d)&&(g=h.minHeight*this.aspectRatio,f=h.minWidth/this.aspectRatio,c=h.maxHeight*this.aspectRatio,l=h.maxWidth/this.aspectRatio,g>h.minWidth&&(h.minWidth=g),f>h.minHeight&&(h.minHeight=f),c<h.maxWidth&&(h.maxWidth=c),l<h.maxHeight&&(h.maxHeight=l)),this._vBoundaries=h},_updateCache:function(a){this.offset=this.helper.offset(),this._isNumber(a.left)&&(this.position.left=a.left),this._isNumber(a.top)&&(this.position.top=a.top),this._isNumber(a.height)&&(this.size.height=a.height),this._isNumber(a.width)&&(this.size.width=a.width)},_updateRatio:function(b){var d=this.position,a=this.size,c=this.axis;return this._isNumber(b.height)?b.width=b.height*this.aspectRatio:this._isNumber(b.width)&&(b.height=b.width/this.aspectRatio),"sw"===c&&(b.left=d.left+(a.width-b.width),b.top=null),"nw"===c&&(b.top=d.top+(a.height-b.height),b.left=d.left+(a.width-b.width)),b},_respectSize:function(O){var p=this._vBoundaries,g=this.axis,P=this._isNumber(O.width)&&p.maxWidth&&p.maxWidth<O.width,d=this._isNumber(O.height)&&p.maxHeight&&p.maxHeight<O.height,c=this._isNumber(O.width)&&p.minWidth&&p.minWidth>O.width,v=this._isNumber(O.height)&&p.minHeight&&p.minHeight>O.height,b=this.originalPosition.left+this.originalSize.width,m=this.position.top+this.size.height,f=/sw|nw|w/.test(g),N=/nw|ne|n/.test(g);return c&&(O.width=p.minWidth),v&&(O.height=p.minHeight),P&&(O.width=p.maxWidth),d&&(O.height=p.maxHeight),c&&f&&(O.left=b-p.minWidth),P&&f&&(O.left=b-p.maxWidth),v&&N&&(O.top=m-p.minHeight),d&&N&&(O.top=m-p.maxHeight),O.width||O.height||O.left||!O.top?O.width||O.height||O.top||!O.left||(O.left=null):O.top=null,O},_getPaddingPlusBorderDimensions:function(b){for(var d=0,a=[],c=[b.css("borderTopWidth"),b.css("borderRightWidth"),b.css("borderBottomWidth"),b.css("borderLeftWidth")],f=[b.css("paddingTop"),b.css("paddingRight"),b.css("paddingBottom"),b.css("paddingLeft")];4>d;d++){a[d]=parseInt(c[d],10)||0,a[d]+=parseInt(f[d],10)||0}return{height:a[0]+a[2],width:a[1]+a[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){for(var b,c=0,a=this.helper||this.element;c<this._proportionallyResizeElements.length;c++){b=this._proportionallyResizeElements[c],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(b)),b.css({height:a.height()-this.outerDimensions.height||0,width:a.width()-this.outerDimensions.width||0})}}},_renderProxy:function(){var b=this.element,a=this.options;this.elementOffset=b.offset(),this._helper?(this.helper=this.helper||q("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++a.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(b,d){var a=this.originalSize,c=this.originalPosition;return{left:c.left+d,width:a.width-d}},n:function(b,d,a){var c=this.originalSize,f=this.originalPosition;return{top:f.top+a,height:c.height-a}},s:function(b,c,a){return{height:this.originalSize.height+a}},se:function(c,a,b){return q.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[c,a,b]))},sw:function(c,a,b){return q.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[c,a,b]))},ne:function(c,a,b){return q.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[c,a,b]))},nw:function(c,a,b){return q.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[c,a,b]))}},_propagate:function(b,a){q.ui.plugin.call(this,b,[a,this.ui()]),"resize"!==b&&this._trigger(b,a,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),q.ui.plugin.add("resizable","animate",{stop:function(p){var g=q(this).resizable("instance"),N=g.options,d=g._proportionallyResizeElements,c=d.length&&/textarea/i.test(d[0].nodeName),t=c&&g._hasScroll(d[0],"left")?0:g.sizeDiff.height,b=c?0:g.sizeDiff.width,m={width:g.size.width-b,height:g.size.height-t},f=parseInt(g.element.css("left"),10)+(g.position.left-g.originalPosition.left)||null,v=parseInt(g.element.css("top"),10)+(g.position.top-g.originalPosition.top)||null;g.element.animate(q.extend(m,v&&f?{top:v,left:f}:{}),{duration:N.animateDuration,easing:N.animateEasing,step:function(){var a={width:parseInt(g.element.css("width"),10),height:parseInt(g.element.css("height"),10),top:parseInt(g.element.css("top"),10),left:parseInt(g.element.css("left"),10)};d&&d.length&&q(d[0]).css({width:a.width,height:a.height}),g._updateCache(a),g._propagate("resize",p)}})}}),q.ui.plugin.add("resizable","containment",{start:function(){var v,p,R,g,f,P,b,t=q(this).resizable("instance"),m=t.options,Q=t.element,O=m.containment,N=O instanceof q?O.get(0):/parent/.test(O)?Q.parent().get(0):O;N&&(t.containerElement=q(N),/document/.test(O)||O===document?(t.containerOffset={left:0,top:0},t.containerPosition={left:0,top:0},t.parentData={element:q(document),left:0,top:0,width:q(document).width(),height:q(document).height()||document.body.parentNode.scrollHeight}):(v=q(N),p=[],q(["Top","Right","Left","Bottom"]).each(function(a,c){p[a]=t._num(v.css("padding"+c))}),t.containerOffset=v.offset(),t.containerPosition=v.position(),t.containerSize={height:v.innerHeight()-p[3],width:v.innerWidth()-p[1]},R=t.containerOffset,g=t.containerSize.height,f=t.containerSize.width,P=t._hasScroll(N,"left")?N.scrollWidth:f,b=t._hasScroll(N)?N.scrollHeight:g,t.parentData={element:N,left:R.left,top:R.top,width:P,height:b}))},resize:function(O){var v,T,m,g,R=q(this).resizable("instance"),b=R.options,N=R.containerOffset,t=R.position,S=R._aspectRatio||O.shiftKey,Q={top:0,left:0},P=R.containerElement,f=!0;P[0]!==document&&/static/.test(P.css("position"))&&(Q=N),t.left<(R._helper?N.left:0)&&(R.size.width=R.size.width+(R._helper?R.position.left-N.left:R.position.left-Q.left),S&&(R.size.height=R.size.width/R.aspectRatio,f=!1),R.position.left=b.helper?N.left:0),t.top<(R._helper?N.top:0)&&(R.size.height=R.size.height+(R._helper?R.position.top-N.top:R.position.top),S&&(R.size.width=R.size.height*R.aspectRatio,f=!1),R.position.top=R._helper?N.top:0),m=R.containerElement.get(0)===R.element.parent().get(0),g=/relative|absolute/.test(R.containerElement.css("position")),m&&g?(R.offset.left=R.parentData.left+R.position.left,R.offset.top=R.parentData.top+R.position.top):(R.offset.left=R.element.offset().left,R.offset.top=R.element.offset().top),v=Math.abs(R.sizeDiff.width+(R._helper?R.offset.left-Q.left:R.offset.left-N.left)),T=Math.abs(R.sizeDiff.height+(R._helper?R.offset.top-Q.top:R.offset.top-N.top)),v+R.size.width>=R.parentData.width&&(R.size.width=R.parentData.width-v,S&&(R.size.height=R.size.width/R.aspectRatio,f=!1)),T+R.size.height>=R.parentData.height&&(R.size.height=R.parentData.height-T,S&&(R.size.width=R.size.height*R.aspectRatio,f=!1)),f||(R.position.left=R.prevPosition.left,R.position.top=R.prevPosition.top,R.size.width=R.prevSize.width,R.size.height=R.prevSize.height)},stop:function(){var p=q(this).resizable("instance"),g=p.options,u=p.containerOffset,d=p.containerPosition,c=p.containerElement,t=q(p.helper),b=t.offset(),m=t.outerWidth()-p.sizeDiff.width,f=t.outerHeight()-p.sizeDiff.height;p._helper&&!g.animate&&/relative/.test(c.css("position"))&&q(this).css({left:b.left-d.left-u.left,width:m,height:f}),p._helper&&!g.animate&&/static/.test(c.css("position"))&&q(this).css({left:b.left-d.left-u.left,width:m,height:f})}}),q.ui.plugin.add("resizable","alsoResize",{start:function(){var b=q(this).resizable("instance"),a=b.options;q(a.alsoResize).each(function(){var c=q(this);c.data("ui-resizable-alsoresize",{width:parseInt(c.width(),10),height:parseInt(c.height(),10),left:parseInt(c.css("left"),10),top:parseInt(c.css("top"),10)})})},resize:function(g,c){var d=q(this).resizable("instance"),l=d.options,h=d.originalSize,b=d.originalPosition,f={height:d.size.height-h.height||0,width:d.size.width-h.width||0,top:d.position.top-b.top||0,left:d.position.left-b.left||0};q(l.alsoResize).each(function(){var i=q(this),a=q(this).data("ui-resizable-alsoresize"),p={},m=i.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];q.each(m,function(o,r){var n=(a[r]||0)+(f[r]||0);n&&n>=0&&(p[r]=n||null)}),i.css(p)})},stop:function(){q(this).removeData("resizable-alsoresize")}}),q.ui.plugin.add("resizable","ghost",{start:function(){var c=q(this).resizable("instance"),a=c.options,b=c.size;c.ghost=c.originalElement.clone(),c.ghost.css({opacity:0.25,display:"block",position:"relative",height:b.height,width:b.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof a.ghost?a.ghost:""),c.ghost.appendTo(c.helper)},resize:function(){var a=q(this).resizable("instance");a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},stop:function(){var a=q(this).resizable("instance");a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}}),q.ui.plugin.add("resizable","grid",{resize:function(){var Y,U=q(this).resizable("instance"),N=U.options,R=U.size,Q=U.originalSize,ab=U.originalPosition,O=U.axis,V="number"==typeof N.grid?[N.grid,N.grid]:N.grid,T=V[0]||1,t=V[1]||1,aa=Math.round((R.width-Q.width)/T)*T,Z=Math.round((R.height-Q.height)/t)*t,P=Q.width+aa,X=Q.height+Z,S=N.maxWidth&&N.maxWidth<P,W=N.maxHeight&&N.maxHeight<X,b=N.minWidth&&N.minWidth>P,ac=N.minHeight&&N.minHeight>X;N.grid=V,b&&(P+=T),ac&&(X+=t),S&&(P-=T),W&&(X-=t),/^(se|s|e)$/.test(O)?(U.size.width=P,U.size.height=X):/^(ne)$/.test(O)?(U.size.width=P,U.size.height=X,U.position.top=ab.top-Z):/^(sw)$/.test(O)?(U.size.width=P,U.size.height=X,U.position.left=ab.left-aa):((0>=X-t||0>=P-T)&&(Y=U._getPaddingPlusBorderDimensions(this)),X-t>0?(U.size.height=X,U.position.top=ab.top-Z):(X=t-Y.height,U.size.height=X,U.position.top=ab.top+Q.height-X),P-T>0?(U.size.width=P,U.position.left=ab.left-aa):(P=T-Y.width,U.size.width=P,U.position.left=ab.left+Q.width-P))}});q.ui.resizable,q.widget("ui.selectable",q.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var b,a=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){b=q(a.options.filter,a.element[0]),b.addClass("ui-selectee"),b.each(function(){var d=q(this),c=d.offset();q.data(this,"selectable-item",{element:this,$element:d,left:c.left,top:c.top,right:c.left+d.outerWidth(),bottom:c.top+d.outerHeight(),startselected:!1,selected:d.hasClass("ui-selected"),selecting:d.hasClass("ui-selecting"),unselecting:d.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=b.addClass("ui-selectee"),this._mouseInit(),this.helper=q("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(c){var a=this,b=this.options;this.opos=[c.pageX,c.pageY],this.options.disabled||(this.selectees=q(b.filter,this.element[0]),this._trigger("start",c),q(b.appendTo).append(this.helper),this.helper.css({left:c.pageX,top:c.pageY,width:0,height:0}),b.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=q.data(this,"selectable-item");d.startselected=!0,c.metaKey||c.ctrlKey||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,a._trigger("unselecting",c,{unselecting:d.element}))}),q(c.target).parents().addBack().each(function(){var d,e=q.data(this,"selectable-item");return e?(d=!c.metaKey&&!c.ctrlKey||!e.$element.hasClass("ui-selected"),e.$element.removeClass(d?"ui-unselecting":"ui-selected").addClass(d?"ui-selecting":"ui-unselecting"),e.unselecting=!d,e.selecting=d,e.selected=d,d?a._trigger("selecting",c,{selecting:e.element}):a._trigger("unselecting",c,{unselecting:e.element}),!1):void 0}))},_mouseDrag:function(l){if(this.dragged=!0,!this.options.disabled){var c,f=this,p=this.options,m=this.opos[0],b=this.opos[1],g=l.pageX,d=l.pageY;return m>g&&(c=g,g=m,m=c),b>d&&(c=d,d=b,b=c),this.helper.css({left:m,top:b,width:g-m,height:d-b}),this.selectees.each(function(){var e=q.data(this,"selectable-item"),a=!1;e&&e.element!==f.element[0]&&("touch"===p.tolerance?a=!(e.left>g||e.right<m||e.top>d||e.bottom<b):"fit"===p.tolerance&&(a=e.left>m&&e.right<g&&e.top>b&&e.bottom<d),a?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,f._trigger("selecting",l,{selecting:e.element}))):(e.selecting&&((l.metaKey||l.ctrlKey)&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),f._trigger("unselecting",l,{unselecting:e.element}))),e.selected&&(l.metaKey||l.ctrlKey||e.startselected||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,f._trigger("unselecting",l,{unselecting:e.element})))))}),!1}},_mouseStop:function(b){var a=this;return this.dragged=!1,q(".ui-unselecting",this.element[0]).each(function(){var c=q.data(this,"selectable-item");c.$element.removeClass("ui-unselecting"),c.unselecting=!1,c.startselected=!1,a._trigger("unselected",b,{unselected:c.element})}),q(".ui-selecting",this.element[0]).each(function(){var c=q.data(this,"selectable-item");c.$element.removeClass("ui-selecting").addClass("ui-selected"),c.selecting=!1,c.selected=!0,c.startselected=!0,a._trigger("selected",b,{selected:c.element})}),this._trigger("stop",b),this.helper.remove(),!1}}),q.widget("ui.sortable",q.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(b,c,a){return b>=c&&c+a>b},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(a,b){this._super(a,b),"handle"===a&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),q.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--){this.items[a].item.removeData(this.widgetName+"-item")}return this},_mouseCapture:function(c,a){var b=null,f=!1,d=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(c),q(c.target).parents().each(function(){return q.data(this,d.widgetName+"-item")===d?(b=q(this),!1):void 0}),q.data(c.target,d.widgetName+"-item")===d&&(b=q(c.target)),b&&(!this.options.handle||a||(q(this.options.handle,b).find("*").addBack().each(function(){this===c.target&&(f=!0)}),f))?(this.currentItem=b,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(f,c,d){var h,g,b=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(f),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},q.extend(this.offset,{click:{left:f.pageX-this.offset.left,top:f.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(f),this.originalPageX=f.pageX,this.originalPageY=f.pageY,b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),b.containment&&this._setContainment(),b.cursor&&"auto"!==b.cursor&&(g=this.document.find("body"),this.storedCursor=g.css("cursor"),g.css("cursor",b.cursor),this.storedStylesheet=q("<style>*{ cursor: "+b.cursor+" !important; }</style>").appendTo(g)),b.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",b.opacity)),b.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",b.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",f,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d){for(h=this.containers.length-1;h>=0;h--){this.containers[h]._trigger("activate",f,this._uiHash(this))}}return q.ui.ddmanager&&(q.ui.ddmanager.current=this),q.ui.ddmanager&&!b.dropBehaviour&&q.ui.ddmanager.prepareOffsets(this,f),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(f),!0},_mouseDrag:function(g){var c,d,l,h,b=this.options,f=!1;for(this.position=this._generatePosition(g),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-g.pageY<b.scrollSensitivity?this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop+b.scrollSpeed:g.pageY-this.overflowOffset.top<b.scrollSensitivity&&(this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop-b.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-g.pageX<b.scrollSensitivity?this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft+b.scrollSpeed:g.pageX-this.overflowOffset.left<b.scrollSensitivity&&(this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft-b.scrollSpeed)):(g.pageY-this.document.scrollTop()<b.scrollSensitivity?f=this.document.scrollTop(this.document.scrollTop()-b.scrollSpeed):this.window.height()-(g.pageY-this.document.scrollTop())<b.scrollSensitivity&&(f=this.document.scrollTop(this.document.scrollTop()+b.scrollSpeed)),g.pageX-this.document.scrollLeft()<b.scrollSensitivity?f=this.document.scrollLeft(this.document.scrollLeft()-b.scrollSpeed):this.window.width()-(g.pageX-this.document.scrollLeft())<b.scrollSensitivity&&(f=this.document.scrollLeft(this.document.scrollLeft()+b.scrollSpeed))),f!==!1&&q.ui.ddmanager&&!b.dropBehaviour&&q.ui.ddmanager.prepareOffsets(this,g)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),c=this.items.length-1;c>=0;c--){if(d=this.items[c],l=d.item[0],h=this._intersectsWithPointer(d),h&&d.instance===this.currentContainer&&l!==this.currentItem[0]&&this.placeholder[1===h?"next":"prev"]()[0]!==l&&!q.contains(this.placeholder[0],l)&&("semi-dynamic"===this.options.type?!q.contains(this.element[0],l):!0)){if(this.direction=1===h?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(d)){break}this._rearrange(g,d),this._trigger("change",g,this._uiHash());break}}return this._contactContainers(g),q.ui.ddmanager&&q.ui.ddmanager.drag(this,g),this._trigger("sort",g,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(f,c){if(f){if(q.ui.ddmanager&&!this.options.dropBehaviour&&q.ui.ddmanager.drop(this,f),this.options.revert){var d=this,h=this.placeholder.offset(),g=this.options.axis,b={};g&&"x"!==g||(b.left=h.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),g&&"y"!==g||(b.top=h.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,q(this.helper).animate(b,parseInt(this.options.revert,10)||500,function(){d._clear(f)})}else{this._clear(f,c)}return !1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var a=this.containers.length-1;a>=0;a--){this.containers[a]._trigger("deactivate",null,this._uiHash(this)),this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",null,this._uiHash(this)),this.containers[a].containerCache.over=0)}}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),q.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?q(this.domPosition.prev).after(this.currentItem):q(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(c){var a=this._getItemsAsjQuery(c&&c.connected),b=[];return c=c||{},q(a).each(function(){var d=(q(c.item||this).attr(c.attribute||"id")||"").match(c.expression||/(.+)[\-=_](.+)/);d&&b.push((c.key||d[1]+"[]")+"="+(c.key&&c.expression?d[1]:d[2]))}),!b.length&&c.key&&b.push(c.key+"="),b.join("&")},toArray:function(c){var a=this._getItemsAsjQuery(c&&c.connected),b=[];return c=c||{},a.each(function(){b.push(q(c.item||this).attr(c.attribute||"id")||"")}),b},_intersectsWith:function(U){var P=this.positionAbs.left,N=P+this.helperProportions.width,V=this.positionAbs.top,m=V+this.helperProportions.height,g=U.left,S=g+U.width,b=U.top,O=b+U.height,v=this.offset.click.top,T=this.offset.click.left,R="x"===this.options.axis||V+v>b&&O>V+v,Q="y"===this.options.axis||P+T>g&&S>P+T,f=R&&Q;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>U[this.floating?"width":"height"]?f:g<P+this.helperProportions.width/2&&N-this.helperProportions.width/2<S&&b<V+this.helperProportions.height/2&&m-this.helperProportions.height/2<O},_intersectsWithPointer:function(b){var d="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height),a="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width),c=d&&a,g=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return c?this.floating?f&&"right"===f||"down"===g?2:1:g&&("down"===g?2:1):!1},_intersectsWithSides:function(b){var d=this._isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height),a=this._isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width),c=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?"right"===f&&a||"left"===f&&!a:c&&("down"===c&&d||"up"===c&&!d)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(p){function g(){b.push(this)}var u,d,c,t,b=[],m=[],f=this._connectWith();if(f&&p){for(u=f.length-1;u>=0;u--){for(c=q(f[u],this.document[0]),d=c.length-1;d>=0;d--){t=q.data(c[d],this.widgetFullName),t&&t!==this&&!t.options.disabled&&m.push([q.isFunction(t.options.items)?t.options.items.call(t.element):q(t.options.items,t.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),t])}}}for(m.push([q.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):q(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),u=m.length-1;u>=0;u--){m[u][0].each(g)}return q(b)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=q.grep(this.items,function(c){for(var b=0;b<a.length;b++){if(a[b]===c.item[0]){return !1}}return !0})},_refreshItems:function(v){this.items=[],this.containers=[this];var p,R,g,f,P,b,t,m,Q=this.items,O=[[q.isFunction(this.options.items)?this.options.items.call(this.element[0],v,{item:this.currentItem}):q(this.options.items,this.element),this]],N=this._connectWith();if(N&&this.ready){for(p=N.length-1;p>=0;p--){for(g=q(N[p],this.document[0]),R=g.length-1;R>=0;R--){f=q.data(g[R],this.widgetFullName),f&&f!==this&&!f.options.disabled&&(O.push([q.isFunction(f.options.items)?f.options.items.call(f.element[0],v,{item:this.currentItem}):q(f.options.items,f.element),f]),this.containers.push(f))}}}for(p=O.length-1;p>=0;p--){for(P=O[p][1],b=O[p][0],R=0,m=b.length;m>R;R++){t=q(b[R]),t.data(this.widgetName+"-item",P),Q.push({item:t,instance:P,width:0,height:0,left:0,top:0})}}},refreshPositions:function(c){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var a,b,f,d;for(a=this.items.length-1;a>=0;a--){b=this.items[a],b.instance!==this.currentContainer&&this.currentContainer&&b.item[0]!==this.currentItem[0]||(f=this.options.toleranceElement?q(this.options.toleranceElement,b.item):b.item,c||(b.width=f.outerWidth(),b.height=f.outerHeight()),d=f.offset(),b.left=d.left,b.top=d.top)}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(a=this.containers.length-1;a>=0;a--){d=this.containers[a].element.offset(),this.containers[a].containerCache.left=d.left,this.containers[a].containerCache.top=d.top,this.containers[a].containerCache.width=this.containers[a].element.outerWidth(),this.containers[a].containerCache.height=this.containers[a].element.outerHeight()}}return this},_createPlaceholder:function(c){c=c||this;var a,b=c.options;b.placeholder&&b.placeholder.constructor!==String||(a=b.placeholder,b.placeholder={element:function(){var d=c.currentItem[0].nodeName.toLowerCase(),e=q("<"+d+">",c.document[0]).addClass(a||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===d?c._createTrPlaceholder(c.currentItem.find("tr").eq(0),q("<tr>",c.document[0]).appendTo(e)):"tr"===d?c._createTrPlaceholder(c.currentItem,e):"img"===d&&e.attr("src",c.currentItem.attr("src")),a||e.css("visibility","hidden"),e},update:function(d,e){(!a||b.forcePlaceholderSize)&&(e.height()||e.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10)))}}),c.placeholder=q(b.placeholder.element.call(c.element,c.currentItem)),c.currentItem.after(c.placeholder),b.placeholder.update(c,c.placeholder)},_createTrPlaceholder:function(c,a){var b=this;c.children().each(function(){q("<td>&#160;</td>",b.document[0]).attr("colspan",q(this).attr("colspan")||1).appendTo(a)})},_contactContainers:function(O){var v,T,m,g,R,b,N,t,S,Q,P=null,f=null;for(v=this.containers.length-1;v>=0;v--){if(!q.contains(this.currentItem[0],this.containers[v].element[0])){if(this._intersectsWith(this.containers[v].containerCache)){if(P&&q.contains(this.containers[v].element[0],P.element[0])){continue}P=this.containers[v],f=v}else{this.containers[v].containerCache.over&&(this.containers[v]._trigger("out",O,this._uiHash(this)),this.containers[v].containerCache.over=0)}}}if(P){if(1===this.containers.length){this.containers[f].containerCache.over||(this.containers[f]._trigger("over",O,this._uiHash(this)),this.containers[f].containerCache.over=1)}else{for(m=10000,g=null,S=P.floating||this._isFloating(this.currentItem),R=S?"left":"top",b=S?"width":"height",Q=S?"clientX":"clientY",T=this.items.length-1;T>=0;T--){q.contains(this.containers[f].element[0],this.items[T].item[0])&&this.items[T].item[0]!==this.currentItem[0]&&(N=this.items[T].item.offset()[R],t=!1,O[Q]-N>this.items[T][b]/2&&(t=!0),Math.abs(O[Q]-N)<m&&(m=Math.abs(O[Q]-N),g=this.items[T],this.direction=t?"up":"down"))}if(!g&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[f]){return void (this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",O,this._uiHash()),this.currentContainer.containerCache.over=1))}g?this._rearrange(O,g,null,!0):this._rearrange(O,null,this.containers[f].element,!0),this._trigger("change",O,this._uiHash()),this.containers[f]._trigger("change",O,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",O,this._uiHash(this)),this.containers[f].containerCache.over=1}}},_createHelper:function(c){var a=this.options,b=q.isFunction(a.helper)?q(a.helper.apply(this.element[0],[c,this.currentItem])):"clone"===a.helper?this.currentItem.clone():this.currentItem;return b.parents("body").length||q("parent"!==a.appendTo?a.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]),b[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!b[0].style.width||a.forceHelperSize)&&b.width(this.currentItem.width()),(!b[0].style.height||a.forceHelperSize)&&b.height(this.currentItem.height()),b},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" ")),q.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left" in a&&(this.offset.click.left=a.left+this.margins.left),"right" in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top" in a&&(this.offset.click.top=a.top+this.margins.top),"bottom" in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&q.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&q.ui.ie)&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c,a,b,d=this.options;"parent"===d.containment&&(d.containment=this.helper[0].parentNode),("document"===d.containment||"window"===d.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===d.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===d.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(d.containment)||(c=q(d.containment)[0],a=q(d.containment).offset(),b="hidden"!==q(c).css("overflow"),this.containment=[a.left+(parseInt(q(c).css("borderLeftWidth"),10)||0)+(parseInt(q(c).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(q(c).css("borderTopWidth"),10)||0)+(parseInt(q(c).css("paddingTop"),10)||0)-this.margins.top,a.left+(b?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(q(c).css("borderLeftWidth"),10)||0)-(parseInt(q(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,a.top+(b?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(q(c).css("borderTopWidth"),10)||0)-(parseInt(q(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(c,a){a||(a=this.position);var b="absolute"===c?1:-1,f="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&q.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,d=/(html|body)/i.test(f[0].tagName);return{top:a.top+this.offset.relative.top*b+this.offset.parent.top*b-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():d?0:f.scrollTop())*b,left:a.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():d?0:f.scrollLeft())*b}},_generatePosition:function(l){var c,f,p=this.options,m=l.pageX,b=l.pageY,g="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&q.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,d=/(html|body)/i.test(g[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(l.pageX-this.offset.click.left<this.containment[0]&&(m=this.containment[0]+this.offset.click.left),l.pageY-this.offset.click.top<this.containment[1]&&(b=this.containment[1]+this.offset.click.top),l.pageX-this.offset.click.left>this.containment[2]&&(m=this.containment[2]+this.offset.click.left),l.pageY-this.offset.click.top>this.containment[3]&&(b=this.containment[3]+this.offset.click.top)),p.grid&&(c=this.originalPageY+Math.round((b-this.originalPageY)/p.grid[1])*p.grid[1],b=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-p.grid[1]:c+p.grid[1]:c,f=this.originalPageX+Math.round((m-this.originalPageX)/p.grid[0])*p.grid[0],m=this.containment?f-this.offset.click.left>=this.containment[0]&&f-this.offset.click.left<=this.containment[2]?f:f-this.offset.click.left>=this.containment[0]?f-p.grid[0]:f+p.grid[0]:f)),{top:b-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():d?0:g.scrollTop()),left:m-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():d?0:g.scrollLeft())}},_rearrange:function(b,d,a,c){a?a[0].appendChild(this.placeholder[0]):d.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?d.item[0]:d.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var f=this.counter;this._delay(function(){f===this.counter&&this.refreshPositions(!c)})},_clear:function(b,d){function a(h,l,g){return function(e){g._trigger(h,e,l._uiHash(l))}}this.reverting=!1;var c,f=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(c in this._storedCSS){("auto"===this._storedCSS[c]||"static"===this._storedCSS[c])&&(this._storedCSS[c]="")}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(this.fromOutside&&!d&&f.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||d||f.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(d||(f.push(function(e){this._trigger("remove",e,this._uiHash())}),f.push(function(e){return function(g){e._trigger("receive",g,this._uiHash(this))}}.call(this,this.currentContainer)),f.push(function(e){return function(g){e._trigger("update",g,this._uiHash(this))}}.call(this,this.currentContainer)))),c=this.containers.length-1;c>=0;c--){d||f.push(a("deactivate",this,this.containers[c])),this.containers[c].containerCache.over&&(f.push(a("out",this,this.containers[c])),this.containers[c].containerCache.over=0)}if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,d||this._trigger("beforeStop",b,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!d){for(c=0;c<f.length;c++){f[c].call(this,b)}this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){q.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var a=b||this;return{helper:a.helper,placeholder:a.placeholder||q([]),position:a.position,originalPosition:a.originalPosition,offset:a.positionAbs,item:a.currentItem,sender:b?b.element:null}}}),q.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var a=this.options;this.prevShow=this.prevHide=q(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),a.collapsible||a.active!==!1&&null!=a.active||(a.active=0),this._processPanels(),a.active<0&&(a.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():q()}},_createIcons:function(){var a=this.options.icons;a&&(q("<span>").addClass("ui-accordion-header-icon ui-icon "+a.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(a.header).addClass(a.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),a=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){return"active"===a?void this._activate(b):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||this.options.active!==!1||this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),void ("disabled"===a&&(this.element.toggleClass("ui-state-disabled",!!b).attr("aria-disabled",b),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b))))},_keydown:function(c){if(!c.altKey&&!c.ctrlKey){var a=q.ui.keyCode,b=this.headers.length,f=this.headers.index(c.target),d=!1;switch(c.keyCode){case a.RIGHT:case a.DOWN:d=this.headers[(f+1)%b];break;case a.LEFT:case a.UP:d=this.headers[(f-1+b)%b];break;case a.SPACE:case a.ENTER:this._eventHandler(c);break;case a.HOME:d=this.headers[0];break;case a.END:d=this.headers[b-1]}d&&(q(c.target).attr("tabIndex",-1),q(d).attr("tabIndex",0),d.focus(),c.preventDefault())}},_panelKeyDown:function(a){a.keyCode===q.ui.keyCode.UP&&a.ctrlKey&&q(a.currentTarget).prev().focus()},refresh:function(){var a=this.options;this._processPanels(),a.active===!1&&a.collapsible===!0||!this.headers.length?(a.active=!1,this.active=q()):a.active===!1?this._activate(0):this.active.length&&!q.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(a.active=!1,this.active=q()):this._activate(Math.max(0,a.active-1)):a.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var a=this.headers,b=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),b&&(this._off(a.not(this.headers)),this._off(b.not(this.panels)))},_refresh:function(){var c,a=this.options,b=a.heightStyle,d=this.element.parent();this.active=this._findActive(a.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var h=q(this),f=h.uniqueId().attr("id"),g=h.next(),l=g.uniqueId().attr("id");h.attr("aria-controls",l),g.attr("aria-labelledby",f)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(a.event),"fill"===b?(c=d.height(),this.element.siblings(":visible").each(function(){var e=q(this),f=e.css("position");"absolute"!==f&&"fixed"!==f&&(c-=e.outerHeight(!0))}),this.headers.each(function(){c-=q(this).outerHeight(!0)}),this.headers.next().each(function(){q(this).height(Math.max(0,c-q(this).innerHeight()+q(this).height()))}).css("overflow","auto")):"auto"===b&&(c=0,this.headers.next().each(function(){c=Math.max(c,q(this).css("height","").height())}).height(c))},_activate:function(b){var a=this._findActive(b)[0];a!==this.active[0]&&(a=a||this.active[0],this._eventHandler({target:a,currentTarget:a,preventDefault:q.noop}))},_findActive:function(a){return"number"==typeof a?this.headers.eq(a):q()},_setupEvents:function(b){var a={keydown:"_keydown"};b&&q.each(b.split(" "),function(c,d){a[d]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,a),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(p){var g=this.options,u=this.active,d=q(p.currentTarget),c=d[0]===u[0],t=c&&g.collapsible,b=t?q():d.next(),m=u.next(),f={oldHeader:u,oldPanel:m,newHeader:t?q():d,newPanel:b};p.preventDefault(),c&&!g.collapsible||this._trigger("beforeActivate",p,f)===!1||(g.active=t?!1:this.headers.index(d),this.active=c?q():d,this._toggle(f),u.removeClass("ui-accordion-header-active ui-state-active"),g.icons&&u.children(".ui-accordion-header-icon").removeClass(g.icons.activeHeader).addClass(g.icons.header),c||(d.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),g.icons&&d.children(".ui-accordion-header-icon").removeClass(g.icons.header).addClass(g.icons.activeHeader),d.next().addClass("ui-accordion-content-active")))},_toggle:function(c){var a=c.newPanel,b=this.prevShow.length?this.prevShow:c.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=a,this.prevHide=b,this.options.animate?this._animate(a,b,c):(b.hide(),a.show(),this._toggleComplete(c)),b.attr({"aria-hidden":"true"}),b.prev().attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&b.length?b.prev().attr({tabIndex:-1,"aria-expanded":"false"}):a.length&&this.headers.filter(function(){return 0===parseInt(q(this).attr("tabIndex"),10)}).attr("tabIndex",-1),a.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(S,N,p){var T,g,f,Q=this,b=0,v=S.css("box-sizing"),m=S.length&&(!N.length||S.index()<N.index()),R=this.options.animate||{},P=m&&R.down||R,O=function(){Q._toggleComplete(p)};return"number"==typeof P&&(f=P),"string"==typeof P&&(g=P),g=g||P.easing||R.easing,f=f||P.duration||R.duration,N.length?S.length?(T=S.show().outerHeight(),N.animate(this.hideProps,{duration:f,easing:g,step:function(a,c){c.now=Math.round(a)}}),void S.hide().animate(this.showProps,{duration:f,easing:g,complete:O,step:function(c,a){a.now=Math.round(c),"height"!==a.prop?"content-box"===v&&(b+=a.now):"content"!==Q.options.heightStyle&&(a.now=Math.round(T-N.outerHeight()-b),b=0)}})):N.animate(this.hideProps,f,g,O):S.animate(this.showProps,f,g,O)},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),b.length&&(b.parent()[0].className=b.parent()[0].className),this._trigger("activate",null,a)}}),q.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()},"click .ui-menu-item":function(b){var a=q(b.target);!this.mouseHandled&&a.not(".ui-state-disabled").length&&(this.select(b),b.isPropagationStopped()||(this.mouseHandled=!0),a.has(".ui-menu").length?this.expand(b):!this.element.is(":focus")&&q(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){if(!this.previousFilter){var a=q(b.currentTarget);a.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(b,a)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(b,c){var a=this.active||this.element.find(this.options.items).eq(0);c||this.focus(b,a)},blur:function(a){this._delay(function(){q.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(a)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var a=q(this);a.data("ui-menu-submenu-carat")&&a.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(f){var c,d,h,g,b=!0;switch(f.keyCode){case q.ui.keyCode.PAGE_UP:this.previousPage(f);break;case q.ui.keyCode.PAGE_DOWN:this.nextPage(f);break;case q.ui.keyCode.HOME:this._move("first","first",f);break;case q.ui.keyCode.END:this._move("last","last",f);break;case q.ui.keyCode.UP:this.previous(f);break;case q.ui.keyCode.DOWN:this.next(f);break;case q.ui.keyCode.LEFT:this.collapse(f);break;case q.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(f);break;case q.ui.keyCode.ENTER:case q.ui.keyCode.SPACE:this._activate(f);break;case q.ui.keyCode.ESCAPE:this.collapse(f);break;default:b=!1,d=this.previousFilter||"",h=String.fromCharCode(f.keyCode),g=!1,clearTimeout(this.filterTimer),h===d?g=!0:h=d+h,c=this._filterMenuItems(h),c=g&&-1!==c.index(this.active.next())?this.active.nextAll(".ui-menu-item"):c,c.length||(h=String.fromCharCode(f.keyCode),c=this._filterMenuItems(h)),c.length?(this.focus(f,c),this.previousFilter=h,this.filterTimer=this._delay(function(){delete this.previousFilter},1000)):delete this.previousFilter}b&&f.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(a):this.select(a))},refresh:function(){var c,a,b=this,f=this.options.icons.submenu,d=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),d.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var l=q(this),g=l.parent(),h=q("<span>").addClass("ui-menu-icon ui-icon "+f).data("ui-menu-submenu-carat",!0);g.attr("aria-haspopup","true").prepend(h),l.attr("aria-labelledby",g.attr("id"))}),c=d.add(this.element),a=c.find(this.options.items),a.not(".ui-menu-item").each(function(){var g=q(this);b._isDivider(g)&&g.addClass("ui-widget-content ui-menu-divider")}),a.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),a.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!q.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu),"disabled"===a&&this.element.toggleClass("ui-state-disabled",!!b).attr("aria-disabled",b),this._super(a,b)},focus:function(b,d){var a,c;this.blur(b,b&&"focus"===b.type),this._scrollIntoView(d),this.active=d.first(),c=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",c.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),b&&"keydown"===b.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),a=d.children(".ui-menu"),a.length&&b&&/^mouse/.test(b.type)&&this._startOpening(a),this.activeMenu=d.parent(),this._trigger("focus",b,{item:d})},_scrollIntoView:function(g){var c,d,l,h,b,f;this._hasScroll()&&(c=parseFloat(q.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(q.css(this.activeMenu[0],"paddingTop"))||0,l=g.offset().top-this.activeMenu.offset().top-c-d,h=this.activeMenu.scrollTop(),b=this.activeMenu.height(),f=g.outerHeight(),0>l?this.activeMenu.scrollTop(h+l):l+f>b&&this.activeMenu.scrollTop(h+l-b+f))},blur:function(a,b){b||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer),"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(b){var a=q.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true"),b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(a)},collapseAll:function(b,a){clearTimeout(this.timer),this.timer=this._delay(function(){var c=a?this.element:q(b&&b.target).closest(this.element.find(".ui-menu"));c.length||(c=this.element),this._close(c),this.blur(b),this.activeMenu=c},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(a){return !q(a.target).closest(".ui-menu").length},_isDivider:function(a){return !/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(b,d,a){var c;this.active&&(c="first"===b||"last"===b?this.active["first"===b?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[b+"All"](".ui-menu-item").eq(0)),c&&c.length&&this.active||(c=this.activeMenu.find(this.options.items)[d]()),this.focus(a,c)},nextPage:function(c){var a,b,d;return this.active?void (this.isLastItem()||(this._hasScroll()?(b=this.active.offset().top,d=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return a=q(this),a.offset().top-b-d<0}),this.focus(c,a)):this.focus(c,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(c)},previousPage:function(c){var a,b,d;return this.active?void (this.isFirstItem()||(this._hasScroll()?(b=this.active.offset().top,d=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return a=q(this),a.offset().top-b+d>0}),this.focus(c,a)):this.focus(c,this.activeMenu.find(this.options.items).first()))):void this.next(c)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||q(b.target).closest(".ui-menu-item");var a={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0),this._trigger("select",b,a)},_filterMenuItems:function(c){var a=c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),b=new RegExp("^"+a,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return b.test(q.trim(q(this).text()))})}});q.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var f,c,d,h=this.element[0].nodeName.toLowerCase(),g="textarea"===h,b="input"===h;this.isMultiLine=g?!0:b?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[g||b?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly")){return f=!0,d=!0,void (c=!0)}f=!1,d=!1,c=!1;var a=q.ui.keyCode;switch(e.keyCode){case a.PAGE_UP:f=!0,this._move("previousPage",e);break;case a.PAGE_DOWN:f=!0,this._move("nextPage",e);break;case a.UP:f=!0,this._keyEvent("previous",e);break;case a.DOWN:f=!0,this._keyEvent("next",e);break;case a.ENTER:this.menu.active&&(f=!0,e.preventDefault(),this.menu.select(e));break;case a.TAB:this.menu.active&&this.menu.select(e);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(e),e.preventDefault());break;default:c=!0,this._searchTimeout(e)}},keypress:function(a){if(f){return f=!1,void ((!this.isMultiLine||this.menu.element.is(":visible"))&&a.preventDefault())}if(!c){var e=q.ui.keyCode;switch(a.keyCode){case e.PAGE_UP:this._move("previousPage",a);break;case e.PAGE_DOWN:this._move("nextPage",a);break;case e.UP:this._keyEvent("previous",a);break;case e.DOWN:this._keyEvent("next",a)}}},input:function(a){return d?(d=!1,void a.preventDefault()):void this._searchTimeout(a)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),void this._change(a))}}),this._initSource(),this.menu=q("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(l){l.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var a=this.menu.element[0];q(l.target).closest(".ui-menu-item").length||this._delay(function(){var i=this;this.document.one("mousedown",function(e){e.target===i.element[0]||e.target===a||q.contains(a,e.target)||i.close()})})},menufocus:function(m,a){var l,o;return this.isNewMenu&&(this.isNewMenu=!1,m.originalEvent&&/^mouse/.test(m.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){q(m.target).trigger(m.originalEvent)})):(o=a.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",m,{item:o})&&m.originalEvent&&/^key/.test(m.originalEvent.type)&&this._value(o.value),l=a.item.attr("aria-label")||o.value,void (l&&q.trim(l).length&&(this.liveRegion.children().hide(),q("<div>").text(l).appendTo(this.liveRegion))))},menuselect:function(l,n){var a=n.item.data("ui-autocomplete-item"),m=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=m,this._delay(function(){this.previous=m,this.selectedItem=a})),!1!==this._trigger("select",l,{item:a})&&this._value(a.value),this.term=this._value(),this.close(l),this.selectedItem=a}}),this.liveRegion=q("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),"source"===a&&this._initSource(),"appendTo"===a&&this.menu.element.appendTo(this._appendTo()),"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var a=this.options.appendTo;return a&&(a=a.jquery||a.nodeType?q(a):this.document.find(a).eq(0)),a&&a[0]||(a=this.element.closest(".ui-front")),a.length||(a=this.document[0].body),a},_initSource:function(){var c,a,b=this;q.isArray(this.options.source)?(c=this.options.source,this.source=function(d,e){e(q.ui.autocomplete.filter(c,d.term))}):"string"==typeof this.options.source?(a=this.options.source,this.source=function(d,f){b.xhr&&b.xhr.abort(),b.xhr=q.ajax({url:a,data:d,dataType:"json",success:function(e){f(e)},error:function(){f([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){var d=this.term===this._value(),b=this.menu.element.is(":visible"),c=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;(!d||d&&!b&&!c)&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):this._trigger("search",b)!==!1?this._search(a):void 0},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var a=++this.requestIndex;return q.proxy(function(b){a===this.requestIndex&&this.__response(b),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:q.map(a,function(b){return"string"==typeof b?{label:b,value:b}:q.extend({},b,{label:b.label||b.value,value:b.value||b.label})})},_suggest:function(b){var a=this.menu.element.empty();this._renderMenu(a,b),this.isNewMenu=!0,this.menu.refresh(),a.show(),this._resizeMenu(),a.position(q.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(c,a){var b=this;q.each(a,function(e,d){b._renderItemData(c,d)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,a){return q("<li>").text(a.label).appendTo(b)},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[a](b):void this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(a,b),b.preventDefault())}}),q.extend(q.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(c,a){var b=new RegExp(q.ui.autocomplete.escapeRegex(a),"i");return q.grep(c,function(d){return b.test(d.label||d.value||d)})}}),q.widget("ui.autocomplete",q.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(b){var a;this._superApply(arguments),this.options.disabled||this.cancelSearch||(a=b&&b.length?this.options.messages.results(b.length):this.options.messages.noResults,this.liveRegion.children().hide(),q("<div>").text(a).appendTo(this.liveRegion))}});var I,y=(q.ui.autocomplete,"ui-button ui-widget ui-state-default ui-corner-all"),G="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",B=function(){var a=q(this);setTimeout(function(){a.find(":ui-button").button("refresh")},1)},F=function(c){var a=c.name,b=c.form,d=q([]);return a&&(a=a.replace(/'/g,"\\'"),d=b?q(b).find("[name='"+a+"'][type=radio]"):q("[name='"+a+"'][type=radio]",c.ownerDocument).filter(function(){return !this.form})),d};q.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,B),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var c=this,a=this.options,b="checkbox"===this.type||"radio"===this.type,d=b?"":"ui-state-active";null===a.label&&(a.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(y).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){a.disabled||this===I&&q(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){a.disabled||q(this).removeClass(d)}).bind("click"+this.eventNamespace,function(e){a.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),b&&this.element.bind("change"+this.eventNamespace,function(){c.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return a.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(a.disabled){return !1}q(this).addClass("ui-state-active"),c.buttonElement.attr("aria-pressed","true");var e=c.element[0];F(e).not(e).map(function(){return q(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return a.disabled?!1:(q(this).addClass("ui-state-active"),I=this,void c.document.one("mouseup",function(){I=null}))}).bind("mouseup"+this.eventNamespace,function(){return a.disabled?!1:void q(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(f){return a.disabled?!1:void ((f.keyCode===q.ui.keyCode.SPACE||f.keyCode===q.ui.keyCode.ENTER)&&q(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){q(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(f){f.keyCode===q.ui.keyCode.SPACE&&q(this).click()})),this._setOption("disabled",a.disabled),this._resetButton()},_determineButtonType:function(){var b,c,a;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(b=this.element.parents().last(),c="label[for='"+this.element.attr("id")+"']",this.buttonElement=b.find(c),this.buttonElement.length||(b=b.length?b.siblings():this.element.siblings(),this.buttonElement=b.filter(c),this.buttonElement.length||(this.buttonElement=b.find(c))),this.element.addClass("ui-helper-hidden-accessible"),a=this.element.is(":checked"),a&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",a)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(y+" ui-state-active "+G).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){return this._super(a,b),"disabled"===a?(this.widget().toggleClass("ui-state-disabled",!!b),this.element.prop("disabled",!!b),void (b&&this.buttonElement.removeClass("checkbox"===this.type||"radio"===this.type?"ui-state-focus":"ui-state-focus ui-state-active"))):void this._resetButton()},refresh:function(){var a=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOption("disabled",a),"radio"===this.type?F(this.element[0]).each(function(){q(this).is(":checked")?q(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):q(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type){return void (this.options.label&&this.element.val(this.options.label))}var c=this.buttonElement.removeClass(G),a=q("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(c.empty()).text(),b=this.options.icons,f=b.primary&&b.secondary,d=[];b.primary||b.secondary?(this.options.text&&d.push("ui-button-text-icon"+(f?"s":b.primary?"-primary":"-secondary")),b.primary&&c.prepend("<span class='ui-button-icon-primary ui-icon "+b.primary+"'></span>"),b.secondary&&c.append("<span class='ui-button-icon-secondary ui-icon "+b.secondary+"'></span>"),this.options.text||(d.push(f?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||c.attr("title",q.trim(a)))):d.push("ui-button-text-only"),c.addClass(d.join(" "))}}),q.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b),this._super(a,b)},refresh:function(){var c="rtl"===this.element.css("direction"),a=this.element.find(this.options.items),b=a.filter(":ui-button");a.not(":ui-button").button(),b.button("refresh"),this.buttons=a.map(function(){return q(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(c?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(c?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return q(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});q.ui.button;q.extend(q.ui,{datepicker:{version:"1.11.4"}});var j;q.extend(A.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return x(this._defaults,a||{}),this},_attachDatepicker:function(c,a){var b,f,d;b=c.nodeName.toLowerCase(),f="div"===b||"span"===b,c.id||(this.uuid+=1,c.id="dp"+this.uuid),d=this._newInst(q(c),f),d.settings=q.extend({},a||{}),"input"===b?this._connectDatepicker(c,d):f&&this._inlineDatepicker(c,d)},_newInst:function(c,a){var b=c[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:b,input:c,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:a,dpDiv:a?z(q("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(c,a){var b=q(c);a.append=q([]),a.trigger=q([]),b.hasClass(this.markerClassName)||(this._attachments(b,a),b.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(a),q.data(c,"datepicker",a),a.settings.disabled&&this._disableDatepicker(c))},_attachments:function(g,c){var d,l,h,b=this._get(c,"appendText"),f=this._get(c,"isRTL");c.append&&c.append.remove(),b&&(c.append=q("<span class='"+this._appendClass+"'>"+b+"</span>"),g[f?"before":"after"](c.append)),g.unbind("focus",this._showDatepicker),c.trigger&&c.trigger.remove(),d=this._get(c,"showOn"),("focus"===d||"both"===d)&&g.focus(this._showDatepicker),("button"===d||"both"===d)&&(l=this._get(c,"buttonText"),h=this._get(c,"buttonImage"),c.trigger=q(this._get(c,"buttonImageOnly")?q("<img/>").addClass(this._triggerClass).attr({src:h,alt:l,title:l}):q("<button type='button'></button>").addClass(this._triggerClass).html(h?q("<img/>").attr({src:h,alt:l,title:l}):l)),g[f?"before":"after"](c.trigger),c.trigger.click(function(){return q.datepicker._datepickerShowing&&q.datepicker._lastInput===g[0]?q.datepicker._hideDatepicker():q.datepicker._datepickerShowing&&q.datepicker._lastInput!==g[0]?(q.datepicker._hideDatepicker(),q.datepicker._showDatepicker(g[0])):q.datepicker._showDatepicker(g[0]),!1}))},_autoSize:function(d){if(this._get(d,"autoSize")&&!d.inline){var g,c,f,l,h=new Date(2009,11,20),b=this._get(d,"dateFormat");b.match(/[DM]/)&&(g=function(a){for(c=0,f=0,l=0;l<a.length;l++){a[l].length>c&&(c=a[l].length,f=l)}return f},h.setMonth(g(this._get(d,b.match(/MM/)?"monthNames":"monthNamesShort"))),h.setDate(g(this._get(d,b.match(/DD/)?"dayNames":"dayNamesShort"))+20-h.getDay())),d.input.attr("size",this._formatDate(d,h).length)}},_inlineDatepicker:function(c,a){var b=q(c);b.hasClass(this.markerClassName)||(b.addClass(this.markerClassName).append(a.dpDiv),q.data(c,"datepicker",a),this._setDate(a,this._getDefaultDate(a),!0),this._updateDatepicker(a),this._updateAlternate(a),a.settings.disabled&&this._disableDatepicker(c),a.dpDiv.css("display","block"))},_dialogDatepicker:function(r,m,P,f,b){var N,p,g,O,v,t=this._dialogInst;return t||(this.uuid+=1,N="dp"+this.uuid,this._dialogInput=q("<input type='text' id='"+N+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),q("body").append(this._dialogInput),t=this._dialogInst=this._newInst(this._dialogInput,!1),t.settings={},q.data(this._dialogInput[0],"datepicker",t)),x(t.settings,f||{}),m=m&&m.constructor===Date?this._formatDate(t,m):m,this._dialogInput.val(m),this._pos=b?b.length?b:[b.pageX,b.pageY]:null,this._pos||(p=document.documentElement.clientWidth,g=document.documentElement.clientHeight,O=document.documentElement.scrollLeft||document.body.scrollLeft,v=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[p/2-100+O,g/2-150+v]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),t.settings.onSelect=P,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),q.blockUI&&q.blockUI(this.dpDiv),q.data(this._dialogInput[0],"datepicker",t),this},_destroyDatepicker:function(c){var a,b=q(c),d=q.data(c,"datepicker");b.hasClass(this.markerClassName)&&(a=c.nodeName.toLowerCase(),q.removeData(c,"datepicker"),"input"===a?(d.append.remove(),d.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===a||"span"===a)&&b.removeClass(this.markerClassName).empty(),j===d&&(j=null))},_enableDatepicker:function(c){var a,b,f=q(c),d=q.data(c,"datepicker");f.hasClass(this.markerClassName)&&(a=c.nodeName.toLowerCase(),"input"===a?(c.disabled=!1,d.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===a||"span"===a)&&(b=f.children("."+this._inlineClass),b.children().removeClass("ui-state-disabled"),b.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=q.map(this._disabledInputs,function(e){return e===c?null:e}))},_disableDatepicker:function(c){var a,b,f=q(c),d=q.data(c,"datepicker");f.hasClass(this.markerClassName)&&(a=c.nodeName.toLowerCase(),"input"===a?(c.disabled=!0,d.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===a||"span"===a)&&(b=f.children("."+this._inlineClass),b.children().addClass("ui-state-disabled"),b.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=q.map(this._disabledInputs,function(e){return e===c?null:e}),this._disabledInputs[this._disabledInputs.length]=c)},_isDisabledDatepicker:function(a){if(!a){return !1}for(var b=0;b<this._disabledInputs.length;b++){if(this._disabledInputs[b]===a){return !0}}return !1},_getInst:function(b){try{return q.data(b,"datepicker")}catch(a){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(m,d,g){var r,p,c,f,b=this._getInst(m);return 2===arguments.length&&"string"==typeof d?"defaults"===d?q.extend({},q.datepicker._defaults):b?"all"===d?q.extend({},b.settings):this._get(b,d):null:(r=d||{},"string"==typeof d&&(r={},r[d]=g),void (b&&(this._curInst===b&&this._hideDatepicker(),p=this._getDateDatepicker(m,!0),c=this._getMinMaxDate(b,"min"),f=this._getMinMaxDate(b,"max"),x(b.settings,r),null!==c&&void 0!==r.dateFormat&&void 0===r.minDate&&(b.settings.minDate=this._formatDate(b,c)),null!==f&&void 0!==r.dateFormat&&void 0===r.maxDate&&(b.settings.maxDate=this._formatDate(b,f)),"disabled" in r&&(r.disabled?this._disableDatepicker(m):this._enableDatepicker(m)),this._attachments(q(m),b),this._autoSize(b),this._setDate(b,p),this._updateAlternate(b),this._updateDatepicker(b))))},_changeDatepicker:function(b,c,a){this._optionDatepicker(b,c,a)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(b,c){var a=this._getInst(b);a&&(this._setDate(a,c),this._updateDatepicker(a),this._updateAlternate(a))},_getDateDatepicker:function(b,c){var a=this._getInst(b);return a&&!a.inline&&this._setDateFromField(a,c),a?this._getDate(a):null},_doKeyDown:function(g){var c,d,l,h=q.datepicker._getInst(g.target),b=!0,f=h.dpDiv.is(".ui-datepicker-rtl");if(h._keyEvent=!0,q.datepicker._datepickerShowing){switch(g.keyCode){case 9:q.datepicker._hideDatepicker(),b=!1;break;case 13:return l=q("td."+q.datepicker._dayOverClass+":not(."+q.datepicker._currentClass+")",h.dpDiv),l[0]&&q.datepicker._selectDay(g.target,h.selectedMonth,h.selectedYear,l[0]),c=q.datepicker._get(h,"onSelect"),c?(d=q.datepicker._formatDate(h),c.apply(h.input?h.input[0]:null,[d,h])):q.datepicker._hideDatepicker(),!1;case 27:q.datepicker._hideDatepicker();break;case 33:q.datepicker._adjustDate(g.target,g.ctrlKey?-q.datepicker._get(h,"stepBigMonths"):-q.datepicker._get(h,"stepMonths"),"M");break;case 34:q.datepicker._adjustDate(g.target,g.ctrlKey?+q.datepicker._get(h,"stepBigMonths"):+q.datepicker._get(h,"stepMonths"),"M");break;case 35:(g.ctrlKey||g.metaKey)&&q.datepicker._clearDate(g.target),b=g.ctrlKey||g.metaKey;break;case 36:(g.ctrlKey||g.metaKey)&&q.datepicker._gotoToday(g.target),b=g.ctrlKey||g.metaKey;break;case 37:(g.ctrlKey||g.metaKey)&&q.datepicker._adjustDate(g.target,f?1:-1,"D"),b=g.ctrlKey||g.metaKey,g.originalEvent.altKey&&q.datepicker._adjustDate(g.target,g.ctrlKey?-q.datepicker._get(h,"stepBigMonths"):-q.datepicker._get(h,"stepMonths"),"M");break;case 38:(g.ctrlKey||g.metaKey)&&q.datepicker._adjustDate(g.target,-7,"D"),b=g.ctrlKey||g.metaKey;break;case 39:(g.ctrlKey||g.metaKey)&&q.datepicker._adjustDate(g.target,f?-1:1,"D"),b=g.ctrlKey||g.metaKey,g.originalEvent.altKey&&q.datepicker._adjustDate(g.target,g.ctrlKey?+q.datepicker._get(h,"stepBigMonths"):+q.datepicker._get(h,"stepMonths"),"M");break;case 40:(g.ctrlKey||g.metaKey)&&q.datepicker._adjustDate(g.target,7,"D"),b=g.ctrlKey||g.metaKey;break;default:b=!1}}else{36===g.keyCode&&g.ctrlKey?q.datepicker._showDatepicker(this):b=!1}b&&(g.preventDefault(),g.stopPropagation())},_doKeyPress:function(c){var a,b,d=q.datepicker._getInst(c.target);return q.datepicker._get(d,"constrainInput")?(a=q.datepicker._possibleChars(q.datepicker._get(d,"dateFormat")),b=String.fromCharCode(null==c.charCode?c.keyCode:c.charCode),c.ctrlKey||c.metaKey||" ">b||!a||a.indexOf(b)>-1):void 0},_doKeyUp:function(c){var a,b=q.datepicker._getInst(c.target);if(b.input.val()!==b.lastVal){try{a=q.datepicker.parseDate(q.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,q.datepicker._getFormatConfig(b)),a&&(q.datepicker._setDateFromField(b),q.datepicker._updateAlternate(b),q.datepicker._updateDatepicker(b))}catch(d){}}return !0},_showDatepicker:function(m){if(m=m.target||m,"input"!==m.nodeName.toLowerCase()&&(m=q("input",m.parentNode)[0]),!q.datepicker._isDisabledDatepicker(m)&&q.datepicker._lastInput!==m){var f,r,p,c,g,b,d;f=q.datepicker._getInst(m),q.datepicker._curInst&&q.datepicker._curInst!==f&&(q.datepicker._curInst.dpDiv.stop(!0,!0),f&&q.datepicker._datepickerShowing&&q.datepicker._hideDatepicker(q.datepicker._curInst.input[0])),r=q.datepicker._get(f,"beforeShow"),p=r?r.apply(m,[m,f]):{},p!==!1&&(x(f.settings,p),f.lastVal=null,q.datepicker._lastInput=m,q.datepicker._setDateFromField(f),q.datepicker._inDialog&&(m.value=""),q.datepicker._pos||(q.datepicker._pos=q.datepicker._findPos(m),q.datepicker._pos[1]+=m.offsetHeight),c=!1,q(m).parents().each(function(){return c|="fixed"===q(this).css("position"),!c}),g={left:q.datepicker._pos[0],top:q.datepicker._pos[1]},q.datepicker._pos=null,f.dpDiv.empty(),f.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),q.datepicker._updateDatepicker(f),g=q.datepicker._checkOffset(f,g,c),f.dpDiv.css({position:q.datepicker._inDialog&&q.blockUI?"static":c?"fixed":"absolute",display:"none",left:g.left+"px",top:g.top+"px"}),f.inline||(b=q.datepicker._get(f,"showAnim"),d=q.datepicker._get(f,"duration"),f.dpDiv.css("z-index",w(q(m))+1),q.datepicker._datepickerShowing=!0,q.effects&&q.effects.effect[b]?f.dpDiv.show(b,q.datepicker._get(f,"showOptions"),d):f.dpDiv[b||"show"](b?d:null),q.datepicker._shouldFocusInput(f)&&f.input.focus(),q.datepicker._curInst=f))}},_updateDatepicker:function(d){this.maxRows=4,j=d,d.dpDiv.empty().append(this._generateHTML(d)),this._attachHandlers(d);var a,b=this._getNumberOfMonths(d),g=b[1],f=17,c=d.dpDiv.find("."+this._dayOverClass+" a");c.length>0&&L.apply(c.get(0)),d.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),g>1&&d.dpDiv.addClass("ui-datepicker-multi-"+g).css("width",f*g+"em"),d.dpDiv[(1!==b[0]||1!==b[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),d.dpDiv[(this._get(d,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),d===q.datepicker._curInst&&q.datepicker._datepickerShowing&&q.datepicker._shouldFocusInput(d)&&d.input.focus(),d.yearshtml&&(a=d.yearshtml,setTimeout(function(){a===d.yearshtml&&d.yearshtml&&d.dpDiv.find("select.ui-datepicker-year:first").replaceWith(d.yearshtml),a=d.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(p,g,u){var d=p.dpDiv.outerWidth(),c=p.dpDiv.outerHeight(),t=p.input?p.input.outerWidth():0,b=p.input?p.input.outerHeight():0,m=document.documentElement.clientWidth+(u?0:q(document).scrollLeft()),f=document.documentElement.clientHeight+(u?0:q(document).scrollTop());return g.left-=this._get(p,"isRTL")?d-t:0,g.left-=u&&g.left===p.input.offset().left?q(document).scrollLeft():0,g.top-=u&&g.top===p.input.offset().top+b?q(document).scrollTop():0,g.left-=Math.min(g.left,g.left+d>m&&m>d?Math.abs(g.left+d-m):0),g.top-=Math.min(g.top,g.top+c>f&&f>c?Math.abs(c+b):0),g},_findPos:function(c){for(var a,b=this._getInst(c),d=this._get(b,"isRTL");c&&("hidden"===c.type||1!==c.nodeType||q.expr.filters.hidden(c));){c=c[d?"previousSibling":"nextSibling"]}return a=q(c).offset(),[a.left,a.top]},_hideDatepicker:function(f){var c,d,h,g,b=this._curInst;!b||f&&b!==q.data(f,"datepicker")||this._datepickerShowing&&(c=this._get(b,"showAnim"),d=this._get(b,"duration"),h=function(){q.datepicker._tidyDialog(b)},q.effects&&(q.effects.effect[c]||q.effects[c])?b.dpDiv.hide(c,q.datepicker._get(b,"showOptions"),d,h):b.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?d:null,h),c||h(),this._datepickerShowing=!1,g=this._get(b,"onClose"),g&&g.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),q.blockUI&&(q.unblockUI(),q("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(c){if(q.datepicker._curInst){var a=q(c.target),b=q.datepicker._getInst(a[0]);(a[0].id!==q.datepicker._mainDivId&&0===a.parents("#"+q.datepicker._mainDivId).length&&!a.hasClass(q.datepicker.markerClassName)&&!a.closest("."+q.datepicker._triggerClass).length&&q.datepicker._datepickerShowing&&(!q.datepicker._inDialog||!q.blockUI)||a.hasClass(q.datepicker.markerClassName)&&q.datepicker._curInst!==b)&&q.datepicker._hideDatepicker()}},_adjustDate:function(c,a,b){var f=q(c),d=this._getInst(f[0]);this._isDisabledDatepicker(f[0])||(this._adjustInstDate(d,a+("M"===b?this._get(d,"showCurrentAtPos"):0),b),this._updateDatepicker(d))},_gotoToday:function(c){var a,b=q(c),d=this._getInst(b[0]);this._get(d,"gotoCurrent")&&d.currentDay?(d.selectedDay=d.currentDay,d.drawMonth=d.selectedMonth=d.currentMonth,d.drawYear=d.selectedYear=d.currentYear):(a=new Date,d.selectedDay=a.getDate(),d.drawMonth=d.selectedMonth=a.getMonth(),d.drawYear=d.selectedYear=a.getFullYear()),this._notifyChange(d),this._adjustDate(b)},_selectMonthYear:function(c,a,b){var f=q(c),d=this._getInst(f[0]);d["selected"+("M"===b?"Month":"Year")]=d["draw"+("M"===b?"Month":"Year")]=parseInt(a.options[a.selectedIndex].value,10),this._notifyChange(d),this._adjustDate(f)},_selectDay:function(f,c,d,h){var g,b=q(f);q(h).hasClass(this._unselectableClass)||this._isDisabledDatepicker(b[0])||(g=this._getInst(b[0]),g.selectedDay=g.currentDay=q("a",h).html(),g.selectedMonth=g.currentMonth=c,g.selectedYear=g.currentYear=d,this._selectDate(f,this._formatDate(g,g.currentDay,g.currentMonth,g.currentYear)))},_clearDate:function(b){var a=q(b);this._selectDate(a,"")},_selectDate:function(c,a){var b,f=q(c),d=this._getInst(f[0]);a=null!=a?a:this._formatDate(d),d.input&&d.input.val(a),this._updateAlternate(d),b=this._get(d,"onSelect"),b?b.apply(d.input?d.input[0]:null,[a,d]):d.input&&d.input.trigger("change"),d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],"object"!=typeof d.input[0]&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(c){var a,b,f,d=this._get(c,"altField");d&&(a=this._get(c,"altFormat")||this._get(c,"dateFormat"),b=this._getDate(c),f=this.formatDate(a,b,this._getFormatConfig(c)),q(d).each(function(){q(this).val(f)}))},noWeekends:function(a){var b=a.getDay();return[b>0&&6>b,""]},iso8601Week:function(b){var c,a=new Date(b.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),c=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((c-a)/86400000)/7)+1},parseDate:function(ad,Z,R){if(null==ad||null==Z){throw"Invalid arguments"}if(Z="object"==typeof Z?Z.toString():Z+"",""===Z){return null}var V,U,ah,S,aa=0,X=(R?R.shortYearCutoff:null)||this._defaults.shortYearCutoff,Q="string"!=typeof X?X:(new Date).getFullYear()%100+parseInt(X,10),af=(R?R.dayNamesShort:null)||this._defaults.dayNamesShort,ae=(R?R.dayNames:null)||this._defaults.dayNames,T=(R?R.monthNamesShort:null)||this._defaults.monthNamesShort,ac=(R?R.monthNames:null)||this._defaults.monthNames,W=-1,ab=-1,P=-1,ai=-1,ag=!1,t=function(b){var a=V+1<ad.length&&ad.charAt(V+1)===b;return a&&V++,a},O=function(c){var f=t(c),d="@"===c?14:"!"===c?20:"y"===c&&f?4:"o"===c?3:2,h="y"===c?d:1,g=new RegExp("^\\d{"+h+","+d+"}"),b=Z.substring(aa).match(g);if(!b){throw"Missing number at position "+aa}return aa+=b[0].length,parseInt(b[0],10)},N=function(d,c,g){var f=-1,b=q.map(t(d)?g:c,function(a,h){return[[h,a]]}).sort(function(a,h){return -(a[1].length-h[1].length)});if(q.each(b,function(a,i){var h=i[1];return Z.substr(aa,h.length).toLowerCase()===h.toLowerCase()?(f=i[0],aa+=h.length,!1):void 0}),-1!==f){return f+1}throw"Unknown name at position "+aa},Y=function(){if(Z.charAt(aa)!==ad.charAt(V)){throw"Unexpected literal at position "+aa}aa++};for(V=0;V<ad.length;V++){if(ag){"'"!==ad.charAt(V)||t("'")?Y():ag=!1}else{switch(ad.charAt(V)){case"d":P=O("d");break;case"D":N("D",af,ae);break;case"o":ai=O("o");break;case"m":ab=O("m");break;case"M":ab=N("M",T,ac);break;case"y":W=O("y");break;case"@":S=new Date(O("@")),W=S.getFullYear(),ab=S.getMonth()+1,P=S.getDate();break;case"!":S=new Date((O("!")-this._ticksTo1970)/10000),W=S.getFullYear(),ab=S.getMonth()+1,P=S.getDate();break;case"'":t("'")?Y():ag=!0;break;default:Y()}}}if(aa<Z.length&&(ah=Z.substr(aa),!/^\s+/.test(ah))){throw"Extra/unparsed characters found in date: "+ah}if(-1===W?W=(new Date).getFullYear():100>W&&(W+=(new Date).getFullYear()-(new Date).getFullYear()%100+(Q>=W?0:-100)),ai>-1){for(ab=1,P=ai;;){if(U=this._getDaysInMonth(W,ab-1),U>=P){break}ab++,P-=U}}if(S=this._daylightSavingAdjust(new Date(W,ab-1,P)),S.getFullYear()!==W||S.getMonth()+1!==ab||S.getDate()!==P){throw"Invalid date"}return S},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*10000000,formatDate:function(S,N,p){if(!N){return""}var T,g=(p?p.dayNamesShort:null)||this._defaults.dayNamesShort,f=(p?p.dayNames:null)||this._defaults.dayNames,Q=(p?p.monthNamesShort:null)||this._defaults.monthNamesShort,b=(p?p.monthNames:null)||this._defaults.monthNames,v=function(c){var a=T+1<S.length&&S.charAt(T+1)===c;return a&&T++,a},m=function(c,h,a){var d=""+h;if(v(c)){for(;d.length<a;){d="0"+d}}return d},R=function(c,h,a,d){return v(c)?d[h]:a[h]},P="",O=!1;if(N){for(T=0;T<S.length;T++){if(O){"'"!==S.charAt(T)||v("'")?P+=S.charAt(T):O=!1}else{switch(S.charAt(T)){case"d":P+=m("d",N.getDate(),2);break;case"D":P+=R("D",N.getDay(),g,f);break;case"o":P+=m("o",Math.round((new Date(N.getFullYear(),N.getMonth(),N.getDate()).getTime()-new Date(N.getFullYear(),0,0).getTime())/86400000),3);break;case"m":P+=m("m",N.getMonth()+1,2);break;case"M":P+=R("M",N.getMonth(),Q,b);break;case"y":P+=v("y")?N.getFullYear():(N.getYear()%100<10?"0":"")+N.getYear()%100;break;case"@":P+=N.getTime();break;case"!":P+=10000*N.getTime()+this._ticksTo1970;break;case"'":v("'")?P+="'":O=!0;break;default:P+=S.charAt(T)}}}}return P},_possibleChars:function(b){var d,a="",c=!1,f=function(e){var g=d+1<b.length&&b.charAt(d+1)===e;return g&&d++,g};for(d=0;d<b.length;d++){if(c){"'"!==b.charAt(d)||f("'")?a+=b.charAt(d):c=!1}else{switch(b.charAt(d)){case"d":case"m":case"y":case"@":a+="0123456789";break;case"D":case"M":return null;case"'":f("'")?a+="'":c=!0;break;default:a+=b.charAt(d)}}}return a},_get:function(a,b){return void 0!==a.settings[b]?a.settings[b]:this._defaults[b]},_setDateFromField:function(d,h){if(d.input.val()!==d.lastVal){var c=this._get(d,"dateFormat"),f=d.lastVal=d.input?d.input.val():null,m=this._getDefaultDate(d),l=m,b=this._getFormatConfig(d);try{l=this.parseDate(c,f,b)||m}catch(g){f=h?"":f}d.selectedDay=l.getDate(),d.drawMonth=d.selectedMonth=l.getMonth(),d.drawYear=d.selectedYear=l.getFullYear(),d.currentDay=f?l.getDate():0,d.currentMonth=f?l.getMonth():0,d.currentYear=f?l.getFullYear():0,this._adjustInstDate(d)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(f,c,d){var h=function(a){var i=new Date;return i.setDate(i.getDate()+a),i},g=function(p){try{return q.datepicker.parseDate(q.datepicker._get(f,"dateFormat"),p,q.datepicker._getFormatConfig(f))}catch(u){}for(var O=(p.toLowerCase().match(/^c/)?q.datepicker._getDate(f):null)||new Date,N=O.getFullYear(),m=O.getMonth(),v=O.getDate(),t=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,e=t.exec(p);e;){switch(e[2]||"d"){case"d":case"D":v+=parseInt(e[1],10);break;case"w":case"W":v+=7*parseInt(e[1],10);break;case"m":case"M":m+=parseInt(e[1],10),v=Math.min(v,q.datepicker._getDaysInMonth(N,m));break;case"y":case"Y":N+=parseInt(e[1],10),v=Math.min(v,q.datepicker._getDaysInMonth(N,m))}e=t.exec(p)}return new Date(N,m,v)},b=null==c||""===c?d:"string"==typeof c?g(c):"number"==typeof c?isNaN(c)?d:h(c):new Date(c.getTime());return b=b&&"Invalid Date"===b.toString()?d:b,b&&(b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0)),this._daylightSavingAdjust(b)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(d,g,c){var f=!g,l=d.selectedMonth,h=d.selectedYear,b=this._restrictMinMax(d,this._determineDate(d,g,new Date));d.selectedDay=d.currentDay=b.getDate(),d.drawMonth=d.selectedMonth=d.currentMonth=b.getMonth(),d.drawYear=d.selectedYear=d.currentYear=b.getFullYear(),l===d.selectedMonth&&h===d.selectedYear||c||this._notifyChange(d),this._adjustInstDate(d),d.input&&d.input.val(f?"":this._formatDate(d))},_getDate:function(a){var b=!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(c){var a=this._get(c,"stepMonths"),b="#"+c.id.replace(/\\\\/g,"\\");c.dpDiv.find("[data-handler]").map(function(){var d={prev:function(){q.datepicker._adjustDate(b,-a,"M")},next:function(){q.datepicker._adjustDate(b,+a,"M")},hide:function(){q.datepicker._hideDatepicker()},today:function(){q.datepicker._gotoToday(b)},selectDay:function(){return q.datepicker._selectDay(b,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return q.datepicker._selectMonthYear(b,this,"M"),!1},selectYear:function(){return q.datepicker._selectMonthYear(b,this,"Y"),!1}};q(this).bind(this.getAttribute("data-event"),d[this.getAttribute("data-handler")])})},_generateHTML:function(aJ){var aY,aU,aK,aP,aO,a2,aL,aV,aR,aI,a0,aZ,aN,aX,aQ,aW,aH,a3,a1,aE,aG,aF,aS,az,ay,at,ah,al,ao,ai,aD,au,aB,an,ax,ae,am,aw,aj,ap=new Date,ab=this._daylightSavingAdjust(new Date(ap.getFullYear(),ap.getMonth(),ap.getDate())),aA=this._get(aJ,"isRTL"),aT=this._get(aJ,"showButtonPanel"),aM=this._get(aJ,"hideIfNoPrevNext"),aq=this._get(aJ,"navigationAsDateFormat"),ag=this._getNumberOfMonths(aJ),af=this._get(aJ,"showCurrentAtPos"),ac=this._get(aJ,"stepMonths"),aC=1!==ag[0]||1!==ag[1],av=this._daylightSavingAdjust(aJ.currentDay?new Date(aJ.currentYear,aJ.currentMonth,aJ.currentDay):new Date(9999,9,9)),ak=this._getMinMaxDate(aJ,"min"),ar=this._getMinMaxDate(aJ,"max"),aa=aJ.drawMonth-af,ad=aJ.drawYear;if(0>aa&&(aa+=12,ad--),ar){for(aY=this._daylightSavingAdjust(new Date(ar.getFullYear(),ar.getMonth()-ag[0]*ag[1]+1,ar.getDate())),aY=ak&&ak>aY?ak:aY;this._daylightSavingAdjust(new Date(ad,aa,1))>aY;){aa--,0>aa&&(aa=11,ad--)}}for(aJ.drawMonth=aa,aJ.drawYear=ad,aU=this._get(aJ,"prevText"),aU=aq?this.formatDate(aU,this._daylightSavingAdjust(new Date(ad,aa-ac,1)),this._getFormatConfig(aJ)):aU,aK=this._canAdjustMonth(aJ,-1,ad,aa)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+aU+"'><span class='ui-icon ui-icon-circle-triangle-"+(aA?"e":"w")+"'>"+aU+"</span></a>":aM?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+aU+"'><span class='ui-icon ui-icon-circle-triangle-"+(aA?"e":"w")+"'>"+aU+"</span></a>",aP=this._get(aJ,"nextText"),aP=aq?this.formatDate(aP,this._daylightSavingAdjust(new Date(ad,aa+ac,1)),this._getFormatConfig(aJ)):aP,aO=this._canAdjustMonth(aJ,1,ad,aa)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+aP+"'><span class='ui-icon ui-icon-circle-triangle-"+(aA?"w":"e")+"'>"+aP+"</span></a>":aM?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+aP+"'><span class='ui-icon ui-icon-circle-triangle-"+(aA?"w":"e")+"'>"+aP+"</span></a>",a2=this._get(aJ,"currentText"),aL=this._get(aJ,"gotoCurrent")&&aJ.currentDay?av:ab,a2=aq?this.formatDate(a2,aL,this._getFormatConfig(aJ)):a2,aV=aJ.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(aJ,"closeText")+"</button>",aR=aT?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(aA?aV:"")+(this._isInRange(aJ,aL)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a2+"</button>":"")+(aA?"":aV)+"</div>":"",aI=parseInt(this._get(aJ,"firstDay"),10),aI=isNaN(aI)?0:aI,a0=this._get(aJ,"showWeek"),aZ=this._get(aJ,"dayNames"),aN=this._get(aJ,"dayNamesMin"),aX=this._get(aJ,"monthNames"),aQ=this._get(aJ,"monthNamesShort"),aW=this._get(aJ,"beforeShowDay"),aH=this._get(aJ,"showOtherMonths"),a3=this._get(aJ,"selectOtherMonths"),a1=this._getDefaultDate(aJ),aE="",aF=0;aF<ag[0];aF++){for(aS="",this.maxRows=4,az=0;az<ag[1];az++){if(ay=this._daylightSavingAdjust(new Date(ad,aa,aJ.selectedDay)),at=" ui-corner-all",ah="",aC){if(ah+="<div class='ui-datepicker-group",ag[1]>1){switch(az){case 0:ah+=" ui-datepicker-group-first",at=" ui-corner-"+(aA?"right":"left");break;case ag[1]-1:ah+=" ui-datepicker-group-last",at=" ui-corner-"+(aA?"left":"right");break;default:ah+=" ui-datepicker-group-middle",at=""}}ah+="'>"}for(ah+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+at+"'>"+(/all|left/.test(at)&&0===aF?aA?aO:aK:"")+(/all|right/.test(at)&&0===aF?aA?aK:aO:"")+this._generateMonthYearHeader(aJ,aa,ad,ak,ar,aF>0||az>0,aX,aQ)+"</div><table class='ui-datepicker-calendar'><thead><tr>",al=a0?"<th class='ui-datepicker-week-col'>"+this._get(aJ,"weekHeader")+"</th>":"",aG=0;7>aG;aG++){ao=(aG+aI)%7,al+="<th scope='col'"+((aG+aI+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+aZ[ao]+"'>"+aN[ao]+"</span></th>"}for(ah+=al+"</tr></thead><tbody>",ai=this._getDaysInMonth(ad,aa),ad===aJ.selectedYear&&aa===aJ.selectedMonth&&(aJ.selectedDay=Math.min(aJ.selectedDay,ai)),aD=(this._getFirstDayOfMonth(ad,aa)-aI+7)%7,au=Math.ceil((aD+ai)/7),aB=aC&&this.maxRows>au?this.maxRows:au,this.maxRows=aB,an=this._daylightSavingAdjust(new Date(ad,aa,1-aD)),ax=0;aB>ax;ax++){for(ah+="<tr>",ae=a0?"<td class='ui-datepicker-week-col'>"+this._get(aJ,"calculateWeek")(an)+"</td>":"",aG=0;7>aG;aG++){am=aW?aW.apply(aJ.input?aJ.input[0]:null,[an]):[!0,""],aw=an.getMonth()!==aa,aj=aw&&!a3||!am[0]||ak&&ak>an||ar&&an>ar,ae+="<td class='"+((aG+aI+6)%7>=5?" ui-datepicker-week-end":"")+(aw?" ui-datepicker-other-month":"")+(an.getTime()===ay.getTime()&&aa===aJ.selectedMonth&&aJ._keyEvent||a1.getTime()===an.getTime()&&a1.getTime()===ay.getTime()?" "+this._dayOverClass:"")+(aj?" "+this._unselectableClass+" ui-state-disabled":"")+(aw&&!aH?"":" "+am[1]+(an.getTime()===av.getTime()?" "+this._currentClass:"")+(an.getTime()===ab.getTime()?" ui-datepicker-today":""))+"'"+(aw&&!aH||!am[2]?"":" title='"+am[2].replace(/'/g,"&#39;")+"'")+(aj?"":" data-handler='selectDay' data-event='click' data-month='"+an.getMonth()+"' data-year='"+an.getFullYear()+"'")+">"+(aw&&!aH?"&#xa0;":aj?"<span class='ui-state-default'>"+an.getDate()+"</span>":"<a class='ui-state-default"+(an.getTime()===ab.getTime()?" ui-state-highlight":"")+(an.getTime()===av.getTime()?" ui-state-active":"")+(aw?" ui-priority-secondary":"")+"' href='#'>"+an.getDate()+"</a>")+"</td>",an.setDate(an.getDate()+1),an=this._daylightSavingAdjust(an)}ah+=ae+"</tr>"}aa++,aa>11&&(aa=0,ad++),ah+="</tbody></table>"+(aC?"</div>"+(ag[0]>0&&az===ag[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),aS+=ah}aE+=aS}return aE+=aR,aJ._keyEvent=!1,aE},_generateMonthYearHeader:function(Q,ac,Y,R,V,U,ag,S){var Z,X,P,ae,ad,T,ab,W,aa=this._get(Q,"changeMonth"),O=this._get(Q,"changeYear"),ah=this._get(Q,"showMonthAfterYear"),af="<div class='ui-datepicker-title'>",N="";if(U||!aa){N+="<span class='ui-datepicker-month'>"+ag[ac]+"</span>"}else{for(Z=R&&R.getFullYear()===Y,X=V&&V.getFullYear()===Y,N+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",P=0;12>P;P++){(!Z||P>=R.getMonth())&&(!X||P<=V.getMonth())&&(N+="<option value='"+P+"'"+(P===ac?" selected='selected'":"")+">"+S[P]+"</option>")}N+="</select>"}if(ah||(af+=N+(!U&&aa&&O?"":"&#xa0;")),!Q.yearshtml){if(Q.yearshtml="",U||!O){af+="<span class='ui-datepicker-year'>"+Y+"</span>"}else{for(ae=this._get(Q,"yearRange").split(":"),ad=(new Date).getFullYear(),T=function(a){var b=a.match(/c[+\-].*/)?Y+parseInt(a.substring(1),10):a.match(/[+\-].*/)?ad+parseInt(a,10):parseInt(a,10);return isNaN(b)?ad:b},ab=T(ae[0]),W=Math.max(ab,T(ae[1]||"")),ab=R?Math.max(ab,R.getFullYear()):ab,W=V?Math.min(W,V.getFullYear()):W,Q.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";W>=ab;ab++){Q.yearshtml+="<option value='"+ab+"'"+(ab===Y?" selected='selected'":"")+">"+ab+"</option>"}Q.yearshtml+="</select>",af+=Q.yearshtml,Q.yearshtml=null}}return af+=this._get(Q,"yearSuffix"),ah&&(af+=(!U&&aa&&O?"":"&#xa0;")+N),af+="</div>"},_adjustInstDate:function(d,g,c){var f=d.drawYear+("Y"===c?g:0),l=d.drawMonth+("M"===c?g:0),h=Math.min(d.selectedDay,this._getDaysInMonth(f,l))+("D"===c?g:0),b=this._restrictMinMax(d,this._daylightSavingAdjust(new Date(f,l,h)));d.selectedDay=b.getDate(),d.drawMonth=d.selectedMonth=b.getMonth(),d.drawYear=d.selectedYear=b.getFullYear(),("M"===c||"Y"===c)&&this._notifyChange(d)},_restrictMinMax:function(b,d){var a=this._getMinMaxDate(b,"min"),c=this._getMinMaxDate(b,"max"),f=a&&a>d?a:d;return c&&f>c?c:f},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(b,d,a,c){var g=this._getNumberOfMonths(b),f=this._daylightSavingAdjust(new Date(a,c+(0>d?d:g[0]*g[1]),1));return 0>d&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(b,f)},_isInRange:function(p,l){var f,u,d=this._getMinMaxDate(p,"min"),c=this._getMinMaxDate(p,"max"),m=null,b=null,g=this._get(p,"yearRange");return g&&(f=g.split(":"),u=(new Date).getFullYear(),m=parseInt(f[0],10),b=parseInt(f[1],10),f[0].match(/[+\-].*/)&&(m+=u),f[1].match(/[+\-].*/)&&(b+=u)),(!d||l.getTime()>=d.getTime())&&(!c||l.getTime()<=c.getTime())&&(!m||l.getFullYear()>=m)&&(!b||l.getFullYear()<=b)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(b,d,a,c){d||(b.currentDay=b.selectedDay,b.currentMonth=b.selectedMonth,b.currentYear=b.selectedYear);var f=d?"object"==typeof d?d:this._daylightSavingAdjust(new Date(c,a,d)):this._daylightSavingAdjust(new Date(b.currentYear,b.currentMonth,b.currentDay));return this.formatDate(this._get(b,"dateFormat"),f,this._getFormatConfig(b))}}),q.fn.datepicker=function(b){if(!this.length){return this}q.datepicker.initialized||(q(document).mousedown(q.datepicker._checkExternalClick),q.datepicker.initialized=!0),0===q("#"+q.datepicker._mainDivId).length&&q("body").append(q.datepicker.dpDiv);var a=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?q.datepicker["_"+b+"Datepicker"].apply(q.datepicker,[this[0]].concat(a)):this.each(function(){"string"==typeof b?q.datepicker["_"+b+"Datepicker"].apply(q.datepicker,[this].concat(a)):q.datepicker._attachDatepicker(this,b)}):q.datepicker["_"+b+"Datepicker"].apply(q.datepicker,[this[0]].concat(a))},q.datepicker=new A,q.datepicker.initialized=!1,q.datepicker.uuid=(new Date).getTime(),q.datepicker.version="1.11.4";var M=(q.datepicker,q.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var a=q(this).css(b).offset().top;0>a&&q(this).css("top",b.top-a)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&q.fn.draggable&&this._makeDraggable(),this.options.resizable&&q.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var a=this.options.appendTo;return a&&(a.jquery||a.nodeType)?q(a):this.document.find(a||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=b.parent.children().eq(b.index),a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},disable:q.noop,enable:q.noop,close:function(c){var a,b=this;if(this._isOpen&&this._trigger("beforeClose",c)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length){try{a=this.document[0].activeElement,a&&"body"!==a.nodeName.toLowerCase()&&q(a).blur()}catch(d){}}this._hide(this.uiDialog,this.options.hide,function(){b._trigger("close",c)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(c,a){var b=!1,f=this.uiDialog.siblings(".ui-front:visible").map(function(){return +q(this).css("z-index")}).get(),d=Math.max.apply(null,f);return d>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",d+1),b=!0),b&&!a&&this._trigger("focus",c),b},open:function(){var a=this;return this._isOpen?void (this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=q(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){a._focusTabbable(),a._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]")),a.length||(a=this.element.find(":tabbable")),a.length||(a=this.uiDialogButtonPane.find(":tabbable")),a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable")),a.length||(a=this.uiDialog),a.eq(0).focus()},_keepFocus:function(b){function a(){var d=this.document[0].activeElement,c=this.uiDialog[0]===d||q.contains(this.uiDialog[0],d);c||this._focusTabbable()}b.preventDefault(),a.call(this),this._delay(a)},_createWrapper:function(){this.uiDialog=q("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(c){if(this.options.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===q.ui.keyCode.ESCAPE){return c.preventDefault(),void this.close(c)}if(c.keyCode===q.ui.keyCode.TAB&&!c.isDefaultPrevented()){var a=this.uiDialog.find(":tabbable"),b=a.filter(":first"),d=a.filter(":last");c.target!==d[0]&&c.target!==this.uiDialog[0]||c.shiftKey?c.target!==b[0]&&c.target!==this.uiDialog[0]||!c.shiftKey||(this._delay(function(){d.focus()}),c.preventDefault()):(this._delay(function(){b.focus()}),c.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var a;this.uiDialogTitlebar=q("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(b){q(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=q("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(b){b.preventDefault(),this.close(b)}}),a=q("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(a),this.uiDialog.attr({"aria-labelledby":a.attr("id")})},_title:function(a){this.options.title||a.html("&#160;"),a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=q("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=q("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var b=this,a=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),q.isEmptyObject(a)||q.isArray(a)&&!a.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(q.each(a,function(c,d){var f,e;d=q.isFunction(d)?{click:d,text:c}:d,d=q.extend({type:"button"},d),f=d.click,d.click=function(){f.apply(b.element[0],arguments)},e={icons:d.icons,text:d.showText},delete d.icons,delete d.showText,q("<button></button>",d).button(e).appendTo(b.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function c(d){return{position:d.position,offset:d.offset}}var a=this,b=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,e){q(this).addClass("ui-dialog-dragging"),a._blockFrames(),a._trigger("dragStart",d,c(e))},drag:function(d,e){a._trigger("drag",d,c(e))},stop:function(g,f){var d=f.offset.left-a.document.scrollLeft(),e=f.offset.top-a.document.scrollTop();b.position={my:"left top",at:"left"+(d>=0?"+":"")+d+" top"+(e>=0?"+":"")+e,of:a.window},q(this).removeClass("ui-dialog-dragging"),a._unblockFrames(),a._trigger("dragStop",g,c(f))}})},_makeResizable:function(){function f(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var c=this,d=this.options,h=d.resizable,g=this.uiDialog.css("position"),b="string"==typeof h?h:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:d.maxWidth,maxHeight:d.maxHeight,minWidth:d.minWidth,minHeight:this._minHeight(),handles:b,start:function(a,e){q(this).addClass("ui-dialog-resizing"),c._blockFrames(),c._trigger("resizeStart",a,f(e))},resize:function(a,e){c._trigger("resize",a,f(e))},stop:function(p,m){var e=c.uiDialog.offset(),l=e.left-c.document.scrollLeft(),i=e.top-c.document.scrollTop();d.height=c.uiDialog.height(),d.width=c.uiDialog.width(),d.position={my:"left top",at:"left"+(l>=0?"+":"")+l+" top"+(i>=0?"+":"")+i,of:c.window},q(this).removeClass("ui-dialog-resizing"),c._unblockFrames(),c._trigger("resizeStop",p,f(m))}}).css("position",g)},_trackFocus:function(){this._on(this.widget(),{focusin:function(a){this._makeFocusTarget(),this._focusedElement=q(a.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var b=this._trackingInstances(),a=q.inArray(this,b);-1!==a&&b.splice(a,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");return a||(a=[],this.document.data("ui-dialog-instances",a)),a},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show(),this.uiDialog.position(this.options.position),a||this.uiDialog.hide()},_setOptions:function(c){var a=this,b=!1,d={};q.each(c,function(f,g){a._setOption(f,g),f in a.sizeRelatedOptions&&(b=!0),f in a.resizableRelatedOptions&&(d[f]=g)}),b&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",d)},_setOption:function(b,d){var a,c,f=this.uiDialog;"dialogClass"===b&&f.removeClass(this.options.dialogClass).addClass(d),"disabled"!==b&&(this._super(b,d),"appendTo"===b&&this.uiDialog.appendTo(this._appendTo()),"buttons"===b&&this._createButtons(),"closeText"===b&&this.uiDialogTitlebarClose.button({label:""+d}),"draggable"===b&&(a=f.is(":data(ui-draggable)"),a&&!d&&f.draggable("destroy"),!a&&d&&this._makeDraggable()),"position"===b&&this._position(),"resizable"===b&&(c=f.is(":data(ui-resizable)"),c&&!d&&f.resizable("destroy"),c&&"string"==typeof d&&f.resizable("option","handles",d),c||d===!1||this._makeResizable()),"title"===b&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var b,d,a,c=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),c.minWidth>c.width&&(c.width=c.minWidth),b=this.uiDialog.css({height:"auto",width:c.width}).outerHeight(),d=Math.max(0,c.minHeight-b),a="number"==typeof c.maxHeight?Math.max(0,c.maxHeight-b):"none","auto"===c.height?this.element.css({minHeight:d,maxHeight:a,height:"auto"}):this.element.height(Math.max(0,c.height-b)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var a=q(this);return q("<div>").css({position:"absolute",width:a.outerWidth(),height:a.outerHeight()}).appendTo(a.parent()).offset(a.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(a){return q(a.target).closest(".ui-dialog").length?!0:!!q(a.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var a=!0;this._delay(function(){a=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(b){a||this._allowInteraction(b)||(b.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=q("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),q.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=q("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(a){return void 0===a?this.options.value:(this.options.value=this._constrainedValue(a),void this._refreshValue())},_constrainedValue:function(a){return void 0===a&&(a=this.options.value),this.indeterminate=a===!1,"number"!=typeof a&&(a=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value,this._super(a),this.options.value=this._constrainedValue(b),this._refreshValue()},_setOption:function(a,b){"max"===a&&(b=Math.max(this.min,b)),"disabled"===a&&this.element.toggleClass("ui-state-disabled",!!b).attr("aria-disabled",b),this._super(a,b)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var b=this.options.value,a=this._percentage();this.valueDiv.toggle(this.indeterminate||b>this.min).toggleClass("ui-corner-right",b===this.options.max).width(a.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=q("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":b}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==b&&(this.oldValue=b,this._trigger("change")),b===this.options.max&&this._trigger("complete")}}),q.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var a=this.element.uniqueId().attr("id");this.ids={element:a,button:a+"-button",menu:a+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var a=this;this.label=q("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(b){this.button.focus(),b.preventDefault()}}),this.element.hide(),this.button=q("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),q("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=q("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){a.menuItems||a._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var a=this;this.menu=q("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=q("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(c,b){c.preventDefault(),a._setSelection(),a._select(b.item.data("ui-selectmenu-item"),c)},focus:function(c,b){var d=b.item.data("ui-selectmenu-item");null!=a.focusIndex&&d.index!==a.focusIndex&&(a._trigger("focus",c,{item:d}),a.isOpen||a._select(d,c)),a.focusIndex=d.index,a.button.attr("aria-activedescendant",a.menuItems.eq(d.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return !1},this.menuInstance._isDivider=function(){return !1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var a,b=this.element.find("option");b.length&&(this._parseOptions(b),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),a=this._getSelectedItem(),this.menuInstance.focus(null,a),this._setAria(a.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(a){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",a))},_position:function(){this.menuWrap.position(q.extend({of:this.button},this.options.position))},close:function(a){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",a))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(c,a){var b=this,d="";q.each(a,function(e,f){f.optgroup!==d&&(q("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(f.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:f.optgroup}).appendTo(c),d=f.optgroup),b._renderItemData(c,f)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-selectmenu-item",b)},_renderItem:function(c,a){var b=q("<li>");return a.disabled&&b.addClass("ui-state-disabled"),this._setText(b,a.label),b.appendTo(c)},_setText:function(a,b){b?a.text(b):a.html("&#160;")},_move:function(b,d){var a,c,f=".ui-menu-item";this.isOpen?a=this.menuItems.eq(this.focusIndex):(a=this.menuItems.eq(this.element[0].selectedIndex),f+=":not(.ui-state-disabled)"),c="first"===b||"last"===b?a["first"===b?"prevAll":"nextAll"](f).eq(-1):a[b+"All"](f).eq(0),c.length&&this.menuInstance.focus(d,c)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(a){this[this.isOpen?"close":"open"](a)},_setSelection:function(){var a;this.range&&(window.getSelection?(a=window.getSelection(),a.removeAllRanges(),a.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(a){this.isOpen&&(q(a.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(a))}},_buttonEvents:{mousedown:function(){var a;window.getSelection?(a=window.getSelection(),a.rangeCount&&(this.range=a.getRangeAt(0))):this.range=document.selection.createRange()},click:function(a){this._setSelection(),this._toggle(a)},keydown:function(b){var a=!0;switch(b.keyCode){case q.ui.keyCode.TAB:case q.ui.keyCode.ESCAPE:this.close(b),a=!1;break;case q.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(b);break;case q.ui.keyCode.UP:b.altKey?this._toggle(b):this._move("prev",b);break;case q.ui.keyCode.DOWN:b.altKey?this._toggle(b):this._move("next",b);break;case q.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(b):this._toggle(b);break;case q.ui.keyCode.LEFT:this._move("prev",b);break;case q.ui.keyCode.RIGHT:this._move("next",b);break;case q.ui.keyCode.HOME:case q.ui.keyCode.PAGE_UP:this._move("first",b);break;case q.ui.keyCode.END:case q.ui.keyCode.PAGE_DOWN:this._move("last",b);break;default:this.menu.trigger(b),a=!1}a&&b.preventDefault()}},_selectFocusedItem:function(a){var b=this.menuItems.eq(this.focusIndex);b.hasClass("ui-state-disabled")||this._select(b.data("ui-selectmenu-item"),a)},_select:function(b,c){var a=this.element[0].selectedIndex;this.element[0].selectedIndex=b.index,this._setText(this.buttonText,b.label),this._setAria(b),this._trigger("select",c,{item:b}),b.index!==a&&this._trigger("change",c,{item:b}),this.close(c)},_setAria:function(a){var b=this.menuItems.eq(a.index).attr("id");this.button.attr({"aria-labelledby":b,"aria-activedescendant":b}),this.menu.attr("aria-activedescendant",b)},_setOption:function(a,b){"icons"===a&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(b.button),this._super(a,b),"appendTo"===a&&this.menuWrap.appendTo(this._appendTo()),"disabled"===a&&(this.menuInstance.option("disabled",b),this.button.toggleClass("ui-state-disabled",b).attr("aria-disabled",b),this.element.prop("disabled",b),b?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===a&&this._resizeButton()},_appendTo:function(){var a=this.options.appendTo;return a&&(a=a.jquery||a.nodeType?q(a):this.document.find(a).eq(0)),a&&a[0]||(a=this.element.closest(".ui-front")),a.length||(a=this.document[0].body),a},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var a=this.options.width;a||(a=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(a)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(b){var a=[];b.each(function(d,c){var g=q(c),f=g.parent("optgroup");a.push({element:g,index:d,value:g.val(),label:g.text(),optgroup:f.attr("label")||"",disabled:f.prop("disabled")||g.prop("disabled")})}),this.items=a},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),q.widget("ui.slider",q.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var f,c,d=this.options,h=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),g="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",b=[];for(c=d.values&&d.values.length||1,h.length>c&&(h.slice(c).remove(),h=h.slice(0,c)),f=h.length;c>f;f++){b.push(g)}this.handles=h.add(q(b.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(a){q(this).data("ui-slider-handle-index",a)})},_createRange:function(){var b=this.options,a="";b.range?(b.range===!0&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:q.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=q("<div></div>").appendTo(this.element),a="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(a+("min"===b.range||"max"===b.range?" ui-slider-range-"+b.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var m,P,f,d,N,b,p,g,O=this,v=this.options;return v.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),m={x:t.pageX,y:t.pageY},P=this._normValueFromMouse(m),f=this._valueMax()-this._valueMin()+1,this.handles.each(function(c){var a=Math.abs(P-O.values(c));(f>a||f===a&&(c===O._lastChangedValue||O.values(c)===v.min))&&(f=a,d=q(this),N=c)}),b=this._start(t,N),b===!1?!1:(this._mouseSliding=!0,this._handleIndex=N,d.addClass("ui-state-active").focus(),p=d.offset(),g=!q(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=g?{left:0,top:0}:{left:t.pageX-p.left-d.width()/2,top:t.pageY-p.top-d.height()/2-(parseInt(d.css("borderTopWidth"),10)||0)-(parseInt(d.css("borderBottomWidth"),10)||0)+(parseInt(d.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,N,P),this._animateOff=!0,!0))},_mouseStart:function(){return !0},_mouseDrag:function(b){var c={x:b.pageX,y:b.pageY},a=this._normValueFromMouse(c);return this._slide(b,this._handleIndex,a),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(b){var d,a,c,g,f;return"horizontal"===this.orientation?(d=this.elementSize.width,a=b.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(d=this.elementSize.height,a=b.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),c=a/d,c>1&&(c=1),0>c&&(c=0),"vertical"===this.orientation&&(c=1-c),g=this._valueMax()-this._valueMin(),f=this._valueMin()+c*g,this._trimAlignValue(f)},_start:function(b,c){var a={handle:this.handles[c],value:this.value()};return this.options.values&&this.options.values.length&&(a.value=this.values(c),a.values=this.values()),this._trigger("start",b,a)},_slide:function(b,d,a){var c,g,f;this.options.values&&this.options.values.length?(c=this.values(d?0:1),2===this.options.values.length&&this.options.range===!0&&(0===d&&a>c||1===d&&c>a)&&(a=c),a!==this.values(d)&&(g=this.values(),g[d]=a,f=this._trigger("slide",b,{handle:this.handles[d],value:a,values:g}),c=this.values(d?0:1),f!==!1&&this.values(d,a))):a!==this.value()&&(f=this._trigger("slide",b,{handle:this.handles[d],value:a}),f!==!1&&this.value(a))},_stop:function(b,c){var a={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(a.value=this.values(c),a.values=this.values()),this._trigger("stop",b,a)},_change:function(b,c){if(!this._keySliding&&!this._mouseSliding){var a={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(a.value=this.values(c),a.values=this.values()),this._lastChangedValue=c,this._trigger("change",b,a)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),void this._change(null,0)):this._value()},values:function(c,a){var b,f,d;if(arguments.length>1){return this.options.values[c]=this._trimAlignValue(a),this._refreshValue(),void this._change(null,c)}if(!arguments.length){return this._values()}if(!q.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(c):this.value()}for(b=this.options.values,f=arguments[0],d=0;d<b.length;d+=1){b[d]=this._trimAlignValue(f[d]),this._change(null,d)}this._refreshValue()},_setOption:function(c,a){var b,d=0;switch("range"===c&&this.options.range===!0&&("min"===a?(this.options.value=this._values(0),this.options.values=null):"max"===a&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),q.isArray(this.options.values)&&(d=this.options.values.length),"disabled"===c&&this.element.toggleClass("ui-state-disabled",!!a),this._super(c,a),c){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===a?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),b=0;d>b;b+=1){this._change(null,b)}this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(b){var d,a,c;if(arguments.length){return d=this.options.values[b],d=this._trimAlignValue(d)}if(this.options.values&&this.options.values.length){for(a=this.options.values.slice(),c=0;c<a.length;c+=1){a[c]=this._trimAlignValue(a[c])}return a}return[]},_trimAlignValue:function(b){if(b<=this._valueMin()){return this._valueMin()}if(b>=this._valueMax()){return this._valueMax()}var d=this.options.step>0?this.options.step:1,a=(b-this._valueMin())%d,c=b-a;return 2*Math.abs(a)>=d&&(c+=a>0?d:-d),parseFloat(c.toFixed(5))},_calculateNewMax:function(){var b=this.options.max,d=this._valueMin(),a=this.options.step,c=Math.floor(+(b-d).toFixed(this._precision())/a)*a;b=c+d,this.max=parseFloat(b.toFixed(this._precision()))},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(b){var c=b.toString(),a=c.indexOf(".");return -1===a?0:c.length-a-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var p,g,N,d,c,t=this.options.range,b=this.options,m=this,f=this._animateOff?!1:b.animate,v={};this.options.values&&this.options.values.length?this.handles.each(function(a){g=(m.values(a)-m._valueMin())/(m._valueMax()-m._valueMin())*100,v["horizontal"===m.orientation?"left":"bottom"]=g+"%",q(this).stop(1,1)[f?"animate":"css"](v,b.animate),m.options.range===!0&&("horizontal"===m.orientation?(0===a&&m.range.stop(1,1)[f?"animate":"css"]({left:g+"%"},b.animate),1===a&&m.range[f?"animate":"css"]({width:g-p+"%"},{queue:!1,duration:b.animate})):(0===a&&m.range.stop(1,1)[f?"animate":"css"]({bottom:g+"%"},b.animate),1===a&&m.range[f?"animate":"css"]({height:g-p+"%"},{queue:!1,duration:b.animate}))),p=g}):(N=this.value(),d=this._valueMin(),c=this._valueMax(),g=c!==d?(N-d)/(c-d)*100:0,v["horizontal"===this.orientation?"left":"bottom"]=g+"%",this.handle.stop(1,1)[f?"animate":"css"](v,b.animate),"min"===t&&"horizontal"===this.orientation&&this.range.stop(1,1)[f?"animate":"css"]({width:g+"%"},b.animate),"max"===t&&"horizontal"===this.orientation&&this.range[f?"animate":"css"]({width:100-g+"%"},{queue:!1,duration:b.animate}),"min"===t&&"vertical"===this.orientation&&this.range.stop(1,1)[f?"animate":"css"]({height:g+"%"},b.animate),"max"===t&&"vertical"===this.orientation&&this.range[f?"animate":"css"]({height:100-g+"%"},{queue:!1,duration:b.animate}))},_handleEvents:{keydown:function(f){var c,d,h,g,b=q(f.target).data("ui-slider-handle-index");switch(f.keyCode){case q.ui.keyCode.HOME:case q.ui.keyCode.END:case q.ui.keyCode.PAGE_UP:case q.ui.keyCode.PAGE_DOWN:case q.ui.keyCode.UP:case q.ui.keyCode.RIGHT:case q.ui.keyCode.DOWN:case q.ui.keyCode.LEFT:if(f.preventDefault(),!this._keySliding&&(this._keySliding=!0,q(f.target).addClass("ui-state-active"),c=this._start(f,b),c===!1)){return}}switch(g=this.options.step,d=h=this.options.values&&this.options.values.length?this.values(b):this.value(),f.keyCode){case q.ui.keyCode.HOME:h=this._valueMin();break;case q.ui.keyCode.END:h=this._valueMax();break;case q.ui.keyCode.PAGE_UP:h=this._trimAlignValue(d+(this._valueMax()-this._valueMin())/this.numPages);break;case q.ui.keyCode.PAGE_DOWN:h=this._trimAlignValue(d-(this._valueMax()-this._valueMin())/this.numPages);break;case q.ui.keyCode.UP:case q.ui.keyCode.RIGHT:if(d===this._valueMax()){return}h=this._trimAlignValue(d+g);break;case q.ui.keyCode.DOWN:case q.ui.keyCode.LEFT:if(d===this._valueMin()){return}h=this._trimAlignValue(d-g)}this._slide(f,b,h)},keyup:function(b){var a=q(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,a),this._change(b,a),q(b.target).removeClass("ui-state-active"))}}}),q.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var b={},a=this.element;return q.each(["min","max","step"],function(c,d){var e=a.attr(d);void 0!==e&&e.length&&(b[d]=e)}),b},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void (this.previous!==this.element.val()&&this._trigger("change",a)))},mousewheel:function(a,b){if(b){if(!this.spinning&&!this._start(a)){return !1}this._spin((b>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100),a.preventDefault()}},"mousedown .ui-spinner-button":function(c){function a(){var d=this.element[0]===this.document[0].activeElement;d||(this.element.focus(),this.previous=b,this._delay(function(){this.previous=b}))}var b;b=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),c.preventDefault(),a.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,a.call(this)}),this._start(c)!==!1&&this._repeat(null,q(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(a){return q(a.currentTarget).hasClass("ui-state-active")?this._start(a)===!1?!1:void this._repeat(null,q(a.currentTarget).hasClass("ui-spinner-up")?1:-1,a):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(0.5*a.height())&&a.height()>0&&a.height(a.height()),this.options.disabled&&this.disable()},_keydown:function(c){var a=this.options,b=q.ui.keyCode;switch(c.keyCode){case b.UP:return this._repeat(null,1,c),!0;case b.DOWN:return this._repeat(null,-1,c),!0;case b.PAGE_UP:return this._repeat(null,a.page,c),!0;case b.PAGE_DOWN:return this._repeat(null,-a.page,c),!0}return !1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){return this.spinning||this._trigger("start",a)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(b,c,a){b=b||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,c,a)},b),this._spin(c*this.options.step,a)},_spin:function(b,c){var a=this.value()||0;this.counter||(this.counter=1),a=this._adjustValue(a+b*this._increment(this.counter)),this.spinning&&this._trigger("spin",c,{value:a})===!1||(this._value(a),this.counter++)},_increment:function(b){var a=this.options.incremental;return a?q.isFunction(a)?a(b):Math.floor(b*b*b/50000-b*b/500+17*b/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(b){var c=b.toString(),a=c.indexOf(".");return -1===a?0:c.length-a-1},_adjustValue:function(b){var d,a,c=this.options;return d=null!==c.min?c.min:0,a=b-d,a=Math.round(a/c.step)*c.step,b=d+a,b=parseFloat(b.toFixed(this._precision())),null!==c.max&&b>c.max?c.max:null!==c.min&&b<c.min?c.min:b},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(b,c){if("culture"===b||"numberFormat"===b){var a=this._parse(this.element.val());return this.options[b]=c,void this.element.val(this._format(a))}("max"===b||"min"===b||"step"===b)&&"string"==typeof c&&(c=this._parse(c)),"icons"===b&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(c.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(c.down)),this._super(b,c),"disabled"===b&&(this.widget().toggleClass("ui-state-disabled",!!c),this.element.prop("disabled",!!c),this.buttons.button(c?"disable":"enable"))},_setOptions:E(function(a){this._super(a)}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var a=this.value();return null===a?!1:a===this._adjustValue(a)},_value:function(b,c){var a;""!==b&&(a=this._parse(b),null!==a&&(c||(a=this._adjustValue(a)),b=this._format(a))),this.element.val(b),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:E(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:E(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:E(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:E(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){return arguments.length?void E(this._value).call(this,a):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),q.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var a=/#.*$/;return function(d){var b,c;d=d.cloneNode(!1),b=d.href.replace(a,""),c=location.href.replace(a,"");try{b=decodeURIComponent(b)}catch(f){}try{c=decodeURIComponent(c)}catch(f){}return d.hash.length>1&&b===c}}(),_create:function(){var b=this,a=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",a.collapsible),this._processTabs(),a.active=this._initialActive(),q.isArray(a.disabled)&&(a.disabled=q.unique(a.disabled.concat(q.map(this.tabs.filter(".ui-state-disabled"),function(c){return b.tabs.index(c)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(a.active):q(),this._refresh(),this.active.length&&this.load(a.active)},_initialActive:function(){var c=this.options.active,a=this.options.collapsible,b=location.hash.substring(1);return null===c&&(b&&this.tabs.each(function(d,e){return q(e).attr("aria-controls")===b?(c=d,!1):void 0}),null===c&&(c=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===c||-1===c)&&(c=this.tabs.length?0:!1)),c!==!1&&(c=this.tabs.index(this.tabs.eq(c)),-1===c&&(c=a?!1:0)),!a&&c===!1&&this.anchors.length&&(c=0),c},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):q()}},_tabKeydown:function(c){var a=q(this.document[0].activeElement).closest("li"),b=this.tabs.index(a),d=!0;if(!this._handlePageNav(c)){switch(c.keyCode){case q.ui.keyCode.RIGHT:case q.ui.keyCode.DOWN:b++;break;case q.ui.keyCode.UP:case q.ui.keyCode.LEFT:d=!1,b--;break;case q.ui.keyCode.END:b=this.anchors.length-1;break;case q.ui.keyCode.HOME:b=0;break;case q.ui.keyCode.SPACE:return c.preventDefault(),clearTimeout(this.activating),void this._activate(b);case q.ui.keyCode.ENTER:return c.preventDefault(),clearTimeout(this.activating),void this._activate(b===this.options.active?!1:b);default:return}c.preventDefault(),clearTimeout(this.activating),b=this._focusNextTab(b,d),c.ctrlKey||c.metaKey||(a.attr("aria-selected","false"),this.tabs.eq(b).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",b)},this.delay))}},_panelKeydown:function(a){this._handlePageNav(a)||a.ctrlKey&&a.keyCode===q.ui.keyCode.UP&&(a.preventDefault(),this.active.focus())},_handlePageNav:function(a){return a.altKey&&a.keyCode===q.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):a.altKey&&a.keyCode===q.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(c,a){function b(){return c>d&&(c=0),0>c&&(c=d),c}for(var d=this.tabs.length-1;-1!==q.inArray(b(),this.options.disabled);){c=a?c+1:c-1}return c},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){return"active"===a?void this._activate(b):"disabled"===a?void this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||this.options.active!==!1||this._activate(0)),"event"===a&&this._setupEvents(b),void ("heightStyle"===a&&this._setupHeightStyle(b)))},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,a=this.tablist.children(":has(a[href])");b.disabled=q.map(a.filter(".ui-state-disabled"),function(c){return a.index(c)}),this._processTabs(),b.active!==!1&&this.anchors.length?this.active.length&&!q.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=q()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=q()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var c=this,a=this.tabs,b=this.anchors,d=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(f){q(this).is(".ui-state-disabled")&&f.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){q(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return q("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=q(),this.anchors.each(function(g,p){var v,u,f,t=q(p).uniqueId().attr("id"),m=q(p).closest("li"),e=m.attr("aria-controls");c._isLocal(p)?(v=p.hash,f=v.substring(1),u=c.element.find(c._sanitizeSelector(v))):(f=m.attr("aria-controls")||q({}).uniqueId()[0].id,v="#"+f,u=c.element.find(v),u.length||(u=c._createPanel(f),u.insertAfter(c.panels[g-1]||c.tablist)),u.attr("aria-live","polite")),u.length&&(c.panels=c.panels.add(u)),e&&m.data("ui-tabs-aria-controls",e),m.attr({"aria-controls":f,"aria-labelledby":t}),u.attr("aria-labelledby",t)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),a&&(this._off(a.not(this.tabs)),this._off(b.not(this.anchors)),this._off(d.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(a){return q("<div>").attr("id",a).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(c){q.isArray(c)&&(c.length?c.length===this.anchors.length&&(c=!0):c=!1);for(var a,b=0;a=this.tabs[b];b++){c===!0||-1!==q.inArray(b,c)?q(a).addClass("ui-state-disabled").attr("aria-disabled","true"):q(a).removeClass("ui-state-disabled").removeAttr("aria-disabled")}this.options.disabled=c},_setupEvents:function(b){var a={};b&&q.each(b.split(" "),function(c,d){a[d]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(c){c.preventDefault()}}),this._on(this.anchors,a),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(c){var a,b=this.element.parent();"fill"===c?(a=b.height(),a-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var f=q(this),d=f.css("position");"absolute"!==d&&"fixed"!==d&&(a-=f.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){a-=q(this).outerHeight(!0)}),this.panels.each(function(){q(this).height(Math.max(0,a-q(this).innerHeight()+q(this).height()))}).css("overflow","auto")):"auto"===c&&(a=0,this.panels.each(function(){a=Math.max(a,q(this).height("").height())}).height(a))},_eventHandler:function(p){var g=this.options,N=this.active,d=q(p.currentTarget),c=d.closest("li"),t=c[0]===N[0],b=t&&g.collapsible,m=b?q():this._getPanelForTab(c),f=N.length?this._getPanelForTab(N):q(),v={oldTab:N,oldPanel:f,newTab:b?q():c,newPanel:m};p.preventDefault(),c.hasClass("ui-state-disabled")||c.hasClass("ui-tabs-loading")||this.running||t&&!g.collapsible||this._trigger("beforeActivate",p,v)===!1||(g.active=b?!1:this.tabs.index(c),this.active=t?q():c,this.xhr&&this.xhr.abort(),f.length||m.length||q.error("jQuery UI Tabs: Mismatching fragment identifier."),m.length&&this.load(this.tabs.index(c),p),this._toggle(p,v))},_toggle:function(g,c){function d(){h.running=!1,h._trigger("activate",g,c)}function l(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),b.length&&h.options.show?h._show(b,h.options.show,d):(b.show(),d())}var h=this,b=c.newPanel,f=c.oldPanel;this.running=!0,f.length&&this.options.hide?this._hide(f,this.options.hide,function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),l()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),f.hide(),l()),f.attr("aria-hidden","true"),c.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),b.length&&f.length?c.oldTab.attr("tabIndex",-1):b.length&&this.tabs.filter(function(){return 0===q(this).attr("tabIndex")}).attr("tabIndex",-1),b.attr("aria-hidden","false"),c.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(c){var a,b=this._findActive(c);b[0]!==this.active[0]&&(b.length||(b=this.active),a=b.find(".ui-tabs-anchor")[0],this._eventHandler({target:a,currentTarget:a,preventDefault:q.noop}))},_findActive:function(a){return a===!1?q():this.tabs.eq(a)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){q.data(this,"ui-tabs-destroy")?q(this).remove():q(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var b=q(this),a=b.data("ui-tabs-aria-controls");a?b.attr("aria-controls",a).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(b){var a=this.options.disabled;a!==!1&&(void 0===b?a=!1:(b=this._getIndex(b),a=q.isArray(a)?q.map(a,function(c){return c!==b?c:null}):q.map(this.tabs,function(d,c){return c!==b?c:null})),this._setupDisabled(a))},disable:function(b){var a=this.options.disabled;if(a!==!0){if(void 0===b){a=!0}else{if(b=this._getIndex(b),-1!==q.inArray(b,a)){return}a=q.isArray(a)?q.merge([b],a).sort():[b]}this._setupDisabled(a)}},load:function(l,c){l=this._getIndex(l);var f=this,p=this.tabs.eq(l),m=p.find(".ui-tabs-anchor"),b=this._getPanelForTab(p),g={tab:p,panel:b},d=function(a,h){"abort"===h&&f.panels.stop(!1,!0),p.removeClass("ui-tabs-loading"),b.removeAttr("aria-busy"),a===f.xhr&&delete f.xhr};this._isLocal(m[0])||(this.xhr=q.ajax(this._ajaxSettings(m,c,g)),this.xhr&&"canceled"!==this.xhr.statusText&&(p.addClass("ui-tabs-loading"),b.attr("aria-busy","true"),this.xhr.done(function(a,h,i){setTimeout(function(){b.html(a),f._trigger("load",c,g),d(i,h)},1)}).fail(function(a,h){setTimeout(function(){d(a,h)},1)})))},_ajaxSettings:function(c,a,b){var d=this;return{url:c.attr("href"),beforeSend:function(f,g){return d._trigger("beforeLoad",a,q.extend({jqXHR:f,ajaxSettings:g},b))}}},_getPanelForTab:function(b){var a=q(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+a))}}),"ui-effects-"),K=q;q.effects={effect:{}},function(W,R){function O(c,f,a){var d=T[f.type]||{};return null==c?a||!f.def?null:f.def:(c=d.floor?~~c:parseFloat(c),isNaN(c)?f.def:d.mod?(c+d.mod)%d.mod:0>c?0:d.max<c?d.max:c)}function X(d){var a=N(),c=a._rgba=[];return d=d.toLowerCase(),Q(P,function(f,s){var p,e=s.re.exec(d),l=e&&s.parse(e),i=s.space||"rgba";return l?(p=a[i](l),a[V[i].cache]=p[V[i].cache],c=a._rgba=p._rgba,!1):void 0}),c.length?("0,0,0,0"===c.join()&&W.extend(c,m.transparent),a):m[d]}function v(c,d,a){return a=(a+1)%1,1>6*a?c+(d-c)*a*6:1>2*a?d:2>3*a?c+(d-c)*(2/3-a)*6:c}var m,U="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",b=/^([\-+])=\s*(\d+\.?\d*)/,P=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],N=W.Color=function(d,a,c,f){return new W.Color.fn.parse(d,a,c,f)},V={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},T={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},S=N.support={},g=W("<p>")[0],Q=W.each;g.style.cssText="background-color:rgba(1,1,1,.5)",S.rgba=g.style.backgroundColor.indexOf("rgba")>-1,Q(V,function(a,c){c.cache="_"+a,c.props.alpha={idx:3,type:"percent",def:1}}),N.fn=W.extend(N.prototype,{parse:function(t,e,i,f){if(t===R){return this._rgba=[null,null,null,null],this}(t.jquery||t.nodeType)&&(t=W(t).css(e),e=R);var s=this,o=W.type(t),l=this._rgba=[];return e!==R&&(t=[t,e,i,f],o="array"),"string"===o?this.parse(X(t)||m._default):"array"===o?(Q(V.rgba.props,function(a,c){l[c.idx]=O(t[c.idx],c)}),this):"object"===o?(t instanceof N?Q(V,function(a,c){t[c.cache]&&(s[c.cache]=t[c.cache].slice())}):Q(V,function(c,a){var d=a.cache;Q(a.props,function(h,n){if(!s[d]&&a.to){if("alpha"===h||null==t[h]){return}s[d]=a.to(s._rgba)}s[d][n.idx]=O(t[h],n,!0)}),s[d]&&W.inArray(null,s[d].slice(0,3))<0&&(s[d][3]=1,a.from&&(s._rgba=a.from(s[d])))}),this):void 0},is:function(c){var f=N(c),a=!0,d=this;return Q(V,function(h,l){var i,e=f[l.cache];return e&&(i=d[l.cache]||l.to&&l.to(d._rgba)||[],Q(l.props,function(n,o){return null!=e[o.idx]?a=e[o.idx]===i[o.idx]:void 0})),a}),a},_space:function(){var a=[],c=this;return Q(V,function(d,e){c[e.cache]&&a.push(d)}),a.pop()},transition:function(d,p){var i=N(d),Y=i._space(),u=V[Y],c=0===this.alpha()?N("transparent"):this,l=c[u.cache]||u.to(c._rgba),f=l.slice();return i=i[u.cache],Q(u.props,function(s,aa){var Z=aa.idx,h=l[Z],e=i[Z],r=T[aa.type]||{};null!==e&&(null===h?f[Z]=e:(r.mod&&(e-h>r.mod/2?h+=r.mod:h-e>r.mod/2&&(h-=r.mod)),f[Z]=O((e-h)*p+h,aa)))}),this[Y](f)},blend:function(d){if(1===this._rgba[3]){return this}var a=this._rgba.slice(),c=a.pop(),f=N(d)._rgba;return N(W.map(a,function(h,i){return(1-c)*f[i]+c*h}))},toRgbaString:function(){var c="rgba(",a=W.map(this._rgba,function(d,f){return null==d?f>2?1:0:d});return 1===a[3]&&(a.pop(),c="rgb("),c+a.join()+")"},toHslaString:function(){var c="hsla(",a=W.map(this.hsla(),function(d,f){return null==d&&(d=f>2?1:0),f&&3>f&&(d=Math.round(100*d)+"%"),d});return 1===a[3]&&(a.pop(),c="hsl("),c+a.join()+")"},toHexString:function(d){var a=this._rgba.slice(),c=a.pop();return d&&a.push(~~(255*c)),"#"+W.map(a,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),N.fn.parse.prototype=N.fn,V.hsla.to=function(af){if(null==af[0]||null==af[1]||null==af[2]){return[null,null,null,af[3]]}var ab,Z,ag=af[0]/255,p=af[1]/255,f=af[2]/255,ad=af[3],d=Math.max(ag,p,f),aa=Math.min(ag,p,f),Y=d-aa,ae=d+aa,ac=0.5*ae;return ab=aa===d?0:ag===d?60*(p-f)/Y+360:p===d?60*(f-ag)/Y+120:60*(ag-p)/Y+240,Z=0===Y?0:0.5>=ac?Y/ae:Y/(2-ae),[Math.round(ab)%360,Z,ac,null==ad?1:ad]},V.hsla.from=function(f){if(null==f[0]||null==f[1]||null==f[2]){return[null,null,null,f[3]]}var n=f[0]/360,d=f[1],h=f[2],p=f[3],c=0.5>=h?h*(1+d):h+d-h*d,l=2*h-c;return[Math.round(255*v(l,c,n+1/3)),Math.round(255*v(l,c,n)),Math.round(255*v(l,c,n-1/3)),p]},Q(V,function(f,l){var i=l.props,c=l.cache,e=l.to,d=l.from;N.fn[f]=function(a){if(e&&!this[c]&&(this[c]=e(this._rgba)),a===R){return this[c].slice()}var t,h=W.type(a),p="array"===h||"object"===h?a:arguments,o=this[c].slice();return Q(i,function(n,u){var r=p["object"===h?n:u.idx];null==r&&(r=o[u.idx]),o[u.idx]=O(r,u)}),d?(t=N(d(o)),t[c]=o,t):N(o)},Q(i,function(h,a){N.fn[h]||(N.fn[h]=function(Z){var Y,r=W.type(Z),t="alpha"===h?this._hsla?"hsla":"rgba":f,p=this[t](),s=p[a.idx];return"undefined"===r?s:("function"===r&&(Z=Z.call(this,s),r=W.type(Z)),null==Z&&a.empty?this:("string"===r&&(Y=b.exec(Z),Y&&(Z=s+parseFloat(Y[2])*("+"===Y[1]?1:-1))),p[a.idx]=Z,this[t](p)))})})}),N.hook=function(c){var a=c.split(" ");Q(a,function(f,d){W.cssHooks[d]={set:function(s,u){var t,i,p="";if("transparent"!==u&&("string"!==W.type(u)||(t=X(u)))){if(u=N(t||u),!S.rgba&&1!==u._rgba[3]){for(i="backgroundColor"===d?s.parentNode:s;(""===p||"transparent"===p)&&i&&i.style;){try{p=W.css(i,"backgroundColor"),i=i.parentNode}catch(l){}}u=u.blend(p&&"transparent"!==p?p:"_default")}u=u.toRgbaString()}try{s.style[d]=u}catch(l){}}},W.fx.step[d]=function(h){h.colorInit||(h.start=N(h.elem,d),h.end=N(h.end),h.colorInit=!0),W.cssHooks[d].set(h.elem,h.start.transition(h.end,h.pos))}})},N.hook(U),W.cssHooks.borderColor={expand:function(a){var c={};return Q(["Top","Right","Bottom","Left"],function(d,e){c["border"+e+"Color"]=a}),c}},m=W.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(K),function(){function c(h){var f,g,m=h.ownerDocument.defaultView?h.ownerDocument.defaultView.getComputedStyle(h,null):h.currentStyle,l={};if(m&&m.length&&m[0]&&m[m[0]]){for(g=m.length;g--;){f=m[g],"string"==typeof m[f]&&(l[q.camelCase(f)]=m[f])}}else{for(f in m){"string"==typeof m[f]&&(l[f]=m[f])}}return l}function a(l,g){var h,m,f={};for(h in g){m=g[h],l[h]!==m&&(d[h]||(q.fx.step[h]||!isNaN(parseFloat(m)))&&(f[h]=m))}return f}var b=["add","remove","toggle"],d={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};q.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(g,f){q.fx.step[f]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(K.style(e.elem,f,e.end),e.setAttr=!0)}}),q.fn.addBack||(q.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),q.effects.animateClass=function(l,i,e,g){var f=q.speed(i,e,g);return this.queue(function(){var p,m=q(this),n=m.attr("class")||"",h=f.children?m.find("*").addBack():m;h=h.map(function(){var o=q(this);return{el:o,start:c(this)}}),p=function(){q.each(b,function(o,r){l[r]&&m[r+"Class"](l[r])})},p(),h=h.map(function(){return this.end=c(this.el[0]),this.diff=a(this.start,this.end),this}),m.attr("class",n),h=h.map(function(){var t=this,o=q.Deferred(),r=q.extend({},f,{queue:!1,complete:function(){o.resolve(t)}});return this.el.animate(this.diff,r),o.promise()}),q.when.apply(q,h.get()).done(function(){p(),q.each(arguments,function(){var o=this.el;q.each(this.diff,function(r){o.css(r,"")})}),f.complete.call(m[0])})})},q.fn.extend({addClass:function(f){return function(e,g,l,h){return g?q.effects.animateClass.call(this,{add:e},g,l,h):f.apply(this,arguments)}}(q.fn.addClass),removeClass:function(f){return function(e,g,l,h){return arguments.length>1?q.effects.animateClass.call(this,{remove:e},g,l,h):f.apply(this,arguments)}}(q.fn.removeClass),toggleClass:function(f){return function(g,h,m,l,e){return"boolean"==typeof h||void 0===h?m?q.effects.animateClass.call(this,h?{add:g}:{remove:g},m,l,e):f.apply(this,arguments):q.effects.animateClass.call(this,{toggle:g},h,m,l)}}(q.fn.toggleClass),switchClass:function(h,f,g,m,l){return q.effects.animateClass.call(this,{add:f,remove:h},g,m,l)}})}(),function(){function b(f,c,d,g){return q.isPlainObject(f)&&(c=f,f=f.effect),f={effect:f},null==c&&(c={}),q.isFunction(c)&&(g=c,d=null,c={}),("number"==typeof c||q.fx.speeds[c])&&(g=d,d=c,c={}),q.isFunction(d)&&(g=d,d=null),c&&q.extend(f,c),d=d||c.duration,f.duration=q.fx.off?0:"number"==typeof d?d:d in q.fx.speeds?q.fx.speeds[d]:q.fx.speeds._default,f.complete=g||c.complete,f}function a(c){return !c||"number"==typeof c||q.fx.speeds[c]?!0:"string"!=typeof c||q.effects.effect[c]?q.isFunction(c)?!0:"object"!=typeof c||c.effect?!1:!0:!0}q.extend(q.effects,{version:"1.11.4",save:function(d,f){for(var c=0;c<f.length;c++){null!==f[c]&&d.data(M+f[c],d[0].style[f[c]])}},restore:function(d,g){var c,f;for(f=0;f<g.length;f++){null!==g[f]&&(c=d.data(M+g[f]),void 0===c&&(c=""),d.css(g[f],c))}},setMode:function(c,d){return"toggle"===d&&(d=c.is(":hidden")?"show":"hide"),d},getBaseline:function(d,g){var c,f;switch(d[0]){case"top":c=0;break;case"middle":c=0.5;break;case"bottom":c=1;break;default:c=d[0]/g.height}switch(d[1]){case"left":f=0;break;case"center":f=0.5;break;case"right":f=1;break;default:f=d[1]/g.width}return{x:f,y:c}},createWrapper:function(g){if(g.parent().is(".ui-effects-wrapper")){return g.parent()}var d={width:g.outerWidth(!0),height:g.outerHeight(!0),"float":g.css("float")},f=q("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),l={width:g.width(),height:g.height()},h=document.activeElement;try{h.id}catch(c){h=document.body}return g.wrap(f),(g[0]===h||q.contains(g[0],h))&&q(h).focus(),f=g.parent(),"static"===g.css("position")?(f.css({position:"relative"}),g.css({position:"relative"})):(q.extend(d,{position:g.css("position"),zIndex:g.css("z-index")}),q.each(["top","left","bottom","right"],function(e,i){d[i]=g.css(i),isNaN(parseInt(d[i],10))&&(d[i]="auto")}),g.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),g.css(l),f.css(d).show()},removeWrapper:function(d){var c=document.activeElement;return d.parent().is(".ui-effects-wrapper")&&(d.parent().replaceWith(d),(d[0]===c||q.contains(d[0],c))&&q(c).focus()),d},setTransition:function(f,c,d,g){return g=g||{},q.each(c,function(h,e){var l=f.cssUnit(e);l[0]>0&&(g[e]=l[0]*d+l[1])}),g}}),q.fn.extend({effect:function(){function d(m){function h(){q.isFunction(p)&&p.call(s[0]),q.isFunction(m)&&m()}var s=q(this),p=e.complete,l=e.mode;(s.is(":hidden")?"hide"===l:"show"===l)?(s[l](),h()):c.call(s[0],e,h)}var e=b.apply(this,arguments),g=e.mode,f=e.queue,c=q.effects.effect[e.effect];return q.fx.off||!c?g?this[g](e.duration,e.complete):this.each(function(){e.complete&&e.complete.call(this)}):f===!1?this.each(d):this.queue(f||"fx",d)},show:function(c){return function(d){if(a(d)){return c.apply(this,arguments)}var e=b.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}}(q.fn.show),hide:function(c){return function(d){if(a(d)){return c.apply(this,arguments)}var e=b.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}}(q.fn.hide),toggle:function(c){return function(d){if(a(d)||"boolean"==typeof d){return c.apply(this,arguments)}var e=b.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}}(q.fn.toggle),cssUnit:function(f){var c=this.css(f),d=[];return q.each(["em","px","%","pt"],function(g,h){c.indexOf(h)>0&&(d=[parseFloat(c),h])}),d}})}(),function(){var a={};q.each(["Quad","Cubic","Quart","Quint","Expo"],function(c,b){a[b]=function(d){return Math.pow(d,c+2)}}),q.extend(a,{Sine:function(b){return 1-Math.cos(b*Math.PI/2)},Circ:function(b){return 1-Math.sqrt(1-b*b)},Elastic:function(b){return 0===b||1===b?b:-Math.pow(2,8*(b-1))*Math.sin((80*(b-1)-7.5)*Math.PI/15)},Back:function(b){return b*b*(3*b-2)},Bounce:function(c){for(var d,b=4;c<((d=Math.pow(2,--b))-1)/11;){}return 1/Math.pow(4,3-b)-7.5625*Math.pow((3*d-2)/22-c,2)}}),q.each(a,function(c,b){q.easing["easeIn"+c]=b,q.easing["easeOut"+c]=function(d){return 1-b(1-d)},q.easing["easeInOut"+c]=function(d){return 0.5>d?b(2*d)/2:1-b(-2*d+2)/2}})}();q.effects,q.effects.effect.blind=function(V,R){var ab,O,N,Y=q(this),b=/up|down|vertical/,S=/up|left|vertical|horizontal/,Q=["position","top","bottom","left","right","height","width"],aa=q.effects.setMode(Y,V.mode||"hide"),X=V.direction||"up",W=b.test(X),t=W?"height":"width",U=W?"top":"left",P=S.test(X),T={},Z="show"===aa;Y.parent().is(".ui-effects-wrapper")?q.effects.save(Y.parent(),Q):q.effects.save(Y,Q),Y.show(),ab=q.effects.createWrapper(Y).css({overflow:"hidden"}),O=ab[t](),N=parseFloat(ab.css(U))||0,T[t]=Z?O:0,P||(Y.css(W?"bottom":"right",0).css(W?"top":"left","auto").css({position:"absolute"}),T[U]=Z?N:O+N),Z&&(ab.css(t,0),P||ab.css(U,N+O)),ab.animate(T,{duration:V.duration,easing:V.easing,queue:!1,complete:function(){"hide"===aa&&Y.hide(),q.effects.restore(Y,Q),q.effects.removeWrapper(Y),R()}})},q.effects.effect.bounce=function(aa,W){var P,T,S,ae=q(this),Q=["position","top","bottom","left","right","height","width"],X=q.effects.setMode(ae,aa.mode||"effect"),V="hide"===X,O="show"===X,ac=aa.direction||"up",ab=aa.distance,R=aa.times||5,Z=2*R+(O||V?1:0),U=aa.duration/Z,Y=aa.easing,N="up"===ac||"down"===ac?"top":"left",af="up"===ac||"left"===ac,ad=ae.queue(),t=ad.length;for((O||V)&&Q.push("opacity"),q.effects.save(ae,Q),ae.show(),q.effects.createWrapper(ae),ab||(ab=ae["top"===N?"outerHeight":"outerWidth"]()/3),O&&(S={opacity:1},S[N]=0,ae.css("opacity",0).css(N,af?2*-ab:2*ab).animate(S,U,Y)),V&&(ab/=Math.pow(2,R-1)),S={},S[N]=0,P=0;R>P;P++){T={},T[N]=(af?"-=":"+=")+ab,ae.animate(T,U,Y).animate(S,U,Y),ab=V?2*ab:ab/2}V&&(T={opacity:0},T[N]=(af?"-=":"+=")+ab,ae.animate(T,U,Y)),ae.queue(function(){V&&ae.hide(),q.effects.restore(ae,Q),q.effects.removeWrapper(ae),W()}),t>1&&ad.splice.apply(ad,[1,0].concat(ad.splice(t,Z+1))),ae.dequeue()},q.effects.effect.clip=function(Q,N){var V,t,m,T=q(this),b=["position","top","bottom","left","right","height","width"],O=q.effects.setMode(T,Q.mode||"hide"),v="show"===O,U=Q.direction||"vertical",S="vertical"===U,R=S?"height":"width",g=S?"top":"left",P={};q.effects.save(T,b),T.show(),V=q.effects.createWrapper(T).css({overflow:"hidden"}),t="IMG"===T[0].tagName?V:T,m=t[R](),v&&(t.css(R,0),t.css(g,m/2)),P[R]=v?m:0,P[g]=v?0:m/2,t.animate(P,{queue:!1,duration:Q.duration,easing:Q.easing,complete:function(){v||T.hide(),q.effects.restore(T,b),q.effects.removeWrapper(T),N()}})},q.effects.effect.drop=function(t,m){var P,f=q(this),d=["position","top","bottom","left","right","opacity","height","width"],N=q.effects.setMode(f,t.mode||"hide"),b="show"===N,p=t.direction||"left",g="up"===p||"down"===p?"top":"left",O="up"===p||"left"===p?"pos":"neg",v={opacity:b?1:0};q.effects.save(f,d),f.show(),q.effects.createWrapper(f),P=t.distance||f["top"===g?"outerHeight":"outerWidth"](!0)/2,b&&f.css("opacity",0).css(g,"pos"===O?-P:P),v[g]=(b?"pos"===O?"+=":"-=":"pos"===O?"-=":"+=")+P,f.animate(v,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===N&&f.hide(),q.effects.restore(f,d),q.effects.removeWrapper(f),m()}})},q.effects.effect.explode=function(Z,V){function O(){ac.push(this),ac.length===ab*aa&&S()}function S(){Q.css({visibility:"visible"}),q(ac).remove(),T||Q.hide(),V()}var R,ad,P,W,U,N,ab=Z.pieces?Math.round(Math.sqrt(Z.pieces)):3,aa=ab,Q=q(this),Y=q.effects.setMode(Q,Z.mode||"hide"),T="show"===Y,X=Q.show().css("visibility","hidden").offset(),t=Math.ceil(Q.outerWidth()/aa),ae=Math.ceil(Q.outerHeight()/ab),ac=[];for(R=0;ab>R;R++){for(W=X.top+R*ae,N=R-(ab-1)/2,ad=0;aa>ad;ad++){P=X.left+ad*t,U=ad-(aa-1)/2,Q.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-ad*t,top:-R*ae}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:t,height:ae,left:P+(T?U*t:0),top:W+(T?N*ae:0),opacity:T?0:1}).animate({left:P+(T?0:U*t),top:W+(T?0:N*ae),opacity:T?1:0},Z.duration||500,Z.easing,O)}}},q.effects.effect.fade=function(c,a){var b=q(this),d=q.effects.setMode(b,c.mode||"toggle");b.animate({opacity:d},{queue:!1,duration:c.duration,easing:c.easing,complete:a})},q.effects.effect.fold=function(V,R){var ab,O,N=q(this),Y=["position","top","bottom","left","right","height","width"],b=q.effects.setMode(N,V.mode||"hide"),S="show"===b,Q="hide"===b,aa=V.size||15,X=/([0-9]+)%/.exec(aa),W=!!V.horizFirst,t=S!==W,U=t?["width","height"]:["height","width"],P=V.duration/2,T={},Z={};q.effects.save(N,Y),N.show(),ab=q.effects.createWrapper(N).css({overflow:"hidden"}),O=t?[ab.width(),ab.height()]:[ab.height(),ab.width()],X&&(aa=parseInt(X[1],10)/100*O[Q?0:1]),S&&ab.css(W?{height:0,width:aa}:{height:aa,width:0}),T[U[0]]=S?O[0]:aa,Z[U[1]]=S?O[1]:0,ab.animate(T,P,V.easing).animate(Z,P,V.easing,function(){Q&&N.hide(),q.effects.restore(N,Y),q.effects.removeWrapper(N),R()})},q.effects.effect.highlight=function(f,c){var d=q(this),h=["backgroundImage","backgroundColor","opacity"],g=q.effects.setMode(d,f.mode||"show"),b={backgroundColor:d.css("backgroundColor")};"hide"===g&&(b.opacity=0),q.effects.save(d,h),d.show().css({backgroundImage:"none",backgroundColor:f.color||"#ffff99"}).animate(b,{queue:!1,duration:f.duration,easing:f.easing,complete:function(){"hide"===g&&d.hide(),q.effects.restore(d,h),c()}})},q.effects.effect.size=function(Z,V){var O,S,R,ad=q(this),P=["position","top","bottom","left","right","width","height","overflow","opacity"],W=["position","top","bottom","left","right","overflow","opacity"],U=["width","height","overflow"],N=["fontSize"],ab=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],aa=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],Q=q.effects.setMode(ad,Z.mode||"effect"),Y=Z.restore||"effect"!==Q,T=Z.scale||"both",X=Z.origin||["middle","center"],t=ad.css("position"),ae=Y?P:W,ac={height:0,width:0,outerHeight:0,outerWidth:0};"show"===Q&&ad.show(),O={height:ad.height(),width:ad.width(),outerHeight:ad.outerHeight(),outerWidth:ad.outerWidth()},"toggle"===Z.mode&&"show"===Q?(ad.from=Z.to||ac,ad.to=Z.from||O):(ad.from=Z.from||("show"===Q?ac:O),ad.to=Z.to||("hide"===Q?ac:O)),R={from:{y:ad.from.height/O.height,x:ad.from.width/O.width},to:{y:ad.to.height/O.height,x:ad.to.width/O.width}},("box"===T||"both"===T)&&(R.from.y!==R.to.y&&(ae=ae.concat(ab),ad.from=q.effects.setTransition(ad,ab,R.from.y,ad.from),ad.to=q.effects.setTransition(ad,ab,R.to.y,ad.to)),R.from.x!==R.to.x&&(ae=ae.concat(aa),ad.from=q.effects.setTransition(ad,aa,R.from.x,ad.from),ad.to=q.effects.setTransition(ad,aa,R.to.x,ad.to))),("content"===T||"both"===T)&&R.from.y!==R.to.y&&(ae=ae.concat(N).concat(U),ad.from=q.effects.setTransition(ad,N,R.from.y,ad.from),ad.to=q.effects.setTransition(ad,N,R.to.y,ad.to)),q.effects.save(ad,ae),ad.show(),q.effects.createWrapper(ad),ad.css("overflow","hidden").css(ad.from),X&&(S=q.effects.getBaseline(X,O),ad.from.top=(O.outerHeight-ad.outerHeight())*S.y,ad.from.left=(O.outerWidth-ad.outerWidth())*S.x,ad.to.top=(O.outerHeight-ad.to.outerHeight)*S.y,ad.to.left=(O.outerWidth-ad.to.outerWidth)*S.x),ad.css(ad.from),("content"===T||"both"===T)&&(ab=ab.concat(["marginTop","marginBottom"]).concat(N),aa=aa.concat(["marginLeft","marginRight"]),U=P.concat(ab).concat(aa),ad.find("*[width]").each(function(){var a=q(this),b={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()};Y&&q.effects.save(a,U),a.from={height:b.height*R.from.y,width:b.width*R.from.x,outerHeight:b.outerHeight*R.from.y,outerWidth:b.outerWidth*R.from.x},a.to={height:b.height*R.to.y,width:b.width*R.to.x,outerHeight:b.height*R.to.y,outerWidth:b.width*R.to.x},R.from.y!==R.to.y&&(a.from=q.effects.setTransition(a,ab,R.from.y,a.from),a.to=q.effects.setTransition(a,ab,R.to.y,a.to)),R.from.x!==R.to.x&&(a.from=q.effects.setTransition(a,aa,R.from.x,a.from),a.to=q.effects.setTransition(a,aa,R.to.x,a.to)),a.css(a.from),a.animate(a.to,Z.duration,Z.easing,function(){Y&&q.effects.restore(a,U)})})),ad.animate(ad.to,{queue:!1,duration:Z.duration,easing:Z.easing,complete:function(){0===ad.to.opacity&&ad.css("opacity",ad.from.opacity),"hide"===Q&&ad.hide(),q.effects.restore(ad,ae),Y||("static"===t?ad.css({position:"relative",top:ad.to.top,left:ad.to.left}):q.each(["top","left"],function(a,b){ad.css(b,function(f,c){var d=parseInt(c,10),g=a?ad.to.left:ad.to.top;return"auto"===c?g+"px":d+g+"px"})})),q.effects.removeWrapper(ad),V()}})},q.effects.effect.scale=function(p,g){var N=q(this),d=q.extend(!0,{},p),c=q.effects.setMode(N,p.mode||"effect"),t=parseInt(p.percent,10)||(0===parseInt(p.percent,10)?0:"hide"===c?0:100),b=p.direction||"both",m=p.origin,f={height:N.height(),width:N.width(),outerHeight:N.outerHeight(),outerWidth:N.outerWidth()},v={y:"horizontal"!==b?t/100:1,x:"vertical"!==b?t/100:1};d.effect="size",d.queue=!1,d.complete=g,"effect"!==c&&(d.origin=m||["middle","center"],d.restore=!0),d.from=p.from||("show"===c?{height:0,width:0,outerHeight:0,outerWidth:0}:f),d.to={height:f.height*v.y,width:f.width*v.x,outerHeight:f.outerHeight*v.y,outerWidth:f.outerWidth*v.x},d.fade&&("show"===c&&(d.from.opacity=0,d.to.opacity=1),"hide"===c&&(d.from.opacity=1,d.to.opacity=0)),N.effect(d)},q.effects.effect.puff=function(l,c){var f=q(this),p=q.effects.setMode(f,l.mode||"hide"),m="hide"===p,b=parseInt(l.percent,10)||150,g=b/100,d={height:f.height(),width:f.width(),outerHeight:f.outerHeight(),outerWidth:f.outerWidth()};q.extend(l,{effect:"scale",queue:!1,fade:!0,mode:p,complete:c,percent:m?b:100,from:m?d:{height:d.height*g,width:d.width*g,outerHeight:d.outerHeight*g,outerWidth:d.outerWidth*g}}),f.effect(l)},q.effects.effect.pulsate=function(O,v){var T,m=q(this),g=q.effects.setMode(m,O.mode||"show"),R="show"===g,b="hide"===g,N=R||"hide"===g,t=2*(O.times||5)+(N?1:0),S=O.duration/t,Q=0,P=m.queue(),f=P.length;for((R||!m.is(":visible"))&&(m.css("opacity",0).show(),Q=1),T=1;t>T;T++){m.animate({opacity:Q},S,O.easing),Q=1-Q}m.animate({opacity:Q},S,O.easing),m.queue(function(){b&&m.hide(),v()}),f>1&&P.splice.apply(P,[1,0].concat(P.splice(f,t+1))),m.dequeue()},q.effects.effect.shake=function(Y,U){var N,R=q(this),Q=["position","top","bottom","left","right","height","width"],ab=q.effects.setMode(R,Y.mode||"effect"),O=Y.direction||"left",V=Y.distance||20,T=Y.times||3,t=2*T+1,aa=Math.round(Y.duration/t),Z="up"===O||"down"===O?"top":"left",P="up"===O||"left"===O,X={},S={},W={},b=R.queue(),ac=b.length;for(q.effects.save(R,Q),R.show(),q.effects.createWrapper(R),X[Z]=(P?"-=":"+=")+V,S[Z]=(P?"+=":"-=")+2*V,W[Z]=(P?"-=":"+=")+2*V,R.animate(X,aa,Y.easing),N=1;T>N;N++){R.animate(S,aa,Y.easing).animate(W,aa,Y.easing)}R.animate(S,aa,Y.easing).animate(X,aa/2,Y.easing).queue(function(){"hide"===ab&&R.hide(),q.effects.restore(R,Q),q.effects.removeWrapper(R),U()}),ac>1&&b.splice.apply(b,[1,0].concat(b.splice(ac,t+1))),R.dequeue()},q.effects.effect.slide=function(t,m){var P,f=q(this),d=["position","top","bottom","left","right","width","height"],N=q.effects.setMode(f,t.mode||"show"),b="show"===N,p=t.direction||"left",g="up"===p||"down"===p?"top":"left",O="up"===p||"left"===p,v={};q.effects.save(f,d),f.show(),P=t.distance||f["top"===g?"outerHeight":"outerWidth"](!0),q.effects.createWrapper(f).css({overflow:"hidden"}),b&&f.css(g,O?isNaN(P)?"-"+P:-P:P),v[g]=(b?O?"+=":"-=":O?"-=":"+=")+P,f.animate(v,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===N&&f.hide(),q.effects.restore(f,d),q.effects.removeWrapper(f),m()}})},q.effects.effect.transfer=function(v,p){var R=q(this),g=q(v.to),f="fixed"===g.css("position"),P=q("body"),b=f?P.scrollTop():0,t=f?P.scrollLeft():0,m=g.offset(),Q={top:m.top-b,left:m.left-t,height:g.innerHeight(),width:g.innerWidth()},O=R.offset(),N=q("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(v.className).css({top:O.top-b,left:O.left-t,height:R.innerHeight(),width:R.innerWidth(),position:f?"fixed":"absolute"}).animate(Q,v.duration,v.easing,function(){N.remove(),p()})}});
/*!/flat-ui/flat-ui.js*/
if("undefined"==typeof jQuery){throw new Error("Bootstrap's JavaScript requires jQuery")}+function(a){function b(){var d=document.createElement("bootstrap"),f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in f){if(void 0!==d.style[c]){return{end:f[c]}}}return !1}a.fn.emulateTransitionEnd=function(f){var c=!1,g=this;a(this).one("bsTransitionEnd",function(){c=!0});var d=function(){c||a(g).trigger(a.support.transition.end)};return setTimeout(d,f),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(c){return a(c.target).is(this)?c.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(b){function d(g){return this.each(function(){var e=b(this),h=e.data("bs.alert");h||e.data("bs.alert",h=new f(this)),"string"==typeof g&&h[g].call(e)})}var a='[data-dismiss="alert"]',f=function(g){b(g).on("click",a,this.close)};f.VERSION="3.2.0",f.prototype.close=function(j){function g(){l.detach().trigger("closed.bs.alert").remove()}var k=b(this),h=k.attr("data-target");h||(h=k.attr("href"),h=h&&h.replace(/.*(?=#[^\s]*$)/,""));var l=b(h);j&&j.preventDefault(),l.length||(l=k.hasClass("alert")?k:k.parent()),l.trigger(j=b.Event("close.bs.alert")),j.isDefaultPrevented()||(l.removeClass("in"),b.support.transition&&l.hasClass("fade")?l.one("bsTransitionEnd",g).emulateTransitionEnd(150):g())};var c=b.fn.alert;b.fn.alert=d,b.fn.alert.Constructor=f,b.fn.alert.noConflict=function(){return b.fn.alert=c,this},b(document).on("click.bs.alert.data-api",a,f.prototype.close)}(jQuery),+function(b){function c(f){return this.each(function(){var g=b(this),e=g.data("bs.button"),h="object"==typeof f&&f;e||g.data("bs.button",e=new a(this,h)),"toggle"==f?e.toggle():f&&e.setState(f)})}var a=function(f,g){this.$element=b(f),this.options=b.extend({},a.DEFAULTS,g),this.isLoading=!1};a.VERSION="3.2.0",a.DEFAULTS={loadingText:"loading..."},a.prototype.setState=function(h){var f="disabled",j=this.$element,g=j.is("input")?"val":"html",k=j.data();h+="Text",null==k.resetText&&j.data("resetText",j[g]()),j[g](null==k[h]?this.options[h]:k[h]),setTimeout(b.proxy(function(){"loadingText"==h?(this.isLoading=!0,j.addClass(f).attr(f,f)):this.isLoading&&(this.isLoading=!1,j.removeClass(f).removeAttr(f))},this),0)},a.prototype.toggle=function(){var g=!0,h=this.$element.closest('[data-toggle="buttons"]');if(h.length){var f=this.$element.find("input");"radio"==f.prop("type")&&(f.prop("checked")&&this.$element.hasClass("active")?g=!1:h.find(".active").removeClass("active")),g&&f.prop("checked",!this.$element.hasClass("active")).trigger("change")}g&&this.$element.toggleClass("active")};var d=b.fn.button;b.fn.button=c,b.fn.button.Constructor=a,b.fn.button.noConflict=function(){return b.fn.button=d,this},b(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var f=b(e.target);f.hasClass("btn")||(f=f.closest(".btn")),c.call(f,"toggle"),e.preventDefault()})}(jQuery),+function(b){function c(f){return this.each(function(){var h=b(this),e=h.data("bs.carousel"),i=b.extend({},a.DEFAULTS,h.data(),"object"==typeof f&&f),g="string"==typeof f?f:i.slide;e||h.data("bs.carousel",e=new a(this,i)),"number"==typeof f?e.to(f):g?e[g]():i.interval&&e.pause().cycle()})}var a=function(g,f){this.$element=b(g).on("keydown.bs.carousel",b.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=f,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",b.proxy(this.pause,this)).on("mouseleave.bs.carousel",b.proxy(this.cycle,this))};a.VERSION="3.2.0",a.DEFAULTS={interval:5000,pause:"hover",wrap:!0},a.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},a.prototype.cycle=function(f){return f||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(b.proxy(this.next,this),this.options.interval)),this},a.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},a.prototype.to=function(g){var f=this,h=this.getItemIndex(this.$active=this.$element.find(".item.active"));return g>this.$items.length-1||0>g?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){f.to(g)}):h==g?this.pause().cycle():this.slide(g>h?"next":"prev",b(this.$items[g]))},a.prototype.pause=function(f){return f||(this.paused=!0),this.$element.find(".next, .prev").length&&b.support.transition&&(this.$element.trigger(b.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},a.prototype.next=function(){return this.sliding?void 0:this.slide("next")},a.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},a.prototype.slide=function(u,q){var j=this.$element.find(".item.active"),y=q||j[u](),k=this.interval,f="next"==u?"left":"right",x="next"==u?"first":"last",m=this;if(!y.length){if(!this.options.wrap){return}y=this.$element.find(".item")[x]()}if(y.hasClass("active")){return this.sliding=!1}var t=y[0],g=b.Event("slide.bs.carousel",{relatedTarget:t,direction:f});if(this.$element.trigger(g),!g.isDefaultPrevented()){if(this.sliding=!0,k&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var v=b(this.$indicators.children()[this.getItemIndex(y)]);v&&v.addClass("active")}var w=b.Event("slid.bs.carousel",{relatedTarget:t,direction:f});return b.support.transition&&this.$element.hasClass("slide")?(y.addClass(u),y[0].offsetWidth,j.addClass(f),y.addClass(f),j.one("bsTransitionEnd",function(){y.removeClass([u,f].join(" ")).addClass("active"),j.removeClass(["active",f].join(" ")),m.sliding=!1,setTimeout(function(){m.$element.trigger(w)},0)}).emulateTransitionEnd(1000*j.css("transition-duration").slice(0,-1))):(j.removeClass("active"),y.addClass("active"),this.sliding=!1,this.$element.trigger(w)),k&&this.cycle(),this}};var d=b.fn.carousel;b.fn.carousel=c,b.fn.carousel.Constructor=a,b.fn.carousel.noConflict=function(){return b.fn.carousel=d,this},b(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(f){var j,g=b(this),k=b(g.attr("data-target")||(j=g.attr("href"))&&j.replace(/.*(?=#[^\s]+$)/,""));if(k.hasClass("carousel")){var h=b.extend({},k.data(),g.data()),e=g.attr("data-slide-to");e&&(h.interval=!1),c.call(k,h),e&&k.data("bs.carousel").to(e),f.preventDefault()}}),b(window).on("load",function(){b('[data-ride="carousel"]').each(function(){var e=b(this);c.call(e,e.data())})})}(jQuery),+function(b){function c(f){return this.each(function(){var g=b(this),e=g.data("bs.collapse"),h=b.extend({},a.DEFAULTS,g.data(),"object"==typeof f&&f);!e&&h.toggle&&"show"==f&&(f=!f),e||g.data("bs.collapse",e=new a(this,h)),"string"==typeof f&&e[f]()})}var a=function(f,g){this.$element=b(f),this.options=b.extend({},a.DEFAULTS,g),this.transitioning=null,this.options.parent&&(this.$parent=b(this.options.parent)),this.options.toggle&&this.toggle()};a.VERSION="3.2.0",a.DEFAULTS={toggle:!0},a.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},a.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var f=b.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){var j=this.$parent&&this.$parent.find("> .panel > .in");if(j&&j.length){var g=j.data("bs.collapse");if(g&&g.transitioning){return}c.call(j,"hide"),g||j.data("bs.collapse",null)}var k=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[k](0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[k](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!b.support.transition){return h.call(this)}var e=b.camelCase(["scroll",k].join("-"));this.$element.one("bsTransitionEnd",b.proxy(h,this)).emulateTransitionEnd(350)[k](this.$element[0][e])}}},a.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var g=b.Event("hide.bs.collapse");if(this.$element.trigger(g),!g.isDefaultPrevented()){var f=this.dimension();this.$element[f](this.$element[f]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var h=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return b.support.transition?void this.$element[f](0).one("bsTransitionEnd",b.proxy(h,this)).emulateTransitionEnd(350):h.call(this)}}},a.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var d=b.fn.collapse;b.fn.collapse=c,b.fn.collapse.Constructor=a,b.fn.collapse.noConflict=function(){return b.fn.collapse=d,this},b(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(m){var g,u=b(this),j=u.attr("data-target")||m.preventDefault()||(g=u.attr("href"))&&g.replace(/.*(?=#[^\s]+$)/,""),e=b(j),t=e.data("bs.collapse"),k=t?"toggle":u.data(),q=u.attr("data-parent"),f=q&&b(q);t&&t.transitioning||(f&&f.find('[data-toggle="collapse"][data-parent="'+q+'"]').not(u).addClass("collapsed"),u[e.hasClass("in")?"addClass":"removeClass"]("collapsed")),c.call(e,k)})}(jQuery),+function(d){function h(a){a&&3===a.which||(d(f).remove(),d(k).each(function(){var i=c(d(this)),e={relatedTarget:this};i.hasClass("open")&&(i.trigger(a=d.Event("hide.bs.dropdown",e)),a.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown",e))}))}function c(l){var a=l.attr("data-target");a||(a=l.attr("href"),a=a&&/#[A-Za-z]/.test(a)&&a.replace(/.*(?=#[^\s]*$)/,""));var m=a&&d(a);return m&&m.length?m:l.parent()}function j(a){return this.each(function(){var e=d(this),l=e.data("bs.dropdown");l||e.data("bs.dropdown",l=new g(this)),"string"==typeof a&&l[a].call(e)})}var f=".dropdown-backdrop",k='[data-toggle="dropdown"]',g=function(a){d(a).on("click.bs.dropdown",this.toggle)};g.VERSION="3.2.0",g.prototype.toggle=function(m){var i=d(this);if(!i.is(".disabled, :disabled")){var p=c(i),l=p.hasClass("open");if(h(),!l){"ontouchstart" in document.documentElement&&!p.closest(".navbar-nav").length&&d('<div class="dropdown-backdrop"/>').insertAfter(d(this)).on("click",h);var e={relatedTarget:this};if(p.trigger(m=d.Event("show.bs.dropdown",e)),m.isDefaultPrevented()){return}i.trigger("focus"),p.toggleClass("open").trigger("shown.bs.dropdown",e)}return !1}},g.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var u=d(this);if(t.preventDefault(),t.stopPropagation(),!u.is(".disabled, :disabled")){var p=c(u),q=p.hasClass("open");if(!q||q&&27==t.keyCode){return 27==t.which&&p.find(k).trigger("focus"),u.trigger("click")}var m=" li:not(.divider):visible a",i=p.find('[role="menu"]'+m+', [role="listbox"]'+m);if(i.length){var n=i.index(i.filter(":focus"));38==t.keyCode&&n>0&&n--,40==t.keyCode&&n<i.length-1&&n++,~n||(n=0),i.eq(n).trigger("focus")}}}};var b=d.fn.dropdown;d.fn.dropdown=j,d.fn.dropdown.Constructor=g,d.fn.dropdown.noConflict=function(){return d.fn.dropdown=b,this},d(document).on("click.bs.dropdown.data-api",h).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",k,g.prototype.toggle).on("keydown.bs.dropdown.data-api",k+', [role="menu"], [role="listbox"]',g.prototype.keydown)}(jQuery),+function(b){function c(f,g){return this.each(function(){var e=b(this),i=e.data("bs.modal"),h=b.extend({},a.DEFAULTS,e.data(),"object"==typeof f&&f);i||e.data("bs.modal",i=new a(this,h)),"string"==typeof f?i[f](g):h.show&&i.show(g)})}var a=function(g,f){this.options=f,this.$body=b(document.body),this.$element=b(g),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,b.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};a.VERSION="3.2.0",a.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},a.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},a.prototype.show=function(g){var f=this,h=b.Event("show.bs.modal",{relatedTarget:g});this.$element.trigger(h),this.isShown||h.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',b.proxy(this.hide,this)),this.backdrop(function(){var i=b.support.transition&&f.$element.hasClass("fade");f.$element.parent().length||f.$element.appendTo(f.$body),f.$element.show().scrollTop(0),i&&f.$element[0].offsetWidth,f.$element.addClass("in").attr("aria-hidden",!1),f.enforceFocus();var e=b.Event("shown.bs.modal",{relatedTarget:g});i?f.$element.find(".modal-dialog").one("bsTransitionEnd",function(){f.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(300):f.$element.trigger("focus").trigger(e)}))},a.prototype.hide=function(f){f&&f.preventDefault(),f=b.Event("hide.bs.modal"),this.$element.trigger(f),this.isShown&&!f.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),b(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),b.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",b.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},a.prototype.enforceFocus=function(){b(document).off("focusin.bs.modal").on("focusin.bs.modal",b.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},a.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",b.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},a.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},a.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},a.prototype.backdrop=function(h){var f=this,j=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var g=b.support.transition&&j;if(this.$backdrop=b('<div class="modal-backdrop '+j+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",b.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),g&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!h){return}g?this.$backdrop.one("bsTransitionEnd",h).emulateTransitionEnd(150):h()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var k=function(){f.removeBackdrop(),h&&h()};b.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",k).emulateTransitionEnd(150):k()}else{h&&h()}}},a.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},a.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},a.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},a.prototype.measureScrollbar=function(){var f=document.createElement("div");f.className="modal-scrollbar-measure",this.$body.append(f);var g=f.offsetWidth-f.clientWidth;return this.$body[0].removeChild(f),g};var d=b.fn.modal;b.fn.modal=c,b.fn.modal.Constructor=a,b.fn.modal.noConflict=function(){return b.fn.modal=d,this},b(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var h=b(this),f=h.attr("href"),j=b(h.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,"")),g=j.data("bs.modal")?"toggle":b.extend({remote:!/#/.test(f)&&f},j.data(),h.data());h.is("a")&&e.preventDefault(),j.one("show.bs.modal",function(i){i.isDefaultPrevented()||j.one("hidden.bs.modal",function(){h.is(":visible")&&h.trigger("focus")})}),c.call(j,g,this)})}(jQuery),+function(b){function c(f){return this.each(function(){var g=b(this),e=g.data("bs.tooltip"),h="object"==typeof f&&f;(e||"destroy"!=f)&&(e||g.data("bs.tooltip",e=new a(this,h)),"string"==typeof f&&e[f]())})}var a=function(f,g){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",f,g)};a.VERSION="3.2.0",a.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},a.prototype.init=function(m,h,p){this.enabled=!0,this.type=m,this.$element=b(h),this.options=this.getOptions(p),this.$viewport=this.options.viewport&&b(this.options.viewport.selector||this.options.viewport);for(var j=this.options.trigger.split(" "),q=j.length;q--;){var k=j[q];if("click"==k){this.$element.on("click."+this.type,this.options.selector,b.proxy(this.toggle,this))}else{if("manual"!=k){var g="hover"==k?"mouseenter":"focusin",f="hover"==k?"mouseleave":"focusout";this.$element.on(g+"."+this.type,this.options.selector,b.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,b.proxy(this.leave,this))}}}this.options.selector?this._options=b.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},a.prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.getOptions=function(f){return f=b.extend({},this.getDefaults(),this.$element.data(),f),f.delay&&"number"==typeof f.delay&&(f.delay={show:f.delay,hide:f.delay}),f},a.prototype.getDelegateOptions=function(){var g={},f=this.getDefaults();return this._options&&b.each(this._options,function(e,h){f[e]!=h&&(g[e]=h)}),g},a.prototype.enter=function(g){var f=g instanceof this.constructor?g:b(g.currentTarget).data("bs."+this.type);return f||(f=new this.constructor(g.currentTarget,this.getDelegateOptions()),b(g.currentTarget).data("bs."+this.type,f)),clearTimeout(f.timeout),f.hoverState="in",f.options.delay&&f.options.delay.show?void (f.timeout=setTimeout(function(){"in"==f.hoverState&&f.show()},f.options.delay.show)):f.show()},a.prototype.leave=function(g){var f=g instanceof this.constructor?g:b(g.currentTarget).data("bs."+this.type);return f||(f=new this.constructor(g.currentTarget,this.getDelegateOptions()),b(g.currentTarget).data("bs."+this.type,f)),clearTimeout(f.timeout),f.hoverState="out",f.options.delay&&f.options.delay.hide?void (f.timeout=setTimeout(function(){"out"==f.hoverState&&f.hide()},f.options.delay.hide)):f.hide()},a.prototype.show=function(){var A=b.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(A);var w=b.contains(document.documentElement,this.$element[0]);if(A.isDefaultPrevented()||!w){return}var m=this,G=this.tip(),q=this.getUID(this.type);this.setContent(),G.attr("id",q),this.$element.attr("aria-describedby",q),this.options.animation&&G.addClass("fade");var j="function"==typeof this.options.placement?this.options.placement.call(this,G[0],this.$element[0]):this.options.placement,D=/\s?auto?\s?/i,t=D.test(j);t&&(j=j.replace(D,"")||"top"),G.detach().css({top:0,left:0,display:"block"}).addClass(j).data("bs."+this.type,this),this.options.container?G.appendTo(this.options.container):G.insertAfter(this.$element);var x=this.getPosition(),k=G[0].offsetWidth,B=G[0].offsetHeight;if(t){var C=j,z=this.$element.parent(),F=this.getPosition(z);j="bottom"==j&&x.top+x.height+B-F.scroll>F.height?"top":"top"==j&&x.top-F.scroll-B<0?"bottom":"right"==j&&x.right+k>F.width?"left":"left"==j&&x.left-k<F.left?"right":j,G.removeClass(C).addClass(j)}var y=this.getCalculatedOffset(j,x,k,B);this.applyPlacement(y,j);var E=function(){m.$element.trigger("shown.bs."+m.type),m.hoverState=null};b.support.transition&&this.$tip.hasClass("fade")?G.one("bsTransitionEnd",E).emulateTransitionEnd(150):E()}},a.prototype.applyPlacement=function(w,t){var k=this.tip(),A=k[0].offsetWidth,m=k[0].offsetHeight,g=parseInt(k.css("margin-top"),10),z=parseInt(k.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(z)&&(z=0),w.top=w.top+g,w.left=w.left+z,b.offset.setOffset(k[0],b.extend({using:function(e){k.css({top:Math.round(e.top),left:Math.round(e.left)})}},w),0),k.addClass("in");var q=k[0].offsetWidth,u=k[0].offsetHeight;"top"==t&&u!=m&&(w.top=w.top+m-u);var j=this.getViewportAdjustedDelta(t,w,q,u);j.left?w.left+=j.left:w.top+=j.top;var x=j.left?2*j.left-A+q:2*j.top-m+u,y=j.left?"left":"top",v=j.left?"offsetWidth":"offsetHeight";k.offset(w),this.replaceArrow(x,k[0][v],y)},a.prototype.replaceArrow=function(g,h,f){this.arrow().css(f,g?50*(1-g/h)+"%":"")},a.prototype.setContent=function(){var f=this.tip(),g=this.getTitle();f.find(".tooltip-inner")[this.options.html?"html":"text"](g),f.removeClass("fade in top bottom left right")},a.prototype.hide=function(){function h(){"in"!=f.hoverState&&j.detach(),f.$element.trigger("hidden.bs."+f.type)}var f=this,j=this.tip(),g=b.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(g),g.isDefaultPrevented()?void 0:(j.removeClass("in"),b.support.transition&&this.$tip.hasClass("fade")?j.one("bsTransitionEnd",h).emulateTransitionEnd(150):h(),this.hoverState=null,this)},a.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},a.prototype.hasContent=function(){return this.getTitle()},a.prototype.getPosition=function(g){g=g||this.$element;var f=g[0],h="BODY"==f.tagName;return b.extend({},"function"==typeof f.getBoundingClientRect?f.getBoundingClientRect():null,{scroll:h?document.documentElement.scrollTop||document.body.scrollTop:g.scrollTop(),width:h?b(window).width():g.outerWidth(),height:h?b(window).height():g.outerHeight()},h?{top:0,left:0}:g.offset())},a.prototype.getCalculatedOffset=function(g,h,f,j){return"bottom"==g?{top:h.top+h.height,left:h.left+h.width/2-f/2}:"top"==g?{top:h.top-j,left:h.left+h.width/2-f/2}:"left"==g?{top:h.top+h.height/2-j/2,left:h.left-f}:{top:h.top+h.height/2-j/2,left:h.left+h.width}},a.prototype.getViewportAdjustedDelta=function(x,v,q,j){var y={top:0,left:0};if(!this.$viewport){return y}var k=this.options.viewport&&this.options.viewport.padding||0,f=this.getPosition(this.$viewport);if(/right|left/.test(x)){var w=v.top-k-f.scroll,m=v.top+k-f.scroll+j;w<f.top?y.top=f.top-w:m>f.top+f.height&&(y.top=f.top+f.height-m)}else{var u=v.left-k,g=v.left+k+q;u<f.left?y.left=f.left-u:g>f.width&&(y.left=f.left+f.width-g)}return y},a.prototype.getTitle=function(){var g,h=this.$element,f=this.options;return g=h.attr("data-original-title")||("function"==typeof f.title?f.title.call(h[0]):f.title)},a.prototype.getUID=function(e){do{e+=~~(1000000*Math.random())}while(document.getElementById(e));return e},a.prototype.tip=function(){return this.$tip=this.$tip||b(this.options.template)},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},a.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},a.prototype.enable=function(){this.enabled=!0},a.prototype.disable=function(){this.enabled=!1},a.prototype.toggleEnabled=function(){this.enabled=!this.enabled},a.prototype.toggle=function(g){var f=this;g&&(f=b(g.currentTarget).data("bs."+this.type),f||(f=new this.constructor(g.currentTarget,this.getDelegateOptions()),b(g.currentTarget).data("bs."+this.type,f))),f.tip().hasClass("in")?f.leave(f):f.enter(f)},a.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var d=b.fn.tooltip;b.fn.tooltip=c,b.fn.tooltip.Constructor=a,b.fn.tooltip.noConflict=function(){return b.fn.tooltip=d,this}}(jQuery),+function(b){function c(f){return this.each(function(){var g=b(this),e=g.data("bs.popover"),h="object"==typeof f&&f;(e||"destroy"!=f)&&(e||g.data("bs.popover",e=new a(this,h)),"string"==typeof f&&e[f]())})}var a=function(f,g){this.init("popover",f,g)};if(!b.fn.tooltip){throw new Error("Popover requires tooltip.js")}a.VERSION="3.2.0",a.DEFAULTS=b.extend({},b.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),a.prototype=b.extend({},b.fn.tooltip.Constructor.prototype),a.prototype.constructor=a,a.prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.setContent=function(){var g=this.tip(),h=this.getTitle(),f=this.getContent();g.find(".popover-title")[this.options.html?"html":"text"](h),g.find(".popover-content").empty()[this.options.html?"string"==typeof f?"html":"append":"text"](f),g.removeClass("fade top bottom left right in"),g.find(".popover-title").html()||g.find(".popover-title").hide()},a.prototype.hasContent=function(){return this.getTitle()||this.getContent()},a.prototype.getContent=function(){var f=this.$element,g=this.options;return f.attr("data-content")||("function"==typeof g.content?g.content.call(f[0]):g.content)},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},a.prototype.tip=function(){return this.$tip||(this.$tip=b(this.options.template)),this.$tip};var d=b.fn.popover;b.fn.popover=c,b.fn.popover.Constructor=a,b.fn.popover.noConflict=function(){return b.fn.popover=d,this}}(jQuery),+function(b){function c(e,g){var f=b.proxy(this.process,this);this.$body=b("body"),this.$scrollElement=b(b(e).is("body")?window:e),this.options=b.extend({},c.DEFAULTS,g),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",f),this.refresh(),this.process()}function a(e){return this.each(function(){var g=b(this),f=g.data("bs.scrollspy"),h="object"==typeof e&&e;f||g.data("bs.scrollspy",f=new c(this,h)),"string"==typeof e&&f[e]()})}c.VERSION="3.2.0",c.DEFAULTS={offset:10},c.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},c.prototype.refresh=function(){var g="offset",f=0;b.isWindow(this.$scrollElement[0])||(g="position",f=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var h=this;this.$body.find(this.selector).map(function(){var i=b(this),e=i.data("target")||i.attr("href"),j=/^#./.test(e)&&b(e);return j&&j.length&&j.is(":visible")&&[[j[g]().top+f,e]]||null}).sort(function(i,j){return i[0]-j[0]}).each(function(){h.offsets.push(this[0]),h.targets.push(this[1])})},c.prototype.process=function(){var g,k=this.$scrollElement.scrollTop()+this.options.offset,f=this.getScrollHeight(),l=this.options.offset+f-this.$scrollElement.height(),h=this.offsets,m=this.targets,j=this.activeTarget;if(this.scrollHeight!=f&&this.refresh(),k>=l){return j!=(g=m[m.length-1])&&this.activate(g)}if(j&&k<=h[0]){return j!=(g=m[0])&&this.activate(g)}for(g=h.length;g--;){j!=m[g]&&k>=h[g]&&(!h[g+1]||k<=h[g+1])&&this.activate(m[g])}},c.prototype.activate=function(g){this.activeTarget=g,b(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var f=this.selector+'[data-target="'+g+'"],'+this.selector+'[href="'+g+'"]',h=b(f).parents("li").addClass("active");h.parent(".dropdown-menu").length&&(h=h.closest("li.dropdown").addClass("active")),h.trigger("activate.bs.scrollspy")};var d=b.fn.scrollspy;b.fn.scrollspy=a,b.fn.scrollspy.Constructor=c,b.fn.scrollspy.noConflict=function(){return b.fn.scrollspy=d,this},b(window).on("load.bs.scrollspy.data-api",function(){b('[data-spy="scroll"]').each(function(){var f=b(this);a.call(f,f.data())})})}(jQuery),+function(b){function c(f){return this.each(function(){var g=b(this),e=g.data("bs.tab");e||g.data("bs.tab",e=new a(this)),"string"==typeof f&&e[f]()})}var a=function(f){this.element=b(f)};a.VERSION="3.2.0",a.prototype.show=function(){var j=this.element,f=j.closest("ul:not(.dropdown-menu)"),k=j.data("target");if(k||(k=j.attr("href"),k=k&&k.replace(/.*(?=#[^\s]*$)/,"")),!j.parent("li").hasClass("active")){var g=f.find(".active:last a")[0],l=b.Event("show.bs.tab",{relatedTarget:g});if(j.trigger(l),!l.isDefaultPrevented()){var h=b(k);this.activate(j.closest("li"),f),this.activate(h,h.parent(),function(){j.trigger({type:"shown.bs.tab",relatedTarget:g})})}}},a.prototype.activate=function(j,f,k){function g(){l.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),j.addClass("active"),h?(j[0].offsetWidth,j.addClass("in")):j.removeClass("fade"),j.parent(".dropdown-menu")&&j.closest("li.dropdown").addClass("active"),k&&k()}var l=f.find("> .active"),h=k&&b.support.transition&&l.hasClass("fade");h?l.one("bsTransitionEnd",g).emulateTransitionEnd(150):g(),l.removeClass("in")};var d=b.fn.tab;b.fn.tab=c,b.fn.tab.Constructor=a,b.fn.tab.noConflict=function(){return b.fn.tab=d,this},b(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),c.call(b(this),"show")})}(jQuery);
/*!/datetimepicker/js/bootstrap-datetimepicker.js*/
!function(b,a){b.moment=a()}(this,function(){function ds(){return cw.apply(null,arguments)}function cY(a){cw=a}function c9(a){return"[object Array]"===Object.prototype.toString.call(a)}function dA(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function c1(d,c){var f,b=[];for(f=0;f<d.length;++f){b.push(c(d[f],f))}return b}function dj(b,a){return Object.prototype.hasOwnProperty.call(b,a)}function c6(b,a){for(var c in a){dj(a,c)&&(b[c]=a[c])}return dj(a,"toString")&&(b.toString=a.toString),dj(a,"valueOf")&&(b.valueOf=a.valueOf),b}function cZ(d,c,f,b){return e3(d,c,f,b,!0).utc()}function dv(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function de(a){return null==a._pf&&(a._pf=dv()),a._pf}function cX(b){if(null==b._isValid){var a=de(b);b._isValid=!(isNaN(b._d.getTime())||!(a.overflow<0)||a.empty||a.invalidMonth||a.invalidWeekday||a.nullInput||a.invalidFormat||a.userInvalidated),b._strict&&(b._isValid=b._isValid&&0===a.charsLeftOver&&0===a.unusedTokens.length&&void 0===a.bigHour)}return b._isValid}function dy(b){var a=cZ(0/0);return null!=b?c6(de(a),b):de(a).userInvalidated=!0,a}function dq(f,c){var g,b,d;if("undefined"!=typeof c._isAMomentObject&&(f._isAMomentObject=c._isAMomentObject),"undefined"!=typeof c._i&&(f._i=c._i),"undefined"!=typeof c._f&&(f._f=c._f),"undefined"!=typeof c._l&&(f._l=c._l),"undefined"!=typeof c._strict&&(f._strict=c._strict),"undefined"!=typeof c._tzm&&(f._tzm=c._tzm),"undefined"!=typeof c._isUTC&&(f._isUTC=c._isUTC),"undefined"!=typeof c._offset&&(f._offset=c._offset),"undefined"!=typeof c._pf&&(f._pf=de(c)),"undefined"!=typeof c._locale&&(f._locale=c._locale),aO.length>0){for(g in aO){b=aO[g],d=c[b],"undefined"!=typeof d&&(f[b]=d)}}return f}function c4(a){dq(this,a),this._d=new Date(null!=a._d?a._d.getTime():0/0),ay===!1&&(ay=!0,ds.updateOffset(this),ay=!1)}function dk(a){return a instanceof c4||null!=a&&null!=a._isAMomentObject}function dc(a){return 0>a?Math.ceil(a):Math.floor(a)}function cR(b){var a=+b,c=0;return 0!==a&&isFinite(a)&&(c=dc(a)),c}function dm(g,d,j){var b,f=Math.min(g.length,d.length),c=Math.abs(g.length-d.length),h=0;for(b=0;f>b;b++){(j&&g[b]!==d[b]||!j&&cR(g[b])!==cR(d[b]))&&h++}return h+c}function cV(){}function dC(a){return a?a.toLowerCase().replace("_","-"):a}function cW(g){for(var d,h,b,f,c=0;c<g.length;){for(f=dC(g[c]).split("-"),d=f.length,h=dC(g[c+1]),h=h?h.split("-"):null;d>0;){if(b=dz(f.slice(0,d).join("-"))){return b}if(h&&h.length>=d&&dm(f,h,!0)>=d-1){break}d--}c++}return null}function dz(b){var a=null;if(!eB[b]&&"undefined"!=typeof module&&module&&module.exports){try{a=c2._abbr,require("./locale/"+b),ek(a)}catch(c){}}return eB[b]}function ek(b,a){var c;return b&&(c="undefined"==typeof a?d3(b):df(b,a),c&&(c2=c)),c2._abbr}function df(b,a){return null!==a?(a.abbr=b,eB[b]=eB[b]||new cV,eB[b].set(a),ek(b),eB[b]):(delete eB[b],null)}function d3(b){var a;if(b&&b._locale&&b._locale._abbr&&(b=b._locale._abbr),!b){return c2}if(!c9(b)){if(a=dz(b)){return a}b=[b]}return cW(b)}function dH(b,a){var c=b.toLowerCase();b3[c]=b3[c+"s"]=b3[a]=b}function dN(a){return"string"==typeof a?b3[a]||b3[a.toLowerCase()]:void 0}function em(d){var c,f,b={};for(f in d){dj(d,f)&&(c=dN(f),c&&(b[c]=d[f]))}return b}function dP(a,b){return function(c){return null!=c?(dY(this,a,c),ds.updateOffset(this,b),this):cT(this,a)}}function cT(b,a){return b._d["get"+(b._isUTC?"UTC":"")+a]()}function dY(b,a,c){return b._d["set"+(b._isUTC?"UTC":"")+a](c)}function dW(b,a){var c;if("object"==typeof b){for(c in b){this.set(c,b[c])}}else{if(b=dN(b),"function"==typeof this[b]){return this[b](a)}}return this}function eb(g,d,h){var b=""+Math.abs(g),f=d-b.length,c=g>=0;return(c?h?"+":"":"-")+Math.pow(10,Math.max(0,f)).toString().substr(1)+b}function d8(f,c,g,b){var d=b;"string"==typeof b&&(d=function(){return this[b]()}),f&&(cx[f]=d),c&&(cx[c[0]]=function(){return eb(d.apply(this,arguments),c[1],c[2])}),g&&(cx[g]=function(){return this.localeData().ordinal(d.apply(this,arguments),f)})}function d4(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function dK(d){var c,f,b=d.match(e9);for(c=0,f=b.length;f>c;c++){b[c]=cx[b[c]]?cx[b[c]]:d4(b[c])}return function(e){var a="";for(c=0;f>c;c++){a+=b[c] instanceof Function?b[c].call(e,d):b[c]}return a}}function eg(b,a){return b.isValid()?(a=ee(a,b.localeData()),eD[a]=eD[a]||dK(a),eD[a](b)):b.localeData().invalidDate()}function ee(d,c){function f(a){return c.longDateFormat(a)||a}var b=5;for(aQ.lastIndex=0;b>=0&&aQ.test(d);){d=d.replace(aQ,f),aQ.lastIndex=0,b-=1}return d}function dM(a){return"function"==typeof a&&"[object Function]"===Object.prototype.toString.call(a)}function eq(b,a,c){b1[b]=dM(a)?a:function(d){return d&&c?c:a}}function ed(b,a){return dj(b1,b)?b1[b](a._strict,a._locale):new RegExp(dh(b))}function dh(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(f,c,g,b,d){return c||g||b||d}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function cQ(d,c){var f,b=c;for("string"==typeof d&&(d=[d]),"number"==typeof c&&(b=function(a,g){g[c]=cR(a)}),f=0;f<d.length;f++){aW[d[f]]=b}}function c3(b,a){cQ(b,function(f,g,c,d){c._w=c._w||{},a(f,c._w,c,d)})}function ep(b,a,c){null!=a&&dj(aW,b)&&aW[b](a,c._a,c,b)}function d0(b,a){return new Date(Date.UTC(b,a+1,0)).getUTCDate()}function dL(a){return this._months[a.month()]}function dF(a){return this._monthsShort[a.month()]}function dS(g,d,h){var b,f,c;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),b=0;12>b;b++){if(f=cZ([2000,b]),h&&!this._longMonthsParse[b]&&(this._longMonthsParse[b]=new RegExp("^"+this.months(f,"").replace(".","")+"$","i"),this._shortMonthsParse[b]=new RegExp("^"+this.monthsShort(f,"").replace(".","")+"$","i")),h||this._monthsParse[b]||(c="^"+this.months(f,"")+"|^"+this.monthsShort(f,""),this._monthsParse[b]=new RegExp(c.replace(".",""),"i")),h&&"MMMM"===d&&this._longMonthsParse[b].test(g)){return b}if(h&&"MMM"===d&&this._shortMonthsParse[b].test(g)){return b}if(!h&&this._monthsParse[b].test(g)){return b}}}function dU(b,a){var c;return"string"==typeof a&&(a=b.localeData().monthsParse(a),"number"!=typeof a)?b:(c=Math.min(b.date(),d0(b.year(),a)),b._d["set"+(b._isUTC?"UTC":"")+"Month"](a,c),b)}function d7(a){return null!=a?(dU(this,a),ds.updateOffset(this,!0),this):cT(this,"Month")}function eP(){return d0(this.year(),this.month())}function dJ(b){var a,c=b._a;return c&&-2===de(b).overflow&&(a=c[bF]<0||c[bF]>11?bF:c[cz]<1||c[cz]>d0(c[dd],c[bF])?cz:c[e0]<0||c[e0]>24||24===c[e0]&&(0!==c[a2]||0!==c[cU]||0!==c[bT])?e0:c[a2]<0||c[a2]>59?a2:c[cU]<0||c[cU]>59?cU:c[bT]<0||c[bT]>999?bT:-1,de(b)._overflowDayOfYear&&(dd>a||a>cz)&&(a=cz),de(b).overflow=a),b}function d5(a){ds.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function cd(b,a){var c=!0;return c6(function(){return c&&(d5(b+"\n"+(new Error).stack),c=!1),a.apply(this,arguments)},a)}function bk(b,a){eH[b]||(d5(a),eH[b]=!0)}function dZ(f){var c,g,b=f._i,d=eQ.exec(b);if(d){for(de(f).iso=!0,c=0,g=bz.length;g>c;c++){if(bz[c][1].exec(b)){f._f=bz[c][0];break}}for(c=0,g=aw.length;g>c;c++){if(aw[c][1].exec(b)){f._f+=(d[6]||" ")+aw[c][0];break}}b.match(bl)&&(f._f+="Z"),dG(f)}else{f._isValid=!1}}function ey(a){var b=ad.exec(a._i);return null!==b?void (a._d=new Date(+b[1])):(dZ(a),void (a._isValid===!1&&(delete a._isValid,ds.createFromInputFallback(a))))}function b0(h,d,k,b,g,c,j){var f=new Date(h,d,k,b,g,c,j);return 1970>h&&f.setFullYear(h),f}function aV(b){var a=new Date(Date.UTC.apply(null,arguments));return 1970>b&&a.setUTCFullYear(b),a}function db(a){return bE(a)?366:365}function bE(a){return a%4===0&&a%100!==0||a%400===0}function cy(){return bE(this.year())}function eZ(g,d,h){var b,f=h-d,c=h-g.day();return c>f&&(c-=7),f-7>c&&(c+=7),b=e6(g).add(c,"d"),{week:Math.ceil(b.dayOfYear()/7),year:b.year()}}function a1(a){return eZ(a,this._week.dow,this._week.doy).week}function cS(){return this._week.dow}function bS(){return this._week.doy}function cF(b){var a=this.localeData().week(this);return null==b?a:this.add(7*(b-a),"d")}function bd(b){var a=eZ(this,1,4).week;return null==b?a:this.add(7*(b-a),"d")}function eG(h,l,f,k,b){var g,c=6+b-k,m=aV(h,0,1+c),j=m.getUTCDay();return b>j&&(j+=7),f=null!=f?1*f:b,g=1+c+7*(l-1)-j+f,{year:g>0?h:h-1,dayOfYear:g>0?g:db(h-1)+g}}function eO(b){var a=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/86400000)+1;return null==b?a:this.add(b-a,"d")}function by(b,a,c){return null!=b?b:null!=a?a:c}function av(b){var a=new Date;return b._useUTC?[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()]:[a.getFullYear(),a.getMonth(),a.getDate()]}function ac(g){var d,h,b,f,c=[];if(!g._d){for(b=av(g),g._w&&null==g._a[cz]&&null==g._a[bF]&&aL(g),g._dayOfYear&&(f=by(g._a[dd],b[dd]),g._dayOfYear>db(f)&&(de(g)._overflowDayOfYear=!0),h=aV(f,0,g._dayOfYear),g._a[bF]=h.getUTCMonth(),g._a[cz]=h.getUTCDate()),d=0;3>d&&null==g._a[d];++d){g._a[d]=c[d]=b[d]}for(;7>d;d++){g._a[d]=c[d]=null==g._a[d]?2===d?1:0:g._a[d]}24===g._a[e0]&&0===g._a[a2]&&0===g._a[cU]&&0===g._a[bT]&&(g._nextDay=!0,g._a[e0]=0),g._d=(g._useUTC?aV:b0).apply(null,c),null!=g._tzm&&g._d.setUTCMinutes(g._d.getUTCMinutes()-g._tzm),g._nextDay&&(g._a[e0]=24)}}function aL(h){var d,k,b,g,c,j,f;d=h._w,null!=d.GG||null!=d.W||null!=d.E?(c=1,j=4,k=by(d.GG,h._a[dd],eZ(e6(),1,4).year),b=by(d.W,1),g=by(d.E,1)):(c=h._locale._week.dow,j=h._locale._week.doy,k=by(d.gg,h._a[dd],eZ(e6(),c,j).year),b=by(d.w,1),null!=d.d?(g=d.d,c>g&&++b):g=null!=d.e?d.e+c:c),f=eG(k,b,g,j,c),h._a[dd]=f.year,h._dayOfYear=f.dayOfYear}function dG(k){if(k._f===ds.ISO_8601){return void dZ(k)}k._a=[],de(k).empty=!0;var e,h,b,f,c,l=""+k._i,g=l.length,j=0;for(b=ee(k._f,k._locale).match(e9)||[],e=0;e<b.length;e++){f=b[e],h=(l.match(ed(f,k))||[])[0],h&&(c=l.substr(0,l.indexOf(h)),c.length>0&&de(k).unusedInput.push(c),l=l.slice(l.indexOf(h)+h.length),j+=h.length),cx[f]?(h?de(k).empty=!1:de(k).unusedTokens.push(f),ep(f,h,k)):k._strict&&!h&&de(k).unusedTokens.push(f)}de(k).charsLeftOver=g-j,l.length>0&&de(k).unusedInput.push(l),de(k).bigHour===!0&&k._a[e0]<=12&&k._a[e0]>0&&(de(k).bigHour=void 0),k._a[e0]=aS(k._locale,k._a[e0],k._meridiem),ac(k),dJ(k)}function aS(d,c,f){var b;return null==f?c:null!=d.meridiemHour?d.meridiemHour(c,f):null!=d.isPM?(b=d.isPM(f),b&&12>c&&(c+=12),b||12!==c||(c=0),c):c}function ak(g){var d,h,b,f,c;if(0===g._f.length){return de(g).invalidFormat=!0,void (g._d=new Date(0/0))}for(f=0;f<g._f.length;f++){c=0,d=dq({},g),null!=g._useUTC&&(d._useUTC=g._useUTC),d._f=g._f[f],dG(d),cX(d)&&(c+=de(d).charsLeftOver,c+=10*de(d).unusedTokens.length,de(d).score=c,(null==b||b>c)&&(b=c,h=d))}c6(g,h||d)}function bX(b){if(!b._d){var a=em(b._i);b._a=[a.year,a.month,a.day||a.date,a.hour,a.minute,a.second,a.millisecond],ac(b)}}function b6(b){var a=new c4(dJ(eL(b)));return a._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function eL(c){var a=c._i,b=c._f;return c._locale=c._locale||d3(c._l),null===a||void 0===b&&""===a?dy({nullInput:!0}):("string"==typeof a&&(c._i=a=c._locale.preparse(a)),dk(a)?new c4(dJ(a)):(c9(b)?ak(c):b?dG(c):dA(a)?c._d=a:a9(c),c))}function a9(b){var a=b._i;void 0===a?b._d=new Date:dA(a)?b._d=new Date(+a):"string"==typeof a?ey(b):c9(a)?(b._a=c1(a.slice(0),function(c){return parseInt(c,10)}),ac(b)):"object"==typeof a?bX(b):"number"==typeof a?b._d=new Date(a):ds.createFromInputFallback(b)}function e3(g,d,h,b,f){var c={};return"boolean"==typeof h&&(b=h,h=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=f,c._l=h,c._i=g,c._f=d,c._strict=b,b6(c)}function e6(d,c,f,b){return e3(d,c,f,b,!1)}function bh(f,c){var b,d;if(1===c.length&&c9(c[0])&&(c=c[0]),!c.length){return e6()}for(b=c[0],d=1;d<c.length;++d){(!c[d].isValid()||c[d][f](b))&&(b=c[d])}return b}function aY(){var a=[].slice.call(arguments,0);return bh("isBefore",a)}function eC(){var a=[].slice.call(arguments,0);return bh("isAfter",a)}function dV(j){var q=em(j),f=q.year||0,m=q.quarter||0,b=q.month||0,h=q.week||0,c=q.day||0,v=q.hour||0,k=q.minute||0,g=q.second||0,p=q.millisecond||0;this._milliseconds=+p+1000*g+60000*k+3600000*v,this._days=+c+7*h,this._months=+b+3*m+12*f,this._data={},this._locale=d3(),this._bubble()}function ch(a){return a instanceof dV}function cK(b,a){d8(b,0,0,function(){var c=this.utcOffset(),d="+";return 0>c&&(c=-c,d="-"),d+eb(~~(c/60),2)+a+eb(~~c%60,2)})}function aC(f){var c=(f||"").match(bl)||[],g=c[c.length-1]||[],b=(g+"").match(bZ)||["-",0,0],d=+(60*b[1])+cR(b[2]);return"+"===b[0]?d:-d}function ag(b,d){var c,a;return d._isUTC?(c=d.clone(),a=(dk(b)||dA(b)?+b:+e6(b))-+c,c._d.setTime(+c._d+a),ds.updateOffset(c,!1),c):e6(b).local()}function ef(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function bP(c,e){var b,d=this._offset||0;return null!=c?("string"==typeof c&&(c=aC(c)),Math.abs(c)<16&&(c=60*c),!this._isUTC&&e&&(b=ef(this)),this._offset=c,this._isUTC=!0,null!=b&&this.add(b,"m"),d!==c&&(!e||this._changeInProgress?bp(this,c5(c-d,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ds.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?d:ef(this)}function eW(b,a){return null!=b?("string"!=typeof b&&(b=-b),this.utcOffset(b,a),this):-this.utcOffset()}function aF(a){return this.utcOffset(0,a)}function el(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(ef(this),"m")),this}function cl(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(aC(this._i)),this}function bv(a){return a=a?e6(a).utcOffset():0,(this.utcOffset()-a)%60===0}function bC(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function du(){if("undefined"!=typeof this._isDSTShifted){return this._isDSTShifted}var b={};if(dq(b,this),b=eL(b),b._a){var a=b._isUTC?cZ(b._a):e6(b._a);this._isDSTShifted=this.isValid()&&dm(b._a,a.toArray())>0}else{this._isDSTShifted=!1}return this._isDSTShifted}function bK(){return !this._isUTC}function aq(){return this._isUTC}function aJ(){return this._isUTC&&0===this._offset}function c5(g,c){var i,b,f,h=g,d=null;return ch(g)?h={ms:g._milliseconds,d:g._days,M:g._months}:"number"==typeof g?(h={},c?h[c]=g:h.milliseconds=g):(d=b8.exec(g))?(i="-"===d[1]?-1:1,h={y:0,d:cR(d[cz])*i,h:cR(d[e0])*i,m:cR(d[a2])*i,s:cR(d[cU])*i,ms:cR(d[bT])*i}):(d=eN.exec(g))?(i="-"===d[1]?-1:1,h={y:dQ(d[2],i),M:dQ(d[3],i),d:dQ(d[4],i),h:dQ(d[5],i),m:dQ(d[6],i),s:dQ(d[7],i),w:dQ(d[8],i)}):null==h?h={}:"object"==typeof h&&("from" in h||"to" in h)&&(f=cC(e6(h.from),e6(h.to)),h={},h.ms=f.milliseconds,h.M=f.months),b=new dV(h),ch(g)&&dj(g,"_locale")&&(b._locale=g._locale),b}function dQ(b,a){var c=b&&parseFloat(b.replace(",","."));return(isNaN(c)?0:c)*a}function cs(b,a){var c={milliseconds:0,months:0};return c.months=a.month()-b.month()+12*(a.year()-b.year()),b.clone().add(c.months,"M").isAfter(a)&&--c.months,c.milliseconds=+a-+b.clone().add(c.months,"M"),c}function cC(b,a){var c;return a=ag(a,b),b.isBefore(a)?c=cs(b,a):(c=cs(a,b),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function cf(b,a){return function(f,c){var e,d;return null===c||isNaN(+c)||(bk(a,"moment()."+a+"(period, number) is deprecated. Please use moment()."+a+"(number, period)."),d=f,f=c,c=d),f="string"==typeof f?+f:f,e=c5(f,c),bp(this,e,b),this}}function bp(d,h,b,f){var c=h._milliseconds,g=h._days,e=h._months;f=null==f?!0:f,c&&d._d.setTime(+d._d+c*b),g&&dY(d,"Date",cT(d,"Date")+g*b),e&&dU(d,cT(d,"Month")+e*b),f&&ds.updateOffset(d,g||e)}function d9(g,d){var h=g||e6(),b=ag(h,this).startOf("day"),f=this.diff(b,"days",!0),c=-6>f?"sameElse":-1>f?"lastWeek":0>f?"lastDay":1>f?"sameDay":2>f?"nextDay":7>f?"nextWeek":"sameElse";return this.format(d&&d[c]||this.localeData().calendar(c,this,e6(h)))}function eA(){return new c4(this)}function b4(b,a){var c;return a=dN("undefined"!=typeof a?a:"millisecond"),"millisecond"===a?(b=dk(b)?b:e6(b),+this>+b):(c=dk(b)?+b:+e6(b),c<+this.clone().startOf(a))}function dl(b,a){var c;return a=dN("undefined"!=typeof a?a:"millisecond"),"millisecond"===a?(b=dk(b)?b:e6(b),+b>+this):(c=dk(b)?+b:+e6(b),+this.clone().endOf(a)<c)}function bI(b,a,c){return this.isAfter(b,c)&&this.isBefore(a,c)}function cA(b,a){var c;return a=dN(a||"millisecond"),"millisecond"===a?(b=dk(b)?b:e6(b),+this===+b):(c=+e6(b),+this.clone().startOf(a)<=c&&c<=+this.clone().endOf(a))}function e2(g,d,j){var b,f,c=ag(g,this),h=60000*(c.utcOffset()-this.utcOffset());return d=dN(d),"year"===d||"month"===d||"quarter"===d?(f=a5(this,c),"quarter"===d?f/=3:"year"===d&&(f/=12)):(b=this-c,f="second"===d?b/1000:"minute"===d?b/60000:"hour"===d?b/3600000:"day"===d?(b-h)/86400000:"week"===d?(b-h)/604800000:b),j?f:dc(f)}function a5(g,d){var h,b,f=12*(d.year()-g.year())+(d.month()-g.month()),c=g.clone().add(f,"months");return 0>d-c?(h=g.clone().add(f-1,"months"),b=(d-c)/(c-h)):(h=g.clone().add(f+1,"months"),b=(d-c)/(h-c)),-(f+b)}function c0(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function bV(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():eg(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):eg(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function cI(a){var b=eg(this,a||ds.defaultFormat);return this.localeData().postformat(b)}function bg(b,a){return this.isValid()?c5({to:this,from:b}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function eJ(a){return this.from(e6(),a)}function eT(b,a){return this.isValid()?c5({from:this,to:b}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function bB(a){return this.to(e6(),a)}function az(b){var a;return void 0===b?this._locale._abbr:(a=d3(b),null!=a&&(this._locale=a),this)}function ae(){return this._locale}function aP(a){switch(a=dN(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function dO(a){return a=dN(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function aX(){return +this._d-60000*(this._offset||0)}function ao(){return Math.floor(+this/1000)}function b2(){return this._offset?new Date(+this):this._d}function b9(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function eR(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function bf(){return cX(this)}function e8(){return c6({},de(this))}function fb(){return de(this).overflow}function bm(b,a){d8(0,[b,b.length],0,a)}function a3(b,a,c){return eZ(e6([b,11,31+a-c]),a,c).week}function eI(b){var a=eZ(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==b?a:this.add(b-a,"y")}function d6(b){var a=eZ(this,1,4).year;return null==b?a:this.add(b-a,"y")}function co(){return a3(this.year(),1,4)}function cN(){var a=this.localeData()._week;return a3(this.year(),a.dow,a.doy)}function aH(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function am(b,a){return"string"!=typeof b?b:isNaN(b)?(b=a.weekdaysParse(b),"number"==typeof b?b:null):parseInt(b,10)}function eu(a){return this._weekdays[a.day()]}function bU(a){return this._weekdaysShort[a.day()]}function e1(a){return this._weekdaysMin[a.day()]}function aI(d){var c,f,b;for(this._weekdaysParse=this._weekdaysParse||[],c=0;7>c;c++){if(this._weekdaysParse[c]||(f=e6([2000,1]).day(c),b="^"+this.weekdays(f,"")+"|^"+this.weekdaysShort(f,"")+"|^"+this.weekdaysMin(f,""),this._weekdaysParse[c]=new RegExp(b.replace(".",""),"i")),this._weekdaysParse[c].test(d)){return c}}}function ew(b){var a=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=b?(b=am(b,this.localeData()),this.add(b-a,"d")):a}function cp(b){var a=(this.day()+7-this.localeData()._week.dow)%7;return null==b?a:this.add(b-a,"d")}function bA(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function bG(b,a){d8(b,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),a)})}function dB(b,a){return a._meridiemParse}function bN(a){return"p"===(a+"").toLowerCase().charAt(0)}function ax(b,a,c){return b>11?c?"pm":"PM":c?"am":"AM"}function aN(b,a){a[bT]=cR(1000*("0."+b))}function dg(){return this._isUTC?"UTC":""}function d2(){return this._isUTC?"Coordinated Universal Time":""}function cv(a){return e6(1000*a)}function cH(){return e6.apply(null,arguments).parseZone()}function cq(d,c,f){var b=this._calendar[d];return"function"==typeof b?b.call(c,f):b}function bw(b){var a=this._longDateFormat[b],c=this._longDateFormat[b.toUpperCase()];return a||!c?a:(this._longDateFormat[b]=c.replace(/MMMM|MM|DD|dddd/g,function(d){return d.slice(1)}),this._longDateFormat[b])}function ex(){return this._invalidDate}function eK(a){return this._ordinal.replace("%d",a)}function cc(a){return a}function a6(f,c,g,b){var d=this._relativeTime[g];return"function"==typeof d?d(f,c,g,b):d.replace(/%d/i,f)}function dE(b,a){var c=this._relativeTime[b>0?"future":"past"];return"function"==typeof c?c(a):c.replace(/%s/i,a)}function bQ(b){var a,c;for(c in b){a=b[c],"function"==typeof a?this[c]=a:this["_"+c]=a}this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function cJ(g,d,h,b){var f=d3(),c=cZ().set(b,d);return f[h](c,g)}function ab(g,d,j,b,f){if("number"==typeof g&&(d=g,g=void 0),g=g||"",null!=d){return cJ(g,d,j,f)}var c,h=[];for(c=0;b>c;c++){h[c]=cJ(g,c,j,f)}return h}function bb(b,a){return ab(b,a,"months",12,"month")}function dp(b,a){return ab(b,a,"monthsShort",12,"month")}function b5(b,a){return ab(b,a,"weekdays",7,"day")}function cP(b,a){return ab(b,a,"weekdaysShort",7,"day")}function bq(b,a){return ab(b,a,"weekdaysMin",7,"day")}function eU(){var a=this._data;return this._milliseconds=aK(this._milliseconds),this._days=aK(this._days),this._months=aK(this._months),a.milliseconds=aK(a.milliseconds),a.seconds=aK(a.seconds),a.minutes=aK(a.minutes),a.hours=aK(a.hours),a.months=aK(a.months),a.years=aK(a.years),this}function eX(f,c,g,b){var d=c5(c,g);return f._milliseconds+=b*d._milliseconds,f._days+=b*d._days,f._months+=b*d._months,f._bubble()}function bJ(b,a){return eX(this,b,a,1)}function aD(b,a){return eX(this,b,a,-1)}function ap(a){return 0>a?Math.floor(a):Math.ceil(a)}function aT(){var h,l,f,k,b,g=this._milliseconds,c=this._days,m=this._months,j=this._data;return g>=0&&c>=0&&m>=0||0>=g&&0>=c&&0>=m||(g+=86400000*ap(a4(m)+c),c=0,m=0),j.milliseconds=g%1000,h=dc(g/1000),j.seconds=h%60,l=dc(h/60),j.minutes=l%60,f=dc(l/60),j.hours=f%24,c+=dc(f/24),b=dc(ec(c)),m+=b,c-=ap(a4(b)),k=dc(m/12),m%=12,j.days=c,j.months=m,j.years=k,this}function ec(a){return 4800*a/146097}function a4(a){return 146097*a/4800}function aA(d){var c,f,b=this._milliseconds;if(d=dN(d),"month"===d||"year"===d){return c=this._days+b/86400000,f=this._months+ec(c),"month"===d?f:f/12}switch(c=this._days+Math.round(a4(this._months)),d){case"week":return c/7+b/604800000;case"day":return c+b/86400000;case"hour":return 24*c+b/3600000;case"minute":return 1440*c+b/60000;case"second":return 86400*c+b/1000;case"millisecond":return Math.floor(86400000*c)+b;default:throw new Error("Unknown unit "+d)}}function cb(){return this._milliseconds+86400000*this._days+this._months%12*2592000000+31536000000*cR(this._months/12)}function cg(a){return function(){return this.as(a)}}function eV(a){return a=dN(a),this[a+"s"]()}function bo(a){return function(){return this._data[a]}}function af(){return dc(this.days()/7)}function ah(f,c,g,b,d){return d.relativeTime(c||1,!!g,f,b)}function bu(j,q,f){var m=c5(j).abs(),b=c7(m.as("s")),h=c7(m.as("m")),c=c7(m.as("h")),v=c7(m.as("d")),k=c7(m.as("M")),g=c7(m.as("y")),p=b<bY.s&&["s",b]||1===h&&["m"]||h<bY.m&&["mm",h]||1===c&&["h"]||c<bY.h&&["hh",c]||1===v&&["d"]||v<bY.d&&["dd",v]||1===k&&["M"]||k<bY.M&&["MM",k]||1===g&&["y"]||["yy",g];return p[2]=q,p[3]=+j>0,p[4]=f,ah.apply(null,p)}function a8(b,a){return void 0===bY[b]?!1:void 0===a?bY[b]:(bY[b]=a,!0)}function eS(b){var a=this.localeData(),c=bu(this,!b,a);return b&&(c=a.pastFuture(+this,c)),a.postformat(c)}function ev(){var p,y,h,w=cL(this._milliseconds)/1000,b=cL(this._days),k=cL(this._months);p=dc(w/60),y=dc(p/60),w%=60,p%=60,h=dc(k/12),k%=12;var g=h,z=k,q=b,j=y,x=p,v=w,m=this.asSeconds();return m?(0>m?"-":"")+"P"+(g?g+"Y":"")+(z?z+"M":"")+(q?q+"D":"")+(j||x||v?"T":"")+(j?j+"H":"")+(x?x+"M":"")+(v?v+"S":""):"P0D"}var cw,c2,aO=ds.momentProperties=[],ay=!1,eB={},b3={},e9=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,aQ=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,eD={},cx={},bH=/\d/,bO=/\d\d/,dR=/\d{3}/,bW=/\d{4}/,aB=/[+-]?\d{6}/,aR=/\d\d?/,dD=/\d{1,3}/,es=/\d{1,4}/,cB=/[+-]?\d{1,6}/,cO=/\d+/,ce=/[+-]?\d+/,bl=/Z|[+-]\d\d:?\d\d/gi,d1=/[+-]?\d+(\.\d{1,3})?/,ez=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,b1={},aW={},dd=0,bF=1,cz=2,e0=3,a2=4,cU=5,bT=6;d8("M",["MM",2],"Mo",function(){return this.month()+1}),d8("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),d8("MMMM",0,0,function(a){return this.localeData().months(this,a)}),dH("month","M"),eq("M",aR),eq("MM",aR,bO),eq("MMM",ez),eq("MMMM",ez),cQ(["M","MM"],function(b,a){a[bF]=cR(b)-1}),cQ(["MMM","MMMM"],function(f,c,g,b){var d=g._locale.monthsParse(f,b,g._strict);null!=d?c[bF]=d:de(g).invalidMonth=f});var cG="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),be="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),eH={};ds.suppressDeprecationWarnings=!1;var eQ=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bz=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],aw=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ad=/^\/?Date\((\-?\d+)/i;ds.createFromInputFallback=cd("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),d8(0,["YY",2],0,function(){return this.year()%100}),d8(0,["YYYY",4],0,"year"),d8(0,["YYYYY",5],0,"year"),d8(0,["YYYYYY",6,!0],0,"year"),dH("year","y"),eq("Y",ce),eq("YY",aR,bO),eq("YYYY",es,bW),eq("YYYYY",cB,aB),eq("YYYYYY",cB,aB),cQ(["YYYYY","YYYYYY"],dd),cQ("YYYY",function(a,b){b[dd]=2===a.length?ds.parseTwoDigitYear(a):cR(a)}),cQ("YY",function(a,b){b[dd]=ds.parseTwoDigitYear(a)}),ds.parseTwoDigitYear=function(a){return cR(a)+(cR(a)>68?1900:2000)};var aM=dP("FullYear",!1);d8("w",["ww",2],"wo","week"),d8("W",["WW",2],"Wo","isoWeek"),dH("week","w"),dH("isoWeek","W"),eq("w",aR),eq("ww",aR,bO),eq("W",aR),eq("WW",aR,bO),c3(["w","ww","W","WW"],function(d,c,f,b){c[b.substr(0,1)]=cR(d)});var dI={dow:0,doy:6};d8("DDD",["DDDD",3],"DDDo","dayOfYear"),dH("dayOfYear","DDD"),eq("DDD",dD),eq("DDDD",dR),cQ(["DDD","DDDD"],function(b,a,c){c._dayOfYear=cR(b)}),ds.ISO_8601=function(){};var aU=cd("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=e6.apply(null,arguments);return this>a?this:a}),al=cd("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=e6.apply(null,arguments);return a>this?this:a});cK("Z",":"),cK("ZZ",""),eq("Z",bl),eq("ZZ",bl),cQ(["Z","ZZ"],function(b,a,c){c._useUTC=!0,c._tzm=aC(b)});var bZ=/([\+\-]|\d\d)/gi;ds.updateOffset=function(){};var b8=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,eN=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;c5.fn=dV.prototype;var bc=cf(1,"add"),e5=cf(-1,"subtract");ds.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var e7=cd("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});d8(0,["gg",2],0,function(){return this.weekYear()%100}),d8(0,["GG",2],0,function(){return this.isoWeekYear()%100}),bm("gggg","weekYear"),bm("ggggg","weekYear"),bm("GGGG","isoWeekYear"),bm("GGGGG","isoWeekYear"),dH("weekYear","gg"),dH("isoWeekYear","GG"),eq("G",ce),eq("g",ce),eq("GG",aR,bO),eq("gg",aR,bO),eq("GGGG",es,bW),eq("gggg",es,bW),eq("GGGGG",cB,aB),eq("ggggg",cB,aB),c3(["gggg","ggggg","GGGG","GGGGG"],function(d,c,f,b){c[b.substr(0,2)]=cR(d)}),c3(["gg","GG"],function(c,e,b,d){e[d]=ds.parseTwoDigitYear(c)}),d8("Q",0,0,"quarter"),dH("quarter","Q"),eq("Q",bH),cQ("Q",function(b,a){a[bF]=3*(cR(b)-1)}),d8("D",["DD",2],"Do","date"),dH("date","D"),eq("D",aR),eq("DD",aR,bO),eq("Do",function(b,a){return b?a._ordinalParse:a._ordinalParseLenient}),cQ(["D","DD"],cz),cQ("Do",function(b,a){a[cz]=cR(b.match(aR)[0],10)});var bj=dP("Date",!0);d8("d",0,"do","day"),d8("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),d8("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),d8("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),d8("e",0,0,"weekday"),d8("E",0,0,"isoWeekday"),dH("day","d"),dH("weekday","e"),dH("isoWeekday","E"),eq("d",aR),eq("e",aR),eq("E",aR),eq("dd",ez),eq("ddd",ez),eq("dddd",ez),c3(["dd","ddd","dddd"],function(d,c,f){var b=f._locale.weekdaysParse(d);null!=b?c.d=b:de(f).invalidWeekday=d}),c3(["d","e","E"],function(d,c,f,b){c[b]=cR(d)});var a0="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),eF="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),dX="Su_Mo_Tu_We_Th_Fr_Sa".split("_");d8("H",["HH",2],0,"hour"),d8("h",["hh",2],0,function(){return this.hours()%12||12}),bG("a",!0),bG("A",!1),dH("hour","h"),eq("a",dB),eq("A",dB),eq("H",aR),eq("h",aR),eq("HH",aR,bO),eq("hh",aR,bO),cQ(["H","HH"],e0),cQ(["a","A"],function(b,a,c){c._isPm=c._locale.isPM(b),c._meridiem=b}),cQ(["h","hh"],function(b,a,c){a[e0]=cR(b),de(c).bigHour=!0});var ck=/[ap]\.?m?\.?/i,cM=dP("Hours",!0);d8("m",["mm",2],0,"minute"),dH("minute","m"),eq("m",aR),eq("mm",aR,bO),cQ(["m","mm"],a2);var aE=dP("Minutes",!1);d8("s",["ss",2],0,"second"),dH("second","s"),eq("s",aR),eq("ss",aR,bO),cQ(["s","ss"],cU);var aj=dP("Seconds",!1);d8("S",0,0,function(){return ~~(this.millisecond()/100)}),d8(0,["SS",2],0,function(){return ~~(this.millisecond()/10)}),d8(0,["SSS",3],0,"millisecond"),d8(0,["SSSS",4],0,function(){return 10*this.millisecond()}),d8(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),d8(0,["SSSSSS",6],0,function(){return 1000*this.millisecond()}),d8(0,["SSSSSSS",7],0,function(){return 10000*this.millisecond()}),d8(0,["SSSSSSSS",8],0,function(){return 100000*this.millisecond()}),d8(0,["SSSSSSSSS",9],0,function(){return 1000000*this.millisecond()}),dH("millisecond","ms"),eq("S",dD,bH),eq("SS",dD,bO),eq("SSS",dD,dR);var ej;for(ej="SSSS";ej.length<=9;ej+="S"){eq(ej,cO)}for(ej="S";ej.length<=9;ej+="S"){cQ(ej,aN)}var bR=dP("Milliseconds",!1);d8("z",0,0,"zoneAbbr"),d8("zz",0,0,"zoneName");var eY=c4.prototype;eY.add=bc,eY.calendar=d9,eY.clone=eA,eY.diff=e2,eY.endOf=dO,eY.format=cI,eY.from=bg,eY.fromNow=eJ,eY.to=eT,eY.toNow=bB,eY.get=dW,eY.invalidAt=fb,eY.isAfter=b4,eY.isBefore=dl,eY.isBetween=bI,eY.isSame=cA,eY.isValid=bf,eY.lang=e7,eY.locale=az,eY.localeData=ae,eY.max=al,eY.min=aU,eY.parsingFlags=e8,eY.set=dW,eY.startOf=aP,eY.subtract=e5,eY.toArray=b9,eY.toObject=eR,eY.toDate=b2,eY.toISOString=bV,eY.toJSON=bV,eY.toString=c0,eY.unix=ao,eY.valueOf=aX,eY.year=aM,eY.isLeapYear=cy,eY.weekYear=eI,eY.isoWeekYear=d6,eY.quarter=eY.quarters=aH,eY.month=d7,eY.daysInMonth=eP,eY.week=eY.weeks=cF,eY.isoWeek=eY.isoWeeks=bd,eY.weeksInYear=cN,eY.isoWeeksInYear=co,eY.date=bj,eY.day=eY.days=ew,eY.weekday=cp,eY.isoWeekday=bA,eY.dayOfYear=eO,eY.hour=eY.hours=cM,eY.minute=eY.minutes=aE,eY.second=eY.seconds=aj,eY.millisecond=eY.milliseconds=bR,eY.utcOffset=bP,eY.utc=aF,eY.local=el,eY.parseZone=cl,eY.hasAlignedHourOffset=bv,eY.isDST=bC,eY.isDSTShifted=du,eY.isLocal=bK,eY.isUtcOffset=aq,eY.isUtc=aJ,eY.isUTC=aJ,eY.zoneAbbr=dg,eY.zoneName=d2,eY.dates=cd("dates accessor is deprecated. Use date instead.",bj),eY.months=cd("months accessor is deprecated. Use month instead",d7),eY.years=cd("years accessor is deprecated. Use year instead",aM),eY.zone=cd("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",eW);var aG=eY,eo={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},cm={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},bx="Invalid date",bD="%d",dx=/\d{1,2}/,bM={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},au=cV.prototype;au._calendar=eo,au.calendar=cq,au._longDateFormat=cm,au.longDateFormat=bw,au._invalidDate=bx,au.invalidDate=ex,au._ordinal=bD,au.ordinal=eK,au._ordinalParse=dx,au.preparse=cc,au.postformat=cc,au._relativeTime=bM,au.relativeTime=a6,au.pastFuture=dE,au.set=bQ,au.months=dL,au._months=cG,au.monthsShort=dF,au._monthsShort=be,au.monthsParse=dS,au.week=a1,au._week=dI,au.firstDayOfYear=bS,au.firstDayOfWeek=cS,au.weekdays=eu,au._weekdays=a0,au.weekdaysMin=e1,au._weekdaysMin=dX,au.weekdaysShort=bU,au._weekdaysShort=eF,au.weekdaysParse=aI,au.isPM=bN,au._meridiemParse=ck,au.meridiem=ax,ek("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(b){var a=b%10,c=1===cR(b%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th";return b+c}}),ds.lang=cd("moment.lang is deprecated. Use moment.locale instead.",ek),ds.langData=cd("moment.langData is deprecated. Use moment.localeData instead.",d3);var aK=Math.abs,c8=cg("ms"),dT=cg("s"),cu=cg("m"),cE=cg("h"),cj=cg("d"),bs=cg("w"),eh=cg("M"),eE=cg("y"),b7=bo("milliseconds"),aZ=bo("seconds"),dw=bo("minutes"),bL=bo("hours"),cD=bo("days"),e4=bo("months"),a7=bo("years"),c7=Math.round,bY={s:45,m:45,h:22,d:26,M:11},cL=Math.abs,bi=dV.prototype;bi.abs=eU,bi.add=bJ,bi.subtract=aD,bi.as=aA,bi.asMilliseconds=c8,bi.asSeconds=dT,bi.asMinutes=cu,bi.asHours=cE,bi.asDays=cj,bi.asWeeks=bs,bi.asMonths=eh,bi.asYears=eE,bi.valueOf=cb,bi._bubble=aT,bi.get=eV,bi.milliseconds=b7,bi.seconds=aZ,bi.minutes=dw,bi.hours=bL,bi.days=cD,bi.weeks=af,bi.months=e4,bi.years=a7,bi.humanize=eS,bi.toISOString=ev,bi.toString=ev,bi.toJSON=ev,bi.locale=az,bi.localeData=ae,bi.toIsoString=cd("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ev),bi.lang=e7,d8("X",0,0,"unix"),d8("x",0,0,"valueOf"),eq("x",ce),eq("X",d1),cQ("X",function(b,a,c){c._d=new Date(1000*parseFloat(b,10))}),cQ("x",function(b,a,c){c._d=new Date(cR(b))}),ds.version="2.10.6",cY(e6),ds.fn=aG,ds.min=aY,ds.max=eC,ds.utc=cZ,ds.unix=cv,ds.months=bb,ds.isDate=dA,ds.locale=ek,ds.invalid=dy,ds.duration=c5,ds.isMoment=dk,ds.weekdays=b5,ds.parseZone=cH,ds.localeData=d3,ds.isDuration=ch,ds.monthsShort=dp,ds.weekdaysMin=bq,ds.defineLocale=df,ds.weekdaysShort=cP,ds.normalizeUnits=dN,ds.relativeTimeThreshold=a8;var eM=ds;return eM}),function(a){a(moment)}(function(a){return a.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYY-MM-DD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYY-MM-DD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"},meridiemParse:/|||||/,meridiemHour:function(c,b){return 12===c&&(c=0),""===b||""===b||""===b?c:""===b||""===b?c+12:c>=11?c:c+12},meridiem:function(c,b){var d=100*c+b;return 600>d?"":900>d?"":1130>d?"":1230>d?"":1800>d?"":""},calendar:{sameDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},lastDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextWeek:function(){var b,c;return b=a().startOf("week"),c=this.unix()-b.unix()>=604800?"[]":"[]",0===this.minutes()?c+"dddAh":c+"dddAhmm"},lastWeek:function(){var b,c;return b=a().startOf("week"),c=this.unix()<b.unix()?"[]":"[]",0===this.minutes()?c+"dddAh":c+"dddAhmm"},sameElse:"LL"},ordinalParse:/\d{1,2}(||)/,ordinal:function(c,b){switch(b){case"d":case"D":case"DDD":return c+"";case"M":return c+"";case"w":case"W":return c+"";default:return c}},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"},week:{dow:1,doy:4}})}),function(a){if("function"==typeof define&&define.amd){jQuery?a(jQuery,moment):define(["jquery","moment"],a)}else{if("object"==typeof exports){a(require("jquery"),require("moment"))}else{if("undefined"==typeof jQuery){throw"bootstrap-datetimepicker requires jQuery to be loaded first"}if("undefined"==typeof moment){throw"bootstrap-datetimepicker requires Moment.js to be loaded first"}a(jQuery,moment)}}}(function(b,a){if(!a){throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first")}var c=function(aY,bc){var aT,a4,aX,aS,a9,a0={},aR=a().startOf("d"),ba=aR.clone(),a8=!0,aW=!1,a5=!1,aZ=0,aN=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],a6=["days","months","years","decades"],aP=["top","bottom","auto"],bd=["left","right","auto"],aQ=["default","top","bottom"],bb={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},aA={},a1=function(d){if("string"!=typeof d||d.length>1){throw new TypeError("isEnabled expects a single character string parameter")}switch(d){case"y":return -1!==aX.indexOf("Y");case"M":return -1!==aX.indexOf("M");case"d":return -1!==aX.toLowerCase().indexOf("d");case"h":case"H":return -1!==aX.toLowerCase().indexOf("h");case"m":return -1!==aX.indexOf("m");case"s":return -1!==aX.indexOf("s");default:return !1}},an=function(){return a1("h")||a1("m")||a1("s")},t=function(){return a1("y")||a1("M")||a1("d")},ae=function(){var d=b("<thead>").append(b("<tr>").append(b("<th>").addClass("prev").attr("data-action","previous").append(b("<span>").addClass(bc.icons.previous))).append(b("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",bc.calendarWeeks?"6":"5")).append(b("<th>").addClass("next").attr("data-action","next").append(b("<span>").addClass(bc.icons.next)))),f=b("<tbody>").append(b("<tr>").append(b("<td>").attr("colspan",bc.calendarWeeks?"8":"7")));return[b("<div>").addClass("datepicker-days").append(b("<table>").addClass("table-condensed").append(d).append(b("<tbody>"))),b("<div>").addClass("datepicker-months").append(b("<table>").addClass("table-condensed").append(d.clone()).append(f.clone())),b("<div>").addClass("datepicker-years").append(b("<table>").addClass("table-condensed").append(d.clone()).append(f.clone())),b("<div>").addClass("datepicker-decades").append(b("<table>").addClass("table-condensed").append(d.clone()).append(f.clone()))]},aB=function(){var d=b("<tr>"),g=b("<tr>"),f=b("<tr>");return a1("h")&&(d.append(b("<td>").append(b("<a>").attr({href:"#",tabindex:"-1",title:"Increment Hour"}).addClass("btn").attr("data-action","incrementHours").append(b("<span>").addClass(bc.icons.up)))),g.append(b("<td>").append(b("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:"Pick Hour"}).attr("data-action","showHours"))),f.append(b("<td>").append(b("<a>").attr({href:"#",tabindex:"-1",title:"Decrement Hour"}).addClass("btn").attr("data-action","decrementHours").append(b("<span>").addClass(bc.icons.down))))),a1("m")&&(a1("h")&&(d.append(b("<td>").addClass("separator")),g.append(b("<td>").addClass("separator").html(":")),f.append(b("<td>").addClass("separator"))),d.append(b("<td>").append(b("<a>").attr({href:"#",tabindex:"-1",title:"Increment Minute"}).addClass("btn").attr("data-action","incrementMinutes").append(b("<span>").addClass(bc.icons.up)))),g.append(b("<td>").append(b("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:"Pick Minute"}).attr("data-action","showMinutes"))),f.append(b("<td>").append(b("<a>").attr({href:"#",tabindex:"-1",title:"Decrement Minute"}).addClass("btn").attr("data-action","decrementMinutes").append(b("<span>").addClass(bc.icons.down))))),a1("s")&&(a1("m")&&(d.append(b("<td>").addClass("separator")),g.append(b("<td>").addClass("separator").html(":")),f.append(b("<td>").addClass("separator"))),d.append(b("<td>").append(b("<a>").attr({href:"#",tabindex:"-1",title:"Increment Second"}).addClass("btn").attr("data-action","incrementSeconds").append(b("<span>").addClass(bc.icons.up)))),g.append(b("<td>").append(b("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:"Pick Second"}).attr("data-action","showSeconds"))),f.append(b("<td>").append(b("<a>").attr({href:"#",tabindex:"-1",title:"Decrement Second"}).addClass("btn").attr("data-action","decrementSeconds").append(b("<span>").addClass(bc.icons.down))))),a4||(d.append(b("<td>").addClass("separator")),g.append(b("<td>").append(b("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:"Toggle Period"}))),f.append(b("<td>").addClass("separator"))),b("<div>").addClass("timepicker-picker").append(b("<table>").addClass("table-condensed").append([d,g,f]))},ag=function(){var f=b("<div>").addClass("timepicker-hours").append(b("<table>").addClass("table-condensed")),h=b("<div>").addClass("timepicker-minutes").append(b("<table>").addClass("table-condensed")),d=b("<div>").addClass("timepicker-seconds").append(b("<table>").addClass("table-condensed")),g=[aB()];return a1("h")&&g.push(f),a1("m")&&g.push(h),a1("s")&&g.push(d),g},aO=function(){var d=[];return bc.showTodayButton&&d.push(b("<td>").append(b("<a>").attr({"data-action":"today",title:bc.tooltips.today}).append(b("<span>").addClass(bc.icons.today)))),!bc.sideBySide&&t()&&an()&&d.push(b("<td>").append(b("<a>").attr({"data-action":"togglePicker",title:"Select Time"}).append(b("<span>").addClass(bc.icons.time)))),bc.showClear&&d.push(b("<td>").append(b("<a>").attr({"data-action":"clear",title:bc.tooltips.clear}).append(b("<span>").addClass(bc.icons.clear)))),bc.showClose&&d.push(b("<td>").append(b("<a>").attr({"data-action":"close",title:bc.tooltips.close}).append(b("<span>").addClass(bc.icons.close)))),b("<table>").addClass("table-condensed").append(b("<tbody>").append(b("<tr>").append(d)))},al=function(){var d=b("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),i=b("<div>").addClass("datepicker").append(ae()),g=b("<div>").addClass("timepicker").append(ag()),h=b("<ul>").addClass("list-unstyled"),f=b("<li>").addClass("picker-switch"+(bc.collapse?" accordion-toggle":"")).append(aO());return bc.inline&&d.removeClass("dropdown-menu"),a4&&d.addClass("usetwentyfour"),a1("s")&&!a4&&d.addClass("wider"),bc.sideBySide&&t()&&an()?(d.addClass("timepicker-sbs"),"top"===bc.toolbarPlacement&&d.append(f),d.append(b("<div>").addClass("row").append(i.addClass("col-md-6")).append(g.addClass("col-md-6"))),"bottom"===bc.toolbarPlacement&&d.append(f),d):("top"===bc.toolbarPlacement&&h.append(f),t()&&h.append(b("<li>").addClass(bc.collapse&&an()?"collapse in":"").append(i)),"default"===bc.toolbarPlacement&&h.append(f),an()&&h.append(b("<li>").addClass(bc.collapse&&t()?"collapse":"").append(g)),"bottom"===bc.toolbarPlacement&&h.append(f),d.append(h))},ak=function(){var d,f={};return d=aY.is("input")||bc.inline?aY.data():aY.find("input").data(),d.dateOptions&&d.dateOptions instanceof Object&&(f=b.extend(!0,f,d.dateOptions)),b.each(bc,function(g){var h="date"+g.charAt(0).toUpperCase()+g.slice(1);void 0!==d[h]&&(f[g]=d[h])}),f},av=function(){var f,h=(aW||aY).position(),d=(aW||aY).offset(),j=bc.widgetPositioning.vertical,g=bc.widgetPositioning.horizontal;if(bc.widgetParent){f=bc.widgetParent.append(a5)}else{if(aY.is("input")){f=aY.after(a5).parent()}else{if(bc.inline){return void (f=aY.append(a5))}f=aY,aY.children().first().after(a5)}}if("auto"===j&&(j=d.top+1.5*a5.height()>=b(window).height()+b(window).scrollTop()&&a5.height()+aY.outerHeight()<d.top?"top":"bottom"),"auto"===g&&(g=f.width()<d.left+a5.outerWidth()/2&&d.left+a5.outerWidth()>b(window).width()?"right":"left"),"top"===j?a5.addClass("top").removeClass("bottom"):a5.addClass("bottom").removeClass("top"),"right"===g?a5.addClass("pull-right"):a5.removeClass("pull-right"),"relative"!==f.css("position")&&(f=f.parents().filter(function(){return"relative"===b(this).css("position")}).first()),0===f.length){throw new Error("datetimepicker component should be placed within a relative positioned container")}a5.css({top:"top"===j?"auto":h.top+aY.outerHeight(),bottom:"top"===j?h.top+aY.outerHeight():"auto",left:"left"===g?f===aY?0:h.left:"auto",right:"left"===g?"auto":f.outerWidth()-aY.outerWidth()-(f===aY?0:h.left)})},au=function(d){"dp.change"===d.type&&(d.date&&d.date.isSame(d.oldDate)||!d.date&&!d.oldDate)||aY.trigger(d)},ao=function(d){"y"===d&&(d="YYYY"),au({type:"dp.update",change:d,viewDate:ba.clone()})},ab=function(d){a5&&(d&&(a9=Math.max(aZ,Math.min(3,a9+d))),a5.find(".datepicker > div").hide().filter(".datepicker-"+aN[a9].clsName).show())},az=function(){var d=b("<tr>"),f=ba.clone().startOf("w").startOf("d");for(bc.calendarWeeks===!0&&d.append(b("<th>").addClass("cw").text("#"));f.isBefore(ba.clone().endOf("w"));){d.append(b("<th>").addClass("dow").text(f.format("dd"))),f.add(1,"d")}a5.find(".datepicker-days thead").append(d)},ay=function(d){return bc.disabledDates[d.format("YYYY-MM-DD")]===!0},ad=function(d){return bc.enabledDates[d.format("YYYY-MM-DD")]===!0},aD=function(d){return bc.disabledHours[d.format("H")]===!0},ax=function(d){return bc.enabledHours[d.format("H")]===!0},a3=function(d,g){if(!d.isValid()){return !1}if(bc.disabledDates&&"d"===g&&ay(d)){return !1}if(bc.enabledDates&&"d"===g&&!ad(d)){return !1}if(bc.minDate&&d.isBefore(bc.minDate,g)){return !1}if(bc.maxDate&&d.isAfter(bc.maxDate,g)){return !1}if(bc.daysOfWeekDisabled&&"d"===g&&-1!==bc.daysOfWeekDisabled.indexOf(d.day())){return !1}if(bc.disabledHours&&("h"===g||"m"===g||"s"===g)&&aD(d)){return !1}if(bc.enabledHours&&("h"===g||"m"===g||"s"===g)&&!ax(d)){return !1}if(bc.disabledTimeIntervals&&("h"===g||"m"===g||"s"===g)){var f=!1;if(b.each(bc.disabledTimeIntervals,function(){return d.isBetween(this[0],this[1])?(f=!0,!1):void 0}),f){return !1}}return !0},aM=function(){for(var d=[],f=ba.clone().startOf("y").startOf("d");f.isSame(ba,"y");){d.push(b("<span>").attr("data-action","selectMonth").addClass("month").text(f.format("MMM"))),f.add(1,"M")}a5.find(".datepicker-months td").empty().append(d)},aU=function(){var d=a5.find(".datepicker-months"),g=d.find("th"),f=d.find("tbody").find("span");g.eq(0).find("span").attr("title",bc.tooltips.prevYear),g.eq(1).attr("title",bc.tooltips.selectYear),g.eq(2).find("span").attr("title",bc.tooltips.nextYear),d.find(".disabled").removeClass("disabled"),a3(ba.clone().subtract(1,"y"),"y")||g.eq(0).addClass("disabled"),g.eq(1).text(ba.year()),a3(ba.clone().add(1,"y"),"y")||g.eq(2).addClass("disabled"),f.removeClass("active"),aR.isSame(ba,"y")&&!a8&&f.eq(aR.month()).addClass("active"),f.each(function(h){a3(ba.clone().month(h),"M")||b(this).addClass("disabled")})},aC=function(){var h=a5.find(".datepicker-years"),f=h.find("th"),j=ba.clone().subtract(5,"y"),g=ba.clone().add(6,"y"),d="";for(f.eq(0).find("span").attr("title",bc.tooltips.nextDecade),f.eq(1).attr("title",bc.tooltips.selectDecade),f.eq(2).find("span").attr("title",bc.tooltips.prevDecade),h.find(".disabled").removeClass("disabled"),bc.minDate&&bc.minDate.isAfter(j,"y")&&f.eq(0).addClass("disabled"),f.eq(1).text(j.year()+"-"+g.year()),bc.maxDate&&bc.maxDate.isBefore(g,"y")&&f.eq(2).addClass("disabled");!j.isAfter(g,"y");){d+='<span data-action="selectYear" class="year'+(j.isSame(aR,"y")&&!a8?" active":"")+(a3(j,"y")?"":" disabled")+'">'+j.year()+"</span>",j.add(1,"y")}h.find("td").html(d)},am=function(){var g=a5.find(".datepicker-decades"),j=g.find("th"),f=a(ba.isBefore(a({y:1999}))?{y:1899}:{y:1999}),d=f.clone().add(100,"y"),h="";for(j.eq(0).find("span").attr("title",bc.tooltips.prevCentury),j.eq(2).find("span").attr("title",bc.tooltips.nextCentury),g.find(".disabled").removeClass("disabled"),(f.isSame(a({y:1900}))||bc.minDate&&bc.minDate.isAfter(f,"y"))&&j.eq(0).addClass("disabled"),j.eq(1).text(f.year()+"-"+d.year()),(f.isSame(a({y:2000}))||bc.maxDate&&bc.maxDate.isBefore(d,"y"))&&j.eq(2).addClass("disabled");!f.isAfter(d,"y");){h+='<span data-action="selectDecade" class="decade'+(f.isSame(aR,"y")?" active":"")+(a3(f,"y")?"":" disabled")+'" data-selection="'+(f.year()+6)+'">'+(f.year()+1)+" - "+(f.year()+12)+"</span>",f.add(12,"y")}h+="<span></span><span></span><span></span>",g.find("td").html(h)},ac=function(){var p,j,g,m,h=a5.find(".datepicker-days"),k=h.find("th"),f=[];if(t()){for(k.eq(0).find("span").attr("title",bc.tooltips.prevMonth),k.eq(1).attr("title",bc.tooltips.selectMonth),k.eq(2).find("span").attr("title",bc.tooltips.nextMonth),h.find(".disabled").removeClass("disabled"),k.eq(1).text(ba.format(bc.dayViewHeaderFormat)),a3(ba.clone().subtract(1,"M"),"M")||k.eq(0).addClass("disabled"),a3(ba.clone().add(1,"M"),"M")||k.eq(2).addClass("disabled"),p=ba.clone().startOf("M").startOf("w").startOf("d"),m=0;42>m;m++){0===p.weekday()&&(j=b("<tr>"),bc.calendarWeeks&&j.append('<td class="cw">'+p.week()+"</td>"),f.push(j)),g="",p.isBefore(ba,"M")&&(g+=" old"),p.isAfter(ba,"M")&&(g+=" new"),p.isSame(aR,"d")&&!a8&&(g+=" active"),a3(p,"d")||(g+=" disabled"),p.isSame(a(),"d")&&(g+=" today"),(0===p.day()||6===p.day())&&(g+=" weekend"),j.append('<td data-action="selectDay" data-day="'+p.format("L")+'" class="day'+g+'">'+p.date()+"</td>"),p.add(1,"d")}h.find("tbody").empty().append(f),aU(),aC(),am()}},e=function(){var f=a5.find(".timepicker-hours table"),h=ba.clone().startOf("d"),d=[],g=b("<tr>");for(ba.hour()>11&&!a4&&h.hour(12);h.isSame(ba,"d")&&(a4||ba.hour()<12&&h.hour()<12||ba.hour()>11);){h.hour()%4===0&&(g=b("<tr>"),d.push(g)),g.append('<td data-action="selectHour" class="hour'+(a3(h,"h")?"":" disabled")+'">'+h.format(a4?"HH":"hh")+"</td>"),h.add(1,"h")}f.empty().append(d)},ah=function(){for(var f=a5.find(".timepicker-minutes table"),j=ba.clone().startOf("h"),g=[],d=b("<tr>"),h=1===bc.stepping?5:bc.stepping;ba.isSame(j,"h");){j.minute()%(4*h)===0&&(d=b("<tr>"),g.push(d)),d.append('<td data-action="selectMinute" class="minute'+(a3(j,"m")?"":" disabled")+'">'+j.format("mm")+"</td>"),j.add(h,"m")}f.empty().append(g)},aj=function(){for(var f=a5.find(".timepicker-seconds table"),h=ba.clone().startOf("m"),d=[],g=b("<tr>");ba.isSame(h,"m");){h.second()%20===0&&(g=b("<tr>"),d.push(g)),g.append('<td data-action="selectSecond" class="second'+(a3(h,"s")?"":" disabled")+'">'+h.format("ss")+"</td>"),h.add(5,"s")}f.empty().append(d)},aq=function(){var f,d,g=a5.find(".timepicker span[data-time-component]");a4||(f=a5.find(".timepicker [data-action=togglePeriod]"),d=aR.clone().add(aR.hours()>=12?-12:12,"h"),f.text(aR.format("A")),a3(d,"h")?f.removeClass("disabled"):f.addClass("disabled")),g.filter("[data-time-component=hours]").text(aR.format(a4?"HH":"hh")),g.filter("[data-time-component=minutes]").text(aR.format("mm")),g.filter("[data-time-component=seconds]").text(aR.format("ss")),e(),ah(),aj()},aL=function(){a5&&(ac(),aq())},aa=function(f){var d=a8?null:aR;return f?(f=f.clone().locale(bc.locale),1!==bc.stepping&&f.minutes(Math.round(f.minutes()/bc.stepping)*bc.stepping%60).seconds(0),void (a3(f)?(aR=f,ba=aR.clone(),aT.val(aR.format(aX)),aY.data("date",aR.format(aX)),a8=!1,aL(),au({type:"dp.change",date:aR.clone(),oldDate:d})):(bc.keepInvalid||aT.val(a8?"":aR.format(aX)),au({type:"dp.error",date:f})))):(a8=!0,aT.val(""),aY.data("date",""),au({type:"dp.change",date:!1,oldDate:d}),void aL())},ap=function(){var d=!1;return a5?(a5.find(".collapse").each(function(){var f=b(this).data("collapse");return f&&f.transitioning?(d=!0,!1):!0}),d?a0:(aW&&aW.hasClass("btn")&&aW.toggleClass("active"),a5.hide(),b(window).off("resize",av),a5.off("click","[data-action]"),a5.off("mousedown",!1),a5.remove(),a5=!1,au({type:"dp.hide",date:aR.clone()}),aT.blur(),a0)):a0},aV=function(){aa(null)},a7={next:function(){var d=aN[a9].navFnc;ba.add(aN[a9].navStep,d),ac(),ao(d)},previous:function(){var d=aN[a9].navFnc;ba.subtract(aN[a9].navStep,d),ac(),ao(d)},pickerSwitch:function(){ab(1)},selectMonth:function(d){var f=b(d.target).closest("tbody").find("span").index(b(d.target));ba.month(f),a9===aZ?(aa(aR.clone().year(ba.year()).month(ba.month())),bc.inline||ap()):(ab(-1),ac()),ao("M")},selectYear:function(d){var f=parseInt(b(d.target).text(),10)||0;ba.year(f),a9===aZ?(aa(aR.clone().year(ba.year())),bc.inline||ap()):(ab(-1),ac()),ao("YYYY")},selectDecade:function(d){var f=parseInt(b(d.target).data("selection"),10)||0;ba.year(f),a9===aZ?(aa(aR.clone().year(ba.year())),bc.inline||ap()):(ab(-1),ac()),ao("YYYY")},selectDay:function(d){var f=ba.clone();b(d.target).is(".old")&&f.subtract(1,"M"),b(d.target).is(".new")&&f.add(1,"M"),aa(f.date(parseInt(b(d.target).text(),10))),an()||bc.keepOpen||bc.inline||ap()},incrementHours:function(){var d=aR.clone().add(1,"h");a3(d,"h")&&aa(d)},incrementMinutes:function(){var d=aR.clone().add(bc.stepping,"m");a3(d,"m")&&aa(d)},incrementSeconds:function(){var d=aR.clone().add(1,"s");a3(d,"s")&&aa(d)},decrementHours:function(){var d=aR.clone().subtract(1,"h");a3(d,"h")&&aa(d)},decrementMinutes:function(){var d=aR.clone().subtract(bc.stepping,"m");a3(d,"m")&&aa(d)},decrementSeconds:function(){var d=aR.clone().subtract(1,"s");a3(d,"s")&&aa(d)},togglePeriod:function(){aa(aR.clone().add(aR.hours()>=12?-12:12,"h"))},togglePicker:function(f){var k,h=b(f.target),d=h.closest("ul"),j=d.find(".in"),g=d.find(".collapse:not(.in)");if(j&&j.length){if(k=j.data("collapse"),k&&k.transitioning){return}j.collapse?(j.collapse("hide"),g.collapse("show")):(j.removeClass("in"),g.addClass("in")),h.is("span")?h.toggleClass(bc.icons.time+" "+bc.icons.date):h.find("span").toggleClass(bc.icons.time+" "+bc.icons.date)}},showPicker:function(){a5.find(".timepicker > div:not(.timepicker-picker)").hide(),a5.find(".timepicker .timepicker-picker").show()},showHours:function(){a5.find(".timepicker .timepicker-picker").hide(),a5.find(".timepicker .timepicker-hours").show()},showMinutes:function(){a5.find(".timepicker .timepicker-picker").hide(),a5.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){a5.find(".timepicker .timepicker-picker").hide(),a5.find(".timepicker .timepicker-seconds").show()},selectHour:function(d){var f=parseInt(b(d.target).text(),10);a4||(aR.hours()>=12?12!==f&&(f+=12):12===f&&(f=0)),aa(aR.clone().hours(f)),a7.showPicker.call(a0)},selectMinute:function(d){aa(aR.clone().minutes(parseInt(b(d.target).text(),10))),a7.showPicker.call(a0)},selectSecond:function(d){aa(aR.clone().seconds(parseInt(b(d.target).text(),10))),a7.showPicker.call(a0)},clear:aV,today:function(){a3(a(),"d")&&aa(a())},close:ap},a2=function(d){return b(d.currentTarget).is(".disabled")?!1:(a7[b(d.currentTarget).data("action")].apply(a0,arguments),!1)},af=function(){var f,d={year:function(g){return g.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(g){return g.date(1).hours(0).seconds(0).minutes(0)},day:function(g){return g.hours(0).seconds(0).minutes(0)},hour:function(g){return g.seconds(0).minutes(0)},minute:function(g){return g.seconds(0)}};return aT.prop("disabled")||!bc.ignoreReadonly&&aT.prop("readonly")||a5?a0:(void 0!==aT.val()&&0!==aT.val().trim().length?aa(aG(aT.val().trim())):bc.useCurrent&&a8&&(aT.is("input")&&0===aT.val().trim().length||bc.inline)&&(f=a(),"string"==typeof bc.useCurrent&&(f=d[bc.useCurrent](f)),aa(f)),a5=al(),az(),aM(),a5.find(".timepicker-hours").hide(),a5.find(".timepicker-minutes").hide(),a5.find(".timepicker-seconds").hide(),aL(),ab(),b(window).on("resize",av),a5.on("click","[data-action]",a2),a5.on("mousedown",!1),aW&&aW.hasClass("btn")&&aW.toggleClass("active"),a5.show(),av(),bc.focusOnShow&&!aT.is(":focus")&&aT.focus(),au({type:"dp.show"}),a0)},aJ=function(){return a5?ap():af()},aG=function(d){return d=void 0===bc.parseInputDate?a.isMoment(d)||d instanceof Date?a(d):a(d,aS,bc.useStrict):bc.parseInputDate(d),d.locale(bc.locale),d},aI=function(k){var q,h,f,j,g=null,v=[],l={},p=k.which,m="p";aA[p]=m;for(q in aA){aA.hasOwnProperty(q)&&aA[q]===m&&(v.push(q),parseInt(q,10)!==p&&(l[q]=!0))}for(q in bc.keyBinds){if(bc.keyBinds.hasOwnProperty(q)&&"function"==typeof bc.keyBinds[q]&&(f=q.split(" "),f.length===v.length&&bb[p]===f[f.length-1])){for(j=!0,h=f.length-2;h>=0;h--){if(!(bb[f[h]] in l)){j=!1;break}}if(j){g=bc.keyBinds[q];break}}}g&&(g.call(a0,a5),k.stopPropagation(),k.preventDefault())},aw=function(d){aA[d.which]="r",d.stopPropagation(),d.preventDefault()},ai=function(f){var g=b(f.target).val().trim(),d=g?aG(g):null;return aa(d),f.stopImmediatePropagation(),!1},aH=function(){aT.on({change:ai,blur:bc.debug?"":ap,keydown:aI,keyup:aw,focus:bc.allowInputToggle?af:""}),aY.is("input")?aT.on({focus:af}):aW&&(aW.on("click",aJ),aW.on("mousedown",!1))},aK=function(){aT.off({change:ai,blur:blur,keydown:aI,keyup:aw,focus:bc.allowInputToggle?ap:""}),aY.is("input")?aT.off({focus:af}):aW&&(aW.off("click",aJ),aW.off("mousedown",!1))},aE=function(d){var f={};return b.each(d,function(){var g=aG(this);g.isValid()&&(f[g.format("YYYY-MM-DD")]=!0)}),Object.keys(f).length?f:!1},aF=function(d){var f={};return b.each(d,function(){f[this]=!0}),Object.keys(f).length?f:!1},ar=function(){var d=bc.format||"L LT";aX=d.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(g){var f=aR.localeData().longDateFormat(g)||g;return f.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(h){return aR.localeData().longDateFormat(h)||h})}),aS=bc.extraFormats?bc.extraFormats.slice():[],aS.indexOf(d)<0&&aS.indexOf(aX)<0&&aS.push(aX),a4=aX.toLowerCase().indexOf("a")<1&&aX.replace(/\[.*?\]/g,"").indexOf("h")<1,a1("y")&&(aZ=2),a1("M")&&(aZ=1),a1("d")&&(aZ=0),a9=Math.max(aZ,a9),a8||aa(aR)};if(a0.destroy=function(){ap(),aK(),aY.removeData("DateTimePicker"),aY.removeData("date")},a0.toggle=aJ,a0.show=af,a0.hide=ap,a0.disable=function(){return ap(),aW&&aW.hasClass("btn")&&aW.addClass("disabled"),aT.prop("disabled",!0),a0},a0.enable=function(){return aW&&aW.hasClass("btn")&&aW.removeClass("disabled"),aT.prop("disabled",!1),a0},a0.ignoreReadonly=function(d){if(0===arguments.length){return bc.ignoreReadonly}if("boolean"!=typeof d){throw new TypeError("ignoreReadonly () expects a boolean parameter")}return bc.ignoreReadonly=d,a0},a0.options=function(d){if(0===arguments.length){return b.extend(!0,{},bc)}if(!(d instanceof Object)){throw new TypeError("options() options parameter should be an object")}return b.extend(!0,bc,d),b.each(bc,function(g,f){if(void 0===a0[g]){throw new TypeError("option "+g+" is not recognized!")}a0[g](f)}),a0},a0.date=function(d){if(0===arguments.length){return a8?null:aR.clone()}if(!(null===d||"string"==typeof d||a.isMoment(d)||d instanceof Date)){throw new TypeError("date() parameter must be one of [null, string, moment or Date]")}return aa(null===d?null:aG(d)),a0},a0.format=function(d){if(0===arguments.length){return bc.format}if("string"!=typeof d&&("boolean"!=typeof d||d!==!1)){throw new TypeError("format() expects a sting or boolean:false parameter "+d)}return bc.format=d,aX&&ar(),a0},a0.dayViewHeaderFormat=function(d){if(0===arguments.length){return bc.dayViewHeaderFormat}if("string"!=typeof d){throw new TypeError("dayViewHeaderFormat() expects a string parameter")}return bc.dayViewHeaderFormat=d,a0},a0.extraFormats=function(d){if(0===arguments.length){return bc.extraFormats}if(d!==!1&&!(d instanceof Array)){throw new TypeError("extraFormats() expects an array or false parameter")}return bc.extraFormats=d,aS&&ar(),a0},a0.disabledDates=function(d){if(0===arguments.length){return bc.disabledDates?b.extend({},bc.disabledDates):bc.disabledDates}if(!d){return bc.disabledDates=!1,aL(),a0}if(!(d instanceof Array)){throw new TypeError("disabledDates() expects an array parameter")}return bc.disabledDates=aE(d),bc.enabledDates=!1,aL(),a0},a0.enabledDates=function(d){if(0===arguments.length){return bc.enabledDates?b.extend({},bc.enabledDates):bc.enabledDates}if(!d){return bc.enabledDates=!1,aL(),a0}if(!(d instanceof Array)){throw new TypeError("enabledDates() expects an array parameter")}return bc.enabledDates=aE(d),bc.disabledDates=!1,aL(),a0},a0.daysOfWeekDisabled=function(f){if(0===arguments.length){return bc.daysOfWeekDisabled.splice(0)}if("boolean"==typeof f&&!f){return bc.daysOfWeekDisabled=!1,aL(),a0}if(!(f instanceof Array)){throw new TypeError("daysOfWeekDisabled() expects an array parameter")}if(bc.daysOfWeekDisabled=f.reduce(function(h,g){return g=parseInt(g,10),g>6||0>g||isNaN(g)?h:(-1===h.indexOf(g)&&h.push(g),h)},[]).sort(),bc.useCurrent&&!bc.keepInvalid){for(var d=0;!a3(aR,"d");){if(aR.add(1,"d"),7===d){throw"Tried 7 times to find a valid date"}d++}aa(aR)}return aL(),a0},a0.maxDate=function(d){if(0===arguments.length){return bc.maxDate?bc.maxDate.clone():bc.maxDate}if("boolean"==typeof d&&d===!1){return bc.maxDate=!1,aL(),a0}"string"==typeof d&&("now"===d||"moment"===d)&&(d=a());var f=aG(d);if(!f.isValid()){throw new TypeError("maxDate() Could not parse date parameter: "+d)}if(bc.minDate&&f.isBefore(bc.minDate)){throw new TypeError("maxDate() date parameter is before options.minDate: "+f.format(aX))}return bc.maxDate=f,bc.useCurrent&&!bc.keepInvalid&&aR.isAfter(d)&&aa(bc.maxDate),ba.isAfter(f)&&(ba=f.clone().subtract(bc.stepping,"m")),aL(),a0},a0.minDate=function(d){if(0===arguments.length){return bc.minDate?bc.minDate.clone():bc.minDate}if("boolean"==typeof d&&d===!1){return bc.minDate=!1,aL(),a0}"string"==typeof d&&("now"===d||"moment"===d)&&(d=a());var f=aG(d);if(!f.isValid()){throw new TypeError("minDate() Could not parse date parameter: "+d)}if(bc.maxDate&&f.isAfter(bc.maxDate)){throw new TypeError("minDate() date parameter is after options.maxDate: "+f.format(aX))}return bc.minDate=f,bc.useCurrent&&!bc.keepInvalid&&aR.isBefore(d)&&aa(bc.minDate),ba.isBefore(f)&&(ba=f.clone().add(bc.stepping,"m")),aL(),a0},a0.defaultDate=function(d){if(0===arguments.length){return bc.defaultDate?bc.defaultDate.clone():bc.defaultDate}if(!d){return bc.defaultDate=!1,a0}"string"==typeof d&&("now"===d||"moment"===d)&&(d=a());var f=aG(d);if(!f.isValid()){throw new TypeError("defaultDate() Could not parse date parameter: "+d)}if(!a3(f)){throw new TypeError("defaultDate() date passed is invalid according to component setup validations")}return bc.defaultDate=f,(bc.defaultDate&&bc.inline||""===aT.val().trim()&&void 0===aT.attr("placeholder"))&&aa(bc.defaultDate),a0},a0.locale=function(d){if(0===arguments.length){return bc.locale}if(!a.localeData(d)){throw new TypeError("locale() locale "+d+" is not loaded from moment locales!")}return bc.locale=d,aR.locale(bc.locale),ba.locale(bc.locale),aX&&ar(),a5&&(ap(),af()),a0},a0.stepping=function(d){return 0===arguments.length?bc.stepping:(d=parseInt(d,10),(isNaN(d)||1>d)&&(d=1),bc.stepping=d,a0)},a0.useCurrent=function(f){var d=["year","month","day","hour","minute"];if(0===arguments.length){return bc.useCurrent}if("boolean"!=typeof f&&"string"!=typeof f){throw new TypeError("useCurrent() expects a boolean or string parameter")}if("string"==typeof f&&-1===d.indexOf(f.toLowerCase())){throw new TypeError("useCurrent() expects a string parameter of "+d.join(", "))}return bc.useCurrent=f,a0},a0.collapse=function(d){if(0===arguments.length){return bc.collapse}if("boolean"!=typeof d){throw new TypeError("collapse() expects a boolean parameter")}return bc.collapse===d?a0:(bc.collapse=d,a5&&(ap(),af()),a0)},a0.icons=function(d){if(0===arguments.length){return b.extend({},bc.icons)}if(!(d instanceof Object)){throw new TypeError("icons() expects parameter to be an Object")}return b.extend(bc.icons,d),a5&&(ap(),af()),a0},a0.tooltips=function(d){if(0===arguments.length){return b.extend({},bc.tooltips)}if(!(d instanceof Object)){throw new TypeError("tooltips() expects parameter to be an Object")}return b.extend(bc.tooltips,d),a5&&(ap(),af()),a0},a0.useStrict=function(d){if(0===arguments.length){return bc.useStrict}if("boolean"!=typeof d){throw new TypeError("useStrict() expects a boolean parameter")}return bc.useStrict=d,a0},a0.sideBySide=function(d){if(0===arguments.length){return bc.sideBySide}if("boolean"!=typeof d){throw new TypeError("sideBySide() expects a boolean parameter")}return bc.sideBySide=d,a5&&(ap(),af()),a0},a0.viewMode=function(d){if(0===arguments.length){return bc.viewMode}if("string"!=typeof d){throw new TypeError("viewMode() expects a string parameter")}if(-1===a6.indexOf(d)){throw new TypeError("viewMode() parameter must be one of ("+a6.join(", ")+") value")}return bc.viewMode=d,a9=Math.max(a6.indexOf(d),aZ),ab(),a0},a0.toolbarPlacement=function(d){if(0===arguments.length){return bc.toolbarPlacement}if("string"!=typeof d){throw new TypeError("toolbarPlacement() expects a string parameter")}if(-1===aQ.indexOf(d)){throw new TypeError("toolbarPlacement() parameter must be one of ("+aQ.join(", ")+") value")}return bc.toolbarPlacement=d,a5&&(ap(),af()),a0},a0.widgetPositioning=function(d){if(0===arguments.length){return b.extend({},bc.widgetPositioning)}if("[object Object]"!=={}.toString.call(d)){throw new TypeError("widgetPositioning() expects an object variable")}if(d.horizontal){if("string"!=typeof d.horizontal){throw new TypeError("widgetPositioning() horizontal variable must be a string")}if(d.horizontal=d.horizontal.toLowerCase(),-1===bd.indexOf(d.horizontal)){throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+bd.join(", ")+")")}bc.widgetPositioning.horizontal=d.horizontal}if(d.vertical){if("string"!=typeof d.vertical){throw new TypeError("widgetPositioning() vertical variable must be a string")}if(d.vertical=d.vertical.toLowerCase(),-1===aP.indexOf(d.vertical)){throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+aP.join(", ")+")")}bc.widgetPositioning.vertical=d.vertical}return aL(),a0},a0.calendarWeeks=function(d){if(0===arguments.length){return bc.calendarWeeks}if("boolean"!=typeof d){throw new TypeError("calendarWeeks() expects parameter to be a boolean value")}return bc.calendarWeeks=d,aL(),a0},a0.showTodayButton=function(d){if(0===arguments.length){return bc.showTodayButton}if("boolean"!=typeof d){throw new TypeError("showTodayButton() expects a boolean parameter")}return bc.showTodayButton=d,a5&&(ap(),af()),a0},a0.showClear=function(d){if(0===arguments.length){return bc.showClear}if("boolean"!=typeof d){throw new TypeError("showClear() expects a boolean parameter")}return bc.showClear=d,a5&&(ap(),af()),a0},a0.widgetParent=function(d){if(0===arguments.length){return bc.widgetParent}if("string"==typeof d&&(d=b(d)),null!==d&&"string"!=typeof d&&!(d instanceof b)){throw new TypeError("widgetParent() expects a string or a jQuery object parameter")}return bc.widgetParent=d,a5&&(ap(),af()),a0},a0.keepOpen=function(d){if(0===arguments.length){return bc.keepOpen}if("boolean"!=typeof d){throw new TypeError("keepOpen() expects a boolean parameter")}return bc.keepOpen=d,a0},a0.focusOnShow=function(d){if(0===arguments.length){return bc.focusOnShow}if("boolean"!=typeof d){throw new TypeError("focusOnShow() expects a boolean parameter")}return bc.focusOnShow=d,a0},a0.inline=function(d){if(0===arguments.length){return bc.inline}if("boolean"!=typeof d){throw new TypeError("inline() expects a boolean parameter")}return bc.inline=d,a0},a0.clear=function(){return aV(),a0},a0.keyBinds=function(d){return bc.keyBinds=d,a0},a0.debug=function(d){if("boolean"!=typeof d){throw new TypeError("debug() expects a boolean parameter")}return bc.debug=d,a0},a0.allowInputToggle=function(d){if(0===arguments.length){return bc.allowInputToggle}if("boolean"!=typeof d){throw new TypeError("allowInputToggle() expects a boolean parameter")}return bc.allowInputToggle=d,a0},a0.showClose=function(d){if(0===arguments.length){return bc.showClose}if("boolean"!=typeof d){throw new TypeError("showClose() expects a boolean parameter")}return bc.showClose=d,a0},a0.keepInvalid=function(d){if(0===arguments.length){return bc.keepInvalid}if("boolean"!=typeof d){throw new TypeError("keepInvalid() expects a boolean parameter")}return bc.keepInvalid=d,a0},a0.datepickerInput=function(d){if(0===arguments.length){return bc.datepickerInput}if("string"!=typeof d){throw new TypeError("datepickerInput() expects a string parameter")}return bc.datepickerInput=d,a0},a0.parseInputDate=function(d){if(0===arguments.length){return bc.parseInputDate}if("function"!=typeof d){throw new TypeError("parseInputDate() sholud be as function")}return bc.parseInputDate=d,a0},a0.disabledTimeIntervals=function(d){if(0===arguments.length){return bc.disabledTimeIntervals?b.extend({},bc.disabledTimeIntervals):bc.disabledTimeIntervals}if(!d){return bc.disabledTimeIntervals=!1,aL(),a0}if(!(d instanceof Array)){throw new TypeError("disabledTimeIntervals() expects an array parameter")}return bc.disabledTimeIntervals=d,aL(),a0},a0.disabledHours=function(d){if(0===arguments.length){return bc.disabledHours?b.extend({},bc.disabledHours):bc.disabledHours}if(!d){return bc.disabledHours=!1,aL(),a0}if(!(d instanceof Array)){throw new TypeError("disabledHours() expects an array parameter")}if(bc.disabledHours=aF(d),bc.enabledHours=!1,bc.useCurrent&&!bc.keepInvalid){for(var f=0;!a3(aR,"h");){if(aR.add(1,"h"),24===f){throw"Tried 24 times to find a valid date"}f++}aa(aR)}return aL(),a0},a0.enabledHours=function(d){if(0===arguments.length){return bc.enabledHours?b.extend({},bc.enabledHours):bc.enabledHours}if(!d){return bc.enabledHours=!1,aL(),a0}if(!(d instanceof Array)){throw new TypeError("enabledHours() expects an array parameter")}if(bc.enabledHours=aF(d),bc.disabledHours=!1,bc.useCurrent&&!bc.keepInvalid){for(var f=0;!a3(aR,"h");){if(aR.add(1,"h"),24===f){throw"Tried 24 times to find a valid date"}f++}aa(aR)}return aL(),a0},a0.viewDate=function(d){if(0===arguments.length){return ba.clone()}if(!d){return ba=aR.clone(),a0}if(!("string"==typeof d||a.isMoment(d)||d instanceof Date)){throw new TypeError("viewDate() parameter must be one of [string, moment or Date]")}return ba=aG(d),ao(),a0},aY.is("input")){aT=aY}else{if(aT=aY.find(bc.datepickerInput),0===aT.size()){aT=aY.find("input")}else{if(!aT.is("input")){throw new Error('CSS class "'+bc.datepickerInput+'" cannot be applied to non input element')}}}if(aY.hasClass("input-group")&&(aW=aY.find(0===aY.find(".datepickerbutton").size()?".input-group-addon":".datepickerbutton")),!bc.inline&&!aT.is("input")){throw new Error("Could not initialize DateTimePicker without an input element")}return b.extend(!0,bc,ak()),a0.options(bc),ar(),aH(),aT.prop("disabled")&&a0.disable(),aT.is("input")&&0!==aT.val().trim().length?aa(aG(aT.val().trim())):bc.defaultDate&&void 0===aT.attr("placeholder")&&aa(bc.defaultDate),bc.inline&&af(),a0};b.fn.datetimepicker=function(d){return this.each(function(){var e=b(this);e.data("DateTimePicker")||(d=b.extend(!0,{},b.fn.datetimepicker.defaults,d),e.data("DateTimePicker",c(e,d)))})},b.fn.datetimepicker.defaults={format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:a.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(d){if(d){var f=this.date()||a();this.date(d.find(".datepicker").is(":visible")?f.clone().subtract(7,"d"):f.clone().add(this.stepping(),"m"))}},down:function(d){if(!d){return void this.show()}var f=this.date()||a();this.date(d.find(".datepicker").is(":visible")?f.clone().add(7,"d"):f.clone().subtract(this.stepping(),"m"))},"control up":function(d){if(d){var f=this.date()||a();this.date(d.find(".datepicker").is(":visible")?f.clone().subtract(1,"y"):f.clone().add(1,"h"))}},"control down":function(d){if(d){var f=this.date()||a();this.date(d.find(".datepicker").is(":visible")?f.clone().add(1,"y"):f.clone().subtract(1,"h"))}},left:function(d){if(d){var f=this.date()||a();d.find(".datepicker").is(":visible")&&this.date(f.clone().subtract(1,"d"))}},right:function(d){if(d){var f=this.date()||a();d.find(".datepicker").is(":visible")&&this.date(f.clone().add(1,"d"))}},pageUp:function(d){if(d){var f=this.date()||a();d.find(".datepicker").is(":visible")&&this.date(f.clone().subtract(1,"M"))}},pageDown:function(d){if(d){var f=this.date()||a();d.find(".datepicker").is(":visible")&&this.date(f.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(d){d.find(".timepicker").is(":visible")&&d.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(a())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1}});
/*!/dialog/js/bootstrap-dialog.js*/
!function(a,b){a.bi={},"undefined"!=typeof module&&module.exports?module.exports=b(require("jquery"),require("bootstrap")):"function"==typeof define&&define.amd?jQuery?a.bi.dialog=b(a.jQuery):define("bootstrap-dialog",["jquery","bootstrap"],function(c){return b(c)}):a.bi.dialog=b(a.jQuery)}(this,function(a){var b=a.fn.modal.Constructor,d=function(e,f){b.call(this,e,f)};d.getModalVersion=function(){var f=null;return f="undefined"==typeof a.fn.modal.Constructor.VERSION?"v3.1":/3\.2\.\d+/.test(a.fn.modal.Constructor.VERSION)?"v3.2":/3\.3\.[1,2]/.test(a.fn.modal.Constructor.VERSION)?"v3.3":"v3.3.4"},d.ORIGINAL_BODY_PADDING=parseInt(a("body").css("padding-right")||0,10),d.METHODS_TO_OVERRIDE={},d.METHODS_TO_OVERRIDE["v3.1"]={},d.METHODS_TO_OVERRIDE["v3.2"]={hide:function(f){if(f&&f.preventDefault(),f=a.Event("hide.bs.modal"),this.$element.trigger(f),this.isShown&&!f.isDefaultPrevented()){this.isShown=!1;var g=this.getGlobalOpenedDialogs();0===g.length&&this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()}}},d.METHODS_TO_OVERRIDE["v3.3"]={setScrollbar:function(){var e=d.ORIGINAL_BODY_PADDING;this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},resetScrollbar:function(){var e=this.getGlobalOpenedDialogs();0===e.length&&this.$body.css("padding-right",d.ORIGINAL_BODY_PADDING)},hideModal:function(){this.$element.hide(),this.backdrop(a.proxy(function(){var e=this.getGlobalOpenedDialogs();0===e.length&&this.$body.removeClass("modal-open"),this.resetAdjustments(),this.resetScrollbar(),this.$element.trigger("hidden.bs.modal")},this))}},d.METHODS_TO_OVERRIDE["v3.3.4"]=a.extend({},d.METHODS_TO_OVERRIDE["v3.3"]),d.prototype={constructor:d,getGlobalOpenedDialogs:function(){var f=[];return a.each(c.dialogs,function(e,g){g.isRealized()&&g.isOpened()&&f.push(g)}),f}},d.prototype=a.extend(d.prototype,b.prototype,d.METHODS_TO_OVERRIDE[d.getModalVersion()]);var c=function(f){this.defaultOptions=a.extend(!0,{id:c.newGuid(),buttons:[],data:{},onshow:null,onshown:null,onhide:null,onhidden:null},c.defaultOptions),this.indexedButtons={},this.registeredButtonHotkeys={},this.draggableData={isMouseDown:!1,mouseOffset:{}},this.realized=!1,this.opened=!1,this.initOptions(f),this.holdThisInstance()};return c.BootstrapDialogModal=d,c.NAMESPACE="bootstrap-dialog",c.TYPE_DEFAULT="type-default",c.TYPE_INFO="type-info",c.TYPE_PRIMARY="type-primary",c.TYPE_SUCCESS="type-success",c.TYPE_WARNING="type-warning",c.TYPE_DANGER="type-danger",c.DEFAULT_TEXTS={},c.DEFAULT_TEXTS[c.TYPE_DEFAULT]="Information",c.DEFAULT_TEXTS[c.TYPE_INFO]="Information",c.DEFAULT_TEXTS[c.TYPE_PRIMARY]="Information",c.DEFAULT_TEXTS[c.TYPE_SUCCESS]="Success",c.DEFAULT_TEXTS[c.TYPE_WARNING]="Warning",c.DEFAULT_TEXTS[c.TYPE_DANGER]="Danger",c.DEFAULT_TEXTS.OK="",c.DEFAULT_TEXTS.CANCEL="",c.DEFAULT_TEXTS.CONFIRM="Confirmation",c.SIZE_NORMAL="size-normal",c.SIZE_SMALL="size-small",c.SIZE_WIDE="size-wide",c.SIZE_LARGE="size-large",c.BUTTON_SIZES={},c.BUTTON_SIZES[c.SIZE_NORMAL]="",c.BUTTON_SIZES[c.SIZE_SMALL]="",c.BUTTON_SIZES[c.SIZE_WIDE]="",c.BUTTON_SIZES[c.SIZE_LARGE]="btn-lg",c.ICON_SPINNER="glyphicon glyphicon-asterisk",c.defaultOptions={type:c.TYPE_PRIMARY,size:c.SIZE_NORMAL,cssClass:"",title:null,message:null,nl2br:!0,closable:!0,closeByBackdrop:!0,closeByKeyboard:!0,spinicon:c.ICON_SPINNER,autodestroy:!0,draggable:!1,animate:!0,description:"",tabindex:null},c.configDefaultOptions=function(f){c.defaultOptions=a.extend(!0,c.defaultOptions,f)},c.dialogs={},c.openAll=function(){a.each(c.dialogs,function(f,g){g.open()})},c.closeAll=function(){a.each(c.dialogs,function(f,g){g.close()})},c.moveFocus=function(){var f=null;a.each(c.dialogs,function(e,g){f=g}),null!==f&&f.isRealized()&&f.getModal().focus()},c.METHODS_TO_OVERRIDE={},c.METHODS_TO_OVERRIDE["v3.1"]={handleModalBackdropEvent:function(){return this.getModal().on("click",{dialog:this},function(e){e.target===this&&e.data.dialog.isClosable()&&e.data.dialog.canCloseByBackdrop()&&e.data.dialog.close()}),this},updateZIndex:function(){var j=1040,k=1050,g=0;a.each(c.dialogs,function(){g++});var h=this.getModal(),f=h.data("bs.modal").$backdrop;return h.css("z-index",k+20*(g-1)),f.css("z-index",j+20*(g-1)),this},open:function(){return !this.isRealized()&&this.realize(),this.getModal().modal("show"),this.updateZIndex(),this}},c.METHODS_TO_OVERRIDE["v3.2"]={handleModalBackdropEvent:c.METHODS_TO_OVERRIDE["v3.1"].handleModalBackdropEvent,updateZIndex:c.METHODS_TO_OVERRIDE["v3.1"].updateZIndex,open:c.METHODS_TO_OVERRIDE["v3.1"].open},c.METHODS_TO_OVERRIDE["v3.3"]={},c.METHODS_TO_OVERRIDE["v3.3.4"]=a.extend({},c.METHODS_TO_OVERRIDE["v3.1"]),c.prototype={constructor:c,initOptions:function(f){return this.options=a.extend(!0,this.defaultOptions,f),this},holdThisInstance:function(){return c.dialogs[this.getId()]=this,this},initModalStuff:function(){return this.setModal(this.createModal()).setModalDialog(this.createModalDialog()).setModalContent(this.createModalContent()).setModalHeader(this.createModalHeader()).setModalBody(this.createModalBody()).setModalFooter(this.createModalFooter()),this.getModal().append(this.getModalDialog()),this.getModalDialog().append(this.getModalContent()),this.getModalContent().append(this.getModalHeader()).append(this.getModalBody()).append(this.getModalFooter()),this},createModal:function(){var f=a('<div class="modal" role="dialog" aria-hidden="true"></div>');return f.prop("id",this.getId()),f.attr("aria-labelledby",this.getId()+"_title"),f},getModal:function(){return this.$modal},setModal:function(e){return this.$modal=e,this},createModalDialog:function(){return a('<div class="modal-dialog"></div>')},getModalDialog:function(){return this.$modalDialog},setModalDialog:function(e){return this.$modalDialog=e,this},createModalContent:function(){return a('<div class="modal-content"></div>')},getModalContent:function(){return this.$modalContent},setModalContent:function(e){return this.$modalContent=e,this},createModalHeader:function(){return a('<div class="modal-header"></div>')},getModalHeader:function(){return this.$modalHeader},setModalHeader:function(e){return this.$modalHeader=e,this},createModalBody:function(){return a('<div class="modal-body"></div>')},getModalBody:function(){return this.$modalBody},setModalBody:function(e){return this.$modalBody=e,this},createModalFooter:function(){return a('<div class="modal-footer"></div>')},getModalFooter:function(){return this.$modalFooter},setModalFooter:function(e){return this.$modalFooter=e,this},createDynamicContent:function(f){var g=null;return g="function"==typeof f?f.call(f,this):f,"string"==typeof g&&(g=this.formatStringContent(g)),g},formatStringContent:function(e){return this.options.nl2br?e.replace(/\r\n/g,"<br />").replace(/[\r\n]/g,"<br />"):e},setData:function(f,g){return this.options.data[f]=g,this},getData:function(e){return this.options.data[e]},setId:function(e){return this.options.id=e,this},getId:function(){return this.options.id},getType:function(){return this.options.type},setType:function(e){return this.options.type=e,this.updateType(),this},updateType:function(){if(this.isRealized()){var e=[c.TYPE_DEFAULT,c.TYPE_INFO,c.TYPE_PRIMARY,c.TYPE_SUCCESS,c.TYPE_WARNING,c.TYPE_DANGER];this.getModal().removeClass(e.join(" ")).addClass(this.getType())}return this},getSize:function(){return this.options.size},setSize:function(e){return this.options.size=e,this.updateSize(),this},updateSize:function(){if(this.isRealized()){var f=this;this.getModal().removeClass(c.SIZE_NORMAL).removeClass(c.SIZE_SMALL).removeClass(c.SIZE_WIDE).removeClass(c.SIZE_LARGE),this.getModal().addClass(this.getSize()),this.getModalDialog().removeClass("modal-sm"),this.getSize()===c.SIZE_SMALL&&this.getModalDialog().addClass("modal-sm"),this.getModalDialog().removeClass("modal-lg"),this.getSize()===c.SIZE_WIDE&&this.getModalDialog().addClass("modal-lg"),a.each(this.options.buttons,function(l,k){var g=f.getButton(k.id),h=["btn-lg","btn-sm","btn-xs"],e=!1;if("string"==typeof k.cssClass){var j=k.cssClass.split(" ");a.each(j,function(i,m){-1!==a.inArray(m,h)&&(e=!0)})}e||(g.removeClass(h.join(" ")),g.addClass(f.getButtonSize()))})}return this},getCssClass:function(){return this.options.cssClass},setCssClass:function(e){return this.options.cssClass=e,this},getTitle:function(){return this.options.title},setTitle:function(e){return this.options.title=e,this.updateTitle(),this},updateTitle:function(){if(this.isRealized()){var e=null!==this.getTitle()?this.createDynamicContent(this.getTitle()):this.getDefaultText();this.getModalHeader().find("."+this.getNamespace("title")).html("").append(e).prop("id",this.getId()+"_title")}return this},getMessage:function(){return this.options.message},setMessage:function(e){return this.options.message=e,this.updateMessage(),this},updateMessage:function(){if(this.isRealized()){var e=this.createDynamicContent(this.getMessage());this.getModalBody().find("."+this.getNamespace("message")).html("").append(e)}return this},isClosable:function(){return this.options.closable},setClosable:function(e){return this.options.closable=e,this.updateClosable(),this},setCloseByBackdrop:function(e){return this.options.closeByBackdrop=e,this},canCloseByBackdrop:function(){return this.options.closeByBackdrop},setCloseByKeyboard:function(e){return this.options.closeByKeyboard=e,this},canCloseByKeyboard:function(){return this.options.closeByKeyboard},isAnimate:function(){return this.options.animate},setAnimate:function(e){return this.options.animate=e,this},updateAnimate:function(){return this.isRealized()&&this.getModal().toggleClass("fade",this.isAnimate()),this},getSpinicon:function(){return this.options.spinicon},setSpinicon:function(e){return this.options.spinicon=e,this},addButton:function(e){return this.options.buttons.push(e),this},addButtons:function(f){var g=this;return a.each(f,function(h,i){g.addButton(i)}),this},getButtons:function(){return this.options.buttons},setButtons:function(e){return this.options.buttons=e,this.updateButtons(),this},getButton:function(e){return"undefined"!=typeof this.indexedButtons[e]?this.indexedButtons[e]:null},getButtonSize:function(){return"undefined"!=typeof c.BUTTON_SIZES[this.getSize()]?c.BUTTON_SIZES[this.getSize()]:""},updateButtons:function(){return this.isRealized()&&(0===this.getButtons().length?this.getModalFooter().hide():this.getModalFooter().show().find("."+this.getNamespace("footer")).html("").append(this.createFooterButtons())),this},isAutodestroy:function(){return this.options.autodestroy},setAutodestroy:function(e){this.options.autodestroy=e},getDescription:function(){return this.options.description},setDescription:function(e){return this.options.description=e,this},setTabindex:function(e){return this.options.tabindex=e,this},getTabindex:function(){return this.options.tabindex},updateTabindex:function(){return this.isRealized()&&this.getModal().attr("tabindex",this.getTabindex()),this},getDefaultText:function(){return c.DEFAULT_TEXTS[this.getType()]},getNamespace:function(e){return c.NAMESPACE+"-"+e},createHeaderContent:function(){var f=a("<div></div>");return f.addClass(this.getNamespace("header")),f.append(this.createTitleContent()),f.prepend(this.createCloseButton()),f},createTitleContent:function(){var f=a("<div></div>");return f.addClass(this.getNamespace("title")),f},createCloseButton:function(){var f=a("<div></div>");f.addClass(this.getNamespace("close-button"));var g=a('<button class="close">&times;</button>');return f.append(g),f.on("click",{dialog:this},function(e){e.data.dialog.close()}),f},createBodyContent:function(){var f=a("<div></div>");return f.addClass(this.getNamespace("body")),f.append(this.createMessageContent()),f},createMessageContent:function(){var f=a("<div></div>");return f.addClass(this.getNamespace("message")),f},createFooterContent:function(){var f=a("<div></div>");return f.addClass(this.getNamespace("footer")),f},createFooterButtons:function(){var f=this,g=a("<div></div>");return g.addClass(this.getNamespace("footer-buttons")),this.indexedButtons={},a.each(this.options.buttons,function(h,e){e.id||(e.id=c.newGuid());var j=f.createButton(e);f.indexedButtons[e.id]=j,g.append(j)}),g},createButton:function(f){var g=a('<button class="btn"></button>');return g.prop("id",f.id),g.data("button",f),"undefined"!=typeof f.icon&&""!==a.trim(f.icon)&&g.append(this.createButtonIcon(f.icon)),"undefined"!=typeof f.label&&g.append(f.label),g.addClass("undefined"!=typeof f.cssClass&&""!==a.trim(f.cssClass)?f.cssClass:"btn-default"),"undefined"!=typeof f.hotkey&&(this.registeredButtonHotkeys[f.hotkey]=g),g.on("click",{dialog:this,$button:g,button:f},function(h){var i=h.data.dialog,k=h.data.$button,j=k.data("button");"function"==typeof j.action&&j.action.call(k,i,h),j.autospin&&k.toggleSpin(!0)}),this.enhanceButton(g),g},enhanceButton:function(e){return e.dialog=this,e.toggleEnable=function(f){var g=this;return"undefined"!=typeof f?g.prop("disabled",!f).toggleClass("disabled",!f):g.prop("disabled",!g.prop("disabled")),g},e.enable=function(){var f=this;return f.toggleEnable(!0),f},e.disable=function(){var f=this;return f.toggleEnable(!1),f},e.toggleSpin=function(g){var j=this,h=j.dialog,f=j.find("."+h.getNamespace("button-icon"));return"undefined"==typeof g&&(g=!(e.find(".icon-spin").length>0)),g?(f.hide(),e.prepend(h.createButtonIcon(h.getSpinicon()).addClass("icon-spin"))):(f.show(),e.find(".icon-spin").remove()),j},e.spin=function(){var f=this;return f.toggleSpin(!0),f},e.stopSpin=function(){var f=this;return f.toggleSpin(!1),f},this},createButtonIcon:function(f){var g=a("<span></span>");return g.addClass(this.getNamespace("button-icon")).addClass(f),g},enableButtons:function(f){return a.each(this.indexedButtons,function(e,g){g.toggleEnable(f)}),this},updateClosable:function(){return this.isRealized()&&this.getModalHeader().find("."+this.getNamespace("close-button")).toggle(this.isClosable()),this},onShow:function(e){return this.options.onshow=e,this},onShown:function(e){return this.options.onshown=e,this},onHide:function(e){return this.options.onhide=e,this},onHidden:function(e){return this.options.onhidden=e,this},isRealized:function(){return this.realized},setRealized:function(e){return this.realized=e,this},isOpened:function(){return this.opened},setOpened:function(e){return this.opened=e,this},handleModalEvents:function(){return this.getModal().on("show.bs.modal",{dialog:this},function(f){var g=f.data.dialog;if(g.setOpened(!0),g.isModalEvent(f)&&"function"==typeof g.options.onshow){var h=g.options.onshow(g);return h===!1&&g.setOpened(!1),h}}),this.getModal().on("shown.bs.modal",{dialog:this},function(f){var g=f.data.dialog;g.isModalEvent(f)&&"function"==typeof g.options.onshown&&g.options.onshown(g)}),this.getModal().on("hide.bs.modal",{dialog:this},function(f){var g=f.data.dialog;if(g.setOpened(!1),g.isModalEvent(f)&&"function"==typeof g.options.onhide){var h=g.options.onhide(g);return h===!1&&g.setOpened(!0),h}}),this.getModal().on("hidden.bs.modal",{dialog:this},function(f){var g=f.data.dialog;g.isModalEvent(f)&&"function"==typeof g.options.onhidden&&g.options.onhidden(g),g.isAutodestroy()&&(delete c.dialogs[g.getId()],a(this).remove()),c.moveFocus()}),this.handleModalBackdropEvent(),this.getModal().on("keyup",{dialog:this},function(e){27===e.which&&e.data.dialog.isClosable()&&e.data.dialog.canCloseByKeyboard()&&e.data.dialog.close()}),this.getModal().on("keyup",{dialog:this},function(f){var h=f.data.dialog;if("undefined"!=typeof h.registeredButtonHotkeys[f.which]){var g=a(h.registeredButtonHotkeys[f.which]);!g.prop("disabled")&&g.focus().trigger("click")}}),this},handleModalBackdropEvent:function(){return this.getModal().on("click",{dialog:this},function(f){a(f.target).hasClass("modal-backdrop")&&f.data.dialog.isClosable()&&f.data.dialog.canCloseByBackdrop()&&f.data.dialog.close()}),this},isModalEvent:function(e){return"undefined"!=typeof e.namespace&&"bs.modal"===e.namespace},makeModalDraggable:function(){return this.options.draggable&&(this.getModalHeader().addClass(this.getNamespace("draggable")).on("mousedown",{dialog:this},function(f){var g=f.data.dialog;g.draggableData.isMouseDown=!0;var h=g.getModalDialog().offset();g.draggableData.mouseOffset={top:f.clientY-h.top,left:f.clientX-h.left}}),this.getModal().on("mouseup mouseleave",{dialog:this},function(e){e.data.dialog.draggableData.isMouseDown=!1}),a("body").on("mousemove",{dialog:this},function(f){var g=f.data.dialog;g.draggableData.isMouseDown&&g.getModalDialog().offset({top:f.clientY-g.draggableData.mouseOffset.top,left:f.clientX-g.draggableData.mouseOffset.left})})),this},realize:function(){return this.initModalStuff(),this.getModal().addClass(c.NAMESPACE).addClass(this.getCssClass()),this.updateSize(),this.getDescription()&&this.getModal().attr("aria-describedby",this.getDescription()),this.getModalFooter().append(this.createFooterContent()),this.getModalHeader().append(this.createHeaderContent()),this.getModalBody().append(this.createBodyContent()),this.getModal().data("bs.modal",new d(this.getModal(),{backdrop:"static",keyboard:!1,show:!1})),this.makeModalDraggable(),this.handleModalEvents(),this.setRealized(!0),this.updateButtons(),this.updateType(),this.updateTitle(),this.updateMessage(),this.updateClosable(),this.updateAnimate(),this.updateSize(),this.updateTabindex(),this},open:function(){return !this.isRealized()&&this.realize(),this.getModal().modal("show"),this},close:function(){return this.getModal().modal("hide"),this}},c.prototype=a.extend(c.prototype,c.METHODS_TO_OVERRIDE[d.getModalVersion()]),c.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(f){var g=16*Math.random()|0,h="x"===f?g:3&g|8;return h.toString(16)})},c.show=function(e){return new c(e).open()},c.alert=function(){var f={},g={type:c.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,buttonLabel:c.DEFAULT_TEXTS.OK,callback:null};return f="object"==typeof arguments[0]&&arguments[0].constructor==={}.constructor?a.extend(!0,g,arguments[0]):a.extend(!0,g,{message:arguments[0],callback:"undefined"!=typeof arguments[1]?arguments[1]:null}),new c({type:f.type,title:f.title,message:f.message,closable:f.closable,draggable:f.draggable,data:{callback:f.callback},onhide:function(e){!e.getData("btnClicked")&&e.isClosable()&&"function"==typeof e.getData("callback")&&e.getData("callback")(!1)},buttons:[{label:f.buttonLabel,action:function(e){e.setData("btnClicked",!0),"function"==typeof e.getData("callback")&&e.getData("callback")(!0),e.close()}}]}).open()},c.confirm=function(){var f={},g={type:c.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,btnCancelLabel:c.DEFAULT_TEXTS.CANCEL,btnCancelClass:null,btnOKLabel:c.DEFAULT_TEXTS.OK,btnOKClass:null,callback:null};return f="object"==typeof arguments[0]&&arguments[0].constructor==={}.constructor?a.extend(!0,g,arguments[0]):a.extend(!0,g,{message:arguments[0],closable:!1,buttonLabel:c.DEFAULT_TEXTS.OK,callback:"undefined"!=typeof arguments[1]?arguments[1]:null}),null===f.btnOKClass&&(f.btnOKClass=["btn",f.type.split("-")[1]].join("-")),new c({type:f.type,title:f.title,message:f.message,closable:f.closable,draggable:f.draggable,data:{callback:f.callback},buttons:[{label:f.btnCancelLabel,cssClass:f.btnCancelClass,action:function(e){"function"==typeof e.getData("callback")&&e.getData("callback")(!1),e.close()}},{label:f.btnOKLabel,cssClass:f.btnOKClass,action:function(e){"function"==typeof e.getData("callback")&&e.getData("callback")(!0),e.close()}}]}).open()},c.warning=function(e){return new c({type:c.TYPE_WARNING,message:e}).open()},c.danger=function(e){return new c({type:c.TYPE_DANGER,message:e}).open()},c.success=function(e){return new c({type:c.TYPE_SUCCESS,message:e}).open()},c});
/*!/bootstrap-switch/bootstrap-switch.js*/
(function(){var a=[].slice;!function(c,b){var d;return d=function(){function e(g,f){null==f&&(f={}),this.$element=c(g),this.options=c.extend({},c.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},f),this.prevOptions={},this.$wrapper=c("<div>",{"class":function(h){return function(){var i;return i=[""+h.options.baseClass].concat(h._getClasses(h.options.wrapperClass)),i.push(h.options.state?h.options.baseClass+"-on":h.options.baseClass+"-off"),null!=h.options.size&&i.push(h.options.baseClass+"-"+h.options.size),h.options.disabled&&i.push(h.options.baseClass+"-disabled"),h.options.readonly&&i.push(h.options.baseClass+"-readonly"),h.options.indeterminate&&i.push(h.options.baseClass+"-indeterminate"),h.options.inverse&&i.push(h.options.baseClass+"-inverse"),h.$element.attr("id")&&i.push(h.options.baseClass+"-id-"+h.$element.attr("id")),i.join(" ")}}(this)()}),this.$container=c("<div>",{"class":this.options.baseClass+"-container"}),this.$on=c("<span>",{html:this.options.onText,"class":this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=c("<span>",{html:this.options.offText,"class":this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=c("<span>",{html:this.options.labelText,"class":this.options.baseClass+"-label"}),this.$element.on("init.bootstrapSwitch",function(h){return function(){return h.options.onInit.apply(g,arguments)}}(this)),this.$element.on("switchChange.bootstrapSwitch",function(h){return function(){return !1===h.options.onSwitchChange.apply(g,arguments)?h.$element.is(":radio")?c("[name='"+h.$element.attr("name")+"']").trigger("previousState.bootstrapSwitch",!0):h.$element.trigger("previousState.bootstrapSwitch",!0):void 0}}(this)),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch",this.options.state)}return e.prototype._constructor=e,e.prototype.setPrevOptions=function(){return this.prevOptions=c.extend(!0,{},this.options)},e.prototype.state=function(g,f){return"undefined"==typeof g?this.options.state:this.options.disabled||this.options.readonly?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.$element.is(":radio")?c("[name='"+this.$element.attr("name")+"']").trigger("setPreviousOptions.bootstrapSwitch"):this.$element.trigger("setPreviousOptions.bootstrapSwitch"),this.options.indeterminate&&this.indeterminate(!1),g=!!g,this.$element.prop("checked",g).trigger("change.bootstrapSwitch",f),this.$element)},e.prototype.toggleState=function(f){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",f)},e.prototype.size=function(f){return"undefined"==typeof f?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(this.options.baseClass+"-"+this.options.size),f&&this.$wrapper.addClass(this.options.baseClass+"-"+f),this._width(),this._containerPosition(),this.options.size=f,this.$element)},e.prototype.animate=function(f){return"undefined"==typeof f?this.options.animate:(f=!!f,f===this.options.animate?this.$element:this.toggleAnimate())},e.prototype.toggleAnimate=function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(this.options.baseClass+"-animate"),this.$element},e.prototype.disabled=function(f){return"undefined"==typeof f?this.options.disabled:(f=!!f,f===this.options.disabled?this.$element:this.toggleDisabled())},e.prototype.toggleDisabled=function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(this.options.baseClass+"-disabled"),this.$element},e.prototype.readonly=function(f){return"undefined"==typeof f?this.options.readonly:(f=!!f,f===this.options.readonly?this.$element:this.toggleReadonly())},e.prototype.toggleReadonly=function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(this.options.baseClass+"-readonly"),this.$element},e.prototype.indeterminate=function(f){return"undefined"==typeof f?this.options.indeterminate:(f=!!f,f===this.options.indeterminate?this.$element:this.toggleIndeterminate())},e.prototype.toggleIndeterminate=function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(this.options.baseClass+"-indeterminate"),this._containerPosition(),this.$element},e.prototype.inverse=function(f){return"undefined"==typeof f?this.options.inverse:(f=!!f,f===this.options.inverse?this.$element:this.toggleInverse())},e.prototype.toggleInverse=function(){var f,g;return this.$wrapper.toggleClass(this.options.baseClass+"-inverse"),g=this.$on.clone(!0),f=this.$off.clone(!0),this.$on.replaceWith(f),this.$off.replaceWith(g),this.$on=f,this.$off=g,this.options.inverse=!this.options.inverse,this.$element},e.prototype.onColor=function(f){var g;return g=this.options.onColor,"undefined"==typeof f?g:(null!=g&&this.$on.removeClass(this.options.baseClass+"-"+g),this.$on.addClass(this.options.baseClass+"-"+f),this.options.onColor=f,this.$element)},e.prototype.offColor=function(f){var g;return g=this.options.offColor,"undefined"==typeof f?g:(null!=g&&this.$off.removeClass(this.options.baseClass+"-"+g),this.$off.addClass(this.options.baseClass+"-"+f),this.options.offColor=f,this.$element)},e.prototype.onText=function(f){return"undefined"==typeof f?this.options.onText:(this.$on.html(f),this._width(),this._containerPosition(),this.options.onText=f,this.$element)},e.prototype.offText=function(f){return"undefined"==typeof f?this.options.offText:(this.$off.html(f),this._width(),this._containerPosition(),this.options.offText=f,this.$element)},e.prototype.labelText=function(f){return"undefined"==typeof f?this.options.labelText:(this.$label.html(f),this._width(),this.options.labelText=f,this.$element)},e.prototype.handleWidth=function(f){return"undefined"==typeof f?this.options.handleWidth:(this.options.handleWidth=f,this._width(),this._containerPosition(),this.$element)},e.prototype.labelWidth=function(f){return"undefined"==typeof f?this.options.labelWidth:(this.options.labelWidth=f,this._width(),this._containerPosition(),this.$element)},e.prototype.baseClass=function(){return this.options.baseClass},e.prototype.wrapperClass=function(f){return"undefined"==typeof f?this.options.wrapperClass:(f||(f=c.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(f).join(" ")),this.options.wrapperClass=f,this.$element)},e.prototype.radioAllOff=function(f){return"undefined"==typeof f?this.options.radioAllOff:(f=!!f,f===this.options.radioAllOff?this.$element:(this.options.radioAllOff=f,this.$element))},e.prototype.onInit=function(f){return"undefined"==typeof f?this.options.onInit:(f||(f=c.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=f,this.$element)},e.prototype.onSwitchChange=function(f){return"undefined"==typeof f?this.options.onSwitchChange:(f||(f=c.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=f,this.$element)},e.prototype.destroy=function(){var f;return f=this.$element.closest("form"),f.length&&f.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},e.prototype._width=function(){var f,g;return f=this.$on.add(this.$off),f.add(this.$label).css("width",""),g="auto"===this.options.handleWidth?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth,f.width(g),this.$label.width(function(h){return function(j,k){return"auto"!==h.options.labelWidth?h.options.labelWidth:g>k?g:k}}(this)),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)},e.prototype._containerPosition=function(f,g){return null==f&&(f=this.options.state),this.$container.css("margin-left",function(h){return function(){var j;return j=[0,"-"+h._handleWidth+"px"],h.options.indeterminate?"-"+h._handleWidth/2+"px":f?h.options.inverse?j[1]:j[0]:h.options.inverse?j[0]:j[1]}}(this)),g?setTimeout(function(){return g()},50):void 0},e.prototype._init=function(){var f,g;return f=function(h){return function(){return h.setPrevOptions(),h._width(),h._containerPosition(null,function(){return h.options.animate?h.$wrapper.addClass(h.options.baseClass+"-animate"):void 0})}}(this),this.$wrapper.is(":visible")?f():g=b.setInterval(function(h){return function(){return h.$wrapper.is(":visible")?(f(),b.clearInterval(g)):void 0}}(this),50)},e.prototype._elementHandlers=function(){return this.$element.on({"setPreviousOptions.bootstrapSwitch":function(f){return function(){return f.setPrevOptions()}}(this),"previousState.bootstrapSwitch":function(f){return function(){return f.options=f.prevOptions,f.options.indeterminate&&f.$wrapper.addClass(f.options.baseClass+"-indeterminate"),f.$element.prop("checked",f.options.state).trigger("change.bootstrapSwitch",!0)}}(this),"change.bootstrapSwitch":function(f){return function(g,j){var h;return g.preventDefault(),g.stopImmediatePropagation(),h=f.$element.is(":checked"),f._containerPosition(h),h!==f.options.state?(f.options.state=h,f.$wrapper.toggleClass(f.options.baseClass+"-off").toggleClass(f.options.baseClass+"-on"),j?void 0:(f.$element.is(":radio")&&c("[name='"+f.$element.attr("name")+"']").not(f.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),f.$element.trigger("switchChange.bootstrapSwitch",[h]))):void 0}}(this),"focus.bootstrapSwitch":function(f){return function(g){return g.preventDefault(),f.$wrapper.addClass(f.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(f){return function(g){return g.preventDefault(),f.$wrapper.removeClass(f.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(f){return function(g){if(g.which&&!f.options.disabled&&!f.options.readonly){switch(g.which){case 37:return g.preventDefault(),g.stopImmediatePropagation(),f.state(!1);case 39:return g.preventDefault(),g.stopImmediatePropagation(),f.state(!0)}}}}(this)})},e.prototype._handleHandlers=function(){return this.$on.on("click.bootstrapSwitch",function(f){return function(g){return g.preventDefault(),g.stopPropagation(),f.state(!1),f.$element.trigger("focus.bootstrapSwitch")}}(this)),this.$off.on("click.bootstrapSwitch",function(f){return function(g){return g.preventDefault(),g.stopPropagation(),f.state(!0),f.$element.trigger("focus.bootstrapSwitch")}}(this))},e.prototype._labelHandlers=function(){return this.$label.on({click:function(f){return f.stopPropagation()},"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(f){return function(g){return f._dragStart||f.options.disabled||f.options.readonly?void 0:(g.preventDefault(),g.stopPropagation(),f._dragStart=(g.pageX||g.originalEvent.touches[0].pageX)-parseInt(f.$container.css("margin-left"),10),f.options.animate&&f.$wrapper.removeClass(f.options.baseClass+"-animate"),f.$element.trigger("focus.bootstrapSwitch"))}}(this),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(f){return function(h){var g;if(null!=f._dragStart&&(h.preventDefault(),g=(h.pageX||h.originalEvent.touches[0].pageX)-f._dragStart,!(g<-f._handleWidth||g>0))){return f._dragEnd=g,f.$container.css("margin-left",f._dragEnd+"px")}}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(f){return function(h){var g;if(f._dragStart){return h.preventDefault(),f.options.animate&&f.$wrapper.addClass(f.options.baseClass+"-animate"),f._dragEnd?(g=f._dragEnd>-(f._handleWidth/2),f._dragEnd=!1,f.state(f.options.inverse?!g:g)):f.state(!f.options.state),f._dragStart=!1}}}(this),"mouseleave.bootstrapSwitch":function(f){return function(){return f.$label.trigger("mouseup.bootstrapSwitch")}}(this)})},e.prototype._externalLabelHandler=function(){var f;return f=this.$element.closest("label"),f.on("click",function(g){return function(h){return h.preventDefault(),h.stopImmediatePropagation(),h.target===f[0]?g.toggleState():void 0}}(this))},e.prototype._formHandler=function(){var f;return f=this.$element.closest("form"),f.data("bootstrap-switch")?void 0:f.on("reset.bootstrapSwitch",function(){return b.setTimeout(function(){return f.find("input").filter(function(){return c(this).data("bootstrap-switch")}).each(function(){return c(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},e.prototype._getClasses=function(g){var f,k,j,h;if(!c.isArray(g)){return[this.options.baseClass+"-"+g]}for(k=[],j=0,h=g.length;h>j;j++){f=g[j],k.push(this.options.baseClass+"-"+f)}return k},e}(),c.fn.bootstrapSwitch=function(){var e,g,f;return g=arguments[0],e=2<=arguments.length?a.call(arguments,1):[],f=this,this.each(function(){var i,h;return i=c(this),h=i.data("bootstrap-switch"),h||i.data("bootstrap-switch",h=new d(this,g)),"string"==typeof g?f=h[g].apply(h,e):void 0}),f},c.fn.bootstrapSwitch.Constructor=d,c.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}(window.jQuery,window)}).call(this);
/*!/chosen/chosen.ajax.jquery.js*/
(function(){var g,c,d,b,j,f={}.hasOwnProperty,h=function(n,l){function m(){this.constructor=n}for(var k in l){f.call(l,k)&&(n[k]=l[k])}return m.prototype=l.prototype,n.prototype=new m,n.__super__=l.prototype,n};b=function(){function i(){this.options_index=0,this.parsed=[]}return i.prototype.add_node=function(k){return"OPTGROUP"===k.nodeName.toUpperCase()?this.add_group(k):this.add_option(k)},i.prototype.add_group=function(q){var l,m,k,v,p,u;for(l=this.parsed.length,this.parsed.push({array_index:l,group:!0,label:this.escapeExpression(q.label),title:q.title?q.title:void 0,children:0,disabled:q.disabled,classes:q.className}),p=q.childNodes,u=[],k=0,v=p.length;v>k;k++){m=p[k],u.push(this.add_option(m,l,q.disabled))}return u},i.prototype.add_option=function(m,k,l){return"OPTION"===m.nodeName.toUpperCase()?(""!==m.text?(null!=k&&(this.parsed[k].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:m.value,text:m.text,html:m.innerHTML,title:m.title?m.title:void 0,selected:m.selected,disabled:l===!0?l:m.disabled,group_array_index:k,group_label:null!=k?this.parsed[k].label:null,classes:m.className,style:m.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},i.prototype.escapeExpression=function(m){var k,l;return null==m||m===!1?"":/[\&\<\>\"\'\`]/.test(m)?(k={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/&(?!\w+;)|[\<\>\"\'\`]/g,m.replace(l,function(n){return k[n]||"&amp;"})):m},i}(),b.select_to_array=function(m){var i,k,q,l,p;for(k=new b,p=m.childNodes,q=0,l=p.length;l>q;q++){i=p[q],k.add_node(i)}return k.parsed},c=function(){function i(e,k){this.form_field=e,this.options=null!=k?k:{},i.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return i.prototype.set_default_values=function(){var k=this;return this.click_test_action=function(e){return k.test_active_click(e)},this.activate_action=function(e){return k.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1},i.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||i.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||i.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||i.default_no_result_text},i.prototype.choice_label=function(k){return this.include_group_label_in_selected&&null!=k.group_label?"<b class='group-name'>"+k.group_label+"</b>"+k.html:k.html},i.prototype.mouse_enter=function(){return this.mouse_on_container=!0},i.prototype.mouse_leave=function(){return this.mouse_on_container=!1},i.prototype.input_focus=function(){var k=this;if(this.is_multiple){if(!this.active_field){return setTimeout(function(){return k.container_mousedown()},50)}}else{if(!this.active_field){return this.activate_field()}}},i.prototype.input_blur=function(){var k=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return k.blur_test()},100))},i.prototype.results_option_build=function(p){var l,m,k,q,o;for(l="",o=this.results_data,k=0,q=o.length;q>k;k++){m=o[k],l+=m.group?this.result_add_group(m):this.result_add_option(m),(null!=p?p.first:void 0)&&(m.selected&&this.is_multiple?this.choice_build(m):m.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(m)))}return l},i.prototype.result_add_option=function(m){var k,l;return m.search_match&&this.include_option_in_results(m)?(k=[],m.disabled||m.selected&&this.is_multiple||k.push("active-result"),!m.disabled||m.selected&&this.is_multiple||k.push("disabled-result"),m.selected&&k.push("result-selected"),null!=m.group_array_index&&k.push("group-option"),""!==m.classes&&k.push(m.classes),l=document.createElement("li"),l.className=k.join(" "),l.style.cssText=m.style,l.setAttribute("data-option-array-index",m.array_index),l.innerHTML=m.search_text,m.title&&(l.title=m.title),this.outerHTML(l)):""},i.prototype.result_add_group=function(m){var k,l;return(m.search_match||m.group_match)&&m.active_options>0?(k=[],k.push("group-result"),m.classes&&k.push(m.classes),l=document.createElement("li"),l.className=k.join(" "),l.innerHTML=m.search_text,m.title&&(l.title=m.title),this.outerHTML(l)):""},i.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},i.prototype.reset_single_select_options=function(){var o,l,m,k,p;for(k=this.results_data,p=[],l=0,m=k.length;m>l;l++){o=k[l],p.push(o.selected?o.selected=!1:void 0)}return p},i.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},i.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},i.prototype.winnow_results=function(){var x,B,C,v,p,k,m,q,w,z,y,A;for(v=0,k=this.get_search_text(),x=k.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),w=new RegExp(x,"i"),C=this.get_search_regex(x),A=this.results_data,z=0,y=A.length;y>z;z++){B=A[z],B.search_match=!1,p=null,this.include_option_in_results(B)&&(B.group&&(B.group_match=!1,B.active_options=0),null!=B.group_array_index&&this.results_data[B.group_array_index]&&(p=this.results_data[B.group_array_index],0===p.active_options&&p.search_match&&(v+=1),p.active_options+=1),B.search_text=B.group?B.label:B.html,(!B.group||this.group_search)&&(B.search_match=this.search_string_match(B.search_text,C),B.search_match&&!B.group&&(v+=1),B.search_match?(k.length&&(m=B.search_text.search(w),q=B.search_text.substr(0,m+k.length)+"</em>"+B.search_text.substr(m+k.length),B.search_text=q.substr(0,m)+"<em>"+q.substr(m)),null!=p&&(p.group_match=!0)):null!=B.group_array_index&&this.results_data[B.group_array_index].search_match&&(B.search_match=!0)))}return this.result_clear_highlight(),1>v&&k.length?(this.update_results_content(""),this.no_results(k)):(this.results_option_build().length>0&&this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},i.prototype.get_search_regex=function(l){var k;return k=this.search_contains?"":"^",new RegExp(k+l,"i")},i.prototype.search_string_match=function(p,l){var m,k,q,o;if(l.test(p)){return !0}if(this.enable_split_word_search&&(p.indexOf(" ")>=0||0===p.indexOf("["))&&(k=p.replace(/\[|\]/g,"").split(" "),k.length)){for(q=0,o=k.length;o>q;q++){if(m=k[q],l.test(m)){return !0}}}},i.prototype.choices_count=function(){var n,l,m,k;if(null!=this.selected_option_count){return this.selected_option_count}for(this.selected_option_count=0,k=this.form_field.options,l=0,m=k.length;m>l;l++){n=k[l],n.selected&&(this.selected_option_count+=1)}return this.selected_option_count},i.prototype.choices_click=function(k){return k.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},i.prototype.keyup_checker=function(m){var k,l;switch(k=null!=(l=m.which)?l:m.keyCode,this.search_field_scale(),k){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0){return this.keydown_backstroke()}if(!this.pending_backstroke){return this.result_clear_highlight(),this.results_search()}break;case 13:if(m.preventDefault(),this.results_showing){return this.result_select(m)}break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},i.prototype.clipboard_event_checker=function(){var k=this;return setTimeout(function(){return k.results_search()},50)},i.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},i.prototype.include_option_in_results=function(k){return this.is_multiple&&!this.display_selected_options&&k.selected?!1:!this.display_disabled_options&&k.disabled?!1:k.empty?!1:!0},i.prototype.search_results_touchstart=function(k){return this.touch_started=!0,this.search_results_mouseover(k)},i.prototype.search_results_touchmove=function(k){return this.touch_started=!1,this.search_results_mouseout(k)},i.prototype.search_results_touchend=function(k){return this.touch_started?this.search_results_mouseup(k):void 0},i.prototype.outerHTML=function(l){var k;return l.outerHTML?l.outerHTML:(k=document.createElement("div"),k.appendChild(l),k.innerHTML)},i.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},i.default_multiple_text="Select Some Options",i.default_single_text="",i.default_no_result_text="",i}(),g=jQuery;var a={width:"100%"};g.fn.extend({chosen:function(e){return c.browser_is_supported()?this.each(function(){var i,l;if(i=g(this),l=i.data("chosen"),"destroy"===e&&l instanceof d){l.destroy()}else{if(!(l instanceof d)){var k=g.extend(!0,{},a,e);i.data("chosen",new d(this,k))}}}):this},setDisabled:function(e){var i=g(this).next().find("a.chosen-single:eq(0)");e?(i.addClass("chosen-single-disabled"),i.next().hide()):(i.removeClass("chosen-single-disabled"),i.next().show())}}),d=function(e){function i(){return j=i.__super__.constructor.apply(this,arguments)}return h(i,e),i.prototype.setup=function(){return this.form_field_jq=g(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var k,l;return k=["chosen-container"],k.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&k.push(this.form_field.className),this.is_rtl&&k.push("chosen-rtl"),l={"class":k.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(l.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=g("<div />",l),this.container.html(this.is_multiple?'<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>':'<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},i.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var k=this;return this.container.bind("touchstart.chosen",function(l){return k.container_mousedown(l),l.preventDefault()}),this.container.bind("touchend.chosen",function(l){return k.container_mouseup(l),l.preventDefault()}),this.container.bind("mousedown.chosen",function(l){k.container_mousedown(l)}),this.container.bind("mouseup.chosen",function(l){k.container_mouseup(l)}),this.container.bind("mouseenter.chosen",function(l){k.mouse_enter(l)}),this.container.bind("mouseleave.chosen",function(l){k.mouse_leave(l)}),this.search_results.bind("mouseup.chosen",function(l){k.search_results_mouseup(l)}),this.search_results.bind("mouseover.chosen",function(l){k.search_results_mouseover(l)}),this.search_results.bind("mouseout.chosen",function(l){k.search_results_mouseout(l)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(l){k.search_results_mousewheel(l)}),this.search_results.bind("touchstart.chosen",function(l){k.search_results_touchstart(l)}),this.search_results.bind("touchmove.chosen",function(l){k.search_results_touchmove(l)}),this.search_results.bind("touchend.chosen",function(l){k.search_results_touchend(l)}),this.form_field_jq.bind("chosen:updated.chosen",function(l){k.results_update_field(l)}),this.form_field_jq.bind("chosen:activate.chosen",function(l){k.activate_field(l)}),this.form_field_jq.bind("chosen:open.chosen",function(l){k.container_mousedown(l)}),this.form_field_jq.bind("chosen:close.chosen",function(l){k.input_blur(l)}),this.search_field.bind("blur.chosen",function(l){k.input_blur(l)}),this.search_field.bind("keyup.chosen",function(l){k.keyup_checker(l)}),this.search_field.bind("keydown.chosen",function(l){k.keydown_checker(l)}),this.search_field.bind("focus.chosen",function(l){k.input_focus(l)}),this.search_field.bind("cut.chosen",function(l){k.clipboard_event_checker(l)}),this.search_field.bind("paste.chosen",function(l){k.clipboard_event_checker(l)}),this.is_multiple?this.search_choices.bind("click.chosen",function(l){k.choices_click(l)}):this.container.bind("click.chosen",function(l){l.preventDefault()})},i.prototype.destroy=function(){return g(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(k){return this.is_disabled||(k&&"mousedown"===k.type&&!this.results_showing&&k.preventDefault(),null!=k&&g(k.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!k||g(k.target)[0]!==this.selected_item[0]&&!g(k.target).parents("a.chosen-single").length||(k.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),g(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},i.prototype.container_mouseup=function(k){return"ABBR"!==k.target.nodeName||this.is_disabled?void 0:this.results_reset(k)},i.prototype.search_results_mousewheel=function(l){var k;return l.originalEvent&&(k=l.originalEvent.deltaY||-l.originalEvent.wheelDelta||l.originalEvent.detail),null!=k?(l.preventDefault(),"DOMMouseScroll"===l.type&&(k=40*k),this.search_results.scrollTop(k+this.search_results.scrollTop())):void 0},i.prototype.blur_test=function(){return !this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},i.prototype.close_field=function(){return g(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(k){var l;return l=g(k.target).closest(".chosen-container"),l.length&&this.container[0]===l[0]?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=b.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(p){var l,m,k,q,o;if(p.length){if(this.result_clear_highlight(),this.result_highlight=p,this.result_highlight.addClass("highlighted"),k=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),q=k+o,m=this.result_highlight.position().top+this.search_results.scrollTop(),l=m+this.result_highlight.outerHeight(),l>=q){return this.search_results.scrollTop(l-k>0?l-k:0)}if(o>m){return this.search_results.scrollTop(m)}}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.container.find("SPAN").hasClass("chosen-loading-text")||this.container.find("A").hasClass("chosen-single-disabled")?!1:this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},i.prototype.update_results_content=function(k){return this.search_results.html(k)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(){var k;return this.form_field.tabIndex?(k=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=k):void 0},i.prototype.set_label_behavior=function(){var k=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=g("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(l){return k.is_multiple?k.container_mousedown(l):k.activate_field()}):void 0},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(k){var l;return l=g(k.target).hasClass("active-result")?g(k.target):g(k.target).parents(".active-result").first(),l.length?(this.result_highlight=l,this.result_select(k),this.search_field.focus()):void 0},i.prototype.search_results_mouseover=function(k){var l;return l=g(k.target).hasClass("active-result")?g(k.target):g(k.target).parents(".active-result").first(),l?this.result_do_highlight(l):void 0},i.prototype.search_results_mouseout=function(k){return g(k.target).hasClass("active-result")?this.result_clear_highlight():void 0},i.prototype.choice_build=function(l){var m,k,o=this;return m=g("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(l)+"</span>"),l.disabled?m.addClass("search-choice-disabled"):(k=g("<a />",{"class":"search-choice-close","data-option-array-index":l.array_index}),k.bind("click.chosen",function(n){return o.choice_destroy_link_click(n)}),m.append(k)),this.search_container.before(m)},i.prototype.choice_destroy_link_click=function(k){return k.preventDefault(),k.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(g(k.target))},i.prototype.choice_destroy=function(k){return this.result_deselect(k[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),k.parents("li").first().remove(),this.search_field_scale()):void 0},i.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(m){var k,l;return this.result_highlight?(k=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?k.removeClass("active-result"):this.reset_single_select_options(),k.addClass("result-selected"),l=this.results_data[k[0].getAttribute("data-option-array-index")],l.selected=!0,this.form_field.options[l.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(l):this.single_set_selected_text(this.choice_label(l)),(m.metaKey||m.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[l.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,m.preventDefault(),this.search_field_scale())):void 0},i.prototype.single_set_selected_text=function(k){return null==k&&(k=this.default_text),k===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(k)},i.prototype.result_deselect=function(l){var k;return k=this.results_data[l],this.form_field.options[k.options_index].disabled?!1:(k.selected=!1,this.form_field.options[k.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[k.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},i.prototype.get_search_text=function(){return g("<div/>").text(g.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(){var l,k;return k=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),l=k.length?k.first():this.search_results.find(".active-result").first(),null!=l?this.result_do_highlight(l):void 0},i.prototype.no_results=function(k){var l;return l=g('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),l.find("span").first().html(k),this.search_results.append(l),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var k;return this.results_showing&&this.result_highlight?(k=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(k):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var k;return this.results_showing||this.is_multiple?this.result_highlight?(k=this.result_highlight.prevAll("li.active-result"),k.length?this.result_do_highlight(k.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var k;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(k=this.search_container.siblings("li.search-choice").last(),k.length&&!k.hasClass("search-choice-disabled")?(this.pending_backstroke=k,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(m){var k,l;switch(k=null!=(l=m.which)?l:m.keyCode,this.search_field_scale(),8!==k&&this.pending_backstroke&&this.clear_backstroke(),k){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(m),this.mouse_on_container=!1;break;case 13:this.results_showing&&m.preventDefault();break;case 32:this.disable_search&&m.preventDefault();break;case 38:m.preventDefault(),this.keyup_arrow();break;case 40:m.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var x,y,u,p,k,m,q,v,w;if(this.is_multiple){for(u=0,q=0,k="position:absolute; left: -1000px; top: -1000px; display:none;",m=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],v=0,w=m.length;w>v;v++){p=m[v],k+=p+":"+this.search_field.css(p)+";"}return x=g("<div />",{style:k}),x.text(this.search_field.val()),g("body").append(x),q=x.width()+25,x.remove(),y=this.container.outerWidth(),q>y-10&&(q=y-10),this.search_field.css({width:q+"px"})}},i}(c)}).call(this),function(f){function b(k,p,j){var v=f(this),q=v.val();if("paste"===k.type&&v.is(":not(:focus)")||k.which&&(9===k.which||13===k.which||16===k.which||17===k.which||18===k.which||19===k.which||20===k.which||27===k.which||33===k.which||34===k.which||35===k.which||36===k.which||37===k.which||38===k.which||39===k.which||40===k.which||44===k.which||45===k.which||144===k.which||145===k.which||91===k.which||93===k.which||224===k.which||k.which>=112&&k.which<=123)){return !1}if("useAjax" in p&&f.isFunction(p.useAjax)&&!p.useAjax(k)){return !1}var u=f("#"+p.id).next();f(".no-results",u).hide(),j.typing=!0,f.isArray(j.data)?("q"===j.data[j.data.length-1].name&&j.data.pop(),j.data=j.data.concat({name:"q",value:q})):("data" in j||(j.data={}),f.extend(j.data,{data:{q:q}})),"generateUrl" in p&&f.isFunction(p.generateUrl)&&(j.url=p.generateUrl(q));var e=f("input",u);f(".chosen-single",u).find("SPAN").addClass("chosen-loading-text").html(""),e.addClass("chosen-search-loading");var m=!1;m&&clearTimeout(m),m=setTimeout(function(){j.requestQueue.push(q),j.typing=!1,j.data.chosenMaxNum=j.chosenMaxNum,j.data[p.searchAjaxParam]=q,f.ajax(j)},700)}function c(t,k){for(var e=f("#"+t.id),j=[],m=[],p=0;p<d.length;p++){void 0!=d[p].upperChosenId&&d[p].upperChosenId==t.id&&(j[j.length]=d[p],m[m.length]=g[p])}for(var p=0;p<j.length;p++){var o=j[p],r=m[p];if(r.initFlag||void 0==k||e.val()!=k[0]){var q=f.Event("keyup");"data" in r||(r.data={}),r.initFlag=!1,r.data.upperValue=e.val(),b.call(f("#"+o.id),q,o,r)}}}function a(H,W,L,Q,S){var X,ad=H,ab={},G=S.requestQueue.length,ae=!1,aa=!1,P="";if(S.typing){return S.requestQueue.shift(),!1}if(G>1){if(f.each(S.requestQueue,function(j,i){return H.q===i?(j!==G-1?(ae=!0,h.call(S.requestQueue,j)):(aa=!0,S.requestQueue.length=0),!1):void 0}),ae||!aa){return !1}}else{if("undefined"==typeof S.requestQueue.shift()){return !1}}var Z=f("#"+S.id),Y=Z.next(),R=f("input",Y);if(P=f.trim(R.val()),"processItems" in Q&&f.isFunction(Q.processItems)){ad=Q.processItems(H)}else{if(!("results" in ad)){return console.log("Expected results key in data, but was not found. Options could not be built"),!1}ad=ad.results}if(X=f.isArray(Z.val())?Z.val():[Z.val()],f.each(X,function(j,i){ab[i]=1}),f("option",Z).remove(),f('<option value=""/>').appendTo(Z),f.isArray(ad)){var F="labelCode",ac="labelName",s="parentCode";void 0!=Q.fields&&(Q.fields.length>=1&&(F=Q.fields[0]),Q.fields.length>=2&&(ac=Q.fields[1]),Q.fields.length>=3&&(s=Q.fields[2]));for(var B=[],E=[],U="",K=0;K<ad.length;K++){var V=ad[K],M="";if(M+=void 0==Q||Q.selectIndex!=K&&Q.selectValue!=V[F]?'<option value="'+V[F]+'">'+V[ac]+"</option>":'<option value="'+V[F]+'" selected>'+V[ac]+"</option>",void 0!=V[s]){for(var e="",z="",O=0;O<B.length;O++){if(V[s]==B[O]){e=B[O];break}}""==e&&(B[B.length]=V[s],e=V[s]),z=(E.length>0?E[O]:"")+M,E[O]=z}else{U+=M}}for(var n=0;n<B.length;n++){f('<optgroup label="'+B[n]+'">'+E[n]+"</optgroup>").appendTo(Z)}f(U).appendTo(Z)}else{f.each(ad,function(i,j){"undefined"==typeof ab[i]&&f('<option value="'+i+'">'+j+"</option>").appendTo(Z)})}if(c(Q,X),Z.trigger("chosen:updated"),P.length>0&&R.val(P),f(".chosen-default",Z.next()).find("SPAN").removeClass("chosen-loading-text"),f(".chosen-single",Z.next()).find("SPAN").removeClass("chosen-loading-text"),f("input",Z.next()).removeClass("chosen-search-loading"),ad.length>0){f(".no-results",Y).hide()}else{var J=f('<li class="no-results">'+(""==P?"":'<span>"'+P+'"</span>')+"</li>");f(".chosen-results",Y).append(J),f(".no-results",Y).show()}S.callback&&S.callback(H,W,L)}var h=function(k,i){var j=this.slice((i||k)+1||this.length);return this.length=0>k?this.length+k:k,this.push.apply(this,j)},d=[],g=[];f.fn.ajaxChosen=function(q){var i,m,e=f(this),p=!1,k=e.attr("id");if(void 0==k||""==k){return void console.log("Select id is undefined.")}q.id=k,void 0==q.dataType&&(q.dataType="json"),q.type="POST",void 0==q.findPage&&(q.findPage=!1),d[d.length]=q;var j=new Object;if(j.id=k,j.url=q.url,j.type=q.type,j.requestQueue=[],j.typing=p,j.chosenMaxNum=void 0==q.chosenMaxNum?200:q.chosenMaxNum,void 0==q.processItems&&(q.processItems=function(l){return l}),void 0!=q.success&&(j.success=q.success),0===f("option",e).length&&e.append('<option value=""></option>'),q.findPage){e.chosen()}else{void 0==q.searchAjaxParam&&(q.searchAjaxParam=void 0!=q.fields&&2==q.fields.length&&void 0!=q.fields[1]?q.fields[1]:"label");var o=new Object;o.ajaxChosen=!0,o.searchAjaxParam=q.searchAjaxParam,o.processItems=q.processItems,o.fields=q.fields,o.ajaxOptions=j,e.chosen(o)}return i=e.next(),"success" in j&&f.isFunction(j.success)&&(m=j.success.call(j)),j.callback=m,j.success=function(r,l,n){a(r,l,n,q,j)},j.initFlag=!0,g[g.length]=j,f(".chosen-search > input, .chosen-choices .search-field input",i).ready(function(n){var l=this;setTimeout(function(){for(var r=0;r<d.length;r++){if(void 0!=q.upperChosenId&&d[r].id==q.upperChosenId){return}}b.call(l,n,q,j)},50)}).bind("keyup",function(n){if(1!=q.findPage){var l=this;j.initFlag=!1,b.call(l,n,q,j)}}).bind("paste",function(n){if(1!=q.findPage){var l=this;setTimeout(function(){j.initFlag=!1,b.call(l,n,q,j)},50)}}),e.bind("change",function(){c(q)}),e}}(jQuery);
/*!/icheck/icheck.js*/
!function(X){function G(f,a,b){var i=f[0],c=/er/.test(b)?aa:/bl/.test(b)?U:W,h=b==V?{checked:i[W],disabled:i[U],indeterminate:"true"==f.attr(aa)||"false"==f.attr(E)}:i[c];if(/^(ch|di|in)/.test(b)&&!h){T(f,c)}else{if(/^(un|en|de)/.test(b)&&h){ab(f,c)}else{if(b==V){for(var g in h){h[g]?T(f,g,!0):ab(f,g,!0)}}else{a&&"toggle"!=b||(a||f[z]("ifClicked"),h?i[q]!==F&&ab(f,c):T(f,c))}}}}function T(u,n,v){var d=u[0],p=u.parent(),c=n==W,f=n==aa,r=n==U,b=f?E:c?M:"enabled",h=O(u,b+K(d[q])),a=O(u,n+K(d[q]));if(d[n]!==!0){if(!v&&n==W&&d[q]==F&&d.name){var o=u.closest("form"),e='input[name="'+d.name+'"]';e=o.length?o.find(e):X(e),e.each(function(){this!==d&&X(this).data(Y)&&ab(X(this),n)})}f?(d[n]=!0,d[W]&&ab(u,W,"force")):(v||(d[n]=!0),c&&d[aa]&&ab(u,aa,!1)),N(u,c,n,v)}d[U]&&O(u,B,!0)&&p.find("."+Z).css(B,"default"),p[J](a||O(u,n)||""),p.attr("role")&&!f&&p.attr("aria-"+(r?U:W),"true"),p[D](h||O(u,b)||"")}function ab(n,v,h){var p=n[0],w=n.parent(),o=v==W,c=v==aa,r=v==U,j=c?E:o?M:"enabled",b=O(n,j+K(p[q])),f=O(n,v+K(p[q]));p[v]!==!1&&((c||!h||"force"==h)&&(p[v]=!1),N(n,o,j,h)),!p[U]&&O(n,B,!0)&&w.find("."+Z).css(B,"pointer"),w[D](f||O(n,v)||""),w.attr("role")&&!c&&w.attr("aria-"+(r?U:W),"false"),w[J](b||O(n,j)||"")}function I(b,a){b.data(Y)&&(b.parent().html(b.attr("style",b.data(Y).s||"")),a&&b[z](a),b.off(".i").unwrap(),X(L+'[for="'+b[0].id+'"]').add(b.closest(L)).off(".i"))}function O(c,b,a){return c.data(Y)?c.data(Y).o[b+(a?"":"Class")]:void 0}function K(a){return a.charAt(0).toUpperCase()+a.slice(1)}function N(f,d,c,b){b||(d&&f[z]("ifToggled"),f[z]("ifChanged")[z]("if"+K(c)))}var Y="iCheck",Z=Y+"-helper",Q="checkbox",F="radio",W="checked",M="un"+W,U="disabled",E="determinate",aa="in"+E,V="update",q="type",P="click",R="touchbegin.i touchend.i",J="addClass",D="removeClass",z="trigger",L="label",B="cursor",S=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);X.fn[Y]=function(e,b){var d='input[type="'+Q+'"], input[type="'+F+'"]',c=X(),l=function(n){n.each(function(){var o=X(this);c=c.add(o.is(d)?o:o.find(d))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(e)){return e=e.toLowerCase(),l(this),c.each(function(){var n=X(this);"destroy"==e?I(n,"ifDestroyed"):G(n,!0,e),X.isFunction(b)&&b()})}if("object"!=typeof e&&e){return this}var k=X.extend({checkedClass:W,disabledClass:U,indeterminateClass:aa,labelHover:!0},e),a=k.handle,g=k.hoverClass||"hover",f=k.focusClass||"focus",m=k.activeClass||"active",j=!!k.labelHover,i=k.labelHoverClass||"hover",h=0|(""+k.increaseArea).replace("%","");return(a==Q||a==F)&&(d='input[type="'+a+'"]'),-50>h&&(h=-50),l(this),c.each(function(){var y=X(this);I(y);var t,x=this,w=x.id,af=-h+"%",ae=100+2*h+"%",s={position:"absolute",top:af,left:af,display:"block",width:ae,height:ae,margin:0,padding:0,background:"#fff",border:0,opacity:0},ad=S?{position:"absolute",visibility:"hidden"}:h?s:{position:"absolute",opacity:0},ac=x[q]==Q?k.checkboxClass||"i"+Q:k.radioClass||"i"+F,C=X(L+'[for="'+w+'"]').add(y.closest(L)),A=!!k.aria,u=Y+"-"+Math.random().toString(36).substr(2,6),H='<div class="'+ac+'" '+(A?'role="'+x[q]+'" ':"");A&&C.each(function(){H+='aria-labelledby="',this.id?H+=this.id:(this.id=u,H+=u),H+='"'}),H=y.wrap(H+"/>")[z]("ifCreated").parent().append(k.insert),t=X('<ins class="'+Z+'"/>').css(s).appendTo(H),y.data(Y,{o:k,s:y.attr("style")}).css(ad),!!k.inheritClass&&H[J](x.className||""),!!k.inheritID&&w&&H.attr("id",Y+"-"+w),"static"==H.css("position")&&H.css("position","relative"),G(y,!0,V),C.length&&C.on(P+".i mouseover.i mouseout.i "+R,function(o){var n=o[q],p=X(this);if(!x[U]){if(n==P){if(X(o.target).is("a")){return}G(y,!1,!0)}else{j&&(/ut|nd/.test(n)?(H[D](g),p[D](i)):(H[J](g),p[J](i)))}if(!S){return !1}o.stopPropagation()}}),y.on(P+".i focus.i blur.i keyup.i keydown.i keypress.i",function(p){var n=p[q],o=p.keyCode;return n==P?!1:"keydown"==n&&32==o?(x[q]==F&&x[W]||(x[W]?ab(y,W):T(y,W)),!1):void ("keyup"==n&&x[q]==F?!x[W]&&T(y,W):/us|ur/.test(n)&&H["blur"==n?D:J](f))}),t.on(P+" mousedown mouseup mouseover mouseout "+R,function(p){var o=p[q],n=/wn|up/.test(o)?m:g;if(!x[U]){if(o==P?G(y,!1,!0):(/wn|er|in/.test(o)?H[J](n):H[D](n+" "+m),C.length&&j&&n==g&&C[/ut|nd/.test(o)?D:J](i)),!S){return !1}p.stopPropagation()}})})}}(window.jQuery||window.Zepto);
/*!/jquery.daterange/jquery.daterange.js*/
!function(){var a={init:function(){function k(){var d=b.val(),c=w.val(),f="";f=d==c?d:d+"   ~   "+c,d&&c?(K.val(f),K.data("startDate",d),K.data("endDate",c)):K.val("")}function L(){j.show(),$("body").on("mousedown",A)}function I(){$("#"+q).is(":hidden")||(k(),$("#"+q).fadeOut("fast",function(){J.onhide.call(K)}))}function A(c){c.target.id==K.attr("id")||c.target.id==q||$(c.target).parents("#"+q).length>0||(I(),c.stopImmediatePropagation())}var J={startValue:"",endValue:"",start:{},end:{},changeStart:function(){},changeEnd:function(){},onhide:function(){}};J=$.extend(!0,{},J,arguments[0]);var E='<div class="inputGroup"><input class="data-input  date-start-input" readonly placeholder=""/><input class="data-input  date-end-input" readonly placeholder=""/><div class="date-button primary"><span></span></div> <div class="date-button rest"><span></span></div></div><div class="dataGroup"><div class="date-start"></div><div class="date-end"></div></div>',x=J.format||"YYYY-MM-DD",z=x.match(/hh|HH|mm|ms|ss/g)?"350px":"320px",q="range"+(new Date).getTime(),j=jQuery("<div></div>",{"class":"bi-daterange  bootstrap-datetimepicker-widget  dropdown-menu",style:"display:none;width:550px;height:"+z+";top:35px",id:q}).append(E),K=$(this);K.prop("readonly",!0).after(j);var B=j.find(".date-start"),H=j.find(".date-end"),C=$.extend(!0,{useCurrent:!1,inline:!0,format:x},J.start);B.datetimepicker(C);var y=$.extend(!0,{useCurrent:!1,inline:!0,format:x},J.end);H.datetimepicker(y);var b=j.find("input.date-start-input"),w=j.find("input.date-end-input"),F=J.startValue||moment().format(x),G=J.endValue||moment().format(x);return(x.indexOf("d")>-1||x.indexOf("D")>-1)&&(G=moment(G,x).add(1,"month").format(x)),b.val(F),w.val(G),K.data("startDate",F),K.data("endDate",G),B.data("DateTimePicker").date(F),H.data("DateTimePicker").date(G),B.on("dp.change",function(d){var c=jQuery(this).data("DateTimePicker").format(),f=d.date.format("x"),g=moment(K.data("endDate"),c).format("x");J.changeStart(d,K.data("endDate"),H.data("DateTimePicker"),B.data("DateTimePicker")),f>g&&(H.data("DateTimePicker").date(d.date),K.data("endDate",d.date.format(c))),b.val(d.date.format(c)),K.data("startDate",d.date.format(c))}),H.on("dp.change",function(d){var c=jQuery(this).data("DateTimePicker").format(),f=d.date.format("x"),g=moment(K.data("startDate"),c).format("x");g>f&&(B.data("DateTimePicker").date(d.date),K.data("startDate",d.date.format(c))),w.val(d.date.format(c)),K.data("endDate",d.date.format(c)),J.changeEnd(B.data("DateTimePicker"),d)}),K.on("focus",function(){setTimeout(function(){L()},0)}),j.on("click",".primary",function(){I()}),j.on("click",".rest",function(){K.val(""),b.val(""),w.val(""),K.data("startDate",""),K.data("endDate","")}),this.data("rangeId",q),this},getDate:function(){var b=$(this).data();return{startDate:b.startDate||"",endDate:b.endDate||""}},destroy:function(){}};$.fn.dateRange=function(){var b=arguments[0];if(a[b]){b=a[b],arguments=Array.prototype.slice.call(arguments,1)}else{if("object"!=typeof b&&b){return console.error("Method "+b+" does not exist on jQuery.bzTree"),this}b=a.init}return b.apply(this,arguments)}}(jQuery);
/*!/jquery.dotdotdot/jquery.dotdotdot.js*/
!function(G,A){function m(g,i,u){var h=g.children(),s=!1;g.empty();for(var f=0,p=h.length;p>f;f++){var c=h.eq(f);if(g.append(c),u&&g.append(u),w(g,i)){c.remove(),s=!0;break}u&&u.detach()}return s}function b(o,f,t,p,g){if(p.line){var I=f.css("line-height").replace("px","");f.css({"line-height":I/p.line+"px"})}var r=!1,v="a table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",i="script, .dotdotdot-keep";return o.contents().detach().each(function(){var a=this,c=G(a);if(f.attr("title",a.data),"undefined"==typeof a||3==a.nodeType&&0==G.trim(a.data).length){return !0}if(c.is(i)){o.append(c)}else{if(r){return !0}o.append(c),!g||c.is(p.after)||c.find(p.after).length||o[o.is(v)?"after":"append"](g),w(t,p)&&(r=3==a.nodeType?k(c,f,t,p,g):b(c,f,t,p,g),r||(c.detach(),r=!0)),r||g&&g.detach()}}),r}function k(L,s,a,l,M){var N=L[0];if(!N){return !1}var I=H(N),K=-1!==I.indexOf(" ")?" ":"",i="letter"==l.wrap?"":K,J=I.split(i),S=-1,R=-1,P=0,O=J.length-1;for(l.fallbackToLetter&&0==P&&0==O&&(i="",J=I.split(i),O=J.length-1);O>=P&&(0!=P||0!=O);){var t=Math.floor((P+O)/2);if(t==R){break}R=t,q(N,J.slice(0,R+1).join(i)+l.ellipsis),w(a,l)?(O=R,l.fallbackToLetter&&0==P&&0==O&&(i="",J=J[0].split(i),S=-1,R=-1,P=0,O=J.length-1)):(S=R,P=R)}if(-1==S||1==J.length&&0==J[0].length){var Q=L.parent();L.detach();var u=M&&M.closest(Q).length?M.length:0;Q.contents().length>u?N=F(Q.contents().eq(-1-u),s):(N=F(Q,s,!0),u||Q.detach()),N&&(I=D(H(N),l),q(N,I),u&&M&&G(N).parent().append(M))}else{I=D(J.slice(0,S+1).join(i),l),q(N,I)}return !0}function w(a,c){return a.innerHeight()>c.maxHeight}function D(a,c){for(;G.inArray(a.slice(-1),c.lastCharacter.remove)>-1;){a=a.slice(0,-1)}return G.inArray(a.slice(-1),c.lastCharacter.noEllipsis)<0&&(a+=c.ellipsis),a}function B(a){return{width:a.innerWidth(),height:a.innerHeight()}}function q(a,c){a.innerText?a.innerText=c:a.nodeValue?a.nodeValue=c:a.textContent&&(a.textContent=c)}function H(a){return a.innerText?a.innerText:a.nodeValue?a.nodeValue:a.textContent?a.textContent:""}function C(a){do{a=a.previousSibling}while(a&&1!==a.nodeType&&3!==a.nodeType);return a}function F(d,g,c){var f,a=d&&d[0];if(a){if(!c){if(3===a.nodeType){return a}if(G.trim(d.text())){return F(d.contents().last(),g)}}for(f=C(a);!f;){if(d=d.parent(),d.is(g)||!d.length){return !1}f=C(d[0])}if(f){return F(G(f),g)}}return !1}function x(a,c){return a?"string"==typeof a?(a=G(a,c),a.length?a:!1):a.jquery?a:!1:!1}function z(c){for(var f=c.innerHeight(),h=["paddingTop","paddingBottom"],d=0,g=h.length;g>d;d++){var a=parseInt(c.css(h[d]),10);isNaN(a)&&(a=0),f-=a}return f}if(!G.fn.dotdotdot){G.fn.dotdotdot=function(p){if(0==this.length){return G.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this}if(this.length>1){return this.each(function(){G(this).dotdotdot(p)})}var r=this;r.data("dotdotdot")&&r.trigger("destroy.dot"),r.data("dotdotdot-style",r.attr("style")||""),r.css("word-wrap","break-word"),"nowrap"===r.css("white-space")&&r.css("white-space","normal"),r.bind_events=function(){return r.bind("update.dot",function(g,l){g.preventDefault(),g.stopPropagation(),d.maxHeight="number"==typeof d.height?d.height:z(r),d.maxHeight+=d.tolerance,"undefined"!=typeof l&&(("string"==typeof l||"nodeType" in l&&1===l.nodeType)&&(l=G("<div />").append(l).contents()),l instanceof G&&(f=l)),n=r.wrapInner('<div class="dotdotdot" />').children(),n.contents().detach().end().append(f.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var o=!1,a=!1;return i.afterElement&&(o=i.afterElement.clone(!0),o.show(),i.afterElement.detach()),w(n,d)&&(a="children"==d.wrap?m(n,d,o):b(n,r,n,d,o)),n.replaceWith(n.contents()),n=null,G.isFunction(d.callback)&&d.callback.call(r[0],a,f),i.isTruncated=a,a}).bind("isTruncated.dot",function(a,c){return a.preventDefault(),a.stopPropagation(),"function"==typeof c&&c.call(r[0],i.isTruncated),i.isTruncated}).bind("originalContent.dot",function(a,c){return a.preventDefault(),a.stopPropagation(),"function"==typeof c&&c.call(r[0],f),f}).bind("destroy.dot",function(a){a.preventDefault(),a.stopPropagation(),r.unwatch().unbind_events().contents().detach().end().append(f).attr("style",r.data("dotdotdot-style")||"").data("dotdotdot",!1)}),r},r.unbind_events=function(){return r.unbind(".dot"),r},r.watch=function(){if(r.unwatch(),"window"==d.watch){var c=G(window),g=c.width(),a=c.height();c.bind("resize.dot"+i.dotId,function(){g==c.width()&&a==c.height()&&d.windowResizeFix||(g=c.width(),a=c.height(),h&&clearInterval(h),h=setTimeout(function(){r.trigger("update.dot")},100))})}else{t=B(r),h=setInterval(function(){if(r.is(":visible")){var e=B(r);(t.width!=e.width||t.height!=e.height)&&(r.trigger("update.dot"),t=e)}},500)}return r},r.unwatch=function(){return G(window).unbind("resize.dot"+i.dotId),h&&clearInterval(h),r};var f=r.contents(),d=G.extend(!0,{},G.fn.dotdotdot.defaults,p),i={},t={},h=null,n=null;return d.lastCharacter.remove instanceof Array||(d.lastCharacter.remove=G.fn.dotdotdot.defaultArrays.lastCharacter.remove),d.lastCharacter.noEllipsis instanceof Array||(d.lastCharacter.noEllipsis=G.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),i.afterElement=x(d.after,r),i.isTruncated=!1,i.dotId=j++,r.data("dotdotdot",!0).bind_events().trigger("update.dot"),d.watch&&r.watch(),r},G.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0,line:null},G.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","",",",";",".","!","?"],noEllipsis:[]}},G.fn.dotdotdot.debug=function(){};var j=1,y=G.fn.html;G.fn.html=function(a){return a!=A&&!G.isFunction(a)&&this.data("dotdotdot")?this.trigger("update",[a]):y.apply(this,arguments)};var E=G.fn.text;G.fn.text=function(a){return a!=A&&!G.isFunction(a)&&this.data("dotdotdot")?(a=G("<div />").text(a).html(),this.trigger("update",[a])):E.apply(this,arguments)}}}(jQuery);
/*!/jCrop/jquery.Jcrop.js*/
!function(a){a.Jcrop=function(aU,a3){function a1(b){return Math.round(b)+"px"}function aX(b){return au.baseClass+"-"+b}function a9(){return a.fx.step.hasOwnProperty("backgroundColor")}function bh(b){var c=a(b).offset();return[c.left,c.top]}function aV(b){return[b.pageX-al[0],b.pageY-al[1]]}function bf(b){"object"!=typeof b&&(b={}),au=a.extend(au,b),a.each(["onChange","onSelect","onRelease","onDblClick"],function(d,c){"function"!=typeof au[c]&&(au[c]=function(){})})}function aT(f,c,h){if(al=bh(aY),av.setCursor("move"===f?f:f+"-resize"),"move"===f){return av.activateHandlers(a5(c),bg,h)}var g=aJ.getFixed(),d=ba(f),b=aJ.getCorner(ba(d));aJ.setPressed(aJ.getCorner(d)),aJ.setCurrent(b),av.activateHandlers(be(f,g),bg,h)}function be(c,b){return function(d){if(au.aspectRatio){switch(c){case"e":d[1]=b.y+1;break;case"w":d[1]=b.y+1;break;case"n":d[0]=b.x+1;break;case"s":d[0]=b.x+1}}else{switch(c){case"e":d[1]=b.y2;break;case"w":d[1]=b.y2;break;case"n":d[0]=b.x2;break;case"s":d[0]=b.x2}}aJ.setCurrent(d),aH.update()}}function a5(c){var b=c;return am.watchKeys(),function(d){aJ.moveOffset([d[0]-b[0],d[1]-b[1]]),b=d,aH.update()}}function ba(b){switch(b){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function bd(b){return function(c){return au.disabled?!1:"move"!==b||au.allowMove?(al=bh(aY),aK=!0,aT(b,aV(c)),c.stopPropagation(),c.preventDefault(),!1):!1}}function a0(d,b,g){var f=d.width(),c=d.height();f>b&&b>0&&(f=b,c=b/d.width()*d.height()),c>g&&g>0&&(c=g,f=g/d.height()*d.width()),bc=d.width()/f,a7=d.height()/c,d.width(f).height(c)}function bb(b){return{x:b.x*bc,y:b.y*a7,x2:b.x2*bc,y2:b.y2*a7,w:b.w*bc,h:b.h*a7}}function bg(){var b=aJ.getFixed();b.w>au.minSelect[0]&&b.h>au.minSelect[1]?(aH.enableHandles(),aH.done()):aH.release(),av.setCursor(au.allowSelect?"crosshair":"default")}function aR(c){if(au.disabled){return !1}if(!au.allowSelect){return !1}aK=!0,al=bh(aY),aH.disableHandles(),av.setCursor("crosshair");var b=aV(c);return aJ.setPressed(b),aH.update(),av.activateHandlers(aS,bg,"touch"===c.type.substring(0,5)),am.watchKeys(),c.stopPropagation(),c.preventDefault(),!1}function aS(b){aJ.setCurrent(b),aH.update()}function aP(){var b=a("<div></div>").addClass(aX("tracker"));return ai&&b.css({opacity:0,backgroundColor:"white"}),b}function a4(b){az.removeClass().addClass(aX("holder")).addClass(b)}function aQ(H,q){function B(){window.setTimeout(k,C)}var A=H[0]/bc,y=H[1]/a7,D=H[2]/bc,L=H[3]/a7;if(!aL){var x=aJ.flipCoords(A,y,D,L),J=aJ.getFixed(),m=[J.x,J.y,J.x2,J.y2],I=m,C=au.animationDelay,E=x[0]-m[0],G=x[1]-m[1],z=x[2]-m[2],F=x[3]-m[3],K=0,j=au.swingSpeed;A=I[0],y=I[1],D=I[2],L=I[3],aH.animMode(!0);var k=function(){return function(){K+=(100-K)/j,I[0]=Math.round(A+K/100*E),I[1]=Math.round(y+K/100*G),I[2]=Math.round(D+K/100*z),I[3]=Math.round(L+K/100*F),K>=99.8&&(K=100),100>K?(ah(I),B()):(aH.done(),aH.animMode(!1),"function"==typeof q&&q.call(aW))}}();B()}}function aD(b){ah([b[0]/bc,b[1]/a7,b[2]/bc,b[3]/a7]),au.onSelect.call(aW,bb(aJ.getFixed())),aH.enableHandles()}function ah(b){aJ.setPressed([b[0],b[1]]),aJ.setCurrent([b[2],b[3]]),aH.update()}function a6(){return bb(aJ.getFixed())}function aO(){return aJ.getFixed()}function ap(b){bf(b),aE()}function an(){au.disabled=!0,aH.disableHandles(),aH.setCursor("default"),av.setCursor("default")}function a8(){au.disabled=!1,aE()}function aA(){aH.done(),av.activateHandlers(null,null)}function ax(){az.remove(),aB.show(),aB.css("visibility","visible"),a(aU).removeData("Jcrop")}function aC(c,b){aH.release(),an();var d=new Image;d.onload=function(){var j=d.width,h=d.height,g=au.boxWidth,f=au.boxHeight;aY.width(j).height(h),aY.attr("src",c),ao.attr("src",c),a0(aY,g,f),aq=aY.width(),ab=aY.height(),ao.width(aq).height(ab),ay.width(aq+2*ag).height(ab+2*ag),az.width(aq).height(ab),a2.resize(aq,ab),a8(),"function"==typeof b&&b.call(aW)},d.src=c}function aw(c,b,f){var d=b||au.bgColor;au.bgFade&&a9()&&au.fadeTime&&!f?c.animate({backgroundColor:d},{queue:!1,duration:au.fadeTime}):c.css("backgroundColor",d)}function aE(b){au.allowResize?b?aH.enableOnly():aH.enableHandles():aH.disableHandles(),av.setCursor(au.allowSelect?"crosshair":"default"),aH.setCursor(au.allowMove?"move":"default"),au.hasOwnProperty("trueSize")&&(bc=au.trueSize[0]/aq,a7=au.trueSize[1]/ab),au.hasOwnProperty("setSelect")&&(aD(au.setSelect),aH.done(),delete au.setSelect),a2.refresh(),au.bgColor!=aG&&(aw(au.shade?a2.getShades():az,au.shade?au.shadeColor||au.bgColor:au.bgColor),aG=au.bgColor),aM!=au.bgOpacity&&(aM=au.bgOpacity,au.shade?a2.refresh():aH.setBgOpacity(aM)),e=au.maxSize[0]||0,aN=au.maxSize[1]||0,bi=au.minSize[0]||0,aZ=au.minSize[1]||0,au.hasOwnProperty("outerImage")&&(aY.attr("src",au.outerImage),delete au.outerImage),aH.refresh()}var al,au=a.extend({},a.Jcrop.defaults),aF=navigator.userAgent.toLowerCase(),ai=/msie/.test(aF),af=/msie [1-6]\./.test(aF);"object"!=typeof aU&&(aU=a(aU)[0]),"object"!=typeof a3&&(a3={}),bf(a3);var ar={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},aB=a(aU),ac=!0;if("IMG"==aU.tagName){if(0!=aB[0].width&&0!=aB[0].height){aB.width(aB[0].width),aB.height(aB[0].height)}else{var aa=new Image;aa.src=aB[0].src,aB.width(aa.width),aB.height(aa.height)}var aY=aB.clone().removeAttr("id").css(ar).show();aY.width(aB.width()),aY.height(aB.height()),aB.after(aY).hide()}else{aY=aB.css(ar).show(),ac=!1,null===au.shade&&(au.shade=!0)}a0(aY,au.boxWidth,au.boxHeight);var aq=aY.width(),ab=aY.height(),az=a("<div />").width(aq).height(ab).addClass(aX("holder")).css({position:"relative",backgroundColor:au.bgColor}).insertAfter(aB).append(aY);au.addClass&&az.addClass(au.addClass);var ao=a("<div />"),ad=a("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),ak=a("<div />").width("100%").height("100%").css("zIndex",320),ae=a("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var b=aJ.getFixed();au.onDblClick.call(aW,b)}).insertBefore(aY).append(ad,ak);ac&&(ao=a("<img />").attr("src",aY.attr("src")).css(ar).width(aq).height(ab),ad.append(ao)),af&&ae.css({overflowY:"hidden"});var e,aN,bi,aZ,bc,a7,aK,aL,aI,ag=au.boundary,ay=aP().width(aq+2*ag).height(ab+2*ag).css({position:"absolute",top:a1(-ag),left:a1(-ag),zIndex:290}).mousedown(aR),aG=au.bgColor,aM=au.bgOpacity;al=bh(aY);var aj=function(){function c(){var j,g={},l=["touchstart","touchmove","touchend"],k=document.createElement("div");try{for(j=0;j<l.length;j++){var h=l[j];h="on"+h;var f=h in k;f||(k.setAttribute(h,"return;"),f="function"==typeof k[h]),g[l[j]]=f}return g.touchstart&&g.touchend&&g.touchmove}catch(d){return !1}}function b(){return au.touchSupport===!0||au.touchSupport===!1?au.touchSupport:c()}return{createDragger:function(d){return function(f){return au.disabled?!1:"move"!==d||au.allowMove?(al=bh(aY),aK=!0,aT(d,aV(aj.cfilter(f)),!0),f.stopPropagation(),f.preventDefault(),!1):!1}},newSelection:function(d){return aR(aj.cfilter(d))},cfilter:function(d){return d.pageX=d.originalEvent.changedTouches[0].pageX,d.pageY=d.originalEvent.changedTouches[0].pageY,d},isSupported:c,support:b()}}(),aJ=function(){function z(c){c=C(c),j=w=c[0],x=y=c[1]}function E(c){c=C(c),A=c[0]-j,q=c[1]-x,j=c[0],x=c[1]}function m(){return[A,q]}function k(d){var c=d[0],f=d[1];0>w+c&&(c-=c+w),0>y+f&&(f-=f+y),x+f>ab&&(f+=ab-(x+f)),j+c>aq&&(c+=aq-(j+c)),w+=c,j+=c,y+=f,x+=f}function b(d){var c=v();switch(d){case"ne":return[c.x2,c.y];case"nw":return[c.x,c.y];case"se":return[c.x2,c.y2];case"sw":return[c.x,c.y2]}}function v(){if(!au.aspectRatio){return B()}var s,L,g,f,c=au.aspectRatio,p=au.minSize[0]/bc,I=au.maxSize[0]/bc,u=au.maxSize[1]/a7,h=j-w,H=x-y,J=Math.abs(h),K=Math.abs(H),G=J/K;return 0===I&&(I=10*aq),0===u&&(u=10*ab),c>G?(L=x,g=K*c,s=0>h?w-g:g+w,0>s?(s=0,f=Math.abs((s-w)/c),L=0>H?y-f:f+y):s>aq&&(s=aq,f=Math.abs((s-w)/c),L=0>H?y-f:f+y)):(s=j,f=J/c,L=0>H?y-f:y+f,0>L?(L=0,g=Math.abs((L-y)*c),s=0>h?w-g:g+w):L>ab&&(L=ab,g=Math.abs(L-y)*c,s=0>h?w-g:g+w)),s>w?(p>s-w?s=w+p:s-w>I&&(s=w+I),L=L>y?y+(s-w)/c:y-(s-w)/c):w>s&&(p>w-s?s=w-p:w-s>I&&(s=w-I),L=L>y?y+(w-s)/c:y-(w-s)/c),0>s?(w-=s,s=0):s>aq&&(w-=s-aq,s=aq),0>L?(y-=L,L=0):L>ab&&(y-=L-ab,L=ab),D(F(w,y,s,L))}function C(c){return c[0]<0&&(c[0]=0),c[1]<0&&(c[1]=0),c[0]>aq&&(c[0]=aq),c[1]>ab&&(c[1]=ab),[Math.round(c[0]),Math.round(c[1])]}function F(l,f,u,p){var h=l,d=u,c=f,g=p;return l>u&&(h=u,d=l),f>p&&(c=p,g=f),[h,c,d,g]}function B(){var d,c=j-w,f=x-y;return e&&Math.abs(c)>e&&(j=c>0?w+e:w-e),aN&&Math.abs(f)>aN&&(x=f>0?y+aN:y-aN),aZ/a7&&Math.abs(f)<aZ/a7&&(x=f>0?y+aZ/a7:y-aZ/a7),bi/bc&&Math.abs(c)<bi/bc&&(j=c>0?w+bi/bc:w-bi/bc),0>w&&(j-=w,w-=w),0>y&&(x-=y,y-=y),0>j&&(w-=j,j-=j),0>x&&(y-=x,x-=x),j>aq&&(d=j-aq,w-=d,j-=d),x>ab&&(d=x-ab,y-=d,x-=d),w>aq&&(d=w-ab,x-=d,y-=d),y>ab&&(d=y-ab,x-=d,y-=d),D(F(w,y,j,x))}function D(c){return{x:c[0],y:c[1],x2:c[2],y2:c[3],w:c[2]-c[0],h:c[3]-c[1]}}var A,q,w=0,y=0,j=0,x=0;return{flipCoords:F,setPressed:z,setCurrent:E,getOffset:m,moveOffset:k,getCorner:b,getFixed:v}}(),a2=function(){function z(d,c){g.left.css({height:a1(c)}),g.right.css({height:a1(c)})}function j(){return b(aJ.getFixed())}function b(c){g.top.css({left:a1(c.x),width:a1(c.w),height:a1(c.y)}),g.bottom.css({top:a1(c.y2),left:a1(c.x),width:a1(c.w),height:a1(ab-c.y2)}),g.right.css({left:a1(c.x2),width:a1(aq-c.x2)}),g.left.css({width:a1(c.x)})}function m(){return a("<div />").css({position:"absolute",backgroundColor:au.shadeColor||au.bgColor}).appendTo(q)}function x(){o||(o=!0,q.insertBefore(aY),j(),aH.setBgOpacity(1,0,1),ao.hide(),A(au.shadeColor||au.bgColor,1),aH.isAwake()?y(au.bgOpacity,1):y(1,1))}function A(d,c){aw(k(),d,c)}function w(){o&&(q.remove(),ao.show(),o=!1,aH.isAwake()?aH.setBgOpacity(au.bgOpacity,1,1):(aH.setBgOpacity(1,1,1),aH.disableHandles()),aw(az,0,1))}function y(d,c){o&&(au.bgFade&&!c?q.animate({opacity:1-d},{queue:!1,duration:au.fadeTime}):q.css({opacity:1-d}))}function v(){au.shade?x():w(),aH.isAwake()&&y(au.bgOpacity)}function k(){return q.children()}var o=!1,q=a("<div />").css({position:"absolute",zIndex:240,opacity:0}),g={top:m(),left:m().height(ab),right:m().height(ab),bottom:m()};return{update:j,updateRaw:b,getShades:k,setBgColor:A,enable:x,disable:w,resize:z,refresh:v,opacity:y}}(),aH=function(){function K(b){var c=a("<div />").css({position:"absolute",opacity:au.borderOpacity}).addClass(aX(b));return ad.append(c),c}function R(b,d){var c=a("<div />").mousedown(bd(b)).css({cursor:b+"-resize",position:"absolute",zIndex:d}).addClass("ord-"+b);return aj.support&&c.bind("touchstart.jcrop",aj.createDragger(b)),ak.append(c),c}function X(c){var b=au.handleSize,d=R(c,g++).css({opacity:au.handleOpacity}).addClass(aX("handle"));return b&&d.width(b).height(b),d}function bk(b){return R(b,g++).addClass("jcrop-dragbar")}function N(c){var b;for(b=0;b<c.length;b++){A[c[b]]=bk(c[b])}}function at(b){var d,c;for(c=0;c<b.length;c++){switch(b[c]){case"n":d="hline";break;case"s":d="hline bottom";break;case"e":d="vline right";break;case"w":d="vline"}W[b[c]]=K(d)}}function J(c){var b;for(b=0;b<c.length;b++){G[c[b]]=X(c[b])}}function Z(c,b){au.shade||ao.css({top:a1(-b),left:a1(-c)}),ae.css({top:a1(b),left:a1(c)})}function U(c,b){ae.width(Math.round(c)).height(Math.round(b))}function Y(){var b=aJ.getFixed();aJ.setPressed([b.x,b.y]),aJ.setCurrent([b.x2,b.y2]),Q()}function Q(b){return o?bj(b):void 0}function bj(c){var b=aJ.getFixed();U(b.w,b.h),Z(b.x,b.y),au.shade&&a2.updateRaw(b),o||E(),c?au.onSelect.call(aW,bb(b)):au.onChange.call(aW,bb(b))}function B(c,b,d){(o||b)&&(au.bgFade&&!d?aY.animate({opacity:c},{queue:!1,duration:au.fadeTime}):aY.css("opacity",c))}function E(){ae.show(),au.shade?a2.opacity(aM):B(aM,!0),o=!0}function T(){f(),ae.hide(),au.shade?a2.opacity(1):B(1),o=!1,au.onRelease.call(aW)}function y(){L&&ak.show()}function P(){return L=!0,au.allowResize?(ak.show(),!0):void 0}function f(){L=!1,ak.hide()}function V(b){b?(aL=!0,f()):(aL=!1,P())}function q(){V(!1),Y()}var o,g=370,W={},G={},A={},L=!1;au.dragEdges&&a.isArray(au.createDragbars)&&N(au.createDragbars),a.isArray(au.createHandles)&&J(au.createHandles),au.drawBorders&&a.isArray(au.createBorders)&&at(au.createBorders),a(document).bind("touchstart.jcrop-ios",function(b){a(b.currentTarget).hasClass("jcrop-tracker")&&b.stopPropagation()});var r=aP().mousedown(bd("move")).css({cursor:"move",position:"absolute",zIndex:360});return aj.support&&r.bind("touchstart.jcrop",aj.createDragger("move")),ad.append(r),f(),{updateVisible:Q,update:bj,release:T,refresh:Y,isAwake:function(){return o},setCursor:function(b){r.css("cursor",b)},enableHandles:P,enableOnly:function(){L=!0},showHandles:y,disableHandles:f,animMode:V,setBgOpacity:B,done:q}}(),av=function(){function w(c){ay.css({zIndex:450}),c?a(document).bind("touchmove.jcrop",s).bind("touchend.jcrop",q):m&&a(document).bind("mousemove.jcrop",f).bind("mouseup.jcrop",b)}function g(){ay.css({zIndex:290}),a(document).unbind(".jcrop")}function f(c){return p(aV(c)),!1}function b(c){return c.preventDefault(),c.stopPropagation(),aK&&(aK=!1,j(aV(c)),aH.isAwake()&&au.onSelect.call(aW,bb(aJ.getFixed())),g(),p=function(){},j=function(){}),!1}function k(c,h,d){return aK=!0,p=c,j=h,w(d),!1}function s(c){return p(aV(aj.cfilter(c))),!1}function q(c){return b(aj.cfilter(c))}function v(c){ay.css("cursor",c)}var p=function(){},j=function(){},m=au.trackDocument;return m||ay.mousemove(f).mouseup(b).mouseout(b),aY.before(ay),{activateHandlers:k,setCursor:v}}(),am=function(){function d(){au.keySupport&&(c.show(),c.focus())}function h(){c.hide()}function g(j,i,k){au.allowMove&&(aJ.moveOffset([i,k]),aH.updateVisible(!0)),j.preventDefault(),j.stopPropagation()}function f(j){if(j.ctrlKey||j.metaKey){return !0}aI=j.shiftKey?!0:!1;var i=aI?10:1;switch(j.keyCode){case 37:g(j,-i,0);break;case 39:g(j,i,0);break;case 38:g(j,0,-i);break;case 40:g(j,0,i);break;case 27:au.allowSelect&&aH.release();break;case 9:return !0}return !1}var c=a('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),b=a("<div />").css({position:"absolute",overflow:"hidden"}).append(c);return au.keySupport&&(c.keydown(f).blur(h),af||!au.fixedSupport?(c.css({position:"absolute",left:"-20px"}),b.append(c).insertBefore(aY)):c.insertBefore(aY)),{watchKeys:d}}();aj.support&&ay.bind("touchstart.jcrop",aj.newSelection),ak.hide(),aE(!0);var aW={setImage:aC,animateTo:aQ,setSelect:aD,setOptions:ap,tellSelect:a6,tellScaled:aO,setClass:a4,disable:an,enable:a8,cancel:aA,release:aH.release,destroy:ax,focus:am.watchKeys,getBounds:function(){return[aq*bc,ab*a7]},getWidgetSize:function(){return[aq,ab]},getScaleFactor:function(){return[bc,a7]},getOptions:function(){return au},ui:{holder:az,selection:ae}};return ai&&az.bind("selectstart",function(){return !1}),aB.data("Jcrop",aW),aW},a.fn.Jcrop=function(b,d){var c;return this.each(function(){if(a(this).data("Jcrop")){if("api"===b){return a(this).data("Jcrop")}a(this).data("Jcrop").setOptions(b)}else{"IMG"==this.tagName?a.Jcrop.Loader(this,function(){a(this).css({display:"block",visibility:"hidden"}),c=a.Jcrop(this,b),a.isFunction(d)&&d.call(c)}):(a(this).css({display:"block",visibility:"hidden"}),c=a.Jcrop(this,b),a.isFunction(d)&&d.call(c))}}),this},a.Jcrop.Loader=function(d,g,f){function e(){b.complete?(c.unbind(".jcloader"),a.isFunction(g)&&g.call(b)):window.setTimeout(e,50)}var c=a(d),b=c[0];c.bind("load.jcloader",e).bind("error.jcloader",function(){c.unbind(".jcloader"),a.isFunction(f)&&f.call(b)}),b.complete&&a.isFunction(g)&&(c.unbind(".jcloader"),g.call(b))},a.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:0.6,bgFade:!1,borderOpacity:0.4,handleOpacity:0.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery);
/*!/jqGrid/js/jquery.jqGrid.js*/
!function(a){"function"==typeof define&&define.amd?jQuery?a(jQuery):define(["jquery","../grid.base"],a):a(jQuery)}(function(a){a.jgrid=a.jgrid||{},a.jgrid.hasOwnProperty("regional")||(a.jgrid.regional=[]),a.jgrid.regional.cn={defaults:{recordtext:"{0} - {1} {2} ",emptyrecords:"",noresult:"",loadtext:"...",savetext:"...",pgtext:" {0}  {1} ",pgfirst:"",pglast:"",pgnext:"",pgprev:"",pgrecs:"",showhide:"Toggle Expand Collapse Grid",pagerCaption:"Grid::Page Settings",pageText:"Page:",recordPage:"",nomorerecs:"...",scrollPullup:"Pull up to load more...",scrollPulldown:"Pull down to refresh...",scrollRefresh:"Release to refresh..."},search:{caption:"...",Find:"",Reset:"",odata:[{oper:"eq",text:""},{oper:"ne",text:""},{oper:"lt",text:""},{oper:"le",text:""},{oper:"gt",text:""},{oper:"ge",text:""},{oper:"bw",text:""},{oper:"bn",text:""},{oper:"in",text:""},{oper:"ni",text:""},{oper:"ew",text:""},{oper:"en",text:""},{oper:"cn",text:""},{oper:"nc",text:""},{oper:"nu",text:""},{oper:"nn",text:""}],groupOps:[{op:"AND",text:""},{op:"OR",text:""}],operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"",editCaption:"",bSubmit:"",bCancel:"",bClose:"",saveData:"",bYes:"",bNo:"",bExit:"",msg:{required:"",number:"",minValue:" ",maxValue:" ",email:"e-mail",integer:"",date:"",url:" ('http://'  'https://')",nodefined:" ",novalue:" ",customarray:"",customfcheck:"!"}},view:{caption:"",bClose:""},del:{caption:"",msg:"",bSubmit:"",bCancel:""},nav:{edittext:"",edittitle:"",addtext:"",addtitle:"",deltext:"",deltitle:"",searchtext:"",searchtitle:"",refreshtext:"",refreshtitle:"",alertcap:"",alerttext:"",viewtext:"",viewtitle:"",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing",selectcaption:"Actions..."},col:{caption:"",bSubmit:"",bCancel:""},errors:{errcap:"",nourl:"url",norecords:"",model:"colNames  colModel "},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["","","","","","","","","","","","","",""],monthNames:["","","","","","","","","","","","","","","","","","","","","","","",""],AmPm:["am","pm","",""],S:function(b){return 11>b||b>13?["st","nd","rd","th"][Math.min((b-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"Y-m-d",parseRe:/[#%\\\/:_;.,\t\s-]/,masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO",YearMonth:"F, Y"},reformatAfterEdit:!1,userLocalTime:!1},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0},idName:"id"}}}),function(a){"function"==typeof define&&define.amd?jQuery?a(jQuery):define(["jquery","../grid.base"],a):a(jQuery)}(function(a){a.jgrid=a.jgrid||{},a.jgrid.hasOwnProperty("regional")||(a.jgrid.regional=[]),a.jgrid.regional.en={defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",noresult:"no records",loadtext:"Loading...",savetext:"Saving...",pgtext:"Page {0} of {1}",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",pagerCaption:"Grid::Page Settings",pageText:"Page:",recordPage:"Records per Page",nomorerecs:"No more records...",scrollPullup:"Pull up to load more...",scrollPulldown:"Pull down to refresh...",scrollRefresh:"Release to refresh..."},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:[{oper:"eq",text:"equal"},{oper:"ne",text:"not equal"},{oper:"lt",text:"less"},{oper:"le",text:"less or equal"},{oper:"gt",text:"greater"},{oper:"ge",text:"greater or equal"},{oper:"bw",text:"begins with"},{oper:"bn",text:"does not begin with"},{oper:"in",text:"is in"},{oper:"ni",text:"is not in"},{oper:"ew",text:"ends with"},{oper:"en",text:"does not end with"},{oper:"cn",text:"contains"},{oper:"nc",text:"does not contain"},{oper:"nu",text:"is null"},{oper:"nn",text:"is not null"}],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing",selectcaption:"Actions..."},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(b){return 11>b||b>13?["st","nd","rd","th"][Math.min((b-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"n/j/Y",parseRe:/[#%\\\/:_;.,\t\s-]/,masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO",YearMonth:"F, Y"},reformatAfterEdit:!1,userLocalTime:!1},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0},idName:"id"}}}),function(a){"function"==typeof define&&define.amd?jQuery?a(jQuery):define(["jquery"],a):a(jQuery)}(function($){function _pivotfilter(e,t){var i,r,o,a=[];if(!this||"function"!=typeof e||e instanceof RegExp){throw new TypeError}for(o=this.length,i=0;o>i;i++){if(this.hasOwnProperty(i)&&(r=this[i],e.call(t,r,i,this))){a.push(r);break}}return a}$.jgrid=$.jgrid||{},$.jgrid.hasOwnProperty("defaults")||($.jgrid.defaults={}),$.extend($.jgrid,{version:"5.0.0",htmlDecode:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},template:function(e){var t,i=$.makeArray(arguments).slice(1),r=i.length;return null==e&&(e=""),e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(e,o){if(!isNaN(parseInt(o,10))){return i[parseInt(o,10)]}for(t=0;r>t;t++){if($.isArray(i[t])){for(var a=i[t],s=a.length;s--;){if(o===a[s].nm){return a[s].v}}}}})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var e=-1,t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");return null!=i.exec(t)&&(e=parseFloat(RegExp.$1)),e},getCellIndex:function(e){var t=$(e);return t.is("tr")?-1:(t=(t.is("td")||t.is("th")?t:t.closest("td,th"))[0],$.jgrid.msie?$.inArray(t,t.parentNode.cells):t.cellIndex)},stripHtml:function(e){e=String(e);var t=/<("[^"]*"|'[^']*'|[^'">])*>/gi;return e?(e=e.replace(t,""),e&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/\"/g,"'"):""):e},stripPref:function(e,t){var i=$.type(e);return("string"===i||"number"===i)&&(e=String(e),t=""!==e?String(t).replace(String(e),""):t),t},parse:function(jsonString){var js=jsonString;return"while(1);"===js.substr(0,9)&&(js=js.substr(9)),"/*"===js.substr(0,2)&&(js=js.substr(2,js.length-4)),js||(js="{}"),$.jgrid.useJSON===!0&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(js):eval("("+js+")")},parseDate:function(e,t,i,r){var o,a,s,n=/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,l=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,d=/[^-+\dA-Z]/g,p=new RegExp("^/Date\\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\\)/$"),c="string"==typeof t?t.match(p):null,u=function(e,t){for(e=String(e),t=parseInt(t,10)||2;e.length<t;){e="0"+e}return e},g={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},h=0,f=function(e,t){return 0===e?12===t&&(t=0):12!==t&&(t+=12),t},m=0;if(void 0===r&&(r=$.jgrid.getRegional(this,"formatter.date")),void 0===r.parseRe&&(r.parseRe=/[#%\\\/:_;.,\t\s-]/),r.masks.hasOwnProperty(e)&&(e=r.masks[e]),t&&null!=t){if(isNaN(t-0)||"u"!==String(e).toLowerCase()){if(t.constructor===Date){h=t}else{if(null!==c){h=new Date(parseInt(c[1],10)),c[3]&&(m=60*Number(c[5])+Number(c[6]),m*="-"===c[4]?1:-1,m-=h.getTimezoneOffset(),h.setTime(Number(Number(h)+60*m*1000)))}else{for("ISO8601Long"===r.srcformat&&"Z"===t.charAt(t.length-1)&&(m-=(new Date).getTimezoneOffset()),t=String(t).replace(/\T/g,"#").replace(/\t/,"%").split(r.parseRe),e=e.replace(/\T/g,"#").replace(/\t/,"%").split(r.parseRe),a=0,s=e.length;s>a;a++){switch(e[a]){case"M":o=$.inArray(t[a],r.monthNames),-1!==o&&12>o&&(t[a]=o+1,g.m=t[a]);break;case"F":o=$.inArray(t[a],r.monthNames,12),-1!==o&&o>11&&(t[a]=o+1-12,g.m=t[a]);break;case"n":e[a]="m";break;case"j":e[a]="d";break;case"a":o=$.inArray(t[a],r.AmPm),-1!==o&&2>o&&t[a]===r.AmPm[o]&&(t[a]=o,g.h=f(t[a],g.h));break;case"A":o=$.inArray(t[a],r.AmPm),-1!==o&&o>1&&t[a]===r.AmPm[o]&&(t[a]=o-2,g.h=f(t[a],g.h));break;case"g":g.h=parseInt(t[a],10)}void 0!==t[a]&&(g[e[a].toLowerCase()]=parseInt(t[a],10))}if(g.f&&(g.m=g.f),0===g.m&&0===g.y&&0===g.d){return"&#160;"}g.m=parseInt(g.m,10)-1;var v=g.y;v>=70&&99>=v?g.y=1900+g.y:v>=0&&69>=v&&(g.y=2000+g.y),h=new Date(g.y,g.m,g.d,g.h,g.i,g.s,g.u),m>0&&h.setTime(Number(Number(h)+60*m*1000))}}}else{h=new Date(1000*parseFloat(t))}}else{h=new Date(g.y,g.m,g.d,g.h,g.i,g.s,g.u)}if(r.userLocalTime&&0===m&&(m-=(new Date).getTimezoneOffset(),m>0&&h.setTime(Number(Number(h)+60*m*1000))),void 0===i){return h}r.masks.hasOwnProperty(i)?i=r.masks[i]:i||(i="Y-m-d");var j=h.getHours(),b=h.getMinutes(),w=h.getDate(),y=h.getMonth()+1,_=h.getTimezoneOffset(),x=h.getSeconds(),q=h.getMilliseconds(),D=h.getDay(),C=h.getFullYear(),I=(D+6)%7+1,G=(new Date(C,y-1,w)-new Date(C,0,1))/86400000,F={d:u(w),D:r.dayNames[D],j:w,l:r.dayNames[D+7],N:I,S:r.S(w),w:D,z:G,W:5>I?Math.floor((G+I-1)/7)+1:Math.floor((G+I-1)/7)||((new Date(C-1,0,1).getDay()+6)%7<4?53:52),F:r.monthNames[y-1+12],m:u(y),M:r.monthNames[y-1],n:y,t:"?",L:"?",o:"?",Y:C,y:String(C).substring(2),a:12>j?r.AmPm[0]:r.AmPm[1],A:12>j?r.AmPm[2]:r.AmPm[3],B:"?",g:j%12||12,G:j,h:u(j%12||12),H:u(j),i:u(b),s:u(x),u:q,e:"?",I:"?",O:(_>0?"-":"+")+u(100*Math.floor(Math.abs(_)/60)+Math.abs(_)%60,4),P:"?",T:(String(h).match(l)||[""]).pop().replace(d,""),Z:"?",c:"?",r:"?",U:Math.floor(h/1000)};return i.replace(n,function(e){return F.hasOwnProperty(e)?F[e]:e.substring(1)})},jqID:function(e){return String(e).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(e){return(e||$.jgrid.uidPref)+$.jgrid.guid++},getAccessor:function(e,t){var i,r,o,a=[];if("function"==typeof t){return t(e)}if(i=e[t],void 0===i){try{if("string"==typeof t&&(a=t.split(".")),o=a.length){for(i=e;i&&o--;){r=a.shift(),i=i[r]}}}catch(s){}}return i},getXmlData:function(e,t,i){var r,o="string"==typeof t?t.match(/^(.*)\[(\w+)\]$/):null;return"function"==typeof t?t(e):o&&o[2]?o[1]?$(o[1],e).attr(o[2]):$(e).attr(o[2]):(r=$(t,e),i?r:r.length>0?$(r).text():void 0)},cellWidth:function(){var e=$("<div class='ui-jqgrid' style='left:10000px'><table class='ui-jqgrid-btable ui-common-table' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div>"),t=e.appendTo("body").find("td").width();return e.remove(),Math.abs(t-5)>0.1},isLocalStorage:function(){try{return"localStorage" in window&&null!==window.localStorage}catch(e){return !1}},getRegional:function(e,t,i){var r;return void 0!==i?i:(e.p&&e.p.regional&&$.jgrid.regional&&(r=$.jgrid.getAccessor($.jgrid.regional[e.p.regional]||{},t)),void 0===r&&(r=$.jgrid.getAccessor($.jgrid,t)),r)},isMobile:function(){try{return/Android|webOS|iPhone|iPad|iPod|pocket|psp|kindle|avantgo|blazer|midori|Tablet|Palm|maemo|plucker|phone|BlackBerry|symbian|IEMobile|mobile|ZuneWP7|Windows Phone|Opera Mini/i.test(navigator.userAgent)?!0:!1}catch(e){return !1}},cell_width:!0,ajaxOptions:{},from:function(source){var $t=this,QueryObject=function(d,q){"string"==typeof d&&(d=$.data(d));var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],_useProperties=!0;if("object"!=typeof d||!d.push){throw"data provides is not an array"}return d.length>0&&(_useProperties="object"!=typeof d[0]?!1:!0),this._hasData=function(){return null===_data?!1:0===_data.length?!1:!0},this._getStr=function(e){var t=[];return _trim&&t.push("jQuery.trim("),t.push("String("+e+")"),_trim&&t.push(")"),_usecase||t.push(".toLowerCase()"),t.join("")},this._strComp=function(e){return"string"==typeof e?".toString()":""},this._group=function(e,t){return{field:e.toString(),unique:t,items:[]}},this._toStr=function(e){return _trim&&(e=$.trim(e)),e=e.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),_usecase?e:e.toLowerCase()},this._funcLoop=function(e){var t=[];return $.each(_data,function(i,r){t.push(e(r))}),t},this._append=function(e){var t;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,t=0;_orDepth>t;t++){_query+="("}_negate&&(_query+="!"),_query+="("+e+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(e,t){_lastCommand=e,_lastField=t},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(e,t){return null===_lastCommand?self:null!==e&&null!==t?_lastCommand(e,t):null===_lastField?_lastCommand(e):_useProperties?_lastCommand(_lastField,e):_lastCommand(e)},this._equals=function(e,t){return 0===self._compare(e,t,1)},this._compare=function(e,t,i){var r=Object.prototype.toString;return void 0===i&&(i=1),void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t?0:null===e&&null!==t?1:null!==e&&null===t?-1:"[object Date]"===r.call(e)&&"[object Date]"===r.call(t)?t>e?-i:e>t?i:0:(_usecase||"number"==typeof e||"number"==typeof t||(e=String(e),t=String(t)),t>e?-i:e>t?i:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(e,t){var i=_sorting[t].by,r=_sorting[t].dir,o=_sorting[t].type,a=_sorting[t].datefmt,s=_sorting[t].sfunc;if(t===_sorting.length-1){return self._getOrder(e,i,r,o,a,s)}t++;var n,l,d,p=self._getGroup(e,i,r,o,a),c=[];for(n=0;n<p.length;n++){for(d=self._doSort(p[n].items,t),l=0;l<d.length;l++){c.push(d[l])}}return c},this._getOrder=function(e,t,i,r,o,a){var s,n,l,d,p=[],c=[],u="a"===i?1:-1;void 0===r&&(r="text"),d="float"===r||"number"===r||"currency"===r||"numeric"===r?function(e){var t=parseFloat(String(e).replace(_stripNum,""));return isNaN(t)?Number.NEGATIVE_INFINITY:t}:"int"===r||"integer"===r?function(e){return e?parseFloat(String(e).replace(_stripNum,"")):Number.NEGATIVE_INFINITY}:"date"===r||"datetime"===r?function(e){return $.jgrid.parseDate.call($t,o,e).getTime()}:$.isFunction(r)?r:function(e){return e=e?$.trim(String(e)):"",_usecase?e:e.toLowerCase()},$.each(e,function(e,i){n=""!==t?$.jgrid.getAccessor(i,t):i,void 0===n&&(n=""),n=d(n,i),c.push({vSort:n,index:e})}),c.sort($.isFunction(a)?function(e,t){return e=e.vSort,t=t.vSort,a.call(this,e,t,u)}:function(e,t){return e=e.vSort,t=t.vSort,self._compare(e,t,u)}),l=0;for(var g=e.length;g>l;){s=c[l].index,p.push(e[s]),l++}return p},this._getGroup=function(e,t,i,r,o){var a,s=[],n=null,l=null;return $.each(self._getOrder(e,t,i,r,o),function(e,i){a=$.jgrid.getAccessor(i,t),null==a&&(a=""),self._equals(l,a)||(l=a,null!==n&&s.push(n),n=self._group(t,a)),n.items.push(i)}),null!==n&&s.push(n),s},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match?self:($.each(_data,function(){eval(match)&&results.push(this)}),_data=results,self)},this.data=function(){return _data},this.select=function(e){if(self._performSort(),!self._hasData()){return[]}if(self.execute(),$.isFunction(e)){var t=[];return $.each(_data,function(i,r){t.push(e(r))}),t}return _data},this.hasMatch=function(){return self._hasData()?(self.execute(),_data.length>0):!1},this.andNot=function(e,t,i){return _negate=!_negate,self.and(e,t,i)},this.orNot=function(e,t,i){return _negate=!_negate,self.or(e,t,i)},this.not=function(e,t,i){return self.andNot(e,t,i)},this.and=function(e,t,i){return _queuedOperator=" && ",void 0===e?self:self._repeatCommand(e,t,i)},this.or=function(e,t,i){return _queuedOperator=" || ",void 0===e?self:self._repeatCommand(e,t,i)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(e){return _negate=!_negate,self.is(e)},this.is=function(e){return self._append("this."+e),self._resetNegate(),self},this._compareValues=function(e,t,i,r,o){var a;a=_useProperties?"jQuery.jgrid.getAccessor(this,'"+t+"')":"this",void 0===i&&(i=null);var s=i,n=void 0===o.stype?"text":o.stype;if(null!==i){switch(n){case"int":case"integer":s=isNaN(Number(s))||""===s?"0":s,a="parseInt("+a+",10)",s="parseInt("+s+",10)";break;case"float":case"number":case"numeric":s=String(s).replace(_stripNum,""),s=isNaN(Number(s))||""===s?"0":s,a="parseFloat("+a+")",s="parseFloat("+s+")";break;case"date":case"datetime":s=String($.jgrid.parseDate.call($t,o.srcfmt||"Y-m-d",s).getTime()),a='jQuery.jgrid.parseDate.call(jQuery("#'+$.jgrid.jqID($t.p.id)+'")[0],"'+o.srcfmt+'",'+a+").getTime()";break;default:a=self._getStr(a),s=self._getStr('"'+self._toStr(s)+'"')}}return self._append(a+" "+r+" "+s),self._setCommand(e,t),self._resetNegate(),self},this.equals=function(e,t,i){return self._compareValues(self.equals,e,t,"==",i)},this.notEquals=function(e,t,i){return self._compareValues(self.equals,e,t,"!==",i)},this.isNull=function(e,t,i){return self._compareValues(self.equals,e,null,"===",i)},this.greater=function(e,t,i){return self._compareValues(self.greater,e,t,">",i)},this.less=function(e,t,i){return self._compareValues(self.less,e,t,"<",i)},this.greaterOrEquals=function(e,t,i){return self._compareValues(self.greaterOrEquals,e,t,">=",i)},this.lessOrEquals=function(e,t,i){return self._compareValues(self.lessOrEquals,e,t,"<=",i)},this.startsWith=function(e,t){var i=null==t?e:t,r=_trim?$.trim(i.toString()).length:i.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".substr(0,"+r+") == "+self._getStr('"'+self._toStr(t)+'"')):(null!=t&&(r=_trim?$.trim(t.toString()).length:t.toString().length),self._append(self._getStr("this")+".substr(0,"+r+") == "+self._getStr('"'+self._toStr(e)+'"'))),self._setCommand(self.startsWith,e),self._resetNegate(),self},this.endsWith=function(e,t){var i=null==t?e:t,r=_trim?$.trim(i.toString()).length:i.toString().length;return self._append(_useProperties?self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".substr("+self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".length-"+r+","+r+') == "'+self._toStr(t)+'"':self._getStr("this")+".substr("+self._getStr("this")+'.length-"'+self._toStr(e)+'".length,"'+self._toStr(e)+'".length) == "'+self._toStr(e)+'"'),self._setCommand(self.endsWith,e),self._resetNegate(),self},this.contains=function(e,t){return self._append(_useProperties?self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+'.indexOf("'+self._toStr(t)+'",0) > -1':self._getStr("this")+'.indexOf("'+self._toStr(e)+'",0) > -1'),self._setCommand(self.contains,e),self._resetNegate(),self},this.groupBy=function(e,t,i,r){return self._hasData()?self._getGroup(_data,e,t,i,r):null},this.orderBy=function(e,t,i,r,o){return t=null==t?"a":$.trim(t.toString().toLowerCase()),null==i&&(i="text"),null==r&&(r="Y-m-d"),null==o&&(o=!1),("desc"===t||"descending"===t)&&(t="d"),("asc"===t||"ascending"===t)&&(t="a"),_sorting.push({by:e,dir:t,type:i,datefmt:r,sfunc:o}),self},self};return new QueryObject(source,null)},getMethod:function(e){return this.getAccessor($.fn.jqGrid,e)},extend:function(e){$.extend($.fn.jqGrid,e),this.no_legacy_api||$.fn.extend(e)},clearBeforeUnload:function(e){var t,i=$("#"+$.jgrid.jqID(e))[0];if(i.grid){t=i.grid,$.isFunction(t.emptyRows)&&t.emptyRows.call(i,!0,!0),$(document).unbind("mouseup.jqGrid"+i.p.id),$(t.hDiv).unbind("mousemove"),$(i).unbind();var r,o=t.headers.length,a=["formatCol","sortData","updatepager","refreshIndex","setHeadCheckBox","constructTr","formatter","addXmlData","addJSONData","grid","p"];for(r=0;o>r;r++){t.headers[r].el=null}for(r in t){t.hasOwnProperty(r)&&(t[r]=null)}for(r in i.p){i.p.hasOwnProperty(r)&&(i.p[r]=$.isArray(i.p[r])?[]:null)}for(o=a.length,r=0;o>r;r++){i.hasOwnProperty(a[r])&&(i[a[r]]=null,delete i[a[r]])}}},gridUnload:function(e){if(e){e=$.trim(e),0===e.indexOf("#")&&(e=e.substring(1));var t=$("#"+$.jgrid.jqID(e))[0];if(t.grid){var i={id:$(t).attr("id"),cl:$(t).attr("class")};t.p.pager&&$(t.p.pager).unbind().empty().removeClass("ui-state-default ui-jqgrid-pager ui-corner-bottom");var r=document.createElement("table");r.className=i.cl;var o=$.jgrid.jqID(t.id);$(r).removeClass("ui-jqgrid-btable ui-common-table").insertBefore("#gbox_"+o),1===$(t.p.pager).parents("#gbox_"+o).length&&$(t.p.pager).insertBefore("#gbox_"+o),$.jgrid.clearBeforeUnload(e),$("#gbox_"+o).remove(),$(r).attr({id:i.id}),$("#alertmod_"+$.jgrid.jqID(e)).remove()}}},gridDestroy:function(e){if(e){e=$.trim(e),0===e.indexOf("#")&&(e=e.substring(1));var t=$("#"+$.jgrid.jqID(e))[0];if(t.grid){t.p.pager&&$(t.p.pager).remove();try{$.jgrid.clearBeforeUnload(e),$("#gbox_"+$.jgrid.jqID(e)).remove()}catch(i){}}}},styleUI:{jQueryUI:{common:{disabled:"ui-state-disabled",highlight:"ui-state-highlight",hover:"ui-state-hover",cornerall:"ui-corner-all",cornertop:"ui-corner-top",cornerbottom:"ui-corner-bottom",hidden:"ui-helper-hidden",icon_base:"ui-icon",overlay:"ui-widget-overlay",active:"ui-state-active",error:"ui-state-error",button:"ui-state-default ui-corner-all",content:"ui-widget-content"},base:{entrieBox:"ui-widget ui-widget-content ui-corner-all",viewBox:"",headerTable:"",headerBox:"ui-state-default",rowTable:"",rowBox:"ui-widget-content",footerTable:"",footerBox:"ui-widget-content",headerDiv:"ui-state-default",gridtitleBox:"ui-widget-header ui-corner-top ui-helper-clearfix",customtoolbarBox:"ui-state-default",loadingBox:"ui-state-default ui-state-active",rownumBox:"ui-state-default",scrollBox:"ui-widget-content",multiBox:"cbox",pagerBox:"ui-state-default ui-corner-bottom",pagerTable:"",toppagerBox:"ui-state-default",pgInput:"ui-corner-all",pgSelectBox:"ui-widget-content ui-corner-all",pgButtonBox:"ui-corner-all",icon_first:"ui-icon-seek-first",icon_prev:"ui-icon-seek-prev",icon_next:"ui-icon-seek-next",icon_end:"ui-icon-seek-end",icon_asc:"ui-icon-triangle-1-n",icon_desc:"ui-icon-triangle-1-s",icon_caption_open:"ui-icon-circle-triangle-n",icon_caption_close:"ui-icon-circle-triangle-s"},modal:{modal:"ui-widget ui-widget-content ui-corner-all",header:"ui-widget-header ui-corner-all ui-helper-clearfix",content:"ui-widget-content",resizable:"ui-resizable-handle ui-resizable-se",icon_close:"ui-icon-closethick",icon_resizable:"ui-icon-gripsmall-diagonal-se"},celledit:{inputClass:"ui-widget-content ui-corner-all"},inlinedit:{inputClass:"ui-widget-content ui-corner-all",icon_edit_nav:"ui-icon-pencil",icon_add_nav:"ui-icon-plus",icon_save_nav:"ui-icon-disk",icon_cancel_nav:"ui-icon-cancel"},formedit:{inputClass:"ui-widget-content ui-corner-all",icon_prev:"ui-icon-triangle-1-w",icon_next:"ui-icon-triangle-1-e",icon_save:"ui-icon-disk",icon_close:"ui-icon-close",icon_del:"ui-icon-scissors",icon_cancel:"ui-icon-cancel"},navigator:{icon_edit_nav:"ui-icon-pencil",icon_add_nav:"ui-icon-plus",icon_del_nav:"ui-icon-trash",icon_search_nav:"ui-icon-search",icon_refresh_nav:"ui-icon-refresh",icon_view_nav:"ui-icon-document",icon_newbutton_nav:"ui-icon-newwin"},grouping:{icon_plus:"ui-icon-circlesmall-plus",icon_minus:"ui-icon-circlesmall-minus"},filter:{table_widget:"ui-widget ui-widget-content",srSelect:"ui-widget-content ui-corner-all",srInput:"ui-widget-content ui-corner-all",menu_widget:"ui-widget ui-widget-content ui-corner-all",icon_search:"ui-icon-search",icon_reset:"ui-icon-arrowreturnthick-1-w",icon_query:"ui-icon-comment"},subgrid:{icon_plus:"ui-icon-plus",icon_minus:"ui-icon-minus",icon_open:"ui-icon-carat-1-sw"},treegrid:{icon_plus:"ui-icon-triangle-1-",icon_minus:"ui-icon-triangle-1-s",icon_leaf:"ui-icon-radio-off"},fmatter:{icon_edit:"ui-icon-pencil",icon_add:"ui-icon-plus",icon_save:"ui-icon-disk",icon_cancel:"ui-icon-cancel",icon_del:"ui-icon-trash"}},Bootstrap:{common:{disabled:"ui-disabled",highlight:"success",hover:"active",cornerall:"",cornertop:"",cornerbottom:"",hidden:"",icon_base:"glyphicon",overlay:"ui-overlay",active:"active",error:"bg-danger",button:"btn btn-default",content:""},base:{entrieBox:"",viewBox:"table-responsive",headerTable:"table table-bordered",headerBox:"",rowTable:"table table-bordered",rowBox:"",footerTable:"table table-bordered",footerBox:"",headerDiv:"",gridtitleBox:"",customtoolbarBox:"",loadingBox:"row",rownumBox:"active",scrollBox:"",multiBox:"checkbox",pagerBox:"",pagerTable:"table",toppagerBox:"",pgInput:"form-control",pgSelectBox:"form-control",pgButtonBox:"",icon_first:"glyphicon-step-backward",icon_prev:"glyphicon-backward",icon_next:"glyphicon-forward",icon_end:"glyphicon-step-forward",icon_asc:"glyphicon-triangle-top",icon_desc:"glyphicon-triangle-bottom",icon_caption_open:"glyphicon-circle-arrow-up",icon_caption_close:"glyphicon-circle-arrow-down"},modal:{modal:"modal-content",header:"modal-header",title:"modal-title",content:"modal-body",resizable:"ui-resizable-handle ui-resizable-se",icon_close:"glyphicon-remove-circle",icon_resizable:"glyphicon-import"},celledit:{inputClass:"form-control"},inlinedit:{inputClass:"form-control",icon_edit_nav:"glyphicon-edit",icon_add_nav:"glyphicon-plus",icon_save_nav:"glyphicon-save",icon_cancel_nav:"glyphicon-remove-circle"},formedit:{inputClass:"form-control",icon_prev:"glyphicon-step-backward",icon_next:"glyphicon-step-forward",icon_save:"glyphicon-save",icon_close:"glyphicon-remove-circle",icon_del:"glyphicon-trash",icon_cancel:"glyphicon-remove-circle"},navigator:{icon_edit_nav:"glyphicon-edit",icon_add_nav:"glyphicon-plus",icon_del_nav:"glyphicon-trash",icon_search_nav:"glyphicon-search",icon_refresh_nav:"glyphicon-refresh",icon_view_nav:"glyphicon-info-sign",icon_newbutton_nav:"glyphicon-new-window"},grouping:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom"},filter:{table_widget:"table table-condensed",srSelect:"form-control",srInput:"form-control",menu_widget:"",icon_search:"glyphicon-search",icon_reset:"glyphicon-refresh",icon_query:"glyphicon-comment"},subgrid:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom",icon_open:"glyphicon-indent-left"},treegrid:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom",icon_leaf:"glyphicon-unchecked"},fmatter:{icon_edit:"glyphicon-edit",icon_add:"glyphicon-plus",icon_save:"glyphicon-save",icon_cancel:"glyphicon-remove-circle",icon_del:"glyphicon-trash"}}}}),$.fn.jqGrid=function(e){if("string"==typeof e){var t=$.jgrid.getMethod(e);if(!t){throw"jqGrid - No such method: "+e}var i=$.makeArray(arguments).slice(1);return t.apply(this,i)}return this.each(function(){if(!this.grid){var t;null!=e&&void 0!==e.data&&(t=e.data,e.data=[]);var i=$.extend(!0,{url:"",height:150,page:1,rowNum:20,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],rowList:[],colNames:[],sortorder:"asc",sortname:"",datatype:"xml",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},jsonReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,multiselect:!1,multikey:!1,editurl:null,search:!1,caption:"",hidegrid:!0,hiddengrid:!1,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:30,gridview:!0,rownumWidth:35,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],ajaxGridOptions:{},direction:"ltr",toppager:!1,headertitles:!1,scrollTimeout:40,data:[],_index:{},grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],plusicon:"",minusicon:"",displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1},ignoreCase:!0,cmTemplate:{},idPrefix:"",multiSort:!1,minColWidth:33,scrollPopUp:!1,scrollTopOffset:0,scrollLeftOffset:"100%",storeNavOptions:!1,regional:"en",styleUI:"jQueryUI",noMsg:"",responsive:!1},$.jgrid.defaults,e);void 0!==t&&(i.data=t,e.data=t);var r=this,o={headers:[],cols:[],footers:[],dragStart:function(e,t,o){var a=$(this.bDiv).offset().left;this.resizing={idx:e,startX:t.pageX,sOL:t.pageX-a},this.hDiv.style.cursor="col-resize",this.curGbox=$("#rs_m"+$.jgrid.jqID(i.id),"#gbox_"+$.jgrid.jqID(i.id)),this.curGbox.css({display:"block",left:t.pageX-a,top:o[1],height:o[2]}),$(r).triggerHandler("jqGridResizeStart",[t,e]),$.isFunction(i.resizeStart)&&i.resizeStart.call(r,t,e),document.onselectstart=function(){return !1}},dragMove:function(e){if(this.resizing){var t,r,o=e.pageX-this.resizing.startX,a=this.headers[this.resizing.idx],s="ltr"===i.direction?a.width+o:a.width-o;s>33&&(this.curGbox.css({left:this.resizing.sOL+o}),i.forceFit===!0?(t=this.headers[this.resizing.idx+i.nv],r="ltr"===i.direction?t.width-o:t.width+o,r>i.minColWidth&&(a.newWidth=s,t.newWidth=r)):(this.newWidth="ltr"===i.direction?i.tblwidth+o:i.tblwidth-o,a.newWidth=s))}},dragEnd:function(e){if(this.hDiv.style.cursor="default",this.resizing){var t=this.resizing.idx,o=this.headers[t].newWidth||this.headers[t].width;o=parseInt(o,10),this.resizing=!1,$("#rs_m"+$.jgrid.jqID(i.id)).css("display","none"),i.colModel[t].width=o,this.headers[t].width=o,this.headers[t].el.style.width=o+"px",this.cols[t].style.width=o+"px",this.footers.length>0&&(this.footers[t].style.width=o+"px"),i.forceFit===!0?(o=this.headers[t+i.nv].newWidth||this.headers[t+i.nv].width,this.headers[t+i.nv].width=o,this.headers[t+i.nv].el.style.width=o+"px",this.cols[t+i.nv].style.width=o+"px",this.footers.length>0&&(this.footers[t+i.nv].style.width=o+"px"),i.colModel[t+i.nv].width=o):(i.tblwidth=this.newWidth||i.tblwidth,$("table:first",this.bDiv).css("width",i.tblwidth+"px"),$("table:first",this.hDiv).css("width",i.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,i.footerrow&&($("table:first",this.sDiv).css("width",i.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft)),e&&($(r).triggerHandler("jqGridResizeStop",[o,t]),$.isFunction(i.resizeStop)&&i.resizeStop.call(r,o,t))}this.curGbox=null,document.onselectstart=function(){return !0}},populateVisible:function(){o.timer&&clearTimeout(o.timer),o.timer=null;var e=$(o.bDiv).height();if(e){var t,a,s=$("table:first",o.bDiv);if(s[0].rows.length){try{t=s[0].rows[1],a=t?$(t).outerHeight()||o.prevRowHeight:o.prevRowHeight}catch(n){a=o.prevRowHeight}}if(a){o.prevRowHeight=a;var l,d,p,c=i.rowNum,u=o.scrollTop=o.bDiv.scrollTop,g=Math.round(s.position().top)-u,h=g+s.height(),f=a*c;if(e>h&&0>=g&&(void 0===i.lastpage||(parseInt((h+u+f-1)/f,10)||0)<=i.lastpage)&&(d=parseInt((e-h+f-1)/f,10)||1,h>=0||2>d||i.scroll===!0?(l=(Math.round((h+u)/f)||0)+1,g=-1):g=1),g>0&&(l=(parseInt(u/f,10)||0)+1,d=(parseInt((u+e)/f,10)||0)+2-l,p=!0),d){if(i.lastpage&&(l>i.lastpage||1===i.lastpage||l===i.page&&l===i.lastpage)){return}o.hDiv.loading?o.timer=setTimeout(o.populateVisible,i.scrollTimeout):(i.page=l,p&&(o.selectionPreserver(s[0]),o.emptyRows.call(s[0],!1,!1)),o.populate(d)),i.scrollPopUp&&null!=i.lastpage&&($("#scroll_g"+i.id).show().html($.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",i.pgtext),i.page,i.lastpage)).css({top:i.scrollTopOffset+u*((parseInt(i.height,10)-45)/(parseInt(a,10)*parseInt(i.records,10)))+"px",left:i.scrollLeftOffset}),$(this).mouseout(function(){$("#scroll_g"+i.id).hide()}))}}}},scrollGrid:function(e){if(i.scroll){var t=o.bDiv.scrollTop;void 0===o.scrollTop&&(o.scrollTop=0),t!==o.scrollTop&&(o.scrollTop=t,o.timer&&clearTimeout(o.timer),o.timer=setTimeout(o.populateVisible,i.scrollTimeout))}o.hDiv.scrollLeft=o.bDiv.scrollLeft,i.footerrow&&(o.sDiv.scrollLeft=o.bDiv.scrollLeft),i.frozenColumns&&$(o.fbDiv).scrollTop(o.bDiv.scrollTop),e&&e.stopPropagation()},selectionPreserver:function(e){var t=e.p,i=t.selrow,r=t.selarrrow?$.makeArray(t.selarrrow):null,o=e.grid.bDiv.scrollLeft,a=function(){var s;if(t.selrow=null,t.selarrrow=[],t.multiselect&&r&&r.length>0){for(s=0;s<r.length;s++){r[s]!==i&&$(e).jqGrid("setSelection",r[s],!1,null)}}i&&$(e).jqGrid("setSelection",i,!1,null),e.grid.bDiv.scrollLeft=o,$(e).unbind(".selectionPreserver",a)};$(e).bind("jqGridGridComplete.selectionPreserver",a)}};if("TABLE"!==this.tagName.toUpperCase()||null==this.id){return void alert("Element is not a table or has no id!")}if(void 0!==document.documentMode&&document.documentMode<=5){return void alert("Grid can not be used in this ('quirks') mode!")}var a,s,n,l=0;for(s in $.jgrid.regional){$.jgrid.regional.hasOwnProperty(s)&&(0===l&&(a=s),l++)}if(1===l&&a!==i.regional&&(i.regional=a),$(this).empty().attr("tabindex","0"),this.p=i,this.p.useProp=!!$.fn.prop,0===this.p.colNames.length){for(l=0;l<this.p.colModel.length;l++){this.p.colNames[l]=this.p.colModel[l].label||this.p.colModel[l].name}}if(this.p.colNames.length!==this.p.colModel.length){return void alert($.jgrid.getRegional(this,"errors.model"))}var d,p=$.jgrid.getMethod("getStyleUI"),c=r.p.styleUI+".common",u=p(c,"disabled",!0),g=p(c,"highlight",!0),h=p(c,"hover",!0),f=p(c,"cornerall",!0),m=p(c,"icon_base",!0),v=$.jgrid.msie,j=[],b=[],w=[];c=r.p.styleUI+".base",d=$("<div "+p(c,"viewBox",!1,"ui-jqgrid-view")+" role='grid'></div>"),r.p.direction=$.trim(r.p.direction.toLowerCase()),r.p._ald=!1,-1===$.inArray(r.p.direction,["ltr","rtl"])&&(r.p.direction="ltr"),n=r.p.direction,$(d).insertBefore(this),$(this).appendTo(d);var y=$("<div "+p(c,"entrieBox",!1,"ui-jqgrid")+"></div>");$(y).attr({id:"gbox_"+this.id,dir:n}).insertBefore(d),$(d).attr("id","gview_"+this.id).appendTo(y),setTimeout(function(){"local"!=r.p.datatype&&$(d).css({width:$(d).width()-2})},0),$("<div "+p(r.p.styleUI+".common","overlay",!1,"jqgrid-overlay")+" id='lui_"+this.id+"'></div>").insertBefore(d),$("<div "+p(c,"loadingBox",!1,"loading")+" id='load_"+this.id+"'>"+$.jgrid.getRegional(r,"defaults.loadtext",this.p.loadtext)+"</div>").insertBefore(d),$(this).attr({role:"presentation","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var _,x=["shiftKey","altKey","ctrlKey"],q=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},D=function(e,t,i,a,s,n){var l,d,p=r.p.colModel[e],c=p.align,u='style="',g=p.classes,h=p.name,f=[];return c&&(u+="text-align:"+c+";"),p.hidden===!0&&(u+="display:none;"),0===t?u+="width: "+o.headers[e].width+"px;":($.isFunction(p.cellattr)||"string"==typeof p.cellattr&&null!=$.jgrid.cellattr&&$.isFunction($.jgrid.cellattr[p.cellattr]))&&(l=$.isFunction(p.cellattr)?p.cellattr:$.jgrid.cellattr[p.cellattr],d=l.call(r,s,i,a,p,n),d&&"string"==typeof d&&(d=d.replace(/style/i,"style").replace(/title/i,"title"),d.indexOf("title")>-1&&(p.title=!1),d.indexOf("class")>-1&&(g=void 0),f=d.replace(/\-style/g,"-sti").split(/style/),2===f.length?(f[1]=$.trim(f[1].replace(/\-sti/g,"-style").replace("=","")),(0===f[1].indexOf("'")||0===f[1].indexOf('"'))&&(f[1]=f[1].substring(1)),u+=f[1].replace(/'/gi,'"')):u+='"')),f.length||(f[0]="",u+='"'),u+=(void 0!==g?' class="'+g+'"':"")+(p.title&&i?' title="'+$.jgrid.stripHtml(i)+'"':""),u+=' aria-describedby="'+r.p.id+"_"+h+'"',u+f[0]},C=function(e){return null==e||""===e?"&#160;":r.p.autoencode?$.jgrid.htmlEncode(e):String(e)},I=function(e,t,i,o,a){var s,n=r.p.colModel[i];if(void 0!==n.formatter){e=""!==String(r.p.idPrefix)?$.jgrid.stripPref(r.p.idPrefix,e):e;var l={rowId:e,colModel:n,gid:r.p.id,pos:i,styleUI:r.p.styleUI};s=$.isFunction(n.formatter)?n.formatter.call(r,t,l,o,a):$.fmatter?$.fn.fmatter.call(r,n.formatter,t,l,o,a):C(t)}else{s=C(t)}return s},G=function(e,t,i,r,o,a){var s,n;return s=I(e,t,i,o,"add"),n=D(i,r,s,o,e,a),'<td role="gridcell" '+n+">"+s+"</td>"},F=function(e,t,i,o,a){var s='<input role="checkbox" type="checkbox" id="jqg_'+r.p.id+"_"+e+'" '+a+' name="jqg_'+r.p.id+"_"+e+'"'+(o?'checked="checked"':"")+"/>",n=D(t,i,"",null,e,!0);return'<td role="gridcell" '+n+">"+s+"</td>"},S=function(e,t,i,r,o){var a=(parseInt(i,10)-1)*parseInt(r,10)+1+t,s=D(e,t,a,null,t,!0);return'<td role="gridcell" '+o+" "+s+">"+a+"</td>"},k=function(e){var t,i,o=[],a=0;for(i=0;i<r.p.colModel.length;i++){t=r.p.colModel[i],"cb"!==t.name&&"subgrid"!==t.name&&"rn"!==t.name&&(o[a]="local"===e?t.name:"xml"===e||"xmlstring"===e?t.xmlmap||t.name:t.jsonmap||t.name,r.p.keyName!==!1&&t.key===!0&&(r.p.keyName=o[a]),a++)}return o},R=function(e){var t=r.p.remapColumns;return t&&t.length||(t=$.map(r.p.colModel,function(e,t){return t})),e&&(t=$.map(t,function(t){return e>t?null:t-e})),t},M=function(e,t){var i;this.p.deepempty?$(this.rows).slice(1).remove():(i=this.rows.length>0?this.rows[0]:null,$(this.firstChild).empty().append(i)),e&&this.p.scroll&&($(this.grid.bDiv.firstChild).css({height:"auto"}),$(this.grid.bDiv.firstChild.firstChild).css({height:"0px",display:"none"}),0!==this.grid.bDiv.scrollTop&&(this.grid.bDiv.scrollTop=0)),t===!0&&this.p.treeGrid&&!this.p.loadonce&&(this.p.data=[],this.p._index={})},N=function(){var e,t,i,o,a,s,n,l,d,p,c,u=r.p,g=u.data,h=g.length,f=u.localReader,m=u.colModel,v=f.cell,j=(u.multiselect===!0?1:0)+(u.subGrid===!0?1:0)+(u.rownumbers===!0?1:0),b=u.scroll?$.jgrid.randId():1;if("local"===u.datatype&&f.repeatitems===!0){for(d=R(j),p=k("local"),o=u.keyIndex===!1?$.isFunction(f.id)?f.id.call(r,g):f.id:u.keyIndex,e=0;h>e;e++){for(i=g[e],a=$.jgrid.getAccessor(i,o),void 0===a&&("number"==typeof o&&null!=m[o+j]&&(a=$.jgrid.getAccessor(i,m[o+j].name)),void 0===a&&(a=b+e,v&&(s=$.jgrid.getAccessor(i,v)||i,a=null!=s&&void 0!==s[o]?s[o]:a,s=null))),l={},l[f.id]=a,v&&(i=$.jgrid.getAccessor(i,v)||i),c=$.isArray(i)?d:p,t=0;t<c.length;t++){n=$.jgrid.getAccessor(i,c[t]),l[m[t+j].name]=n}$.extend(!0,g[e],l)}}},T=function(){var e,t,i,o=r.p.data.length;for(e=r.p.keyName===!1||r.p.loadonce===!0?r.p.localReader.id:r.p.keyName,r.p._index=[],t=0;o>t;t++){i=$.jgrid.getAccessor(r.p.data[t],e),void 0===i&&(i=String(t+1)),r.p._index[i]=t}},O=function(e,t,i,o,a){var s,n="-1",l="",d=t?"display:none;":"",p=$(r).triggerHandler("jqGridRowAttr",[o,a,e]);if("object"!=typeof p&&(p=$.isFunction(r.p.rowattr)?r.p.rowattr.call(r,o,a,e):"string"==typeof r.p.rowattr&&null!=$.jgrid.rowattr&&$.isFunction($.jgrid.rowattr[r.p.rowattr])?$.jgrid.rowattr[r.p.rowattr].call(r,o,a,e):{}),!$.isEmptyObject(p)){p.hasOwnProperty("id")&&(e=p.id,delete p.id),p.hasOwnProperty("tabindex")&&(n=p.tabindex,delete p.tabindex),p.hasOwnProperty("style")&&(d+=p.style,delete p.style),p.hasOwnProperty("class")&&(i+=" "+p["class"],delete p["class"]);try{delete p.role}catch(c){}for(s in p){p.hasOwnProperty(s)&&(l+=" "+s+"="+p[s])}}return'<tr role="row" id="'+e+'" tabindex="'+n+'" class="'+i+'"'+(""===d?"":' style="'+d+'"')+l+">"},P=function(e,t,i,o){var a=new Date,s="local"!==r.p.datatype&&r.p.loadonce||"xmlstring"===r.p.datatype,n="_id_",l=r.p.xmlReader,d="local"===r.p.datatype?"local":"xml";if(s&&(r.p.data=[],r.p._index={},r.p.localReader.id=n),r.p.reccount=0,$.isXMLDoc(e)){-1!==r.p.treeANode||r.p.scroll?t=t>1?t:1:(M.call(r,!1,!0),t=1);var u,g,h,f,m,v,j,b,w,y,_=$(r),x=0,D=r.p.multiselect===!0?1:0,C=0,I=r.p.rownumbers===!0?1:0,N=[],T={},P=[],A=r.p.altRows===!0?r.p.altclass:"",E=p(c,"rowBox",!0,"jqgrow ui-row-"+r.p.direction);r.p.subGrid===!0&&(C=1,f=$.jgrid.getMethod("addSubGridCell")),l.repeatitems||(N=k(d)),m=r.p.keyName===!1?$.isFunction(l.id)?l.id.call(r,e):l.id:r.p.keyName,v=-1===String(m).indexOf("[")?N.length?function(e,t){return $(m,e).text()||t}:function(e,t){return $(l.cell,e).eq(m).text()||t}:function(e,t){return e.getAttribute(m.replace(/[\[\]]/g,""))||t},r.p.userData={},r.p.page=q($.jgrid.getXmlData(e,l.page),r.p.page),r.p.lastpage=q($.jgrid.getXmlData(e,l.total),1),r.p.records=q($.jgrid.getXmlData(e,l.records)),$.isFunction(l.userdata)?r.p.userData=l.userdata.call(r,e)||{}:$.jgrid.getXmlData(e,l.userdata,!0).each(function(){r.p.userData[this.getAttribute("name")]=$(this).text()});var U=$.jgrid.getXmlData(e,l.root,!0);U=$.jgrid.getXmlData(U,l.row,!0),U||(U=[]);var z,B=U.length,H=0,L=[],V=parseInt(r.p.rowNum,10),W=r.p.scroll?$.jgrid.randId():1;if(B>0&&r.p.page<=0&&(r.p.page=1),U&&B){o&&(V*=o+1);var Q,Y=$.isFunction(r.p.afterInsertRow),X=!1,J=$("#"+$.jgrid.jqID(r.p.id)+" tbody:first"),K=I?p(c,"rownumBox",!1,"jqgrid-rownum"):"",Z=D?p(c,"multiBox",!1,"cbox"):"";for(r.p.grouping&&(X=r.p.groupingView.groupCollapse===!0,Q=$.jgrid.getMethod("groupingPrepare"));B>H;){b=U[H],w=v(b,W+H),w=r.p.idPrefix+w,z=0===t?0:t+1,y=E+((z+H)%2===1?" "+A:"");var et=P.length;if(P.push(""),I&&P.push(S(0,H,r.p.page,r.p.rowNum,K)),D&&P.push(F(w,I,H,!1,Z)),C&&P.push(f.call(_,D+I,H+t)),l.repeatitems){j||(j=R(D+C+I));var tt=$.jgrid.getXmlData(b,l.cell,!0);$.each(j,function(e){var i=tt[this];return i?(h=i.textContent||i.text,T[r.p.colModel[e+D+C+I].name]=h,void P.push(G(w,h,e+D+C+I,H+t,b,T))):!1})}else{for(u=0;u<N.length;u++){h=$.jgrid.getXmlData(b,N[u]),T[r.p.colModel[u+D+C+I].name]=h,P.push(G(w,h,u+D+C+I,H+t,b,T))}}if(P[et]=O(w,X,y,T,b),P.push("</tr>"),r.p.grouping&&(L.push(P),r.p.groupingView._locgr||Q.call(_,T,H),P=[]),(s||r.p.treeGrid===!0&&!r.p._ald)&&(T[n]=$.jgrid.stripPref(r.p.idPrefix,w),r.p.data.push(T),r.p._index[T[n]]=r.p.data.length-1),r.p.gridview===!1&&(J.append(P.join("")),_.triggerHandler("jqGridAfterInsertRow",[w,T,b]),Y&&r.p.afterInsertRow.call(r,w,T,b),P=[]),T={},x++,H++,x===V){break}}}if(r.p.gridview===!0&&(g=r.p.treeANode>-1?r.p.treeANode:0,r.p.grouping?s||(_.jqGrid("groupingRender",L,r.p.colModel.length,r.p.page,V),L=null):r.p.treeGrid===!0&&g>0?$(r.rows[g]).after(P.join("")):(J.append(P.join("")),r.grid.cols=r.rows[0].cells)),r.p.subGrid===!0){try{_.jqGrid("addSubGrid",D+I)}catch(it){}}if(r.p.totaltime=new Date-a,x>0&&0===r.p.records&&(r.p.records=B),P=null,r.p.treeGrid===!0){try{_.jqGrid("setTreeNode",g+1,x+g+1)}catch(rt){}}if(r.p.reccount=x,r.p.treeANode=-1,r.p.userDataOnFooter&&_.jqGrid("footerData","set",r.p.userData,!0),s&&(r.p.records=B,r.p.lastpage=Math.ceil(B/V)),i||r.updatepager(!1,!0),s){for(;B>x;){if(b=U[x],w=v(b,x+W),w=r.p.idPrefix+w,l.repeatitems){j||(j=R(D+C+I));var ot=$.jgrid.getXmlData(b,l.cell,!0);$.each(j,function(e){var t=ot[this];return t?(h=t.textContent||t.text,void (T[r.p.colModel[e+D+C+I].name]=h)):!1})}else{for(u=0;u<N.length;u++){h=$.jgrid.getXmlData(b,N[u]),T[r.p.colModel[u+D+C+I].name]=h}}T[n]=$.jgrid.stripPref(r.p.idPrefix,w),r.p.grouping&&Q.call(_,T,x),r.p.data.push(T),r.p._index[T[n]]=r.p.data.length-1,T={},x++}r.p.grouping&&(r.p.groupingView._locgr=!0,_.jqGrid("groupingRender",L,r.p.colModel.length,r.p.page,V),L=null)}}},A=function(e,t,i,o){var a=new Date;if(e){-1!==r.p.treeANode||r.p.scroll?t=t>1?t:1:(M.call(r,!1,!0),t=1);var s,n,l="_id_",d="local"!==r.p.datatype&&r.p.loadonce||"jsonstring"===r.p.datatype;d&&(r.p.data=[],r.p._index={},r.p.localReader.id=l),r.p.reccount=0,"local"===r.p.datatype?(s=r.p.localReader,n="local"):(s=r.p.jsonReader,n="json");var u,h,f,m,v,j,b,w,y,_,x,D,C=$(r),I=0,N=[],T=r.p.multiselect?1:0,P=r.p.subGrid===!0?1:0,A=r.p.rownumbers===!0?1:0,E=R(T+P+A),U=k(n),z={},B=[],H=r.p.altRows===!0?r.p.altclass:"",L=p(c,"rowBox",!0,"jqgrow ui-row-"+r.p.direction);r.p.page=q($.jgrid.getAccessor(e,s.page),r.p.page),r.p.lastpage=q($.jgrid.getAccessor(e,s.total),1),r.p.records=q($.jgrid.getAccessor(e,s.records)),r.p.userData=$.jgrid.getAccessor(e,s.userdata)||{},P&&(v=$.jgrid.getMethod("addSubGridCell")),y=r.p.keyName===!1?$.isFunction(s.id)?s.id.call(r,e):s.id:r.p.keyName,w=$.jgrid.getAccessor(e,s.root),null==w&&$.isArray(e)&&(w=e),w||(w=[]),b=w.length,h=0,b>0&&r.p.page<=0&&(r.p.page=1);var V,W,Q=parseInt(r.p.rowNum,10),Y=r.p.scroll?$.jgrid.randId():1,X=!1;o&&(Q*=o+1),"local"!==r.p.datatype||r.p.deselectAfterSort||(X=!0);var J,K=$.isFunction(r.p.afterInsertRow),Z=[],et=!1,tt=$("#"+$.jgrid.jqID(r.p.id)+" tbody:first"),it=A?p(c,"rownumBox",!1,"jqgrid-rownum"):"",rt=T?p(c,"multiBox",!1,"cbox"):"";for(r.p.grouping&&(et=r.p.groupingView.groupCollapse===!0,J=$.jgrid.getMethod("groupingPrepare"));b>h;){if(m=w[h],x=$.jgrid.getAccessor(m,y),void 0===x&&("number"==typeof y&&null!=r.p.colModel[y+T+P+A]&&(x=$.jgrid.getAccessor(m,r.p.colModel[y+T+P+A].name)),void 0===x&&(x=Y+h,0===N.length&&s.cell))){var ot=$.jgrid.getAccessor(m,s.cell)||m;x=null!=ot&&void 0!==ot[y]?ot[y]:x,ot=null}x=r.p.idPrefix+x,V=1===t?0:t,D=L+((V+h)%2===1?" "+H:""),X&&(W=r.p.multiselect?-1!==$.inArray(x,r.p.selarrrow):x===r.p.selrow);var at=B.length;for(B.push(""),A&&B.push(S(0,h,r.p.page,r.p.rowNum,it)),T&&B.push(F(x,A,h,W,rt)),P&&B.push(v.call(C,T+A,h+t)),j=U,s.repeatitems&&(s.cell&&(m=$.jgrid.getAccessor(m,s.cell)||m),$.isArray(m)&&(j=E)),f=0;f<j.length;f++){u=$.jgrid.getAccessor(m,j[f]),z[r.p.colModel[f+T+P+A].name]=u,B.push(G(x,u,f+T+P+A,h+t,m,z))}if(D+=W?" "+g:"",B[at]=O(x,et,D,z,m),B.push("</tr>"),r.p.grouping&&(Z.push(B),r.p.groupingView._locgr||J.call(C,z,h),B=[]),(d||r.p.treeGrid===!0&&!r.p._ald)&&(z[l]=$.jgrid.stripPref(r.p.idPrefix,x),r.p.data.push(z),r.p._index[z[l]]=r.p.data.length-1),r.p.gridview===!1&&(tt.append(B.join("")),C.triggerHandler("jqGridAfterInsertRow",[x,z,m]),K&&r.p.afterInsertRow.call(r,x,z,m),B=[]),z={},I++,h++,I===Q){break}}if(r.p.gridview===!0&&(_=r.p.treeANode>-1?r.p.treeANode:0,r.p.grouping?d||(C.jqGrid("groupingRender",Z,r.p.colModel.length,r.p.page,Q),Z=null):r.p.treeGrid===!0&&_>0?$(r.rows[_]).after(B.join("")):(tt.append(B.join("")),r.grid.cols=r.rows[0].cells)),r.p.subGrid===!0){try{C.jqGrid("addSubGrid",T+A)}catch(st){}}if(r.p.totaltime=new Date-a,I>0&&0===r.p.records&&(r.p.records=b),B=null,r.p.treeGrid===!0){try{C.jqGrid("setTreeNode",_+1,I+_+1)}catch(nt){}}if(r.p.reccount=I,r.p.treeANode=-1,r.p.userDataOnFooter&&C.jqGrid("footerData","set",r.p.userData,!0),d&&(r.p.records=b,r.p.lastpage=Math.ceil(b/Q)),i||r.updatepager(!1,!0),d){for(;b>I&&w[I];){if(m=w[I],x=$.jgrid.getAccessor(m,y),void 0===x&&("number"==typeof y&&null!=r.p.colModel[y+T+P+A]&&(x=$.jgrid.getAccessor(m,r.p.colModel[y+T+P+A].name)),void 0===x&&(x=Y+I,0===N.length&&s.cell))){var lt=$.jgrid.getAccessor(m,s.cell)||m;x=null!=lt&&void 0!==lt[y]?lt[y]:x,lt=null}if(m){for(x=r.p.idPrefix+x,j=U,s.repeatitems&&(s.cell&&(m=$.jgrid.getAccessor(m,s.cell)||m),$.isArray(m)&&(j=E)),f=0;f<j.length;f++){z[r.p.colModel[f+T+P+A].name]=$.jgrid.getAccessor(m,j[f])}z[l]=$.jgrid.stripPref(r.p.idPrefix,x),r.p.grouping&&J.call(C,z,I),r.p.data.push(z),r.p._index[z[l]]=r.p.data.length-1,z={}}I++}r.p.grouping&&(r.p.groupingView._locgr=!0,C.jqGrid("groupingRender",Z,r.p.colModel.length,r.p.page,Q),Z=null)}}},E=function(){function e(t){var i,o,a,s,n,l,p=0;if(null!=t.groups){for(o=t.groups.length&&"OR"===t.groupOp.toString().toUpperCase(),o&&m.orBegin(),i=0;i<t.groups.length;i++){p>0&&o&&m.or();try{e(t.groups[i])}catch(c){alert(c)}p++}o&&m.orEnd()}if(null!=t.rules){try{for(a=t.rules.length&&"OR"===t.groupOp.toString().toUpperCase(),a&&m.orBegin(),i=0;i<t.rules.length;i++){n=t.rules[i],s=t.groupOp.toString().toUpperCase(),f[n.op]&&n.field&&(p>0&&s&&"OR"===s&&(m=m.or()),l=d[n.field],"date"===l.stype&&l.srcfmt&&l.newfmt&&l.srcfmt!==l.newfmt&&(n.data=$.jgrid.parseDate.call(r,l.newfmt,n.data,l.srcfmt)),m=f[n.op](m,s)(n.field,n.data,d[n.field])),p++}a&&m.orEnd()}catch(u){alert(u)}}}var t,i,o,a,s=r.p.multiSort?[]:"",n=[],l=!1,d={},p=[],c=[];if($.isArray(r.p.data)){var u,g,h=r.p.grouping?r.p.groupingView:!1;if($.each(r.p.colModel,function(){if(i=this.sorttype||"text","date"===i||"datetime"===i?(this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?(t=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:$.jgrid.getRegional(r,"formatter.date.srcformat"),o=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:$.jgrid.getRegional(r,"formatter.date.newformat")):t=o=this.datefmt||"Y-m-d",d[this.name]={stype:i,srcfmt:t,newfmt:o,sfunc:this.sortfunc||null}):d[this.name]={stype:i,srcfmt:"",newfmt:"",sfunc:this.sortfunc||null},r.p.grouping){for(g=0,u=h.groupField.length;u>g;g++){if(this.name===h.groupField[g]){var e=this.name;this.index&&(e=this.index),p[g]=d[e],c[g]=e}}}r.p.multiSort||l||this.index!==r.p.sortname&&this.name!==r.p.sortname||(s=this.name,l=!0)}),r.p.multiSort&&(s=j,n=b),r.p.treeGrid&&r.p._sort){return void $(r).jqGrid("SortTree",s,r.p.sortorder,d[s].stype||"text",d[s].srcfmt||"")}var f={eq:function(e){return e.equals},ne:function(e){return e.notEquals},lt:function(e){return e.less},le:function(e){return e.lessOrEquals},gt:function(e){return e.greater},ge:function(e){return e.greaterOrEquals},cn:function(e){return e.contains},nc:function(e,t){return"OR"===t?e.orNot().contains:e.andNot().contains},bw:function(e){return e.startsWith},bn:function(e,t){return"OR"===t?e.orNot().startsWith:e.andNot().startsWith},en:function(e,t){return"OR"===t?e.orNot().endsWith:e.andNot().endsWith},ew:function(e){return e.endsWith},ni:function(e,t){return"OR"===t?e.orNot().equals:e.andNot().equals},"in":function(e){return e.equals},nu:function(e){return e.isNull},nn:function(e,t){return"OR"===t?e.orNot().isNull:e.andNot().isNull}},m=$.jgrid.from.call(r,r.p.data);if(r.p.ignoreCase&&(m=m.ignoreCase()),r.p.search===!0){var v=r.p.postData.filters;if(v){"string"==typeof v&&(v=$.jgrid.parse(v)),e(v)}else{try{a=d[r.p.postData.searchField],"date"===a.stype&&a.srcfmt&&a.newfmt&&a.srcfmt!==a.newfmt&&(r.p.postData.searchString=$.jgrid.parseDate.call(r,a.newfmt,r.p.postData.searchString,a.srcfmt)),m=f[r.p.postData.searchOper](m)(r.p.postData.searchField,r.p.postData.searchString,d[r.p.postData.searchField])}catch(w){}}}else{r.p.treeGrid&&"nested"===r.p.treeGridModel&&m.orderBy(r.p.treeReader.left_field,"asc","integer","",null)}if(r.p.treeGrid&&"adjacency"===r.p.treeGridModel&&(u=0,s=null),r.p.grouping){for(g=0;u>g;g++){m.orderBy(c[g],h.groupOrder[g],p[g].stype,p[g].srcfmt)}}r.p.multiSort?$.each(s,function(e){m.orderBy(this,n[e],d[this].stype,d[this].srcfmt,d[this].sfunc)}):s&&r.p.sortorder&&l&&("DESC"===r.p.sortorder.toUpperCase()?m.orderBy(r.p.sortname,"d",d[s].stype,d[s].srcfmt,d[s].sfunc):m.orderBy(r.p.sortname,"a",d[s].stype,d[s].srcfmt,d[s].sfunc));var y=m.select(),_=parseInt(r.p.rowNum,10),x=y.length,q=parseInt(r.p.page,10),D=Math.ceil(x/_),C={};if((r.p.search||r.p.resetsearch)&&r.p.grouping&&r.p.groupingView._locgr){r.p.groupingView.groups=[];var I,G,F,S=$.jgrid.getMethod("groupingPrepare");if(r.p.footerrow&&r.p.userDataOnFooter){for(G in r.p.userData){r.p.userData.hasOwnProperty(G)&&(r.p.userData[G]=0)}F=!0}for(I=0;x>I;I++){if(F){for(G in r.p.userData){r.p.userData.hasOwnProperty(G)&&(r.p.userData[G]+=parseFloat(y[I][G]||0))}}S.call($(r),y[I],I,_)}}return y=r.p.treeGrid&&r.p.search?$(r).jqGrid("searchTree",y):y.slice((q-1)*_,q*_),m=null,d=null,C[r.p.localReader.total]=D,C[r.p.localReader.page]=q,C[r.p.localReader.records]=x,C[r.p.localReader.root]=y,C[r.p.localReader.userdata]=r.p.userData,y=null,C}},U=function(e,t){var i,o,a,s,n,l,d,g,f="",m=r.p.pager?$.jgrid.jqID(r.p.pager.substr(1)):"",v=m?"_"+m:"",j=r.p.toppager?"_"+r.p.toppager.substr(1):"";if(a=parseInt(r.p.page,10)-1,0>a&&(a=0),a*=parseInt(r.p.rowNum,10),n=a+r.p.reccount,r.p.scroll){var b=$("tbody:first > tr:gt(0)",r.grid.bDiv);a=n-b.length,r.p.reccount=b.length;var w=b.outerHeight()||r.grid.prevRowHeight;if(w){var y=a*w,_=parseInt(r.p.records,10)*w;$(">div:first",r.grid.bDiv).css({height:_}).children("div:first").css({height:y,display:y?"":"none"}),0===r.grid.bDiv.scrollTop&&r.p.page>1&&(r.grid.bDiv.scrollTop=r.p.rowNum*(r.p.page-1)*w)}r.grid.bDiv.scrollLeft=r.grid.hDiv.scrollLeft}if(f=r.p.pager||"",f+=r.p.toppager?f?","+r.p.toppager:r.p.toppager:""){if(d=$.jgrid.getRegional(r,"formatter.integer"),i=q(r.p.page),o=q(r.p.lastpage),$(".selbox",f)[this.p.useProp?"prop":"attr"]("disabled",!1),r.p.pginput===!0&&($("#input"+v).html($.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",r.p.pgtext)||"","<input "+p(c,"pgInput",!1,"ui-pg-input")+" type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(m)+"'></span>")),r.p.toppager&&$("#input_t"+j).html($.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",r.p.pgtext)||"","<input "+p(c,"pgInput",!1,"ui-pg-input")+" type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(m)+"_toppager'></span>")),$(".ui-pg-input",f).val(r.p.page),g=r.p.toppager?"#sp_1"+v+",#sp_1"+v+"_toppager":"#sp_1"+v,$(g).html($.fmatter?$.fmatter.util.NumberFormat(r.p.lastpage,d):r.p.lastpage)),r.p.viewrecords){if(0===r.p.reccount){$(".ui-paging-info",f).html($.jgrid.getRegional(r,"defaults.emptyrecords",r.p.emptyrecords))}else{s=a+1,l=r.p.records,$.fmatter&&(s=$.fmatter.util.NumberFormat(s,d),n=$.fmatter.util.NumberFormat(n,d),l=$.fmatter.util.NumberFormat(l,d));var x=$.jgrid.getRegional(r,"defaults.recordtext",r.p.recordtext);$(".ui-paging-info",f).html($.jgrid.template(x,s,n,l))}}r.p.pgbuttons===!0&&(0>=i&&(i=o=0),1===i||0===i?($("#first"+v+", #prev"+v).addClass(u).removeClass(h),r.p.toppager&&$("#first_t"+j+", #prev_t"+j).addClass(u).removeClass(h)):($("#first"+v+", #prev"+v).removeClass(u),r.p.toppager&&$("#first_t"+j+", #prev_t"+j).removeClass(u)),i===o||0===i?($("#next"+v+", #last"+v).addClass(u).removeClass(h),r.p.toppager&&$("#next_t"+j+", #last_t"+j).addClass(u).removeClass(h)):($("#next"+v+", #last"+v).removeClass(u),r.p.toppager&&$("#next_t"+j+", #last_t"+j).removeClass(u)))}e===!0&&r.p.rownumbers===!0&&$(">td.jqgrid-rownum",r.rows).each(function(e){$(this).html(a+1+e)}),t&&r.p.jqgdnd&&$(r).jqGrid("gridDnD","updateDnD"),$(r).triggerHandler("jqGridGridComplete"),$.isFunction(r.p.gridComplete)&&r.p.gridComplete.call(r),$(r).triggerHandler("jqGridAfterGridComplete")},z=function(){r.grid.hDiv.loading=!0,r.p.hiddengrid||$(r).jqGrid("progressBar",{method:"show",loadtype:r.p.loadui,htmlcontent:$.jgrid.getRegional(r,"defaults.loadtext",r.p.loadtext)})},B=function(){r.grid.hDiv.loading=!1,$(r).jqGrid("progressBar",{method:"hide",loadtype:r.p.loadui})},H=function(e){if(!r.grid.hDiv.loading){var t,i,o=r.p.scroll&&e===!1,a={},s=r.p.prmNames;r.p.page<=0&&(r.p.page=Math.min(1,r.p.lastpage)),null!==s.search&&(a[s.search]=r.p.search),null!==s.nd&&(a[s.nd]=(new Date).getTime()),null!==s.rows&&(a[s.rows]=r.p.rowNum),null!==s.page&&(a[s.page]=r.p.page),null!==s.sort&&(a[s.sort]=r.p.sortname),null!==s.order&&(a[s.order]=r.p.sortorder),null!==r.p.rowTotal&&null!==s.totalrows&&(a[s.totalrows]=r.p.rowTotal);var n=$.isFunction(r.p.loadComplete),l=n?r.p.loadComplete:null,d=0;if(e=e||1,e>1?null!==s.npage?(a[s.npage]=e,d=e-1,e=1):l=function(t){r.p.page++,r.grid.hDiv.loading=!1,n&&r.p.loadComplete.call(r,t),H(e-1)}:null!==s.npage&&delete r.p.postData[s.npage],r.p.grouping){$(r).jqGrid("groupingSetup");var p,c=r.p.groupingView,u="";for(p=0;p<c.groupField.length;p++){var g=c.groupField[p];$.each(r.p.colModel,function(e,t){t.name===g&&t.index&&(g=t.index)}),u+=g+" "+c.groupOrder[p]+", "}a[s.sort]=u+a[s.sort]}$.extend(r.p.postData,a);var h=r.p.scroll?r.rows.length-1:1,f=$(r).triggerHandler("jqGridBeforeRequest");if(f===!1||"stop"===f){return}if($.isFunction(r.p.datatype)){return void r.p.datatype.call(r,r.p.postData,"load_"+r.p.id,h,e,d)}if($.isFunction(r.p.beforeRequest)&&(f=r.p.beforeRequest.call(r),void 0===f&&(f=!0),f===!1)){return}switch(t=r.p.datatype.toLowerCase()){case"json":case"jsonp":case"xml":case"script":$.ajax($.extend({url:r.p.url,type:r.p.mtype,dataType:t,data:$.isFunction(r.p.serializeGridData)?r.p.serializeGridData.call(r,r.p.postData):r.p.postData,success:function(i,a,s){if($.isFunction(r.p.beforeProcessing)&&r.p.beforeProcessing.call(r,i,a,s)===!1){return void B()}if("xml"===t?P(i,h,e>1,d):A(i,h,e>1,d),i){var n=$.isArray(i)?i.length:i.rows.length;if(0==n){var p=r.p.noMsg||$.jgrid.getRegional(r,"defaults.noresult",r.p.noresult);$(r).parents(".ui-jqgrid-bdiv").append('<div class="noResult" style="font-size:12px;height:28px;line-height:35px;text-align:center;">'+p+"</div>"),$(r).parents(".ui-jqgrid-bdiv").find(".noResult").prev().hide()}else{var c=$(r).parents(".ui-jqgrid-bdiv").find(".noResult");c.prev().show(),c.remove()}}$(r).triggerHandler("jqGridLoadComplete",[i]),l&&l.call(r,i),$(r).triggerHandler("jqGridAfterLoadComplete",[i]),o&&r.grid.populateVisible(),(r.p.loadonce||r.p.treeGrid)&&(r.p.datatype="local"),i=null,1===e&&B()},error:function(t,i,o){$.isFunction(r.p.loadError)&&r.p.loadError.call(r,t,i,o),1===e&&B(),t=null},beforeSend:function(e,t){var i=!0;return $.isFunction(r.p.loadBeforeSend)&&(i=r.p.loadBeforeSend.call(r,e,t)),void 0===i&&(i=!0),i===!1?!1:void z()}},$.jgrid.ajaxOptions,r.p.ajaxGridOptions));break;case"xmlstring":z(),i="string"!=typeof r.p.datastr?r.p.datastr:$.parseXML(r.p.datastr),P(i),log(3),$(r).triggerHandler("jqGridLoadComplete",[i]),n&&r.p.loadComplete.call(r,i),$(r).triggerHandler("jqGridAfterLoadComplete",[i]),r.p.datatype="local",r.p.datastr=null,B();break;case"jsonstring":z(),i="string"==typeof r.p.datastr?$.jgrid.parse(r.p.datastr):r.p.datastr,A(i),log(4),$(r).triggerHandler("jqGridLoadComplete",[i]),n&&r.p.loadComplete.call(r,i),$(r).triggerHandler("jqGridAfterLoadComplete",[i]),r.p.datatype="local",r.p.datastr=null,B();break;case"local":case"clientside":z(),r.p.datatype="local",r.p._ald=!0;var m=E();log(5),A(m,h,e>1,d),$(r).triggerHandler("jqGridLoadComplete",[m]),l&&(log(555),l.call(r,m)),$(r).triggerHandler("jqGridAfterLoadComplete",[m]),o&&r.grid.populateVisible(),B(),r.p._ald=!1}r.p._sort=!1}},L=function(e){$("#cb_"+$.jgrid.jqID(r.p.id),r.grid.hDiv)[r.p.useProp?"prop":"attr"]("checked",e);var t=r.p.frozenColumns?r.p.id+"_frozen":"";t&&$("#cb_"+$.jgrid.jqID(r.p.id),r.grid.fhDiv)[r.p.useProp?"prop":"attr"]("checked",e)},V=function(e,t){var i,o,a,s,l,d,g,f="<td class='ui-pg-button "+u+"'><span class='ui-separator'></span></td>",v="",j="<table class='ui-pg-table ui-common-table ui-paging-pager'><tbody><tr>",b="",w=function(e,t){var i;return $.isFunction(r.p.onPaging)&&(i=r.p.onPaging.call(r,e,t)),"stop"===i?!1:(r.p.selrow=null,r.p.multiselect&&(r.p.selarrrow=[],L(!1)),r.p.savedRow=[],!0)};if(e=e.substr(1),t+="_"+e,i="pg_"+e,o=e+"_left",a=e+"_center",s=e+"_right",$("#"+$.jgrid.jqID(e)).append("<div id='"+i+"' class='ui-pager-control' role='group'><table "+p(c,"pagerTable",!1,"ui-pg-table ui-common-table ui-pager-table")+"><tbody><tr><td id='"+o+"' align='left'></td><td id='"+a+"' align='center' style='white-space:pre;'></td><td id='"+s+"' align='right'></td></tr></tbody></table></div>").attr("dir","ltr"),r.p.rowList.length>0){b='<td dir="'+n+'">',b+="<select "+p(c,"pgSelectBox",!1,"ui-pg-selbox")+' role="listbox" title="'+($.jgrid.getRegional(r,"defaults.pgrecs",r.p.pgrecs)||"")+'">';var y;for(g=0;g<r.p.rowList.length;g++){y=r.p.rowList[g].toString().split(":"),1===y.length&&(y[1]=y[0]),b+='<option role="option" value="'+y[0]+'"'+(q(r.p.rowNum,0)===q(y[0],0)?' selected="selected"':"")+">"+y[1]+"</option>"}b+="</select></td>"}if("rtl"===n&&(j+=b),r.p.pginput===!0&&(v="<td id='input"+t+"' dir='"+n+"'>"+$.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",r.p.pgtext)||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(e)+"'></span>")+"</td>"),r.p.pgbuttons===!0){var _=["first"+t,"prev"+t,"next"+t,"last"+t],x=p(c,"pgButtonBox",!0,"ui-pg-button"),D=[$.jgrid.getRegional(r,"defaults.pgfirst",r.p.pgfirst)||"",$.jgrid.getRegional(r,"defaults.pgprev",r.p.pgprev)||"",$.jgrid.getRegional(r,"defaults.pgnext",r.p.pgnext)||"",$.jgrid.getRegional(r,"defaults.pglast",r.p.pglast)||""];"rtl"===n&&(_.reverse(),D.reverse()),j+="<td id='"+_[0]+"' class='"+x+"' title='"+D[0]+"'><span "+p(c,"icon_first",!1,m)+"></span></td>",j+="<td id='"+_[1]+"' class='"+x+"'  title='"+D[1]+"'><span "+p(c,"icon_prev",!1,m)+"></span></td>",j+=""!==v?f+v+f:"",j+="<td id='"+_[2]+"' class='"+x+"' title='"+D[2]+"'><span "+p(c,"icon_next",!1,m)+"></span></td>",j+="<td id='"+_[3]+"' class='"+x+"' title='"+D[3]+"'><span "+p(c,"icon_end",!1,m)+"></span></td>"}else{""!==v&&(j+=v)}"ltr"===n&&(j+=b),j+="</tr></tbody></table>",r.p.viewrecords===!0&&$("td#"+e+"_"+r.p.recordpos,"#"+i).append("<div dir='"+n+"' style='text-align:"+r.p.recordpos+"' class='ui-paging-info'></div>"),$("td#"+e+"_"+r.p.pagerpos,"#"+i).append(j),d=$("#gbox_"+$.jgrid.jqID(r.p.id)).css("font-size")||"11px",$("#gbox_"+$.jgrid.jqID(r.p.id)).append("<div id='testpg' "+p(c,"entrieBox",!1,"ui-jqgrid")+" style='font-size:"+d+";visibility:hidden;' ></div>"),l=$(j).clone().appendTo("#testpg").width(),$("#testpg").remove(),l>0&&(""!==v&&(l+=50),$("td#"+e+"_"+r.p.pagerpos,"#"+i).width(l)),r.p._nvtd=[],r.p._nvtd[0]=Math.floor(l?(r.p.width-l)/2:r.p.width/3),r.p._nvtd[1]=0,j=null,$(".ui-pg-selbox","#"+i).bind("change",function(){return w("records",this)?(r.p.page=Math.round(r.p.rowNum*(r.p.page-1)/this.value-0.5)+1,r.p.rowNum=this.value,r.p.pager&&$(".ui-pg-selbox",r.p.pager).val(this.value),r.p.toppager&&$(".ui-pg-selbox",r.p.toppager).val(this.value),H(),!1):!1}),r.p.pgbuttons===!0&&($(".ui-pg-button","#"+i).hover(function(){$(this).hasClass(u)?this.style.cursor="default":($(this).addClass(h),this.style.cursor="pointer")},function(){$(this).hasClass(u)||($(this).removeClass(h),this.style.cursor="default")}),$("#first"+$.jgrid.jqID(t)+", #prev"+$.jgrid.jqID(t)+", #next"+$.jgrid.jqID(t)+", #last"+$.jgrid.jqID(t)).click(function(){if($(this).hasClass(u)){return !1}var e=q(r.p.page,1),i=q(r.p.lastpage,1),o=!1,a=!0,s=!0,n=!0,l=!0;return 0===i||1===i?(a=!1,s=!1,n=!1,l=!1):i>1&&e>=1?1===e?(a=!1,s=!1):e===i&&(n=!1,l=!1):i>1&&0===e&&(n=!1,l=!1,e=i-1),w(this.id.split("_")[0],this)?(this.id==="first"+t&&a&&(r.p.page=1,o=!0),this.id==="prev"+t&&s&&(r.p.page=e-1,o=!0),this.id==="next"+t&&n&&(r.p.page=e+1,o=!0),this.id==="last"+t&&l&&(r.p.page=i,o=!0),o&&H(),!1):!1})),r.p.pginput===!0&&$("#"+i).on("keypress","input.ui-pg-input",function(e){var t=e.charCode||e.keyCode||0;return 13===t?w("user",this)?($(this).val(q($(this).val(),1)),r.p.page=$(this).val()>0?$(this).val():r.p.page,H(),!1):!1:this})},W=function(e,t){var i,o=r.p.colModel,a=r.p.frozenColumns?t:r.grid.headers[e].el,s="";$("span.ui-grid-ico-sort",a).addClass(u),$(a).attr("aria-selected","false"),i="local"===r.p.datatype?o[e].name:o[e].index||o[e].name,o[e].lso?"asc"===o[e].lso?(o[e].lso+="-desc",s="desc"):"desc"===o[e].lso?(o[e].lso+="-asc",s="asc"):("asc-desc"===o[e].lso||"desc-asc"===o[e].lso)&&(o[e].lso=""):o[e].lso=s=o[e].firstsortorder||"asc",s?($("span.s-ico",a).show(),$("span.ui-icon-"+s,a).removeClass(u),$(a).attr("aria-selected","true")):r.p.viewsortcols[0]||$("span.s-ico",a).hide();var n=j.indexOf(i);-1===n?(j.push(i),b.push(s)):s?b[n]=s:(b.splice(n,1),j.splice(n,1)),r.p.sortorder="",r.p.sortname="";for(var l=0,d=j.length;d>l;l++){l>0&&(r.p.sortname+=", "),r.p.sortname+=j[l],l!==d-1&&(r.p.sortname+=" "+b[l])}r.p.sortorder=b[d-1]},Q=function(e,t,i,o,a){if(r.p.colModel[t].sortable&&!(r.p.savedRow.length>0)){if(i||(r.p.lastsort===t&&""!==r.p.sortname?"asc"===r.p.sortorder?r.p.sortorder="desc":"desc"===r.p.sortorder&&(r.p.sortorder="asc"):r.p.sortorder=r.p.colModel[t].firstsortorder||"asc",r.p.page=1),r.p.multiSort){W(t,a)}else{if(o){if(r.p.lastsort===t&&r.p.sortorder===o&&!i){return}r.p.sortorder=o}var s,n=r.grid.headers[r.p.lastsort]?r.grid.headers[r.p.lastsort].el:null,l=r.p.frozenColumns?a:r.grid.headers[t].el,d="single"===r.p.viewsortcols[1]?!0:!1;s=$(n).find("span.ui-grid-ico-sort"),s.addClass(u),d&&$(s).css("display","none"),$(n).attr("aria-selected","false"),r.p.frozenColumns&&(s=r.grid.fhDiv.find("span.ui-grid-ico-sort"),s.addClass(u),d&&s.css("display","none"),r.grid.fhDiv.find("th").attr("aria-selected","false")),s=$(l).find("span.ui-icon-"+r.p.sortorder),s.removeClass(u),d&&s.css("display",""),$(l).attr("aria-selected","true"),r.p.viewsortcols[0]||(r.p.lastsort!==t?(r.p.frozenColumns&&r.grid.fhDiv.find("span.s-ico").hide(),$("span.s-ico",n).hide(),$("span.s-ico",l).show()):""===r.p.sortname&&$("span.s-ico",l).show()),e=e.substring(5+r.p.id.length+1),r.p.sortname=r.p.colModel[t].index||e}if("stop"===$(r).triggerHandler("jqGridSortCol",[r.p.sortname,t,r.p.sortorder])){return void (r.p.lastsort=t)}if($.isFunction(r.p.onSortCol)&&"stop"===r.p.onSortCol.call(r,r.p.sortname,t,r.p.sortorder)){return void (r.p.lastsort=t)}if("local"===r.p.datatype?r.p.deselectAfterSort&&$(r).jqGrid("resetSelection"):(r.p.selrow=null,r.p.multiselect&&L(!1),r.p.selarrrow=[],r.p.savedRow=[]),r.p.scroll){var p=r.grid.bDiv.scrollLeft;M.call(r,!0,!1),r.grid.hDiv.scrollLeft=p}r.p.subGrid&&"local"===r.p.datatype&&$("td.sgexpanded","#"+$.jgrid.jqID(r.p.id)).each(function(){$(this).trigger("click")}),r.p._sort=!0,H(),r.p.lastsort=t,r.p.sortname!==e&&t&&(r.p.lastsort=t)}},Y=function(){var e,t,i,a,s=0,n=$.jgrid.cell_width?0:q(r.p.cellLayout,0),l=0,d=q(r.p.scrollOffset,0),p=!1,c=0;$.each(r.p.colModel,function(){if(void 0===this.hidden&&(this.hidden=!1),r.p.grouping&&r.p.autowidth){var e=$.inArray(this.name,r.p.groupingView.groupField);e>=0&&r.p.groupingView.groupColumnShow.length>e&&(this.hidden=!r.p.groupingView.groupColumnShow[e])}this.widthOrg=t=q(this.width,0),this.hidden===!1&&(s+=t+n,this.fixed?c+=t+n:l++)}),isNaN(r.p.width)&&(r.p.width=s+(r.p.shrinkToFit!==!1||isNaN(r.p.height)?0:d)),o.width=r.p.width,r.p.tblwidth=s,r.p.shrinkToFit===!1&&r.p.forceFit===!0&&(r.p.forceFit=!1),r.p.shrinkToFit===!0&&l>0&&(i=o.width-n*l-c,isNaN(r.p.height)||(i-=d,p=!0),s=0,$.each(r.p.colModel,function(o){this.hidden!==!1||this.fixed||(t=Math.round(i*this.width/(r.p.tblwidth-n*l-c)),this.width=t,s+=t,e=o)}),a=0,p?o.width-c-(s+n*l)!==d&&(a=o.width-c-(s+n*l)-d):p||1===Math.abs(o.width-c-(s+n*l))||(a=o.width-c-(s+n*l)),r.p.colModel[e].width+=a,r.p.tblwidth=s+a+n*l+c,r.p.tblwidth>r.p.width&&(r.p.colModel[e].width-=r.p.tblwidth-parseInt(r.p.width,10),r.p.tblwidth=r.p.width))},X=function(e){var t,i=e,o=e;for(t=e+1;t<r.p.colModel.length;t++){if(r.p.colModel[t].hidden!==!0){o=t;break}}return o-i},J=function(e){var t=$(r.grid.headers[e].el),i=[t.position().left+t.outerWidth()];return"rtl"===r.p.direction&&(i[0]=r.p.width-i[0]),i[0]-=r.grid.bDiv.scrollLeft,i.push($(r.grid.hDiv).position().top),i.push($(r.grid.bDiv).offset().top-$(r.grid.hDiv).offset().top+$(r.grid.bDiv).height()),i},K=function(e){var t,i=r.grid.headers,o=$.jgrid.getCellIndex(e);for(t=0;t<i.length;t++){if(e===i[t].el){o=t;break}}return o};for(this.p.id=this.id,-1===$.inArray(r.p.multikey,x)&&(r.p.multikey=!1),r.p.keyName=!1,l=0;l<r.p.colModel.length;l++){_="string"==typeof r.p.colModel[l].template?null!=$.jgrid.cmTemplate&&"object"==typeof $.jgrid.cmTemplate[r.p.colModel[l].template]?$.jgrid.cmTemplate[r.p.colModel[l].template]:{}:r.p.colModel[l].template,r.p.colModel[l]=$.extend(!0,{},r.p.cmTemplate,_||{},r.p.colModel[l]),r.p.keyName===!1&&r.p.colModel[l].key===!0&&(r.p.keyName=r.p.colModel[l].name)}if(r.p.sortorder=r.p.sortorder.toLowerCase(),$.jgrid.cell_width=$.jgrid.cellWidth(),r.p.grouping===!0&&(r.p.scroll=!1,r.p.rownumbers=!1,r.p.treeGrid=!1,r.p.gridview=!0),this.p.treeGrid===!0){try{$(this).jqGrid("setTreeGrid")}catch(Z){}"local"!==r.p.datatype&&(r.p.localReader={id:"_id_"})}if(this.p.subGrid){try{$(r).jqGrid("setSubGrid")}catch(et){}}this.p.multiselect&&(this.p.colNames.unshift("<input role='checkbox' id='cb_"+this.p.id+"' class='cbox' type='checkbox'/>"),this.p.colModel.unshift({name:"cb",width:$.jgrid.cell_width?r.p.multiselectWidth+r.p.cellLayout:r.p.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),this.p.rownumbers&&(this.p.colNames.unshift(""),this.p.colModel.unshift({name:"rn",width:r.p.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),r.p.xmlReader=$.extend(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},r.p.xmlReader),r.p.jsonReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},r.p.jsonReader),r.p.localReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},r.p.localReader),r.p.scroll&&(r.p.pgbuttons=!1,r.p.pginput=!1,r.p.rowList=[]),r.p.data.length&&(N(),T());var tt,it,rt,ot,at,st,nt,lt,dt="<thead><tr class='ui-jqgrid-labels' role='row'>",pt="",ct="",ut="";if(r.p.shrinkToFit===!0&&r.p.forceFit===!0){for(l=r.p.colModel.length-1;l>=0;l--){if(!r.p.colModel[l].hidden){r.p.colModel[l].resizable=!1;break}}}if("horizontal"===r.p.viewsortcols[1]?(ct=" ui-i-asc",ut=" ui-i-desc"):"single"===r.p.viewsortcols[1]&&(ct=" ui-single-sort-asc",ut=" ui-single-sort-desc",pt=" style='display:none'",r.p.viewsortcols[0]=!1),tt=v?"class='ui-th-div-ie'":"",lt="<span class='s-ico' style='display:none'>",lt+="<span sort='asc'  class='ui-grid-ico-sort ui-icon-asc"+ct+" ui-sort-"+n+" "+u+" "+m+" "+p(c,"icon_asc",!0)+"'"+pt+"></span>",lt+="<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+ut+" ui-sort-"+n+" "+u+" "+m+" "+p(c,"icon_desc",!0)+"'"+pt+"></span></span>",r.p.multiSort&&r.p.sortname){for(j=r.p.sortname.split(","),l=0;l<j.length;l++){w=$.trim(j[l]).split(" "),j[l]=$.trim(w[0]),b[l]=w[1]?$.trim(w[1]):r.p.sortorder||"asc"}}for(l=0;l<this.p.colNames.length;l++){var gt=r.p.headertitles?' title="'+$.jgrid.stripHtml(r.p.colNames[l])+'"':"";dt+="<th id='"+r.p.id+"_"+r.p.colModel[l].name+"' role='columnheader' "+p(c,"headerBox",!1,"ui-th-column ui-th-"+n)+" "+gt+">",it=r.p.colModel[l].index||r.p.colModel[l].name,dt+="<div id='jqgh_"+r.p.id+"_"+r.p.colModel[l].name+"' "+tt+">"+r.p.colNames[l],r.p.colModel[l].width=r.p.colModel[l].width?parseInt(r.p.colModel[l].width,10):150,"boolean"!=typeof r.p.colModel[l].title&&(r.p.colModel[l].title=!0),r.p.colModel[l].lso="",it===r.p.sortname&&(r.p.lastsort=l),r.p.multiSort&&(w=$.inArray(it,j),-1!==w&&(r.p.colModel[l].lso=b[w])),dt+=lt+"</div></th>"}if(dt+="</tr></thead>",lt=null,$(this).append(dt),$("thead tr:first th",this).hover(function(){$(this).addClass(h)},function(){$(this).removeClass(h)}),this.p.multiselect){var ht,ft=[];$("#cb_"+$.jgrid.jqID(r.p.id),this).bind("click",function(){r.p.selarrrow=[];var e=r.p.frozenColumns===!0?r.p.id+"_frozen":"";this.checked?($(r.rows).each(function(t){t>0&&($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass(u)||$(this).hasClass("jqfoot")||($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id))[r.p.useProp?"prop":"attr"]("checked",!0),$(this).addClass(g).attr("aria-selected","true"),r.p.selarrrow.push(this.id),r.p.selrow=this.id,e&&($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id),r.grid.fbDiv)[r.p.useProp?"prop":"attr"]("checked",!0),$("#"+$.jgrid.jqID(this.id),r.grid.fbDiv).addClass(g))))}),ht=!0,ft=[]):($(r.rows).each(function(t){t>0&&($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass(u)||$(this).hasClass("jqfoot")||($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id))[r.p.useProp?"prop":"attr"]("checked",!1),$(this).removeClass(g).attr("aria-selected","false"),ft.push(this.id),e&&($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id),r.grid.fbDiv)[r.p.useProp?"prop":"attr"]("checked",!1),$("#"+$.jgrid.jqID(this.id),r.grid.fbDiv).removeClass(g))))}),r.p.selrow=null,ht=!1),$(r).triggerHandler("jqGridSelectAll",[ht?r.p.selarrrow:ft,ht]),$.isFunction(r.p.onSelectAll)&&r.p.onSelectAll.call(r,ht?r.p.selarrrow:ft,ht)})}if(r.p.autowidth===!0){var $t=$(y).innerWidth();r.p.width=$t>0?$t:"nw"}Y(),$(y).css("width",o.width+"px").append("<div class='ui-jqgrid-resize-mark' id='rs_m"+r.p.id+"'>&#160;</div>"),r.p.scrollPopUp&&$(y).append("<div "+p(c,"scrollBox",!1,"loading ui-scroll-popup")+" id='scroll_g"+r.p.id+"'></div>"),$(d).css("width",o.width+"px"),dt=$("thead:first",r).get(0);var mt="";r.p.footerrow&&(mt+="<table role='presentation' style='width:"+r.p.tblwidth+"px' "+p(c,"footerTable",!1,"ui-jqgrid-ftable ui-common-table")+"><tbody><tr role='row' "+p(c,"footerBox",!1,"footrow footrow-"+n)+">");var vt=$("tr:first",dt),jt="<tr class='jqgfirstrow' role='row'>";if(r.p.disableClick=!1,$("th",vt).each(function(e){rt=r.p.colModel[e].width,void 0===r.p.colModel[e].resizable&&(r.p.colModel[e].resizable=!0),r.p.colModel[e].resizable?(ot=document.createElement("span"),$(ot).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+n).css("cursor","col-resize"),$(this).addClass(r.p.resizeclass)):ot="",$(this).css("width",rt+"px").prepend(ot),$(this).css("text-align",r.p.colModel[e].hlign||"left"),ot=null;var t="";r.p.colModel[e].hidden&&($(this).css("display","none"),t="display:none;"),jt+="<td role='gridcell' style='height:0px;width:"+rt+"px;"+t+"'></td>",o.headers[e]={width:rt,el:this},pt=r.p.colModel[e].sortable,"boolean"!=typeof pt&&(r.p.colModel[e].sortable=!0,pt=!0);var i=r.p.colModel[e].name;"cb"!==i&&"subgrid"!==i&&"rn"!==i&&r.p.viewsortcols[2]&&$(">div",this).addClass("ui-jqgrid-sortable"),pt&&(r.p.multiSort?r.p.viewsortcols[0]?($("div span.s-ico",this).show(),r.p.colModel[e].lso&&$("div span.ui-icon-"+r.p.colModel[e].lso,this).removeClass(u).css("display","")):r.p.colModel[e].lso&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+r.p.colModel[e].lso,this).removeClass(u).css("display","")):r.p.viewsortcols[0]?($("div span.s-ico",this).show(),e===r.p.lastsort&&$("div span.ui-icon-"+r.p.sortorder,this).removeClass(u).css("display","")):e===r.p.lastsort&&""!==r.p.sortname&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+r.p.sortorder,this).removeClass(u).css("display",""))),r.p.footerrow&&(mt+="<td role='gridcell' "+D(e,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(e){if(1===$(e.target).closest("th>span.ui-jqgrid-resize").length){var t=K(this);return r.p.forceFit===!0&&(r.p.nv=X(t)),o.dragStart(t,e,J(t)),!1}}).click(function(e){if(r.p.disableClick){return r.p.disableClick=!1,!1}var t,i,o="th>div.ui-jqgrid-sortable";r.p.viewsortcols[2]||(o="th>div>span>span.ui-grid-ico-sort");var a=$(e.target).closest(o);if(1===a.length){var s;if(r.p.frozenColumns){var n=$(this)[0].id.substring(r.p.id.length+1);$(r.p.colModel).each(function(e){return this.name===n?(s=e,!1):void 0})}else{s=K(this)}return r.p.viewsortcols[2]||(t=!0,i=a.attr("sort")),null!=s&&Q($("div",this)[0].id,s,t,i,this),!1}}),r.p.sortable&&$.fn.sortable){try{$(r).jqGrid("sortableColumns",vt)}catch(bt){}}r.p.footerrow&&(mt+="</tr></tbody></table>"),jt+="</tr>",nt=document.createElement("tbody"),this.appendChild(nt),$(this).addClass(p(c,"rowTable",!0,"ui-jqgrid-btable ui-common-table")).append(jt),jt=null;var wt=$("<table "+p(c,"headerTable",!1,"ui-jqgrid-htable ui-common-table")+" style='width:"+r.p.tblwidth+"px' role='presentation' aria-labelledby='gbox_"+this.id+"'></table>").append(dt),yt=r.p.caption&&r.p.hiddengrid===!0?!0:!1,_t=$("<div class='ui-jqgrid-hbox"+("rtl"===n?"-rtl":"")+"'></div>");dt=null,o.hDiv=document.createElement("div"),o.hDiv.style.width=o.width+"px",o.hDiv.className=p(c,"headerDiv",!0,"ui-jqgrid-hdiv"),$(o.hDiv).append(_t),$(_t).append(wt),wt=null,yt&&$(o.hDiv).hide(),r.p.pager&&("string"==typeof r.p.pager?"#"!==r.p.pager.substr(0,1)&&(r.p.pager="#"+r.p.pager):r.p.pager="#"+$(r.p.pager).attr("id"),$(r.p.pager).css({width:o.width+"px"}).addClass(p(c,"pagerBox",!0,"ui-jqgrid-pager")).appendTo(y),yt&&$(r.p.pager).hide(),V(r.p.pager,"")),r.p.cellEdit===!1&&r.p.hoverrows===!0&&$(r).bind("mouseover",function(e){st=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(st).attr("class")&&$(st).addClass(h)}).bind("mouseout",function(e){st=$(e.target).closest("tr.jqgrow"),$(st).removeClass(h)});var xt,qt,Dt;$(r).before(o.hDiv).click(function(e){if(at=e.target,st=$(at,r.rows).closest("tr.jqgrow"),0===$(st).length||st[0].className.indexOf(u)>-1||($(at,r).closest("table.ui-jqgrid-btable").attr("id")||"").replace("_frozen","")!==r.id){return this}var t=$(at).hasClass("cbox"),i=$(r).triggerHandler("jqGridBeforeSelectRow",[st[0].id,e]);if(i=i===!1||"stop"===i?!1:!0,$.isFunction(r.p.beforeSelectRow)){var o=r.p.beforeSelectRow.call(r,st[0].id,e);(o===!1||"stop"===o)&&(i=!1)}if("A"!==at.tagName&&("INPUT"!==at.tagName&&"TEXTAREA"!==at.tagName&&"OPTION"!==at.tagName&&"SELECT"!==at.tagName||t)){if(xt=st[0].id,at=$(at).closest("tr.jqgrow>td"),at.length>0&&(qt=$.jgrid.getCellIndex(at),Dt=$(at).closest("td,th").html(),$(r).triggerHandler("jqGridCellSelect",[xt,qt,Dt,e]),$.isFunction(r.p.onCellSelect)&&r.p.onCellSelect.call(r,xt,qt,Dt,e)),r.p.cellEdit===!0){if(r.p.multiselect&&t&&i){$(r).jqGrid("setSelection",xt,!0,e)}else{if(at.length>0){xt=st[0].rowIndex;try{$(r).jqGrid("editCell",xt,qt,!0)}catch(a){}}}}if(i){if(r.p.multikey){e[r.p.multikey]?$(r).jqGrid("setSelection",xt,!0,e):r.p.multiselect&&t&&(t=$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+xt).is(":checked"),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+xt)[r.p.useProp?"prop":"attr"]("checked",!t))}else{if(r.p.multiselect&&r.p.multiboxonly){if(t){$(r).jqGrid("setSelection",xt,!0,e)}else{var s=r.p.frozenColumns?r.p.id+"_frozen":"";$(r.p.selarrrow).each(function(e,t){var i=$(r).jqGrid("getGridRowById",t);i&&$(i).removeClass(g),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t))[r.p.useProp?"prop":"attr"]("checked",!1),s&&($("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(s)).removeClass(g),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(s))[r.p.useProp?"prop":"attr"]("checked",!1))}),r.p.selarrrow=[],$(r).jqGrid("setSelection",xt,!0,e)}}else{$(r).jqGrid("setSelection",xt,!0,e)}}}}}).bind("reloadGrid",function(e,t){if(r.p.treeGrid===!0&&(r.p.datatype=r.p.treedatatype),t=t||{},t.current&&r.grid.selectionPreserver(r),"local"===r.p.datatype?($(r).jqGrid("resetSelection"),r.p.data.length&&(N(),T())):r.p.treeGrid||(r.p.selrow=null,r.p.multiselect&&(r.p.selarrrow=[],L(!1)),r.p.savedRow=[]),r.p.scroll&&M.call(r,!0,!1),t.page){var i=t.page;i>r.p.lastpage&&(i=r.p.lastpage),1>i&&(i=1),r.p.page=i,r.grid.bDiv.scrollTop=r.grid.prevRowHeight?(i-1)*r.grid.prevRowHeight*r.p.rowNum:0}return r.grid.prevRowHeight&&r.p.scroll&&void 0===t.page?(delete r.p.lastpage,r.grid.populateVisible()):r.grid.populate(),r.p.inlineNav===!0&&$(r).jqGrid("showAddEditButtons"),!1}).dblclick(function(e){if(at=e.target,st=$(at,r.rows).closest("tr.jqgrow"),0!==$(st).length){xt=st[0].rowIndex,qt=$.jgrid.getCellIndex(at);var t=$(r).triggerHandler("jqGridDblClickRow",[$(st).attr("id"),xt,qt,e]);return null!=t?t:$.isFunction(r.p.ondblClickRow)&&(t=r.p.ondblClickRow.call(r,$(st).attr("id"),xt,qt,e),null!=t)?t:void 0}}).bind("contextmenu",function(e){if(at=e.target,st=$(at,r.rows).closest("tr.jqgrow"),0!==$(st).length){r.p.multiselect||$(r).jqGrid("setSelection",st[0].id,!0,e),xt=st[0].rowIndex,qt=$.jgrid.getCellIndex(at);var t=$(r).triggerHandler("jqGridRightClickRow",[$(st).attr("id"),xt,qt,e]);return null!=t?t:$.isFunction(r.p.onRightClickRow)&&(t=r.p.onRightClickRow.call(r,$(st).attr("id"),xt,qt,e),null!=t)?t:void 0}}),o.bDiv=document.createElement("div"),v&&"auto"===String(r.p.height).toLowerCase()&&(r.p.height="100%"),$(o.bDiv).append($('<div style="position:relative;"></div>').append("<div></div>").append(this)).addClass("ui-jqgrid-bdiv").css({height:r.p.height+(isNaN(r.p.height)?"":"px"),width:o.width+"px"}).scroll(o.scrollGrid),$("table:first",o.bDiv).css({width:r.p.tblwidth+"px"}),$.support.tbody||2===$("tbody",this).length&&$("tbody:gt(0)",this).remove(),r.p.multikey&&($.jgrid.msie?$(o.bDiv).bind("selectstart",function(){return !1}):$(o.bDiv).bind("mousedown",function(){return !1})),yt&&$(o.bDiv).hide();var Ct=m+" "+p(c,"icon_caption_open",!0),It=m+" "+p(c,"icon_caption_close",!0);o.cDiv=document.createElement("div");var Gt=r.p.hidegrid===!0?$("<a role='link' class='ui-jqgrid-titlebar-close HeaderButton "+f+"' title='"+($.jgrid.getRegional(r,"defaults.showhide",r.p.showhide)||"")+"' />").hover(function(){Gt.addClass(h)},function(){Gt.removeClass(h)}).append("<span class='ui-jqgrid-headlink "+Ct+"'></span>").css("rtl"===n?"left":"right","0px"):"";if($(o.cDiv).append(Gt).append("<span class='ui-jqgrid-title'>"+r.p.caption+"</span>").addClass("ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===n?"-rtl":"")+" "+p(c,"gridtitleBox",!0)),$(o.cDiv).insertBefore(o.hDiv),r.p.toolbar[0]){var Ft=p(c,"customtoolbarBox",!0,"ui-userdata");o.uDiv=document.createElement("div"),"top"===r.p.toolbar[1]?$(o.uDiv).insertBefore(o.hDiv):"bottom"===r.p.toolbar[1]&&$(o.uDiv).insertAfter(o.hDiv),"both"===r.p.toolbar[1]?(o.ubDiv=document.createElement("div"),$(o.uDiv).addClass(Ft+" ui-userdata-top").attr("id","t_"+this.id).insertBefore(o.hDiv).width(o.width),$(o.ubDiv).addClass(Ft+" ui-userdata-bottom").attr("id","tb_"+this.id).insertAfter(o.hDiv).width(o.width),yt&&$(o.ubDiv).hide()):$(o.uDiv).width(o.width).addClass(Ft+" ui-userdata-top").attr("id","t_"+this.id),yt&&$(o.uDiv).hide()}if(r.p.toppager&&(r.p.toppager=$.jgrid.jqID(r.p.id)+"_toppager",o.topDiv=$("<div id='"+r.p.toppager+"'></div>")[0],r.p.toppager="#"+r.p.toppager,$(o.topDiv).addClass(p(c,"toppagerBox",!0,"ui-jqgrid-toppager")).width(o.width).insertBefore(o.hDiv),V(r.p.toppager,"_t")),r.p.footerrow&&(o.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],_t=$("<div class='ui-jqgrid-hbox"+("rtl"===n?"-rtl":"")+"'></div>"),$(o.sDiv).append(_t).width(o.width).insertAfter(o.hDiv),$(_t).append(mt),o.footers=$(".ui-jqgrid-ftable",o.sDiv)[0].rows[0].cells,r.p.rownumbers&&(o.footers[0].className=p(c,"rownumBox",!0,"jqgrid-rownum")),yt&&$(o.sDiv).hide()),_t=null,r.p.caption){var St=r.p.datatype;r.p.hidegrid===!0&&($(".ui-jqgrid-titlebar-close",o.cDiv).click(function(e){var t,i=$.isFunction(r.p.onHeaderClick),a=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-toppager, .ui-jqgrid-pager, .ui-jqgrid-sdiv",s=this;return r.p.toolbar[0]===!0&&("both"===r.p.toolbar[1]&&(a+=", #"+$(o.ubDiv).attr("id")),a+=", #"+$(o.uDiv).attr("id")),t=$(a,"#gview_"+$.jgrid.jqID(r.p.id)).length,"visible"===r.p.gridstate?$(a,"#gbox_"+$.jgrid.jqID(r.p.id)).slideUp("fast",function(){t--,0===t&&($("span",s).removeClass(Ct).addClass(It),r.p.gridstate="hidden",$("#gbox_"+$.jgrid.jqID(r.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(r.p.id)).hide(),$(r).triggerHandler("jqGridHeaderClick",[r.p.gridstate,e]),i&&(yt||r.p.onHeaderClick.call(r,r.p.gridstate,e)))}):"hidden"===r.p.gridstate&&$(a,"#gbox_"+$.jgrid.jqID(r.p.id)).slideDown("fast",function(){t--,0===t&&($("span",s).removeClass(It).addClass(Ct),yt&&(r.p.datatype=St,H(),yt=!1),r.p.gridstate="visible",$("#gbox_"+$.jgrid.jqID(r.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(r.p.id)).show(),$(r).triggerHandler("jqGridHeaderClick",[r.p.gridstate,e]),i&&(yt||r.p.onHeaderClick.call(r,r.p.gridstate,e)))}),!1}),yt&&(r.p.datatype="local",$(".ui-jqgrid-titlebar-close",o.cDiv).trigger("click")))}else{$(o.cDiv).hide(),r.p.toppager||$(o.hDiv).addClass(p(r.p.styleUI+".common","cornertop",!0))}if($(o.hDiv).after(o.bDiv).mousemove(function(e){return o.resizing?(o.dragMove(e),!1):void 0}),$(".ui-jqgrid-labels",o.hDiv).bind("selectstart",function(){return !1}),$(document).bind("mouseup.jqGrid"+r.p.id,function(){return o.resizing?(o.dragEnd(!0),!1):!0}),r.formatCol=D,r.sortData=Q,r.updatepager=U,r.refreshIndex=T,r.setHeadCheckBox=L,r.constructTr=O,r.formatter=function(e,t,i,r,o){return I(e,t,i,r,o)},$.extend(o,{populate:H,emptyRows:M,beginReq:z,endReq:B}),this.grid=o,r.addXmlData=function(e){P(e)},r.addJSONData=function(e){A(e)},this.grid.cols=this.rows[0].cells,$(r).triggerHandler("jqGridInitGrid"),$.isFunction(r.p.onInitGrid)&&r.p.onInitGrid.call(r),H(),r.p.hiddengrid=!1,r.p.responsive){var kt="onorientationchange" in window,Rt=kt?"orientationchange":"resize";$(window).on(Rt,function(){$(r).jqGrid("resizeGrid")})}}})},$.jgrid.extend({getGridParam:function(e,t){var i,r=this[0];if(r&&r.grid){if(void 0===t&&"string"!=typeof t&&(t="jqGrid"),i=r.p,"jqGrid"!==t){try{i=$(r).data(t)}catch(o){i=r.p}}return e?void 0!==i[e]?i[e]:null:i}},setGridParam:function(e,t){return this.each(function(){if(null==t&&(t=!1),this.grid&&"object"==typeof e){if(t===!0){var i=$.extend({},this.p,e);this.p=i}else{$.extend(!0,this.p,e)}}})},getGridRowById:function(e){var t;return this.each(function(){try{for(var i=this.rows.length;i--;){if(e.toString()===this.rows[i].id){t=this.rows[i];break}}}catch(r){t=$(this.grid.bDiv).find("#"+$.jgrid.jqID(e))}}),t},getDataIDs:function(){var e,t=[],i=0,r=0;return this.each(function(){if(e=this.rows.length,e&&e>0){for(;e>i;){$(this.rows[i]).hasClass("jqgrow")&&(t[r]=this.rows[i].id,r++),i++}}}),t},setSelection:function(e,t,i){return this.each(function(){function r(e){var t=$(c.grid.bDiv)[0].clientHeight,i=$(c.grid.bDiv)[0].scrollTop,r=$(c.rows[e]).position().top,o=c.rows[e].clientHeight;r+o>=t+i?$(c.grid.bDiv)[0].scrollTop=r-(t+i)+o+i:t+i>r&&i>r&&($(c.grid.bDiv)[0].scrollTop=r)}var o,a,s,n,l,d,p,c=this,u=$.jgrid.getMethod("getStyleUI"),g=u(c.p.styleUI+".common","highlight",!0),h=u(c.p.styleUI+".common","disabled",!0);void 0!==e&&(t=t===!1?!1:!0,a=$(c).jqGrid("getGridRowById",e),!a||!a.className||a.className.indexOf(h)>-1||(c.p.scrollrows===!0&&(s=$(c).jqGrid("getGridRowById",e).rowIndex,s>=0&&r(s)),c.p.frozenColumns===!0&&(d=c.p.id+"_frozen"),c.p.multiselect?(c.setHeadCheckBox(!1),c.p.selrow=a.id,n=$.inArray(c.p.selrow,c.p.selarrrow),-1===n?("ui-subgrid"!==a.className&&$(a).addClass(g).attr("aria-selected","true"),o=!0,c.p.selarrrow.push(c.p.selrow)):("ui-subgrid"!==a.className&&$(a).removeClass(g).attr("aria-selected","false"),o=!1,c.p.selarrrow.splice(n,1),l=c.p.selarrrow[0],c.p.selrow=void 0===l?null:l),$("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+$.jgrid.jqID(a.id))[c.p.useProp?"prop":"attr"]("checked",o),d&&(-1===n?$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(d)).addClass(g):$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(d)).removeClass(g),$("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(d))[c.p.useProp?"prop":"attr"]("checked",o)),t&&($(c).triggerHandler("jqGridSelectRow",[a.id,o,i]),c.p.onSelectRow&&c.p.onSelectRow.call(c,a.id,o,i))):"ui-subgrid"!==a.className&&(c.p.selrow!==a.id?(p=$(c).jqGrid("getGridRowById",c.p.selrow),p&&$(p).removeClass(g).attr({"aria-selected":"false",tabindex:"-1"}),$(a).addClass(g).attr({"aria-selected":"true",tabindex:"0"}),d&&($("#"+$.jgrid.jqID(c.p.selrow),"#"+$.jgrid.jqID(d)).removeClass(g),$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(d)).addClass(g)),o=!0):o=!1,c.p.selrow=a.id,t&&($(c).triggerHandler("jqGridSelectRow",[a.id,o,i]),c.p.onSelectRow&&c.p.onSelectRow.call(c,a.id,o,i)))))})},resetSelection:function(e){return this.each(function(){var t,i,r=this,o=$.jgrid.getMethod("getStyleUI"),a=o(r.p.styleUI+".common","highlight",!0),s=o(r.p.styleUI+".common","hover",!0);if(r.p.frozenColumns===!0&&(i=r.p.id+"_frozen"),void 0!==e){if(t=e===r.p.selrow?r.p.selrow:e,$("#"+$.jgrid.jqID(r.p.id)+" tbody:first tr#"+$.jgrid.jqID(t)).removeClass(a).attr("aria-selected","false"),i&&$("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i)).removeClass(a),r.p.multiselect){$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(r.p.id))[r.p.useProp?"prop":"attr"]("checked",!1),i&&$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i))[r.p.useProp?"prop":"attr"]("checked",!1),r.setHeadCheckBox(!1);var n=$.inArray($.jgrid.jqID(t),r.p.selarrrow);-1!==n&&r.p.selarrrow.splice(n,1)}r.p.onUnSelectRow&&r.p.onUnSelectRow.call(r,t),t=null}else{r.p.multiselect?($(r.p.selarrrow).each(function(e,t){$($(r).jqGrid("getGridRowById",t)).removeClass(a).attr("aria-selected","false"),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t))[r.p.useProp?"prop":"attr"]("checked",!1),i&&($("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i)).removeClass(a),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i))[r.p.useProp?"prop":"attr"]("checked",!1)),r.p.onUnSelectRow&&r.p.onUnSelectRow.call(r,t)}),r.setHeadCheckBox(!1),r.p.selarrrow=[],r.p.selrow=null):r.p.selrow&&($("#"+$.jgrid.jqID(r.p.id)+" tbody:first tr#"+$.jgrid.jqID(r.p.selrow)).removeClass(a).attr("aria-selected","false"),i&&$("#"+$.jgrid.jqID(r.p.selrow),"#"+$.jgrid.jqID(i)).removeClass(a),r.p.onUnSelectRow&&r.p.onUnSelectRow.call(r,r.p.selrow),r.p.selrow=null)}r.p.cellEdit===!0&&parseInt(r.p.iCol,10)>=0&&parseInt(r.p.iRow,10)>=0&&($("td:eq("+r.p.iCol+")",r.rows[r.p.iRow]).removeClass("edit-cell "+a),$(r.rows[r.p.iRow]).removeClass("selected-row "+s)),r.p.savedRow=[]})},getRowData:function(e,t){var i,r,o={},a=!1,s=0;return this.each(function(){var n,l,d=this;if(null==e){a=!0,i=[],r=d.rows.length}else{if(l=$(d).jqGrid("getGridRowById",e),!l){return o}r=2}for(t&&t===!0&&d.p.data.length>0||(t=!1);r>s;){a&&(l=d.rows[s]),$(l).hasClass("jqgrow")&&(t?o=d.p.data[d.p._index[l.id]]:$('td[role="gridcell"]',l).each(function(e){if(n=d.p.colModel[e].name,"cb"!==n&&"subgrid"!==n&&"rn"!==n){if(d.p.treeGrid===!0&&n===d.p.ExpandColumn){o[n]=$.jgrid.htmlDecode($("span:first",this).html())}else{try{o[n]=$.unformat.call(d,this,{rowId:l.id,colModel:d.p.colModel[e]},e)}catch(t){o[n]=$.jgrid.htmlDecode($(this).html())}}}}),a&&(i.push(o),o={})),s++}}),i||o},delRowData:function(e){var t,i,r,o=!1;return this.each(function(){var a=this;if(t=$(a).jqGrid("getGridRowById",e),!t){return !1}if(a.p.subGrid&&(r=$(t).next(),r.hasClass("ui-subgrid")&&r.remove()),$(t).remove(),a.p.records--,a.p.reccount--,a.updatepager(!0,!1),o=!0,a.p.multiselect&&(i=$.inArray(e,a.p.selarrrow),-1!==i&&a.p.selarrrow.splice(i,1)),a.p.selrow=a.p.multiselect&&a.p.selarrrow.length>0?a.p.selarrrow[a.p.selarrrow.length-1]:null,"local"===a.p.datatype){var s=$.jgrid.stripPref(a.p.idPrefix,e),n=a.p._index[s];void 0!==n&&(a.p.data.splice(n,1),a.refreshIndex())}if(a.p.altRows===!0&&o){var l=a.p.altclass;$(a.rows).each(function(e){e%2===1?$(this).addClass(l):$(this).removeClass(l)})}}),o},setRowData:function(e,t,i){var r,o,a=!0;return this.each(function(){if(!this.grid){return !1}var s,n,l=this,d=typeof i,p={};if(n=$(this).jqGrid("getGridRowById",e),!n){return !1}if(t){try{if($(this.p.colModel).each(function(i){r=this.name;var a=$.jgrid.getAccessor(t,r);void 0!==a&&(p[r]=this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?$.unformat.date.call(l,a,this):a,s=l.formatter(e,p[r],i,t,"edit"),o=this.title?{title:$.jgrid.stripHtml(s)}:{},l.p.treeGrid===!0&&r===l.p.ExpandColumn?$("td[role='gridcell']:eq("+i+") > span:first",n).html(s).attr(o):$("td[role='gridcell']:eq("+i+")",n).html(s).attr(o))}),"local"===l.p.datatype){var c,u=$.jgrid.stripPref(l.p.idPrefix,e),g=l.p._index[u];if(l.p.treeGrid){for(c in l.p.treeReader){l.p.treeReader.hasOwnProperty(c)&&delete p[l.p.treeReader[c]]}}void 0!==g&&(l.p.data[g]=$.extend(!0,l.p.data[g],p)),p=null}}catch(h){a=!1}}a&&("string"===d?$(n).addClass(i):null!==i&&"object"===d&&$(n).css(i),$(l).triggerHandler("jqGridAfterGridComplete"))}),a},addRowData:function(e,t,i,r){-1==["first","last","before","after"].indexOf(i)&&(i="last");var o,a,s,n,l,d,p,c,u,g,h,f,m,v,j=!1,b="",w="",y="";return t&&($.isArray(t)?(u=!0,g=e):(t=[t],u=!1),this.each(function(){var _=this,x=t.length;l=_.p.rownumbers===!0?1:0,s=_.p.multiselect===!0?1:0,n=_.p.subGrid===!0?1:0,u||(void 0!==e?e=String(e):(e=$.jgrid.randId(),_.p.keyName!==!1&&(g=_.p.keyName,void 0!==t[0][g]&&(e=t[0][g])))),h=_.p.altclass;var q,D=0,C=$(_).jqGrid("getStyleUI",_.p.styleUI+".base","rowBox",!0,"jqgrow ui-row-"+_.p.direction),I={},G=$.isFunction(_.p.afterInsertRow)?!0:!1;for(l&&(b=$(_).jqGrid("getStyleUI",_.p.styleUI+".base","rownumBox",!1,"jqgrid-rownum")),s&&(w=$(_).jqGrid("getStyleUI",_.p.styleUI+".base","multiBox",!1,"cbox"));x>D;){if(f=t[D],a=[],q=C,u){try{e=f[g],void 0===e&&(e=$.jgrid.randId())}catch(F){e=$.jgrid.randId()}q+=_.p.altRows===!0&&(_.rows.length-1)%2===0?" "+h:""}for(v=e,e=_.p.idPrefix+e,l&&(y=_.formatCol(0,1,"",null,e,!0),a[a.length]='<td role="gridcell" '+b+" "+y+">0</td>"),s&&(c='<input role="checkbox" type="checkbox" id="jqg_'+_.p.id+"_"+e+'" '+w+"/>",y=_.formatCol(l,1,"",null,e,!0),a[a.length]='<td role="gridcell" '+y+">"+c+"</td>"),n&&(a[a.length]=$(_).jqGrid("addSubGridCell",s+l,1)),p=s+n+l;p<_.p.colModel.length;p++){m=_.p.colModel[p],o=m.name,I[o]=f[o],c=_.formatter(e,$.jgrid.getAccessor(f,o),p,f),y=_.formatCol(p,1,c,f,e,I),a[a.length]='<td role="gridcell" '+y+">"+c+"</td>"}if(a.unshift(_.constructTr(e,!1,q,I,f)),a[a.length]="</tr>",0===_.rows.length){$("table:first",_.grid.bDiv).append(a.join(""))}else{switch(i){case"last":$(_.rows[_.rows.length-1]).after(a.join("")),d=_.rows.length-1;break;case"first":$(_.rows[0]).after(a.join("")),d=1;break;case"after":d=$(_).jqGrid("getGridRowById",r),d&&($(_.rows[d.rowIndex+1]).hasClass("ui-subgrid")?$(_.rows[d.rowIndex+1]).after(a):$(d).after(a.join("")),d=d.rowIndex+1);break;case"before":d=$(_).jqGrid("getGridRowById",r),d&&($(d).before(a.join("")),d=d.rowIndex-1)}}_.p.subGrid===!0&&$(_).jqGrid("addSubGrid",s+l,d),_.p.records++,_.p.reccount++,$(_).triggerHandler("jqGridAfterInsertRow",[e,f,f]),G&&_.p.afterInsertRow.call(_,e,f,f),D++,"local"===_.p.datatype&&(I[_.p.localReader.id]=v,_.p._index[v]=_.p.data.length,_.p.data.push(I),I={})}_.p.altRows!==!0||u||("last"===i?(_.rows.length-1)%2===0&&$(_.rows[_.rows.length-1]).addClass(h):$(_.rows).each(function(e){e%2===0?$(this).addClass(h):$(this).removeClass(h)})),_.updatepager(!0,!0),j=!0})),j},footerData:function(e,t,i){function r(e){var t;for(t in e){if(e.hasOwnProperty(t)){return !1}}return !0}var o,a,s=!1,n={};return void 0===e&&(e="get"),"boolean"!=typeof i&&(i=!0),e=e.toLowerCase(),this.each(function(){var l,d=this;return d.grid&&d.p.footerrow?"set"===e&&r(t)?!1:(s=!0,void $(this.p.colModel).each(function(r){o=this.name,"set"===e?void 0!==t[o]&&(l=i?d.formatter("",t[o],r,t,"edit"):t[o],a=this.title?{title:$.jgrid.stripHtml(l)}:{},$("tr.footrow td:eq("+r+")",d.grid.sDiv).html(l).attr(a),s=!0):"get"===e&&(n[o]=$("tr.footrow td:eq("+r+")",d.grid.sDiv).html())})):!1}),"get"===e?n:s},showHideCol:function(e,t){return this.each(function(){var i,r=this,o=!1,a=$.jgrid.cell_width?0:r.p.cellLayout;if(r.grid){"string"==typeof e&&(e=[e]),t="none"!==t?"":"none";var s=""===t?!0:!1,n=r.p.groupHeader&&($.isArray(r.p.groupHeader)||$.isFunction(r.p.groupHeader));if(n&&$(r).jqGrid("destroyGroupHeader",!1),$(this.p.colModel).each(function(n){if(-1!==$.inArray(this.name,e)&&this.hidden===s){if(r.p.frozenColumns===!0&&this.frozen===!0){return !0}$("tr[role=row]",r.grid.hDiv).each(function(){$(this.cells[n]).css("display",t)}),$(r.rows).each(function(){$(this).hasClass("jqgroup")||$(this.cells[n]).css("display",t)}),r.p.footerrow&&$("tr.footrow td:eq("+n+")",r.grid.sDiv).css("display",t),i=parseInt(this.width,10),"none"===t?r.p.tblwidth-=i+a:r.p.tblwidth+=i+a,this.hidden=!s,o=!0,$(r).triggerHandler("jqGridShowHideCol",[s,this.name,n])}}),o===!0&&(r.p.shrinkToFit!==!0||isNaN(r.p.height)||(r.p.tblwidth+=parseInt(r.p.scrollOffset,10)),$(r).jqGrid("setGridWidth",r.p.shrinkToFit===!0?r.p.tblwidth:r.p.width)),n){var l=$.extend([],r.p.groupHeader);r.p.groupHeader=null;for(var d=0;d<l.length;d++){$(r).jqGrid("setGroupHeaders",l[d])}}}})},hideCol:function(e){return this.each(function(){$(this).jqGrid("showHideCol",e,"none")})},showCol:function(e){return this.each(function(){$(this).jqGrid("showHideCol",e,"")})},remapColumns:function(e,t,i){function r(t){var i;i=t.length?$.makeArray(t):$.extend({},t),$.each(e,function(e){t[e]=i[this]})}function o(t,i){$(">tr"+(i||""),t).each(function(){var t=this,i=$.makeArray(t.cells);$.each(e,function(){var e=i[this];e&&t.appendChild(e)})})}var a=this.get(0);r(a.p.colModel),r(a.p.colNames),r(a.grid.headers),o($("thead:first",a.grid.hDiv),i&&":not(.ui-jqgrid-labels)"),t&&o($("#"+$.jgrid.jqID(a.p.id)+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot"),a.p.footerrow&&o($("tbody:first",a.grid.sDiv)),a.p.remapColumns&&(a.p.remapColumns.length?r(a.p.remapColumns):a.p.remapColumns=$.makeArray(e)),a.p.lastsort=$.inArray(a.p.lastsort,e),a.p.treeGrid&&(a.p.expColInd=$.inArray(a.p.expColInd,e)),$(a).triggerHandler("jqGridRemapColumns",[e,t,i])},setGridWidth:function(e,t){return this.each(function(){if(this.grid){var i,r,o,a,s=this,n=0,l=$.jgrid.cell_width?0:s.p.cellLayout,d=0,p=!1,c=s.p.scrollOffset,u=0;if("boolean"!=typeof t&&(t=s.p.shrinkToFit),!isNaN(e)){if(e=parseInt(e,10),s.grid.width=s.p.width=e,$("#gbox_"+$.jgrid.jqID(s.p.id)).css("width",e+"px"),$("#gview_"+$.jgrid.jqID(s.p.id)).css("width",e-2+"px"),$(s.grid.bDiv).css("width",e+"px"),$(s.grid.hDiv).css("width",e+"px"),s.p.pager&&$(s.p.pager).css("width",e+"px"),s.p.toppager&&$(s.p.toppager).css("width",e+"px"),s.p.toolbar[0]===!0&&($(s.grid.uDiv).css("width",e+"px"),"both"===s.p.toolbar[1]&&$(s.grid.ubDiv).css("width",e+"px")),s.p.footerrow&&$(s.grid.sDiv).css("width",e+"px"),t===!1&&s.p.forceFit===!0&&(s.p.forceFit=!1),t===!0){if($.each(s.p.colModel,function(){this.hidden===!1&&(i=this.widthOrg,n+=i+l,this.fixed?u+=i+l:d++)}),0===d){return}s.p.tblwidth=n,o=e-l*d-u,isNaN(s.p.height)||($(s.grid.bDiv)[0].clientHeight<$(s.grid.bDiv)[0].scrollHeight||1===s.rows.length)&&(p=!0,o-=c),n=0;var g=s.grid.cols.length>0;if($.each(s.p.colModel,function(e){if(this.hidden===!1&&!this.fixed){if(i=this.widthOrg,i=Math.round(o*i/(s.p.tblwidth-l*d-u)),0>i){return}this.width=i,n+=i,s.grid.headers[e].width=i,s.grid.headers[e].el.style.width=i+"px",s.p.footerrow&&(s.grid.footers[e].style.width=i+"px"),g&&(s.grid.cols[e].style.width=i+"px"),r=e}}),!r){return}if(a=0,p?e-u-(n+l*d)!==c&&(a=e-u-(n+l*d)-c):1!==Math.abs(e-u-(n+l*d))&&(a=e-u-(n+l*d)),s.p.colModel[r].width+=a,s.p.tblwidth=n+a+l*d+u,s.p.tblwidth>e){var h=s.p.tblwidth-parseInt(e,10);s.p.tblwidth=e,i=s.p.colModel[r].width=s.p.colModel[r].width-h}else{i=s.p.colModel[r].width}s.grid.headers[r].width=i,s.grid.headers[r].el.style.width=i+"px",g&&(s.grid.cols[r].style.width=i+"px"),s.p.footerrow&&(s.grid.footers[r].style.width=i+"px")}s.p.tblwidth&&($("table:first",s.grid.bDiv).css("width",s.p.tblwidth+"px"),$("table:first",s.grid.hDiv).css("width",s.p.tblwidth+"px"),s.grid.hDiv.scrollLeft=s.grid.bDiv.scrollLeft,s.p.footerrow&&$("table:first",s.grid.sDiv).css("width",s.p.tblwidth+"px"))}}})},setGridHeight:function(e){return this.each(function(){var t=this;if(t.grid){var i=$(t.grid.bDiv);i.css({height:e+(isNaN(e)?"":"px")}),t.p.frozenColumns===!0&&$("#"+$.jgrid.jqID(t.p.id)+"_frozen").parent().height(i.height()-16),t.p.height=e,t.p.scroll&&t.grid.populateVisible()}})},setCaption:function(e){return this.each(function(){var t=$(this).jqGrid("getStyleUI",this.p.styleUI+".common","cornertop",!0);this.p.caption=e,$(".ui-jqgrid-title, .ui-jqgrid-title-rtl",this.grid.cDiv).html(e),$(this.grid.cDiv).show(),$(this.grid.hDiv).removeClass(t)})},setLabel:function(e,t,i,r){return this.each(function(){var o=this,a=-1;if(o.grid&&void 0!==e&&($(o.p.colModel).each(function(t){return this.name===e?(a=t,!1):void 0}),a>=0)){var s=$("tr.ui-jqgrid-labels th:eq("+a+")",o.grid.hDiv);if(t){var n=$(".s-ico",s);$("[id^=jqgh_]",s).empty().html(t).append(n),o.p.colNames[a]=t}i&&("string"==typeof i?$(s).addClass(i):$(s).css(i)),"object"==typeof r&&$(s).attr(r)}})},setCell:function(e,t,i,r,o,a){return this.each(function(){var s,n,l=this,d=-1;if(l.grid&&(isNaN(t)?$(l.p.colModel).each(function(e){return this.name===t?(d=e,!1):void 0}):d=parseInt(t,10),d>=0)){var p=$(l).jqGrid("getGridRowById",e);if(p){var c=$("td:eq("+d+")",p),u=0,g=[];if(""!==i||a===!0){if(void 0!==p.cells){for(;u<p.cells.length;){g.push(p.cells[u].innerHTML),u++}}if(s=l.formatter(e,i,d,g,"edit"),n=l.p.colModel[d].title?{title:$.jgrid.stripHtml(s)}:{},l.p.treeGrid&&$(".tree-wrap",$(c)).length>0?$("span",$(c)).html(s).attr(n):$(c).html(s).attr(n),"local"===l.p.datatype){var h,f=l.p.colModel[d];i=f.formatter&&"string"==typeof f.formatter&&"date"===f.formatter?$.unformat.date.call(l,i,f):i,h=l.p._index[$.jgrid.stripPref(l.p.idPrefix,e)],void 0!==h&&(l.p.data[h][f.name]=i)}}"string"==typeof r?$(c).addClass(r):r&&$(c).css(r),"object"==typeof o&&$(c).attr(o)}}})},getCell:function(e,t){var i=!1;return this.each(function(){var r=this,o=-1;if(r.grid&&(isNaN(t)?$(r.p.colModel).each(function(e){return this.name===t?(o=e,!1):void 0}):o=parseInt(t,10),o>=0)){var a=$(r).jqGrid("getGridRowById",e);if(a){try{i=$.unformat.call(r,$("td:eq("+o+")",a),{rowId:a.id,colModel:r.p.colModel[o]},o)}catch(s){i=$.jgrid.htmlDecode($("td:eq("+o+")",a).html())}}}}),i},getCol:function(e,t,i){var r,o,a,s,n=[],l=0;return t="boolean"!=typeof t?!1:t,void 0===i&&(i=!1),this.each(function(){var d=this,p=-1;if(d.grid&&(isNaN(e)?$(d.p.colModel).each(function(t){return this.name===e?(p=t,!1):void 0}):p=parseInt(e,10),p>=0)){var c=d.rows.length,u=0,g=0;if(c&&c>0){for(;c>u;){if($(d.rows[u]).hasClass("jqgrow")){try{r=$.unformat.call(d,$(d.rows[u].cells[p]),{rowId:d.rows[u].id,colModel:d.p.colModel[p]},p)}catch(h){r=$.jgrid.htmlDecode(d.rows[u].cells[p].innerHTML)}i?(s=parseFloat(r),isNaN(s)||(l+=s,void 0===a&&(a=o=s),o=Math.min(o,s),a=Math.max(a,s),g++)):n.push(t?{id:d.rows[u].id,value:r}:r)}u++}if(i){switch(i.toLowerCase()){case"sum":n=l;break;case"avg":n=l/g;break;case"count":n=c-1;break;case"min":n=o;break;case"max":n=a}}}}}),n},clearGridData:function(e){return this.each(function(){var t=this;if(t.grid){if("boolean"!=typeof e&&(e=!1),t.p.deepempty){$("#"+$.jgrid.jqID(t.p.id)+" tbody:first tr:gt(0)").remove()}else{var i=$("#"+$.jgrid.jqID(t.p.id)+" tbody:first tr:first")[0];$("#"+$.jgrid.jqID(t.p.id)+" tbody:first").empty().append(i)}t.p.footerrow&&e&&$(".ui-jqgrid-ftable td",t.grid.sDiv).html("&#160;"),t.p.selrow=null,t.p.selarrrow=[],t.p.savedRow=[],t.p.records=0,t.p.page=1,t.p.lastpage=0,t.p.reccount=0,t.p.data=[],t.p._index={},t.updatepager(!0,!1)}})},getInd:function(e,t){var i,r=!1;return this.each(function(){i=$(this).jqGrid("getGridRowById",e),i&&(r=t===!0?i:i.rowIndex)}),r},bindKeys:function(e){var t=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},e||{});return this.each(function(){var e=this;$("body").is("[role]")||$("body").attr("role","application"),e.p.scrollrows=t.scrollingRows,$(e).keydown(function(i){var r,o,a,s=$(e).find("tr[tabindex=0]")[0],n=e.p.treeReader.expanded_field;if(s){if(a=e.p._index[$.jgrid.stripPref(e.p.idPrefix,s.id)],37===i.keyCode||38===i.keyCode||39===i.keyCode||40===i.keyCode){if(38===i.keyCode){if(o=s.previousSibling,r="",o){if($(o).is(":hidden")){for(;o;){if(o=o.previousSibling,!$(o).is(":hidden")&&$(o).hasClass("jqgrow")){r=o.id;break}}}else{r=o.id}}$(e).jqGrid("setSelection",r,!0,i),i.preventDefault()}if(40===i.keyCode){if(o=s.nextSibling,r="",o){if($(o).is(":hidden")){for(;o;){if(o=o.nextSibling,!$(o).is(":hidden")&&$(o).hasClass("jqgrow")){r=o.id;break}}}else{r=o.id}}$(e).jqGrid("setSelection",r,!0,i),i.preventDefault()}37===i.keyCode&&(e.p.treeGrid&&e.p.data[a][n]&&$(s).find("div.treeclick").trigger("click"),$(e).triggerHandler("jqGridKeyLeft",[e.p.selrow]),$.isFunction(t.onLeftKey)&&t.onLeftKey.call(e,e.p.selrow)),39===i.keyCode&&(e.p.treeGrid&&!e.p.data[a][n]&&$(s).find("div.treeclick").trigger("click"),$(e).triggerHandler("jqGridKeyRight",[e.p.selrow]),$.isFunction(t.onRightKey)&&t.onRightKey.call(e,e.p.selrow))}else{13===i.keyCode?($(e).triggerHandler("jqGridKeyEnter",[e.p.selrow]),$.isFunction(t.onEnter)&&t.onEnter.call(e,e.p.selrow)):32===i.keyCode&&($(e).triggerHandler("jqGridKeySpace",[e.p.selrow]),$.isFunction(t.onSpace)&&t.onSpace.call(e,e.p.selrow))}}})})},unbindKeys:function(){return this.each(function(){$(this).unbind("keydown")})},getLocalRow:function(e){var t,i=!1;return this.each(function(){void 0!==e&&(t=this.p._index[$.jgrid.stripPref(this.p.idPrefix,e)],t>=0&&(i=this.p.data[t]))}),i},progressBar:function(e){return e=$.extend({htmlcontent:"",method:"hide",loadtype:"disable"},e||{}),this.each(function(){var t,i,r="show"===e.method?!0:!1,o=$("#load_"+$.jgrid.jqID(this.p.id)),a=$(window).scrollTop();switch(""!==e.htmlcontent&&o.html(e.htmlcontent),e.loadtype){case"disable":break;case"enable":o.toggle(r);break;case"block":$("#lui_"+$.jgrid.jqID(this.p.id)).toggle(r),o.toggle(r)}o.is(":visible")&&(t=o.offsetParent(),o.css("top",""),o.offset().top<a&&(i=Math.min(10+a-t.offset().top,t.height()-o.height()),o.css("top",i+"px")))})},getColProp:function(e){var t={},i=this[0];if(!i.grid){return !1}var r,o=i.p.colModel;for(r=0;r<o.length;r++){if(o[r].name===e){t=o[r];break}}return t},setColProp:function(e,t){return this.each(function(){if(this.grid&&t){var i,r=this.p.colModel;for(i=0;i<r.length;i++){if(r[i].name===e){$.extend(!0,this.p.colModel[i],t);break}}}})},sortGrid:function(e,t,i){return this.each(function(){var r,o=this,a=-1,s=!1;if(o.grid){for(e||(e=o.p.sortname),r=0;r<o.p.colModel.length;r++){if(o.p.colModel[r].index===e||o.p.colModel[r].name===e){a=r,o.p.frozenColumns===!0&&o.p.colModel[r].frozen===!0&&(s=o.grid.fhDiv.find("#"+o.p.id+"_"+e));break}}if(-1!==a){var n=o.p.colModel[a].sortable;s||(s=o.grid.headers[a].el),"boolean"!=typeof n&&(n=!0),"boolean"!=typeof t&&(t=!1),n&&o.sortData("jqgh_"+o.p.id+"_"+e,a,t,i,s)}}})},setGridState:function(e){return this.each(function(){if(this.grid){var t=this,i=$(this).jqGrid("getStyleUI",this.p.styleUI+".base","icon_caption_open",!0),r=$(this).jqGrid("getStyleUI",this.p.styleUI+".base","icon_caption_close",!0);"hidden"===e?($(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+$.jgrid.jqID(t.p.id)).slideUp("fast"),t.p.pager&&$(t.p.pager).slideUp("fast"),t.p.toppager&&$(t.p.toppager).slideUp("fast"),t.p.toolbar[0]===!0&&("both"===t.p.toolbar[1]&&$(t.grid.ubDiv).slideUp("fast"),$(t.grid.uDiv).slideUp("fast")),t.p.footerrow&&$(".ui-jqgrid-sdiv","#gbox_"+$.jgrid.jqID(t.p.id)).slideUp("fast"),$(".ui-jqgrid-headlink",t.grid.cDiv).removeClass(i).addClass(r),t.p.gridstate="hidden"):"visible"===e&&($(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+$.jgrid.jqID(t.p.id)).slideDown("fast"),t.p.pager&&$(t.p.pager).slideDown("fast"),t.p.toppager&&$(t.p.toppager).slideDown("fast"),t.p.toolbar[0]===!0&&("both"===t.p.toolbar[1]&&$(t.grid.ubDiv).slideDown("fast"),$(t.grid.uDiv).slideDown("fast")),t.p.footerrow&&$(".ui-jqgrid-sdiv","#gbox_"+$.jgrid.jqID(t.p.id)).slideDown("fast"),$(".ui-jqgrid-headlink",t.grid.cDiv).removeClass(r).addClass(i),t.p.gridstate="visible")}})},setFrozenColumns:function(){return this.each(function(){if(this.grid){var e=this,t=e.p.colModel,i=0,r=t.length,o=-1,a=!1,s=$(e).jqGrid("getStyleUI",e.p.styleUI+".base","headerDiv",!0,"ui-jqgrid-hdiv"),n=$(e).jqGrid("getStyleUI",e.p.styleUI+".common","hover",!0);if(e.p.subGrid!==!0&&e.p.treeGrid!==!0&&e.p.cellEdit!==!0&&!e.p.sortable&&!e.p.scroll){for(e.p.rownumbers&&i++,e.p.multiselect&&i++;r>i&&t[i].frozen===!0;){a=!0,o=i,i++}if(o>=0&&a){var l=e.p.caption?$(e.grid.cDiv).outerHeight():0,d=$(".ui-jqgrid-htable","#gview_"+$.jgrid.jqID(e.p.id)).height();e.p.toppager&&(l+=$(e.grid.topDiv).outerHeight()),e.p.toolbar[0]===!0&&"bottom"!==e.p.toolbar[1]&&(l+=$(e.grid.uDiv).outerHeight()),e.grid.fhDiv=$('<div style="position:absolute;'+("rtl"===e.p.direction?"right:0;":"left:0;")+"top:"+l+"px;height:"+d+'px;" class="frozen-div '+s+'"></div>'),e.grid.fbDiv=$('<div style="position:absolute;'+("rtl"===e.p.direction?"right:0;":"left:0;")+"top:"+(parseInt(l,10)+parseInt(d,10)+1)+'px;overflow-y:hidden" class="frozen-bdiv ui-jqgrid-bdiv"></div>'),$("#gview_"+$.jgrid.jqID(e.p.id)).append(e.grid.fhDiv);var p=$(".ui-jqgrid-htable","#gview_"+$.jgrid.jqID(e.p.id)).clone(!0);if(e.p.groupHeader){$("tr.jqg-first-row-header, tr.jqg-third-row-header",p).each(function(){$("th:gt("+o+")",this).remove()});var c,u,g=-1,h=-1;$("tr.jqg-second-row-header th",p).each(function(){return c=parseInt($(this).attr("colspan"),10),u=parseInt($(this).attr("rowspan"),10),u&&(g++,h++),c&&(g+=c,h++),g===o?(h=o,!1):void 0}),g!==o&&(h=o),$("tr.jqg-second-row-header",p).each(function(){$("th:gt("+h+")",this).remove()})}else{$("tr",p).each(function(){$("th:gt("+o+")",this).remove()})}if($(p).width(1),$(e.grid.fhDiv).append(p).mousemove(function(t){return e.grid.resizing?(e.grid.dragMove(t),!1):void 0}),e.p.footerrow){var f=$(".ui-jqgrid-bdiv","#gview_"+$.jgrid.jqID(e.p.id)).height();e.grid.fsDiv=$('<div style="position:absolute;left:0px;top:'+(parseInt(l,10)+parseInt(d,10)+parseInt(f,10)+1)+'px;" class="frozen-sdiv ui-jqgrid-sdiv"></div>'),$("#gview_"+$.jgrid.jqID(e.p.id)).append(e.grid.fsDiv);var m=$(".ui-jqgrid-ftable","#gview_"+$.jgrid.jqID(e.p.id)).clone(!0);$("tr",m).each(function(){$("td:gt("+o+")",this).remove()}),$(m).width(1),$(e.grid.fsDiv).append(m)}$(e).bind("jqGridResizeStop.setFrozenColumns",function(t,i,r){var o=$(".ui-jqgrid-htable",e.grid.fhDiv);$("th:eq("+r+")",o).width(i);var a=$(".ui-jqgrid-btable",e.grid.fbDiv);if($("tr:first td:eq("+r+")",a).width(i),e.p.footerrow){var s=$(".ui-jqgrid-ftable",e.grid.fsDiv);$("tr:first td:eq("+r+")",s).width(i)}}),$("#gview_"+$.jgrid.jqID(e.p.id)).append(e.grid.fbDiv),$(e.grid.fbDiv).bind("mousewheel DOMMouseScroll",function(t){var i=$(e.grid.bDiv).scrollTop();$(e.grid.bDiv).scrollTop(t.originalEvent.wheelDelta>0||t.originalEvent.detail<0?i-25:i+25),t.preventDefault()}),e.p.hoverrows===!0&&$("#"+$.jgrid.jqID(e.p.id)).unbind("mouseover").unbind("mouseout"),$(e).bind("jqGridAfterGridComplete.setFrozenColumns",function(){$("#"+$.jgrid.jqID(e.p.id)+"_frozen").remove(),$(e.grid.fbDiv).height($(e.grid.bDiv).height()-16);var t=$("#"+$.jgrid.jqID(e.p.id)).clone(!0);$("tr[role=row]",t).each(function(){$("td[role=gridcell]:gt("+o+")",this).remove()}),$(t).width(1).attr("id",e.p.id+"_frozen"),$(e.grid.fbDiv).append(t),e.p.hoverrows===!0&&($("tr.jqgrow",t).hover(function(){$(this).addClass(n),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(e.p.id)).addClass(n)},function(){$(this).removeClass(n),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(e.p.id)).removeClass(n)}),$("tr.jqgrow","#"+$.jgrid.jqID(e.p.id)).hover(function(){$(this).addClass(n),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(e.p.id)+"_frozen").addClass(n)},function(){$(this).removeClass(n),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(e.p.id)+"_frozen").removeClass(n)})),t=null}),e.grid.hDiv.loading||$(e).triggerHandler("jqGridAfterGridComplete"),e.p.frozenColumns=!0}}}})},destroyFrozenColumns:function(){return this.each(function(){if(this.grid&&this.p.frozenColumns===!0){var e=this,t=$(e).jqGrid("getStyleUI",e.p.styleUI+".common","hover",!0);if($(e.grid.fhDiv).remove(),$(e.grid.fbDiv).remove(),e.grid.fhDiv=null,e.grid.fbDiv=null,e.p.footerrow&&($(e.grid.fsDiv).remove(),e.grid.fsDiv=null),$(this).unbind(".setFrozenColumns"),e.p.hoverrows===!0){var i;$("#"+$.jgrid.jqID(e.p.id)).bind("mouseover",function(e){i=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(i).attr("class")&&$(i).addClass(t)}).bind("mouseout",function(e){i=$(e.target).closest("tr.jqgrow"),$(i).removeClass(t)})}this.p.frozenColumns=!1}})},resizeColumn:function(e,t){return this.each(function(){var i,r,o,a=this.grid,s=this.p,n=s.colModel,l=n.length;if("string"==typeof e){for(i=0;l>i;i++){if(n[i].name===e){e=i;break}}}else{e=parseInt(e,10)}if(t=parseInt(t,10),!("number"!=typeof e||0>e||e>n.length-1||"number"!=typeof t||t<s.minColWidth)){if(s.forceFit){for(s.nv=0,i=e+1;l>i;i++){if(n[i].hidden!==!0){s.nv=i-e;break}}}if(a.resizing={idx:e},r=t-a.headers[e].width,s.forceFit){if(o=a.headers[e+s.nv].width-r,o<s.minColWidth){return}a.headers[e+s.nv].newWidth=a.headers[e+s.nv].width-r}a.newWidth=s.tblwidth+r,a.headers[e].newWidth=t,a.dragEnd(!1)}})},getStyleUI:function(e,t,i,r){try{var o="",a=e.split("."),s="";switch(i||(o="class=",s='"'),null==r&&(r=""),a.length){case 1:o+=s+r+" "+$.jgrid.styleUI[a[0]][t]+s;break;case 2:o+=s+r+" "+$.jgrid.styleUI[a[0]][a[1]][t]+s}}catch(n){o=""}return $.trim(o)},resizeGrid:function(e){return this.each(function(){var t=this;void 0===e&&(e=500),setTimeout(function(){var e=$(window).width(),i=$("#gbox_"+$.jgrid.jqID(t.p.id)).parent().width(),r=t.p.width;r=e-i>3?i:e,$("#"+$.jgrid.jqID(t.p.id)).jqGrid("setGridWidth",r)},e)})}}),$.jgrid.extend({editCell:function(e,t,i){return this.each(function(){var r,o,a,s,n=this,l=$(this).jqGrid("getStyleUI",n.p.styleUI+".common","highlight",!0),d=$(this).jqGrid("getStyleUI",n.p.styleUI+".common","hover",!0),p=$(this).jqGrid("getStyleUI",n.p.styleUI+".celledit","inputClass",!0);if(n.grid&&n.p.cellEdit===!0){if(t=parseInt(t,10),n.p.selrow=n.rows[e].id,n.p.knv||$(n).jqGrid("GridNav"),n.p.savedRow.length>0){if(i===!0&&e==n.p.iRow&&t==n.p.iCol){return}$(n).jqGrid("saveCell",n.p.savedRow[0].id,n.p.savedRow[0].ic)}else{window.setTimeout(function(){$("#"+$.jgrid.jqID(n.p.knv)).attr("tabindex","-1").focus()},1)}if(s=n.p.colModel[t],r=s.name,"subgrid"!==r&&"cb"!==r&&"rn"!==r){if(a=$("td:eq("+t+")",n.rows[e]),s.editable!==!0||i!==!0||a.hasClass("not-editable-cell")||$.isFunction(n.p.isCellEditable)&&!n.p.isCellEditable.call(n,r,e,t)){parseInt(n.p.iCol,10)>=0&&parseInt(n.p.iRow,10)>=0&&$(n.rows[n.p.iRow]).removeClass("selected-row "+d).find("td:eq("+n.p.iCol+")").removeClass("edit-cell "+l),a.addClass("edit-cell "+l),$(n.rows[e]).addClass("selected-row "+d),o=a.html().replace(/\&#160\;/gi,""),$(n).triggerHandler("jqGridSelectCell",[n.rows[e].id,r,o,e,t]),$.isFunction(n.p.onSelectCell)&&n.p.onSelectCell.call(n,n.rows[e].id,r,o,e,t)}else{parseInt(n.p.iCol,10)>=0&&parseInt(n.p.iRow,10)>=0&&$(n.rows[n.p.iRow]).removeClass("selected-row "+d).find("td:eq("+n.p.iCol+")").removeClass("edit-cell "+l),$(a).addClass("edit-cell "+l),$(n.rows[e]).addClass("selected-row "+d);try{o=$.unformat.call(n,a,{rowId:n.rows[e].id,colModel:s},t)}catch(c){o=s.edittype&&"textarea"===s.edittype?$(a).text():$(a).html()}if(n.p.autoencode&&(o=$.jgrid.htmlDecode(o)),s.edittype||(s.edittype="text"),n.p.savedRow.push({id:e,ic:t,name:r,v:o}),("&nbsp;"===o||"&#160;"===o||1===o.length&&160===o.charCodeAt(0))&&(o=""),$.isFunction(n.p.formatCell)){var u=n.p.formatCell.call(n,n.rows[e].id,r,o,e,t);void 0!==u&&(o=u)}$(n).triggerHandler("jqGridBeforeEditCell",[n.rows[e].id,r,o,e,t]),$.isFunction(n.p.beforeEditCell)&&n.p.beforeEditCell.call(n,n.rows[e].id,r,o,e,t);var g=$.extend({},s.editoptions||{},{id:e+"_"+r,name:r,rowId:n.rows[e].id,oper:"edit"}),h=$.jgrid.createEl.call(n,s.edittype,g,o,!0,$.extend({},$.jgrid.ajaxOptions,n.p.ajaxSelectOptions||{}));$.inArray(s.edittype,["text","textarea","password","select"])>-1&&$(h).addClass(p),$(a).html("").append(h).attr("tabindex","0"),$.jgrid.bindEv.call(n,h,g),window.setTimeout(function(){$(h).focus()},1),$("input, select, textarea",a).bind("keydown",function(i){if(27===i.keyCode&&($("input.hasDatepicker",a).length>0?$(".ui-datepicker").is(":hidden")?$(n).jqGrid("restoreCell",e,t):$("input.hasDatepicker",a).datepicker("hide"):$(n).jqGrid("restoreCell",e,t)),13===i.keyCode&&!i.shiftKey){return $(n).jqGrid("saveCell",e,t),!1}if(9===i.keyCode){if(n.grid.hDiv.loading){return !1}i.shiftKey?$(n).jqGrid("prevCell",e,t):$(n).jqGrid("nextCell",e,t)}i.stopPropagation()}),$(n).triggerHandler("jqGridAfterEditCell",[n.rows[e].id,r,o,e,t]),$.isFunction(n.p.afterEditCell)&&n.p.afterEditCell.call(n,n.rows[e].id,r,o,e,t)}n.p.iCol=t,n.p.iRow=e}}})},saveCell:function(e,t){return this.each(function(){var i,r=this,o=$.jgrid.getRegional(this,"errors"),a=$.jgrid.getRegional(this,"edit");if(r.grid&&r.p.cellEdit===!0){if(i=r.p.savedRow.length>=1?0:null,null!==i){var s,n,l=$("td:eq("+t+")",r.rows[e]),d=r.p.colModel[t],p=d.name,c=$.jgrid.jqID(p);switch(d.edittype){case"select":if(d.editoptions.multiple){var u=$("#"+e+"_"+c,r.rows[e]),g=[];s=$(u).val(),s?s.join(","):s="",$("option:selected",u).each(function(e,t){g[e]=$(t).text()}),n=g.join(",")}else{s=$("#"+e+"_"+c+" option:selected",r.rows[e]).val(),n=$("#"+e+"_"+c+" option:selected",r.rows[e]).text()}d.formatter&&(n=s);break;case"checkbox":var h=["Yes","No"];d.editoptions&&(h=d.editoptions.value.split(":")),s=$("#"+e+"_"+c,r.rows[e]).is(":checked")?h[0]:h[1],n=s;break;case"password":case"text":case"textarea":case"button":s=$("#"+e+"_"+c,r.rows[e]).val(),n=s;break;case"custom":try{if(!d.editoptions||!$.isFunction(d.editoptions.custom_value)){throw"e1"}if(s=d.editoptions.custom_value.call(r,$(".customelement",l),"get"),void 0===s){throw"e2"}n=s}catch(f){"e1"===f?$.jgrid.info_dialog(o.errcap,"function 'custom_value' "+a.msg.nodefined,a.bClose,{styleUI:r.p.styleUI}):"e2"===f?$.jgrid.info_dialog(o.errcap,"function 'custom_value' "+a.msg.novalue,a.bClose,{styleUI:r.p.styleUI}):$.jgrid.info_dialog(o.errcap,f.message,a.bClose,{styleUI:r.p.styleUI})}}if(n!==r.p.savedRow[i].v){var m=$(r).triggerHandler("jqGridBeforeSaveCell",[r.rows[e].id,p,s,e,t]);if(m&&(s=m,n=m),$.isFunction(r.p.beforeSaveCell)){var v=r.p.beforeSaveCell.call(r,r.rows[e].id,p,s,e,t);v&&(s=v,n=v)}var j=$.jgrid.checkValues.call(r,s,t);if(j[0]===!0){var b=$(r).triggerHandler("jqGridBeforeSubmitCell",[r.rows[e].id,p,s,e,t])||{};if($.isFunction(r.p.beforeSubmitCell)&&(b=r.p.beforeSubmitCell.call(r,r.rows[e].id,p,s,e,t),b||(b={})),$("input.hasDatepicker",l).length>0&&$("input.hasDatepicker",l).datepicker("hide"),"remote"===r.p.cellsubmit){if(r.p.cellurl){var w={};r.p.autoencode&&(s=$.jgrid.htmlEncode(s)),w[p]=s;var y,_,x;x=r.p.prmNames,y=x.id,_=x.oper,w[y]=$.jgrid.stripPref(r.p.idPrefix,r.rows[e].id),w[_]=x.editoper,w=$.extend(b,w),$(r).jqGrid("progressBar",{method:"show",loadtype:r.p.loadui,htmlcontent:$.jgrid.getRegional(r,"defaults.savetext")}),r.grid.hDiv.loading=!0,$.ajax($.extend({url:r.p.cellurl,data:$.isFunction(r.p.serializeCellData)?r.p.serializeCellData.call(r,w):w,type:"POST",complete:function(i,d){if($(r).jqGrid("progressBar",{method:"hide",loadtype:r.p.loadui}),r.grid.hDiv.loading=!1,"success"===d){var c=$(r).triggerHandler("jqGridAfterSubmitCell",[r,i,w.id,p,s,e,t])||[!0,""];c[0]===!0&&$.isFunction(r.p.afterSubmitCell)&&(c=r.p.afterSubmitCell.call(r,i,w.id,p,s,e,t)),c[0]===!0?($(l).empty(),$(r).jqGrid("setCell",r.rows[e].id,t,n,!1,!1,!0),$(l).addClass("dirty-cell"),$(r.rows[e]).addClass("edited"),$(r).triggerHandler("jqGridAfterSaveCell",[r.rows[e].id,p,s,e,t]),$.isFunction(r.p.afterSaveCell)&&r.p.afterSaveCell.call(r,r.rows[e].id,p,s,e,t),r.p.savedRow.splice(0,1)):($.jgrid.info_dialog(o.errcap,c[1],a.bClose,{styleUI:r.p.styleUI}),$(r).jqGrid("restoreCell",e,t))}},error:function(i,s,n){$("#lui_"+$.jgrid.jqID(r.p.id)).hide(),r.grid.hDiv.loading=!1,$(r).triggerHandler("jqGridErrorCell",[i,s,n]),$.isFunction(r.p.errorCell)?(r.p.errorCell.call(r,i,s,n),$(r).jqGrid("restoreCell",e,t)):($.jgrid.info_dialog(o.errcap,i.status+" : "+i.statusText+"<br/>"+s,a.bClose,{styleUI:r.p.styleUI}),$(r).jqGrid("restoreCell",e,t))}},$.jgrid.ajaxOptions,r.p.ajaxCellOptions||{}))}else{try{$.jgrid.info_dialog(o.errcap,o.nourl,a.bClose,{styleUI:r.p.styleUI}),$(r).jqGrid("restoreCell",e,t)}catch(f){}}}"clientArray"===r.p.cellsubmit&&($(l).empty(),$(r).jqGrid("setCell",r.rows[e].id,t,n,!1,!1,!0),$(l).addClass("dirty-cell"),$(r.rows[e]).addClass("edited"),$(r).triggerHandler("jqGridAfterSaveCell",[r.rows[e].id,p,s,e,t]),$.isFunction(r.p.afterSaveCell)&&r.p.afterSaveCell.call(r,r.rows[e].id,p,s,e,t),r.p.savedRow.splice(0,1))}else{try{window.setTimeout(function(){$.jgrid.info_dialog(o.errcap,s+" "+j[1],a.bClose,{styleUI:r.p.styleUI})},100),$(r).jqGrid("restoreCell",e,t)}catch(f){}}}else{$(r).jqGrid("restoreCell",e,t)}}window.setTimeout(function(){$("#"+$.jgrid.jqID(r.p.knv)).attr("tabindex","-1").focus()},0)}})},restoreCell:function(e,t){return this.each(function(){var i,r=this;if(r.grid&&r.p.cellEdit===!0){if(i=r.p.savedRow.length>=1?0:null,null!==i){var o=$("td:eq("+t+")",r.rows[e]);if($.isFunction($.fn.datepicker)){try{$("input.hasDatepicker",o).datepicker("hide")}catch(a){}}$(o).empty().attr("tabindex","-1"),$(r).jqGrid("setCell",r.rows[e].id,t,r.p.savedRow[i].v,!1,!1,!0),$(r).triggerHandler("jqGridAfterRestoreCell",[r.rows[e].id,r.p.savedRow[i].v,e,t]),$.isFunction(r.p.afterRestoreCell)&&r.p.afterRestoreCell.call(r,r.rows[e].id,r.p.savedRow[i].v,e,t),r.p.savedRow.splice(0,1)}window.setTimeout(function(){$("#"+r.p.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(e,t){return this.each(function(){var i,r=this,o=!1;if(r.grid&&r.p.cellEdit===!0){for(i=t+1;i<r.p.colModel.length;i++){if(r.p.colModel[i].editable===!0&&(!$.isFunction(r.p.isCellEditable)||r.p.isCellEditable.call(r,r.p.colModel[i].name,e,i))){o=i;break}}o!==!1?$(r).jqGrid("editCell",e,o,!0):r.p.savedRow.length>0&&$(r).jqGrid("saveCell",e,t)}})},prevCell:function(e,t){return this.each(function(){var i,r=this,o=!1;if(r.grid&&r.p.cellEdit===!0){for(i=t-1;i>=0;i--){if(r.p.colModel[i].editable===!0&&(!$.isFunction(r.p.isCellEditable)||r.p.isCellEditable.call(r,r.p.colModel[i].name,e,i))){o=i;break}}o!==!1?$(r).jqGrid("editCell",e,o,!0):r.p.savedRow.length>0&&$(r).jqGrid("saveCell",e,t)}})},GridNav:function(){return this.each(function(){function e(e,t,r){if("v"===r.substr(0,1)){var o=$(i.grid.bDiv)[0].clientHeight,a=$(i.grid.bDiv)[0].scrollTop,s=i.rows[e].offsetTop+i.rows[e].clientHeight,n=i.rows[e].offsetTop;"vd"===r&&s>=o&&($(i.grid.bDiv)[0].scrollTop=$(i.grid.bDiv)[0].scrollTop+i.rows[e].clientHeight),"vu"===r&&a>n&&($(i.grid.bDiv)[0].scrollTop=$(i.grid.bDiv)[0].scrollTop-i.rows[e].clientHeight)}if("h"===r){var l=$(i.grid.bDiv)[0].clientWidth,d=$(i.grid.bDiv)[0].scrollLeft,p=i.rows[e].cells[t].offsetLeft+i.rows[e].cells[t].clientWidth,c=i.rows[e].cells[t].offsetLeft;p>=l+parseInt(d,10)?$(i.grid.bDiv)[0].scrollLeft=$(i.grid.bDiv)[0].scrollLeft+i.rows[e].cells[t].clientWidth:d>c&&($(i.grid.bDiv)[0].scrollLeft=$(i.grid.bDiv)[0].scrollLeft-i.rows[e].cells[t].clientWidth)}}function t(e,t){var r,o;if("lft"===t){for(r=e+1,o=e;o>=0;o--){if(i.p.colModel[o].hidden!==!0){r=o;break}}}if("rgt"===t){for(r=e-1,o=e;o<i.p.colModel.length;o++){if(i.p.colModel[o].hidden!==!0){r=o;break}}}return r}var i=this;if(i.grid&&i.p.cellEdit===!0){i.p.knv=i.p.id+"_kn";var r,o,a=$("<div style='position:fixed;top:0px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+i.p.knv+"'></div></div>");$(a).insertBefore(i.grid.cDiv),$("#"+i.p.knv).focus().keydown(function(a){switch(o=a.keyCode,"rtl"===i.p.direction&&(37===o?o=39:39===o&&(o=37)),o){case 38:i.p.iRow-1>0&&(e(i.p.iRow-1,i.p.iCol,"vu"),$(i).jqGrid("editCell",i.p.iRow-1,i.p.iCol,!1));break;case 40:i.p.iRow+1<=i.rows.length-1&&(e(i.p.iRow+1,i.p.iCol,"vd"),$(i).jqGrid("editCell",i.p.iRow+1,i.p.iCol,!1));break;case 37:i.p.iCol-1>=0&&(r=t(i.p.iCol-1,"lft"),e(i.p.iRow,r,"h"),$(i).jqGrid("editCell",i.p.iRow,r,!1));break;case 39:i.p.iCol+1<=i.p.colModel.length-1&&(r=t(i.p.iCol+1,"rgt"),e(i.p.iRow,r,"h"),$(i).jqGrid("editCell",i.p.iRow,r,!1));break;case 13:parseInt(i.p.iCol,10)>=0&&parseInt(i.p.iRow,10)>=0&&$(i).jqGrid("editCell",i.p.iRow,i.p.iCol,!0);break;default:return !0}return !1})}})},getChangedCells:function(e){var t=[];return e||(e="all"),this.each(function(){var i,r=this;r.grid&&r.p.cellEdit===!0&&$(r.rows).each(function(o){var a={};$(this).hasClass("edited")&&($("td",this).each(function(t){if(i=r.p.colModel[t].name,"cb"!==i&&"subgrid"!==i){if("dirty"===e){if($(this).hasClass("dirty-cell")){try{a[i]=$.unformat.call(r,this,{rowId:r.rows[o].id,colModel:r.p.colModel[t]},t)}catch(s){a[i]=$.jgrid.htmlDecode($(this).html())}}}else{try{a[i]=$.unformat.call(r,this,{rowId:r.rows[o].id,colModel:r.p.colModel[t]},t)}catch(s){a[i]=$.jgrid.htmlDecode($(this).html())}}}}),a.id=this.id,t.push(a))})}),t}}),$.extend($.jgrid,{showModal:function(e){e.w.show()},closeModal:function(e){e.w.hide().attr("aria-hidden","true"),e.o&&e.o.remove()},hideModal:function(e,t){t=$.extend({jqm:!0,gb:"",removemodal:!1,formprop:!1,form:""},t||{});var i=t.gb&&"string"==typeof t.gb&&"#gbox_"===t.gb.substr(0,6)?$("#"+t.gb.substr(6))[0]:!1;if(t.onClose){var r=i?t.onClose.call(i,e):t.onClose(e);if("boolean"==typeof r&&!r){return}}if(t.formprop&&i&&t.form){var o=$(e)[0].style.height,a=$(e)[0].style.width;o.indexOf("px")>-1&&(o=parseFloat(o)),a.indexOf("px")>-1&&(a=parseFloat(a));var s,n;"edit"===t.form?(s="#"+$.jgrid.jqID("FrmGrid_"+t.gb.substr(6)),n="formProp"):"view"===t.form&&(s="#"+$.jgrid.jqID("ViewGrid_"+t.gb.substr(6)),n="viewProp"),$(i).data(n,{top:parseFloat($(e).css("top")),left:parseFloat($(e).css("left")),width:a,height:o,dataheight:$(s).height(),datawidth:$(s).width()})}if($.fn.jqm&&t.jqm===!0){$(e).attr("aria-hidden","true").jqmHide()}else{if(""!==t.gb){try{$(".jqgrid-overlay:first",t.gb).hide()}catch(l){}}$(e).hide().attr("aria-hidden","true")}t.removemodal&&$(e).remove()},findPos:function(e){var t=0,i=0;if(e.offsetParent){do{t+=e.offsetLeft,i+=e.offsetTop}while(e=e.offsetParent)}return[t,i]},createModal:function(e,t,i,r,o,a,s){i=$.extend(!0,{},$.jgrid.jqModal||{},i);var n=this,l="rtl"===$(i.gbox).attr("dir")?!0:!1,d=$.jgrid.styleUI[i.styleUI||"jQueryUI"].modal,p=$.jgrid.styleUI[i.styleUI||"jQueryUI"].common,c=document.createElement("div");s=$.extend({},s||{}),c.className="ui-jqdialog "+d.modal,c.id=e.themodal;var u=document.createElement("div");u.className="ui-jqdialog-titlebar "+d.header,u.id=e.modalhead,$(u).append("<span class='ui-jqdialog-title'>"+i.caption+"</span>");var g=$("<a class='ui-jqdialog-titlebar-close "+p.cornerall+"'></a>").hover(function(){g.addClass(p.hover)},function(){g.removeClass(p.hover)}).append("<span class='"+p.icon_base+" "+d.icon_close+"'></span>");$(u).append(g),l?(c.dir="rtl",$(".ui-jqdialog-title",u).css("float","right"),$(".ui-jqdialog-titlebar-close",u).css("left","0.3em")):(c.dir="ltr",$(".ui-jqdialog-title",u).css("float","left"),$(".ui-jqdialog-titlebar-close",u).css("right","0.3em"));var h=document.createElement("div");$(h).addClass("ui-jqdialog-content "+d.content).attr("id",e.modalcontent),$(h).append(t),c.appendChild(h),$(c).prepend(u),a===!0?$("body").append(c):"string"==typeof a?$(a).append(c):$(c).insertBefore(r),$(c).css(s),void 0===i.jqModal&&(i.jqModal=!0);var f={};if($.fn.jqm&&i.jqModal===!0){if(0===i.left&&0===i.top&&i.overlay){var m=[];m=$.jgrid.findPos(o),i.left=m[0]+4,i.top=m[1]+4}f.top=i.top+"px",f.left=i.left}else{(0!==i.left||0!==i.top)&&(f.left=i.left,f.top=i.top+"px")}if($("a.ui-jqdialog-titlebar-close",u).click(function(){var t=$("#"+$.jgrid.jqID(e.themodal)).data("onClose")||i.onClose,r=$("#"+$.jgrid.jqID(e.themodal)).data("gbox")||i.gbox;return n.hideModal("#"+$.jgrid.jqID(e.themodal),{gb:r,jqm:i.jqModal,onClose:t,removemodal:i.removemodal||!1,formprop:!i.recreateForm||!1,form:i.form||""}),!1}),0!==i.width&&i.width||(i.width=300),0!==i.height&&i.height||(i.height=200),!i.zIndex){var v=$(r).parents("*[role=dialog]").filter(":first").css("z-index");i.zIndex=v?parseInt(v,10)+2:950}var j=0;if(l&&f.left&&!a&&(j=$(i.gbox).width()-(isNaN(i.width)?0:parseInt(i.width,10))-8,f.left=parseInt(f.left,10)+parseInt(j,10)),f.left&&(f.left+="px"),$(c).css($.extend({width:isNaN(i.width)?"auto":i.width+"px",height:isNaN(i.height)?"auto":i.height+"px",zIndex:i.zIndex,overflow:"hidden"},f)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":e.modalhead,"aria-hidden":"true"}),void 0===i.drag&&(i.drag=!0),void 0===i.resize&&(i.resize=!0),i.drag){if($(u).css("cursor","move"),$.fn.jqDrag){$(c).jqDrag(u)}else{try{$(c).draggable({handle:$("#"+$.jgrid.jqID(u.id))})}catch(b){}}}if(i.resize){if($.fn.jqResize){$(c).append("<div class='jqResize "+d.resizable+" "+p.icon_base+" "+d.icon_resizable+"'></div>"),$("#"+$.jgrid.jqID(e.themodal)).jqResize(".jqResize",e.scrollelm?"#"+$.jgrid.jqID(e.scrollelm):!1)}else{try{$(c).resizable({handles:"se, sw",alsoResize:e.scrollelm?"#"+$.jgrid.jqID(e.scrollelm):!1})}catch(w){}}}i.closeOnEscape===!0&&$(c).keydown(function(t){if(27===t.which){var r=$("#"+$.jgrid.jqID(e.themodal)).data("onClose")||i.onClose;n.hideModal("#"+$.jgrid.jqID(e.themodal),{gb:i.gbox,jqm:i.jqModal,onClose:r,removemodal:i.removemodal||!1,formprop:!i.recreateForm||!1,form:i.form||""})}})},viewModal:function(e,t){if(t=$.extend({toTop:!0,overlay:10,modal:!1,overlayClass:"ui-widget-overlay",onShow:$.jgrid.showModal,onHide:$.jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},t||{}),void 0===t.focusField&&(t.focusField=0),t.focusField="number"==typeof t.focusField&&t.focusField>=0?parseInt(t.focusField,10):"boolean"!=typeof t.focusField||t.focusField?0:!1,$.fn.jqm&&t.jqm===!0){t.jqM?$(e).attr("aria-hidden","false").jqm(t).jqmShow():$(e).attr("aria-hidden","false").jqmShow()}else{if(""!==t.gbox&&($(".jqgrid-overlay:first",t.gbox).show(),$(e).data("gbox",t.gbox)),$(e).show().attr("aria-hidden","false"),t.focusField>=0){try{$(":input:visible",e)[parseInt(t.focusField,10)].focus()}catch(i){}}}},info_dialog:function(e,t,i,r){var o={width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1000,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]};$.extend(!0,o,$.jgrid.jqModal||{},{caption:"<b>"+e+"</b>"},r||{});var a=o.jqModal,s=this,n=$.jgrid.styleUI[o.styleUI||"jQueryUI"].modal,l=$.jgrid.styleUI[o.styleUI||"jQueryUI"].common;$.fn.jqm&&!a&&(a=!1);var d,p="";if(o.buttons.length>0){for(d=0;d<o.buttons.length;d++){void 0===o.buttons[d].id&&(o.buttons[d].id="info_button_"+d),p+="<a id='"+o.buttons[d].id+"' class='fm-button "+l.button+"'>"+o.buttons[d].text+"</a>"}}var c=isNaN(o.dataheight)?o.dataheight:o.dataheight+"px",u="text-align:"+o.align+";",g="<div id='info_id'>";g+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+c+";"+u+"'>"+t+"</div>",g+=i?"<div class='"+n.header+"' style='text-align:"+o.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a id='closedialog' class='fm-button "+l.button+"'>"+i+"</a>"+p+"</div>":""!==p?"<div class='"+n.header+"' style='text-align:"+o.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+p+"</div>":"",g+="</div>";try{"false"===$("#info_dialog").attr("aria-hidden")&&$.jgrid.hideModal("#info_dialog",{jqm:a}),$("#info_dialog").remove()}catch(h){}$.jgrid.createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},g,o,"","",!0),p&&$.each(o.buttons,function(e){$("#"+$.jgrid.jqID(this.id),"#info_id").bind("click",function(){return o.buttons[e].onClick.call($("#info_dialog")),!1})}),$("#closedialog","#info_id").click(function(){return s.hideModal("#info_dialog",{jqm:a,onClose:$("#info_dialog").data("onClose")||o.onClose,gb:$("#info_dialog").data("gbox")||o.gbox}),!1}),$(".fm-button","#info_dialog").hover(function(){$(this).addClass(l.hover)},function(){$(this).removeClass(l.hover)}),$.isFunction(o.beforeOpen)&&o.beforeOpen(),$.jgrid.viewModal("#info_dialog",{onHide:function(e){e.w.hide().remove(),e.o&&e.o.remove()},modal:o.modal,jqm:a}),$.isFunction(o.afterOpen)&&o.afterOpen();try{$("#info_dialog").focus()}catch(f){}},bindEv:function(e,t){var i=this;$.isFunction(t.dataInit)&&t.dataInit.call(i,e,t),t.dataEvents&&$.each(t.dataEvents,function(){void 0!==this.data?$(e).bind(this.type,this.data,this.fn):$(e).bind(this.type,this.fn)})},createEl:function(e,t,i,r,o){function a(e,t,i){var r=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr","custom_element","custom_value","oper"];void 0!==i&&$.isArray(i)&&$.merge(r,i),$.each(t,function(t,i){-1===$.inArray(t,r)&&$(e).attr(t,i)}),t.hasOwnProperty("id")||$(e).attr("id",$.jgrid.randId())}var s="",n=this;switch(e){case"textarea":s=document.createElement("textarea"),r?t.cols||$(s).css({width:"98%"}):t.cols||(t.cols=20),t.rows||(t.rows=2),("&nbsp;"===i||"&#160;"===i||1===i.length&&160===i.charCodeAt(0))&&(i=""),s.value=i,a(s,t),$(s).attr({role:"textbox",multiline:"true"});break;case"checkbox":if(s=document.createElement("input"),s.type="checkbox",t.value){var l=t.value.split(":");i===l[0]&&(s.checked=!0,s.defaultChecked=!0),s.value=l[0],$(s).attr("offval",l[1])}else{var d=(i+"").toLowerCase();d.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==d?(s.checked=!0,s.defaultChecked=!0,s.value=i):s.value="on",$(s).attr("offval","off")}a(s,t,["value"]),$(s).attr("role","checkbox");break;case"select":s=document.createElement("select"),s.setAttribute("role","select");var p,c=[];if(t.multiple===!0?(p=!0,s.multiple="multiple",$(s).attr("aria-multiselectable","true")):p=!1,null!=t.dataUrl){var u=null,g=t.postData||o.postData;try{u=t.rowId}catch(h){}n.p&&n.p.idPrefix&&(u=$.jgrid.stripPref(n.p.idPrefix,u)),$.ajax($.extend({url:$.isFunction(t.dataUrl)?t.dataUrl.call(n,u,i,String(t.name)):t.dataUrl,type:"GET",dataType:"html",data:$.isFunction(g)?g.call(n,u,i,String(t.name)):g,context:{elem:s,options:t,vl:i},success:function(e){var t,i=[],r=this.elem,o=this.vl,s=$.extend({},this.options),l=s.multiple===!0,d=s.cacheUrlData===!0,p="",c=$.isFunction(s.buildSelect)?s.buildSelect.call(n,e):e;"string"==typeof c&&(c=$($.trim(c)).html()),c&&($(r).append(c),a(r,s,g?["postData"]:void 0),void 0===s.size&&(s.size=l?3:1),l?(i=o.split(","),i=$.map(i,function(e){return $.trim(e)})):i[0]=$.trim(o),setTimeout(function(){if($("option",r).each(function(e){t=$(this).text(),o=$(this).val()||t,d&&(p+=(0!==e?";":"")+o+":"+t),0===e&&r.multiple&&(this.selected=!1),$(this).attr("role","option"),($.inArray($.trim(t),i)>-1||$.inArray($.trim(o),i)>-1)&&(this.selected="selected")}),d){if("edit"===s.oper){$(n).jqGrid("setColProp",s.name,{editoptions:{buildSelect:null,dataUrl:null,value:p}})}else{if("search"===s.oper){$(n).jqGrid("setColProp",s.name,{searchoptions:{dataUrl:null,value:p}})}else{if("filter"===s.oper&&$("#fbox_"+n.p.id)[0].p){var e,a=$("#fbox_"+n.p.id)[0].p.columns;$.each(a,function(){return e=this.index||this.name,s.name===e?(this.searchoptions.dataUrl=null,this.searchoptions.value=p,!1):void 0})}}}}$(n).triggerHandler("jqGridAddEditAfterSelectUrlComplete",[r])},0))}},o||{}))}else{if(t.value){var f;void 0===t.size&&(t.size=p?3:1),p&&(c=i.split(","),c=$.map(c,function(e){return $.trim(e)})),"function"==typeof t.value&&(t.value=t.value());var m,v,j,b,w,y,_=void 0===t.separator?":":t.separator,x=void 0===t.delimiter?";":t.delimiter;if("string"==typeof t.value){for(m=t.value.split(x),f=0;f<m.length;f++){v=m[f].split(_),v.length>2&&(v[1]=$.map(v,function(e,t){return t>0?e:void 0}).join(_)),j=document.createElement("option"),j.setAttribute("role","option"),j.value=v[0],j.innerHTML=v[1],s.appendChild(j),p||$.trim(v[0])!==$.trim(i)&&$.trim(v[1])!==$.trim(i)||(j.selected="selected"),p&&($.inArray($.trim(v[1]),c)>-1||$.inArray($.trim(v[0]),c)>-1)&&(j.selected="selected")}}else{if("[object Array]"===Object.prototype.toString.call(t.value)){for(b=t.value,f=0;f<b.length;f++){2===b[f].length&&(w=b[f][0],y=b[f][1],j=document.createElement("option"),j.setAttribute("role","option"),j.value=w,j.innerHTML=y,s.appendChild(j),p||$.trim(w)!==$.trim(i)&&$.trim(y)!==$.trim(i)||(j.selected="selected"),p&&($.inArray($.trim(y),c)>-1||$.inArray($.trim(w),c)>-1)&&(j.selected="selected"))}}else{if("object"==typeof t.value){b=t.value;for(w in b){b.hasOwnProperty(w)&&(j=document.createElement("option"),j.setAttribute("role","option"),j.value=w,j.innerHTML=b[w],s.appendChild(j),p||$.trim(w)!==$.trim(i)&&$.trim(b[w])!==$.trim(i)||(j.selected="selected"),p&&($.inArray($.trim(b[w]),c)>-1||$.inArray($.trim(w),c)>-1)&&(j.selected="selected"))}}}}a(s,t,["value"])}}break;case"image":case"file":s=document.createElement("input"),s.type=e,a(s,t);break;case"custom":s=document.createElement("span");try{if(!$.isFunction(t.custom_element)){throw"e1"}var q=t.custom_element.call(n,i,t);if(!q){throw"e2"}q=$(q).addClass("customelement").attr({id:t.id,name:t.name}),$(s).empty().append(q)}catch(h){var D=$.jgrid.getRegional(n,"errors"),C=$.jgrid.getRegional(n,"edit");"e1"===h?$.jgrid.info_dialog(D.errcap,"function 'custom_element' "+C.msg.nodefined,C.bClose,{styleUI:n.p.styleUI}):"e2"===h?$.jgrid.info_dialog(D.errcap,"function 'custom_element' "+C.msg.novalue,C.bClose,{styleUI:n.p.styleUI}):$.jgrid.info_dialog(D.errcap,"string"==typeof h?h:h.message,C.bClose,{styleUI:n.p.styleUI})}break;default:var I;I="button"===e?"button":"textbox",s=document.createElement("input"),s.type=e,s.value=i,a(s,t),"button"!==e&&(r?t.size||$(s).css({width:"96%"}):t.size||(t.size=20)),$(s).attr("role",I)}return s},checkDate:function(e,t){var i,r=function(e){return e%4!==0||e%100===0&&e%400!==0?28:29},o={};if(e=e.toLowerCase(),i=-1!==e.indexOf("/")?"/":-1!==e.indexOf("-")?"-":-1!==e.indexOf(".")?".":"/",e=e.split(i),t=t.split(i),3!==t.length){return !1}var a,s,n=-1,l=-1,d=-1;for(s=0;s<e.length;s++){var p=isNaN(t[s])?0:parseInt(t[s],10);o[e[s]]=p,a=e[s],-1!==a.indexOf("y")&&(n=s),-1!==a.indexOf("m")&&(d=s),-1!==a.indexOf("d")&&(l=s)}a="y"===e[n]||"yyyy"===e[n]?4:"yy"===e[n]?2:-1;var c,u=[0,31,29,31,30,31,30,31,31,30,31,30,31];return -1===n?!1:(c=o[e[n]].toString(),2===a&&1===c.length&&(a=1),c.length!==a||0===o[e[n]]&&"00"!==t[n]?!1:-1===d?!1:(c=o[e[d]].toString(),c.length<1||o[e[d]]<1||o[e[d]]>12?!1:-1===l?!1:(c=o[e[l]].toString(),c.length<1||o[e[l]]<1||o[e[l]]>31||2===o[e[d]]&&o[e[l]]>r(o[e[n]])||o[e[l]]>u[o[e[d]]]?!1:!0)))},isEmpty:function(e){return e.match(/^\s+$/)||""===e?!0:!1},checkTime:function(e){var t,i=/^(\d{1,2}):(\d{2})([apAP][Mm])?$/;if(!$.jgrid.isEmpty(e)){if(t=e.match(i),!t){return !1}if(t[3]){if(t[1]<1||t[1]>12){return !1}}else{if(t[1]>23){return !1}}if(t[2]>59){return !1}}return !0},checkValues:function(e,t,i,r){var o,a,s,n,l,d,p=this,c=p.p.colModel,u=$.jgrid.getRegional(this,"edit.msg");if(void 0===i){if("string"==typeof t){for(a=0,l=c.length;l>a;a++){if(c[a].name===t){o=c[a].editrules,t=a,null!=c[a].formoptions&&(s=c[a].formoptions.label);break}}}else{t>=0&&(o=c[t].editrules)}}else{o=i,s=void 0===r?"_":r}if(o){if(s||(s=null!=p.p.colNames?p.p.colNames[t]:c[t].label),o.required===!0&&$.jgrid.isEmpty(e)){return[!1,s+": "+u.required,""]}var g=o.required===!1?!1:!0;if(o.number===!0&&(g!==!1||!$.jgrid.isEmpty(e))&&isNaN(e)){return[!1,s+": "+u.number,""]}if(void 0!==o.minValue&&!isNaN(o.minValue)&&parseFloat(e)<parseFloat(o.minValue)){return[!1,s+": "+u.minValue+" "+o.minValue,""]}if(void 0!==o.maxValue&&!isNaN(o.maxValue)&&parseFloat(e)>parseFloat(o.maxValue)){return[!1,s+": "+u.maxValue+" "+o.maxValue,""]}var h;if(o.email===!0&&!(g===!1&&$.jgrid.isEmpty(e)||(h=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,h.test(e)))){return[!1,s+": "+u.email,""]}if(o.integer===!0&&(g!==!1||!$.jgrid.isEmpty(e))){if(isNaN(e)){return[!1,s+": "+u.integer,""]}if(e%1!==0||-1!==e.indexOf(".")){return[!1,s+": "+u.integer,""]}}if(o.date===!0&&!(g===!1&&$.jgrid.isEmpty(e)||(c[t].formatoptions&&c[t].formatoptions.newformat?(n=c[t].formatoptions.newformat,d=$.jgrid.getRegional(p,"formatter.date.masks"),d&&d.hasOwnProperty(n)&&(n=d[n])):n=c[t].datefmt||"Y-m-d",$.jgrid.checkDate(n,e)))){return[!1,s+": "+u.date+" - "+n,""]}if(o.time===!0&&!(g===!1&&$.jgrid.isEmpty(e)||$.jgrid.checkTime(e))){return[!1,s+": "+u.date+" - hh:mm (am/pm)",""]}if(o.url===!0&&!(g===!1&&$.jgrid.isEmpty(e)||(h=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i,h.test(e)))){return[!1,s+": "+u.url,""]}if(o.custom===!0&&(g!==!1||!$.jgrid.isEmpty(e))){if($.isFunction(o.custom_func)){var f=o.custom_func.call(p,e,s,t);return $.isArray(f)?f:[!1,u.customarray,""]}return[!1,u.customfcheck,""]}}return[!0,"",""]}}),$.fn.jqFilter=function(e){if("string"==typeof e){var t=$.fn.jqFilter[e];if(!t){throw"jqFilter - No such method: "+e}var i=$.makeArray(arguments).slice(1);return t.apply(this,i)}var r=$.extend(!0,{filter:null,columns:[],sortStrategy:null,onChange:null,afterRedraw:null,checkValues:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[],operands:null,numopts:["eq","ne","lt","le","gt","ge","nu","nn","in","ni"],stropts:["eq","ne","bw","bn","ew","en","cn","nc","nu","nn","in","ni"],strarr:["text","string","blob"],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,direction:"ltr"},$.jgrid.filter,e||{});return this.each(function(){if(!this.filter){this.p=r,(null===this.p.filter||void 0===this.p.filter)&&(this.p.filter={groupOp:this.p.groupOps[0].op,rules:[],groups:[]}),null!=this.p.sortStrategy&&$.isFunction(this.p.sortStrategy)&&this.p.columns.sort(this.p.sortStrategy);var e,t,i=this.p.columns.length,o=/msie/i.test(navigator.userAgent)&&!window.opera;if(this.p.initFilter=$.extend(!0,{},this.p.filter),i){for(e=0;i>e;e++){t=this.p.columns[e],t.stype?t.inputtype=t.stype:t.inputtype||(t.inputtype="text"),t.sorttype?t.searchtype=t.sorttype:t.searchtype||(t.searchtype="string"),void 0===t.hidden&&(t.hidden=!1),t.label||(t.label=t.name),t.index&&(t.name=t.index),t.hasOwnProperty("searchoptions")||(t.searchoptions={}),t.hasOwnProperty("searchrules")||(t.searchrules={})}var a=function(){return $("#"+$.jgrid.jqID(r.id))[0]||null},s=a(),n=$.jgrid.styleUI[s.p.styleUI||"jQueryUI"].filter,l=$.jgrid.styleUI[s.p.styleUI||"jQueryUI"].common;this.p.showQuery&&$(this).append("<table class='queryresult "+n.table_widget+"' style='display:block;max-width:440px;border:0px none;' dir='"+this.p.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var d=function(e,t){var i=[!0,""],o=a();if($.isFunction(t.searchrules)){i=t.searchrules.call(o,e,t)}else{if($.jgrid&&$.jgrid.checkValues){try{i=$.jgrid.checkValues.call(o,e,-1,t.searchrules,t.label)}catch(s){}}}i&&i.length&&i[0]===!1&&(r.error=!i[0],r.errmsg=i[1])};this.onchange=function(){return this.p.error=!1,this.p.errmsg="",$.isFunction(this.p.onChange)?this.p.onChange.call(this,this.p):!1},this.reDraw=function(){$("table.group:first",this).remove();var e=this.createTableForGroup(r.filter,null);$(this).append(e),$.isFunction(this.p.afterRedraw)&&this.p.afterRedraw.call(this,this.p)},this.createTableForGroup=function(e,t){var i,o=this,a=$("<table class='group "+n.table_widget+" ui-search-table' style='border:0px none;'><tbody></tbody></table>"),s="left";"rtl"===this.p.direction&&(s="right",a.attr("dir","rtl")),null===t&&a.append("<tr class='error' style='display:none;'><th colspan='5' class='"+l.error+"' align='"+s+"'></th></tr>");var d=$("<tr></tr>");a.append(d);var p=$("<th colspan='5' align='"+s+"'></th>");if(d.append(p),this.p.ruleButtons===!0){var c=$("<select class='opsel "+n.srSelect+"'></select>");p.append(c);var u,g="";for(i=0;i<r.groupOps.length;i++){u=e.groupOp===o.p.groupOps[i].op?" selected='selected'":"",g+="<option value='"+o.p.groupOps[i].op+"'"+u+">"+o.p.groupOps[i].text+"</option>"}c.append(g).bind("change",function(){e.groupOp=$(c).val(),o.onchange()})}var h="<span></span>";if(this.p.groupButton&&(h=$("<input type='button' value='+ {}' title='Add subgroup' class='add-group "+l.button+"'/>"),h.bind("click",function(){return void 0===e.groups&&(e.groups=[]),e.groups.push({groupOp:r.groupOps[0].op,rules:[],groups:[]}),o.reDraw(),o.onchange(),!1})),p.append(h),this.p.ruleButtons===!0){var f,m=$("<input type='button' value='+' title='Add rule' class='add-rule ui-add "+l.button+"'/>");m.bind("click",function(){for(void 0===e.rules&&(e.rules=[]),i=0;i<o.p.columns.length;i++){var t=void 0===o.p.columns[i].search?!0:o.p.columns[i].search,r=o.p.columns[i].hidden===!0,a=o.p.columns[i].searchoptions.searchhidden===!0;if(a&&t||t&&!r){f=o.p.columns[i];break}}var s;return s=f.searchoptions.sopt?f.searchoptions.sopt:o.p.sopt?o.p.sopt:-1!==$.inArray(f.searchtype,o.p.strarr)?o.p.stropts:o.p.numopts,e.rules.push({field:f.name,op:s[0],data:""}),o.reDraw(),!1}),p.append(m)}if(null!==t){var v=$("<input type='button' value='-' title='Delete group' class='delete-group "+l.button+"'/>");p.append(v),v.bind("click",function(){for(i=0;i<t.groups.length;i++){if(t.groups[i]===e){t.groups.splice(i,1);break}}return o.reDraw(),o.onchange(),!1})}if(void 0!==e.groups){for(i=0;i<e.groups.length;i++){var j=$("<tr></tr>");a.append(j);var b=$("<td class='first'></td>");j.append(b);var w=$("<td colspan='4'></td>");w.append(this.createTableForGroup(e.groups[i],e)),j.append(w)}}if(void 0===e.groupOp&&(e.groupOp=o.p.groupOps[0].op),void 0!==e.rules){for(i=0;i<e.rules.length;i++){a.append(this.createTableRowForRule(e.rules[i],e))}}return a},this.createTableRowForRule=function(e,t){var i,s,d,p,c,u=this,g=a(),h=$("<tr></tr>"),f="";h.append("<td class='first'></td>");var m=$("<td class='columns'></td>");h.append(m);var v,j=$("<select class='"+n.srSelect+"'></select>"),b=[];m.append(j),j.bind("change",function(){for(e.field=$(j).val(),d=$(this).parents("tr:first"),$(".data",d).empty(),i=0;i<u.p.columns.length;i++){if(u.p.columns[i].name===e.field){p=u.p.columns[i];break}}if(p){p.searchoptions.id=$.jgrid.randId(),p.searchoptions.name=e.field,p.searchoptions.oper="filter",o&&"text"===p.inputtype&&(p.searchoptions.size||(p.searchoptions.size=10));var t=$.jgrid.createEl.call(g,p.inputtype,p.searchoptions,"",!0,u.p.ajaxSelectOptions||{},!0);$(t).addClass("input-elm "+n.srInput),s=p.searchoptions.sopt?p.searchoptions.sopt:u.p.sopt?u.p.sopt:-1!==$.inArray(p.searchtype,u.p.strarr)?u.p.stropts:u.p.numopts;var r="",a=0;for(b=[],$.each(u.p.ops,function(){b.push(this.oper)}),i=0;i<s.length;i++){v=$.inArray(s[i],b),-1!==v&&(0===a&&(e.op=u.p.ops[v].oper),r+="<option value='"+u.p.ops[v].oper+"'>"+u.p.ops[v].text+"</option>",a++)}if($(".selectopts",d).empty().append(r),$(".selectopts",d)[0].selectedIndex=0,$.jgrid.msie&&$.jgrid.msiever()<9){var l=parseInt($("select.selectopts",d)[0].offsetWidth,10)+1;$(".selectopts",d).width(l),$(".selectopts",d).css("width","auto")}$(".data",d).append(t),$.jgrid.bindEv.call(g,t,p.searchoptions),$(".input-elm",d).bind("change",function(t){var i=t.target;e.data="SPAN"===i.nodeName.toUpperCase()&&p.searchoptions&&$.isFunction(p.searchoptions.custom_value)?p.searchoptions.custom_value.call(g,$(i).children(".customelement:first"),"get"):i.value,u.onchange()}),setTimeout(function(){e.data=$(t).val(),u.onchange()},0)}});var w=0;for(i=0;i<u.p.columns.length;i++){var y=void 0===u.p.columns[i].search?!0:u.p.columns[i].search,_=u.p.columns[i].hidden===!0,x=u.p.columns[i].searchoptions.searchhidden===!0;(x&&y||y&&!_)&&(c="",e.field===u.p.columns[i].name&&(c=" selected='selected'",w=i),f+="<option value='"+u.p.columns[i].name+"'"+c+">"+u.p.columns[i].label+"</option>")}j.append(f);var q=$("<td class='operators'></td>");h.append(q),p=r.columns[w],p.searchoptions.id=$.jgrid.randId(),o&&"text"===p.inputtype&&(p.searchoptions.size||(p.searchoptions.size=10)),p.searchoptions.name=e.field,p.searchoptions.oper="filter";var D=$.jgrid.createEl.call(g,p.inputtype,p.searchoptions,e.data,!0,u.p.ajaxSelectOptions||{},!0);("nu"===e.op||"nn"===e.op)&&($(D).attr("readonly","true"),$(D).attr("disabled","true"));var C=$("<select class='selectopts "+n.srSelect+"'></select>");for(q.append(C),C.bind("change",function(){e.op=$(C).val(),d=$(this).parents("tr:first");var t=$(".input-elm",d)[0];"nu"===e.op||"nn"===e.op?(e.data="","SELECT"!==t.tagName.toUpperCase()&&(t.value=""),t.setAttribute("readonly","true"),t.setAttribute("disabled","true")):("SELECT"===t.tagName.toUpperCase()&&(e.data=t.value),t.removeAttribute("readonly"),t.removeAttribute("disabled")),u.onchange()}),s=p.searchoptions.sopt?p.searchoptions.sopt:u.p.sopt?u.p.sopt:-1!==$.inArray(p.searchtype,u.p.strarr)?u.p.stropts:u.p.numopts,f="",$.each(u.p.ops,function(){b.push(this.oper)}),i=0;i<s.length;i++){v=$.inArray(s[i],b),-1!==v&&(c=e.op===u.p.ops[v].oper?" selected='selected'":"",f+="<option value='"+u.p.ops[v].oper+"'"+c+">"+u.p.ops[v].text+"</option>")}C.append(f);var I=$("<td class='data'></td>");h.append(I),I.append(D),$.jgrid.bindEv.call(g,D,p.searchoptions),$(D).addClass("input-elm "+n.srInput).bind("change",function(){e.data="custom"===p.inputtype?p.searchoptions.custom_value.call(g,$(this).children(".customelement:first"),"get"):$(this).val(),u.onchange()});var G=$("<td></td>");if(h.append(G),this.p.ruleButtons===!0){var F=$("<input type='button' value='-' title='Delete rule' class='delete-rule ui-del "+l.button+"'/>");G.append(F),F.bind("click",function(){for(i=0;i<t.rules.length;i++){if(t.rules[i]===e){t.rules.splice(i,1);break}}return u.reDraw(),u.onchange(),!1})}return h},this.getStringForGroup=function(e){var t,i="(";if(void 0!==e.groups){for(t=0;t<e.groups.length;t++){i.length>1&&(i+=" "+e.groupOp+" ");try{i+=this.getStringForGroup(e.groups[t])}catch(r){alert(r)}}}if(void 0!==e.rules){try{for(t=0;t<e.rules.length;t++){i.length>1&&(i+=" "+e.groupOp+" "),i+=this.getStringForRule(e.rules[t])}}catch(o){alert(o)}}return i+=")","()"===i?"":i},this.getStringForRule=function(e){var t,i,o,a,s="",n="",l=["int","integer","float","number","currency"];for(t=0;t<this.p.ops.length;t++){if(this.p.ops[t].oper===e.op){s=this.p.operands.hasOwnProperty(e.op)?this.p.operands[e.op]:"",n=this.p.ops[t].oper;break}}for(t=0;t<this.p.columns.length;t++){if(this.p.columns[t].name===e.field){i=this.p.columns[t];break}}return void 0===i?"":(a=e.data,("bw"===n||"bn"===n)&&(a+="%"),("ew"===n||"en"===n)&&(a="%"+a),("cn"===n||"nc"===n)&&(a="%"+a+"%"),("in"===n||"ni"===n)&&(a=" ("+a+")"),r.errorcheck&&d(e.data,i),o=-1!==$.inArray(i.searchtype,l)||"nn"===n||"nu"===n?e.field+" "+s+" "+a:e.field+" "+s+' "'+a+'"')},this.resetFilter=function(){this.p.filter=$.extend(!0,{},this.p.initFilter),this.reDraw(),this.onchange()},this.hideError=function(){$("th."+l.error,this).html(""),$("tr.error",this).hide()},this.showError=function(){$("th."+l.error,this).html(this.p.errmsg),$("tr.error",this).show()},this.toUserFriendlyString=function(){return this.getStringForGroup(r.filter)},this.toString=function(){function e(e){if(i.p.errorcheck){var t,r;for(t=0;t<i.p.columns.length;t++){if(i.p.columns[t].name===e.field){r=i.p.columns[t];break}}r&&d(e.data,r)}return e.op+"(item."+e.field+",'"+e.data+"')"}function t(i){var r,o="(";if(void 0!==i.groups){for(r=0;r<i.groups.length;r++){o.length>1&&(o+="OR"===i.groupOp?" || ":" && "),o+=t(i.groups[r])}}if(void 0!==i.rules){for(r=0;r<i.rules.length;r++){o.length>1&&(o+="OR"===i.groupOp?" || ":" && "),o+=e(i.rules[r])}}return o+=")","()"===o?"":o}var i=this;return t(this.p.filter)},this.reDraw(),this.p.showQuery&&this.onchange(),this.filter=!0}}})},$.extend($.fn.jqFilter,{toSQLString:function(){var e="";return this.each(function(){e=this.toUserFriendlyString()}),e},filterData:function(){var e;return this.each(function(){e=this.p.filter}),e},getParameter:function(e){return void 0!==e&&this.p.hasOwnProperty(e)?this.p[e]:this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(e){"string"==typeof e&&(e=$.jgrid.parse(e)),this.each(function(){this.p.filter=e,this.reDraw(),this.onchange()})}}),$.jgrid.extend({filterToolbar:function(e){var t=$.jgrid.getRegional(this[0],"search");return e=$.extend({autosearch:!0,autosearchDelay:500,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw",searchOperators:!1,resetIcon:"x",operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^","in":"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#"}},t,e||{}),this.each(function(){var i=this;if(!i.p.filterToolbar){$(i).data("filterToolbar")||$(i).data("filterToolbar",e),i.p.force_regional&&(e=$.extend(e,t));var r,o,a,s=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].filter,n=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].common,l=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].base,d=function(){var t,r,o,a={},s=0,n={};$.each(i.p.colModel,function(){var l=$("#gs_"+i.p.idPrefix+$.jgrid.jqID(this.name),this.frozen===!0&&i.p.frozenColumns===!0?i.grid.fhDiv:i.grid.hDiv);if(r=this.index||this.name,o=e.searchOperators?l.parent().prev().children("a").attr("soper")||e.defaultSearch:this.searchoptions&&this.searchoptions.sopt?this.searchoptions.sopt[0]:"select"===this.stype?"eq":e.defaultSearch,t="custom"===this.stype&&$.isFunction(this.searchoptions.custom_value)&&l.length>0&&"SPAN"===l[0].nodeName.toUpperCase()?this.searchoptions.custom_value.call(i,l.children(".customelement:first"),"get"):l.val(),t||"nu"===o||"nn"===o){a[r]=t,n[r]=o,s++}else{try{delete i.p.postData[r]}catch(d){}}});var l=s>0?!0:!1;if(e.stringResult===!0||"local"===i.p.datatype||e.searchOperators===!0){var d='{"groupOp":"'+e.groupOp+'","rules":[',p=0;$.each(a,function(e,t){p>0&&(d+=","),d+='{"field":"'+e+'",',d+='"op":"'+n[e]+'",',t+="",d+='"data":"'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',p++}),d+="]}",$.extend(i.p.postData,{filters:d}),$.each(["searchField","searchString","searchOper"],function(e,t){i.p.postData.hasOwnProperty(t)&&delete i.p.postData[t]})}else{$.extend(i.p.postData,a)}var c;i.p.searchurl&&(c=i.p.url,$(i).jqGrid("setGridParam",{url:i.p.searchurl}));var u="stop"===$(i).triggerHandler("jqGridToolbarBeforeSearch")?!0:!1;!u&&$.isFunction(e.beforeSearch)&&(u=e.beforeSearch.call(i)),u||$(i).jqGrid("setGridParam",{search:l}).trigger("reloadGrid",[{page:1}]),c&&$(i).jqGrid("setGridParam",{url:c}),$(i).triggerHandler("jqGridToolbarAfterSearch"),$.isFunction(e.afterSearch)&&e.afterSearch.call(i)},p=function(t){var r,o={},a=0;t="boolean"!=typeof t?!0:t,$.each(i.p.colModel,function(){var e,t=$("#gs_"+i.p.idPrefix+$.jgrid.jqID(this.name),this.frozen===!0&&i.p.frozenColumns===!0?i.grid.fhDiv:i.grid.hDiv);switch(this.searchoptions&&void 0!==this.searchoptions.defaultValue&&(e=this.searchoptions.defaultValue),r=this.index||this.name,this.stype){case"select":if(t.find("option").each(function(t){return 0===t&&(this.selected=!0),$(this).val()===e?(this.selected=!0,!1):void 0}),void 0!==e){o[r]=e,a++}else{try{delete i.p.postData[r]}catch(s){}}break;case"text":if(t.val(e||""),void 0!==e){o[r]=e,a++}else{try{delete i.p.postData[r]}catch(n){}}break;case"custom":$.isFunction(this.searchoptions.custom_value)&&t.length>0&&"SPAN"===t[0].nodeName.toUpperCase()&&this.searchoptions.custom_value.call(i,t.children(".customelement:first"),"set",e||"")}});var s=a>0?!0:!1;if(i.p.resetsearch=!0,e.stringResult===!0||"local"===i.p.datatype){var n='{"groupOp":"'+e.groupOp+'","rules":[',l=0;$.each(o,function(e,t){l>0&&(n+=","),n+='{"field":"'+e+'",',n+='"op":"eq",',t+="",n+='"data":"'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',l++}),n+="]}",$.extend(i.p.postData,{filters:n}),$.each(["searchField","searchString","searchOper"],function(e,t){i.p.postData.hasOwnProperty(t)&&delete i.p.postData[t]})}else{$.extend(i.p.postData,o)}var d;i.p.searchurl&&(d=i.p.url,$(i).jqGrid("setGridParam",{url:i.p.searchurl}));var p="stop"===$(i).triggerHandler("jqGridToolbarBeforeClear")?!0:!1;!p&&$.isFunction(e.beforeClear)&&(p=e.beforeClear.call(i)),p||t&&$(i).jqGrid("setGridParam",{search:s}).trigger("reloadGrid",[{page:1}]),d&&$(i).jqGrid("setGridParam",{url:d}),$(i).triggerHandler("jqGridToolbarAfterClear"),$.isFunction(e.afterClear)&&e.afterClear()},c=function(){var e=$("tr.ui-search-toolbar",i.grid.hDiv),t=i.p.frozenColumns===!0?$("tr.ui-search-toolbar",i.grid.fhDiv):!1;"none"===e.css("display")?(e.show(),t&&t.show()):(e.hide(),t&&t.hide())},u=function(t,r,o){$("#sopt_menu").remove(),r=parseInt(r,10),o=parseInt(o,10)+18;for(var a,l,p=$(".ui-jqgrid-view").css("font-size")||"11px",c='<ul id="sopt_menu" class="ui-search-menu modal-content" role="menu" tabindex="0" style="font-size:'+p+";left:"+r+"px;top:"+o+'px;">',u=$(t).attr("soper"),g=[],h=0,f=$(t).attr("colname"),m=i.p.colModel.length;m>h&&i.p.colModel[h].name!==f;){h++}var v=i.p.colModel[h],j=$.extend({},v.searchoptions);for(j.sopt||(j.sopt=[],j.sopt[0]="select"===v.stype?"eq":e.defaultSearch),$.each(e.odata,function(){g.push(this.oper)}),h=0;h<j.sopt.length;h++){l=$.inArray(j.sopt[h],g),-1!==l&&(a=u===e.odata[l].oper?n.highlight:"",c+='<li class="ui-menu-item '+a+'" role="presentation"><a class="'+n.cornerall+' g-menu-item" tabindex="0" role="menuitem" value="'+e.odata[l].oper+'" oper="'+e.operands[e.odata[l].oper]+'"><table class="ui-common-table"><tr><td width="25px">'+e.operands[e.odata[l].oper]+"</td><td>"+e.odata[l].text+"</td></tr></table></a></li>")}c+="</ul>",$("body").append(c),$("#sopt_menu").addClass("ui-menu "+s.menu_widget),$("#sopt_menu > li > a").hover(function(){$(this).addClass(n.hover)},function(){$(this).removeClass(n.hover)}).click(function(){var r=$(this).attr("value"),o=$(this).attr("oper");if($(i).triggerHandler("jqGridToolbarSelectOper",[r,o,t]),$("#sopt_menu").hide(),$(t).text(o).attr("soper",r),e.autosearch===!0){var a=$(t).parent().next().children()[0];($(a).val()||"nu"===r||"nn"===r)&&d()}})},g=$("<tr class='ui-search-toolbar' role='row'></tr>");e.restoreFromFilters&&(a=i.p.postData.filters,a&&("string"==typeof a&&(a=$.jgrid.parse(a)),o=a.rules.length?a.rules:!1)),$.each(i.p.colModel,function(t){var a,n,p,c,u,h,f,m,v=this,j="",b="=",w=$("<th role='columnheader' class='"+l.headerBox+" ui-th-"+i.p.direction+"' id='gsh_"+i.p.id+"_"+v.name+"' ></th>"),y=$("<div></div>"),_=$("<table class='ui-search-table' cellspacing='0'><tr><td class='ui-search-oper' headers=''></td><td class='ui-search-input' headers=''></td><td class='ui-search-clear' headers=''></td></tr></table>");if(this.hidden===!0&&$(w).css("display","none"),this.search=this.search===!1?!1:!0,void 0===this.stype&&(this.stype="text"),a=$.extend({},this.searchoptions||{},{name:v.index||v.name,id:"gs_"+i.p.idPrefix+v.name,oper:"search"}),this.search){if(e.restoreFromFilters&&o){m=!1;for(var x=0;x<o.length;x++){if(o[x].field){var q=v.index||v.name;if(q===o[x].field){m=o[x];break}}}}if(e.searchOperators){for(n=a.sopt?a.sopt[0]:"select"===v.stype?"eq":e.defaultSearch,e.restoreFromFilters&&m&&(n=m.op),p=0;p<e.odata.length;p++){if(e.odata[p].oper===n){b=e.operands[n]||"";break}}c=null!=a.searchtitle?a.searchtitle:e.operandTitle,j="<a title='"+c+"' style='padding-right: 0.5em;' soper='"+n+"' class='soptclass' colname='"+this.name+"'>"+b+"</a>"}switch($("td:eq(0)",_).attr("colindex",t).append(j),void 0===a.clearSearch&&(a.clearSearch=!0),a.clearSearch?(u=e.resetTitle||"Clear Search Value",$("td:eq(2)",_).append("<a title='"+u+"' style='padding-right: 0.3em;padding-left: 0.3em;' class='clearsearchclass'>"+e.resetIcon+"</a>")):$("td:eq(2)",_).hide(),this.surl&&(a.dataUrl=this.surl),h="",a.defaultValue&&(h=$.isFunction(a.defaultValue)?a.defaultValue.call(i):a.defaultValue),e.restoreFromFilters&&m&&(h=m.data),f=$.jgrid.createEl.call(i,this.stype,a,h,!1,$.extend({},$.jgrid.ajaxOptions,i.p.ajaxSelectOptions||{})),$(f).css({width:"100%"}).addClass(s.srInput),$("td:eq(1)",_).append(f),$(y).append(_),this.stype){case"select":e.autosearch===!0&&(a.dataEvents=[{type:"change",fn:function(){return d(),!1}}]);break;case"text":e.autosearch===!0&&(a.dataEvents=e.searchOnEnter?[{type:"keypress",fn:function(e){var t=e.charCode||e.keyCode||0;return 13===t?(d(),!1):this}}]:[{type:"keydown",fn:function(t){var i=t.which;switch(i){case 13:return !1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:r&&clearTimeout(r),r=setTimeout(function(){d()},e.autosearchDelay)}}}])}$.jgrid.bindEv.call(i,f,a)}$(w).append(y),$(g).append(w),e.searchOperators||$("td:eq(0)",_).hide()}),$("table thead",i.grid.hDiv).append(g),e.searchOperators&&($(".soptclass",g).click(function(e){var t=$(this).offset(),i=t.left,r=t.top;u(this,i,r),e.stopPropagation()}),$("body").on("click",function(e){"soptclass"!==e.target.className&&$("#sopt_menu").hide()})),$(".clearsearchclass",g).click(function(){var t=$(this).parents("tr:first"),r=parseInt($("td.ui-search-oper",t).attr("colindex"),10),o=$.extend({},i.p.colModel[r].searchoptions||{}),a=o.defaultValue?o.defaultValue:"";"select"===i.p.colModel[r].stype?a?$("td.ui-search-input select",t).val(a):$("td.ui-search-input select",t)[0].selectedIndex=0:$("td.ui-search-input input",t).val(a),e.autosearch===!0&&d()}),this.p.filterToolbar=!0,this.triggerToolbar=d,this.clearToolbar=p,this.toggleToolbar=c}})},destroyFilterToolbar:function(){return this.each(function(){this.p.filterToolbar&&(this.triggerToolbar=null,this.clearToolbar=null,this.toggleToolbar=null,this.p.filterToolbar=!1,$(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove())})},searchGrid:function(e){var t=$.jgrid.getRegional(this[0],"search");return e=$.extend(!0,{recreateFilter:!1,drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,sortStrategy:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,jqModal:!0,modal:!1,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,toTop:!0,overlay:30,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null,operands:{eq:"=",ne:"<>",lt:"<",le:"<=",gt:">",ge:">=",bw:"LIKE",bn:"NOT LIKE","in":"IN",ni:"NOT IN",ew:"LIKE",en:"NOT LIKE",cn:"LIKE",nc:"NOT LIKE",nu:"IS NULL",nn:"ISNOT NULL"}},t,e||{}),this.each(function(){function t(t){a=$(i).triggerHandler("jqGridFilterBeforeShow",[t]),void 0===a&&(a=!0),a&&$.isFunction(e.beforeShowSearch)&&(a=e.beforeShowSearch.call(i,t)),a&&($.jgrid.viewModal("#"+$.jgrid.jqID(n.themodal),{gbox:"#gbox_"+$.jgrid.jqID(o),jqm:e.jqModal,modal:e.modal,overlay:e.overlay,toTop:e.toTop}),$(i).triggerHandler("jqGridFilterAfterShow",[t]),$.isFunction(e.afterShowSearch)&&e.afterShowSearch.call(i,t))}var i=this;if(i.grid){var r,o="fbox_"+i.p.id,a=!0,s=!0,n={themodal:"searchmod"+o,modalhead:"searchhd"+o,modalcontent:"searchcnt"+o,scrollelm:o},l=i.p.postData[e.sFilter],d=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].filter,p=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].common;if(e.styleUI=i.p.styleUI,"string"==typeof l&&(l=$.jgrid.parse(l)),e.recreateFilter===!0&&$("#"+$.jgrid.jqID(n.themodal)).remove(),void 0!==$("#"+$.jgrid.jqID(n.themodal))[0]){t($("#fbox_"+$.jgrid.jqID(i.p.id)))}else{var c=$("<div><div id='"+o+"' class='searchFilter' style='overflow:auto'></div></div>").insertBefore("#gview_"+$.jgrid.jqID(i.p.id)),u="left",g="";"rtl"===i.p.direction&&(u="right",g=" style='text-align:left'",c.attr("dir","rtl"));var h,f,m=$.extend([],i.p.colModel),v="<a id='"+o+"_search' class='fm-button "+p.button+" fm-button-icon-right ui-search'><span class='"+p.icon_base+" "+d.icon_search+"'></span>"+e.Find+"</a>",j="<a id='"+o+"_reset' class='fm-button "+p.button+" fm-button-icon-left ui-reset'><span class='"+p.icon_base+" "+d.icon_reset+"'></span>"+e.Reset+"</a>",b="",w="",y=!1,_=-1;if(e.showQuery&&(b="<a id='"+o+"_query' class='fm-button "+p.button+" fm-button-icon-left'><span class='"+p.icon_base+" "+d.icon_query+"'></span>Query</a>"),e.columns.length?(m=e.columns,_=0,h=m[0].index||m[0].name):$.each(m,function(e,t){if(t.label||(t.label=i.p.colNames[e]),!y){var r=void 0===t.search?!0:t.search,o=t.hidden===!0,a=t.searchoptions&&t.searchoptions.searchhidden===!0;(a&&r||r&&!o)&&(y=!0,h=t.index||t.name,_=e)}}),!l&&h||e.multipleSearch===!1){var x="eq";_>=0&&m[_].searchoptions&&m[_].searchoptions.sopt?x=m[_].searchoptions.sopt[0]:e.sopt&&e.sopt.length&&(x=e.sopt[0]),l={groupOp:"AND",rules:[{field:h,op:x,data:""}]}}y=!1,e.tmplNames&&e.tmplNames.length&&(y=!0,w="<tr><td class='ui-search-label'>"+e.tmplLabel+"</td>",w+="<td><select class='ui-template "+d.srSelect+"'>",w+="<option value='default'>Default</option>",$.each(e.tmplNames,function(e,t){w+="<option value='"+e+"'>"+t+"</option>"}),w+="</select></td></tr>"),f="<table class='EditTable' style='border:0px none;margin-top:5px' id='"+o+"_2'><tbody><tr><td colspan='2'><hr class='"+p.content+"' style='margin:1px'/></td></tr>"+w+"<tr><td class='EditButton' style='text-align:"+u+"'>"+j+"</td><td class='EditButton' "+g+">"+b+v+"</td></tr></tbody></table>",o=$.jgrid.jqID(o),$("#"+o).jqFilter({columns:m,sortStrategy:e.sortStrategy,filter:e.loadDefaults?l:null,showQuery:e.showQuery,errorcheck:e.errorcheck,sopt:e.sopt,groupButton:e.multipleGroup,ruleButtons:e.multipleSearch,afterRedraw:e.afterRedraw,ops:e.odata,operands:e.operands,ajaxSelectOptions:i.p.ajaxSelectOptions,groupOps:e.groupOps,onChange:function(){this.p.showQuery&&$(".query",this).html(this.toUserFriendlyString()),$.isFunction(e.afterChange)&&e.afterChange.call(i,$("#"+o),e)},direction:i.p.direction,id:i.p.id}),c.append(f),y&&e.tmplFilters&&e.tmplFilters.length&&$(".ui-template",c).bind("change",function(){var t=$(this).val();return"default"===t?$("#"+o).jqFilter("addFilter",l):$("#"+o).jqFilter("addFilter",e.tmplFilters[parseInt(t,10)]),!1}),e.multipleGroup===!0&&(e.multipleSearch=!0),$(i).triggerHandler("jqGridFilterInitialize",[$("#"+o)]),$.isFunction(e.onInitializeSearch)&&e.onInitializeSearch.call(i,$("#"+o)),e.gbox="#gbox_"+o,e.layer?$.jgrid.createModal(n,c,e,"#gview_"+$.jgrid.jqID(i.p.id),$("#gbox_"+$.jgrid.jqID(i.p.id))[0],"#"+$.jgrid.jqID(e.layer),{position:"relative"}):$.jgrid.createModal(n,c,e,"#gview_"+$.jgrid.jqID(i.p.id),$("#gbox_"+$.jgrid.jqID(i.p.id))[0]),(e.searchOnEnter||e.closeOnEscape)&&$("#"+$.jgrid.jqID(n.themodal)).keydown(function(t){var i=$(t.target);return !e.searchOnEnter||13!==t.which||i.hasClass("add-group")||i.hasClass("add-rule")||i.hasClass("delete-group")||i.hasClass("delete-rule")||i.hasClass("fm-button")&&i.is("[id$=_query]")?e.closeOnEscape&&27===t.which?($("#"+$.jgrid.jqID(n.modalhead)).find(".ui-jqdialog-titlebar-close").click(),!1):void 0:($("#"+o+"_search").click(),!1)}),b&&$("#"+o+"_query").bind("click",function(){return $(".queryresult",c).toggle(),!1}),void 0===e.stringResult&&(e.stringResult=e.multipleSearch),$("#"+o+"_search").bind("click",function(){var t,a,l={};if(r=$("#"+o),r.find(".input-elm:focus").change(),a=r.jqFilter("filterData"),e.errorcheck&&(r[0].hideError(),e.showQuery||r.jqFilter("toSQLString"),r[0].p.error)){return r[0].showError(),!1}if(e.stringResult){try{t=JSON.stringify(a)}catch(d){}"string"==typeof t&&(l[e.sFilter]=t,$.each([e.sField,e.sValue,e.sOper],function(){l[this]=""}))}else{e.multipleSearch?(l[e.sFilter]=a,$.each([e.sField,e.sValue,e.sOper],function(){l[this]=""})):(l[e.sField]=a.rules[0].field,l[e.sValue]=a.rules[0].data,l[e.sOper]=a.rules[0].op,l[e.sFilter]="")}return i.p.search=!0,$.extend(i.p.postData,l),s=$(i).triggerHandler("jqGridFilterSearch"),void 0===s&&(s=!0),s&&$.isFunction(e.onSearch)&&(s=e.onSearch.call(i,i.p.filters)),s!==!1&&$(i).trigger("reloadGrid",[{page:1}]),e.closeAfterSearch&&$.jgrid.hideModal("#"+$.jgrid.jqID(n.themodal),{gb:"#gbox_"+$.jgrid.jqID(i.p.id),jqm:e.jqModal,onClose:e.onClose}),!1}),$("#"+o+"_reset").bind("click",function(){var t={},r=$("#"+o);return i.p.search=!1,i.p.resetsearch=!0,e.multipleSearch===!1?t[e.sField]=t[e.sValue]=t[e.sOper]="":t[e.sFilter]="",r[0].resetFilter(),y&&$(".ui-template",c).val("default"),$.extend(i.p.postData,t),s=$(i).triggerHandler("jqGridFilterReset"),void 0===s&&(s=!0),s&&$.isFunction(e.onReset)&&(s=e.onReset.call(i)),s!==!1&&$(i).trigger("reloadGrid",[{page:1}]),e.closeAfterReset&&$.jgrid.hideModal("#"+$.jgrid.jqID(n.themodal),{gb:"#gbox_"+$.jgrid.jqID(i.p.id),jqm:e.jqModal,onClose:e.onClose}),!1}),t($("#"+o)),$(".fm-button:not(."+p.disabled+")",c).hover(function(){$(this).addClass(p.hover)},function(){$(this).removeClass(p.hover)})}}})}});var rp_ge={};if($.jgrid.extend({editGridRow:function(e,t){var i=$.jgrid.getRegional(this[0],"edit"),r=this[0].p.styleUI,o=$.jgrid.styleUI[r].formedit,a=$.jgrid.styleUI[r].common;return t=$.extend(!0,{top:0,left:0,width:"500",datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:!1,jqModal:!0,closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0,overlayClass:a.overlay,removemodal:!0,form:"edit",template:null,focusField:!0},i,t||{}),rp_ge[$(this)[0].p.id]=t,this.each(function(){function i(){return $(x).find(".FormElement").each(function(){var e=$(".customelement",this);if(e.length){var t=e[0],i=$(t).attr("name");$.each(f.p.colModel,function(){if(this.name===i&&this.editoptions&&$.isFunction(this.editoptions.custom_value)){try{if(v[i]=this.editoptions.custom_value.call(f,$("#"+$.jgrid.jqID(i),x),"get"),void 0===v[i]){throw"e1"}}catch(e){"e1"===e?$.jgrid.info_dialog(F.errcap,"function 'custom_value' "+rp_ge[$(this)[0]].p.msg.novalue,rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI}):$.jgrid.info_dialog(F.errcap,e.message,rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI})}return !0}})}else{switch($(this).get(0).type){case"checkbox":if($(this).is(":checked")){v[this.name]=$(this).val()}else{var r=$(this).attr("offval");v[this.name]=r}break;case"select-one":v[this.name]=$("option:selected",this).val();break;case"select-multiple":v[this.name]=$(this).val(),v[this.name]=v[this.name]?v[this.name].join(","):"";var o=[];$("option:selected",this).each(function(e,t){o[e]=$(t).text()});break;case"password":case"text":case"textarea":case"button":v[this.name]=$(this).val()}f.p.autoencode&&(v[this.name]=$.jgrid.htmlEncode(v[this.name]))}}),!0}function r(e,t,i,r){var a,s,n,l,d,p,c,u=0,g=[],h=!1,m="<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>",v="";for(c=1;r>=c;c++){v+=m}if("_empty"!==e&&(h=$(t).jqGrid("getInd",e)),$(t.p.colModel).each(function(c){if(a=this.name,s=this.editrules&&this.editrules.edithidden===!0?!1:this.hidden===!0?!0:!1,d=s?"style='display:none'":"","cb"!==a&&"subgrid"!==a&&this.editable===!0&&"rn"!==a){if(h===!1){l=""}else{if(a===t.p.ExpandColumn&&t.p.treeGrid===!0){l=$("td[role='gridcell']:eq("+c+")",t.rows[h]).text()}else{try{l=$.unformat.call(t,$("td[role='gridcell']:eq("+c+")",t.rows[h]),{rowId:e,colModel:this},c)}catch(m){l=this.edittype&&"textarea"===this.edittype?$("td[role='gridcell']:eq("+c+")",t.rows[h]).text():$("td[role='gridcell']:eq("+c+")",t.rows[h]).html()}(!l||"&nbsp;"===l||"&#160;"===l||1===l.length&&160===l.charCodeAt(0))&&(l="")}}var j=$.extend({},this.editoptions||{},{id:a,name:a,rowId:e,oper:"edit"}),b=$.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{}),w=parseInt(b.rowpos,10)||u+1,_=parseInt(2*(parseInt(b.colpos,10)||1),10);if("_empty"===e&&j.defaultValue&&(l=$.isFunction(j.defaultValue)?j.defaultValue.call(f):j.defaultValue),this.edittype||(this.edittype="text"),f.p.autoencode&&(l=$.jgrid.htmlDecode(l)),p=$.jgrid.createEl.call(f,this.edittype,j,l,!1,$.extend({},$.jgrid.ajaxOptions,t.p.ajaxSelectOptions||{})),"select"===this.edittype&&(l=$(p).val(),"select-multiple"===$(p).get(0).type&&l&&(l=l.join(","))),"checkbox"===this.edittype&&(l=$(p).is(":checked")?$(p).val():$(p).attr("offval")),(rp_ge[f.p.id].checkOnSubmit||rp_ge[f.p.id].checkOnUpdate)&&(rp_ge[f.p.id]._savedData[a]=l),$(p).addClass("FormElement"),$.inArray(this.edittype,["text","textarea","password","select"])>-1&&$(p).addClass(o.inputClass),G){$(N).find("#"+a).replaceWith(p)}else{if(n=$(i).find("tr[rowpos="+w+"]"),b.rowabove){var x=$("<tr><td class='contentinfo' colspan='"+2*r+"'>"+b.rowcontent+"</td></tr>");$(i).append(x),x[0].rp=w}0===n.length&&(n=$("<tr "+d+" rowpos='"+w+"'></tr>").addClass("FormData").attr("id","tr_"+a),$(n).append(v),$(i).append(n),n[0].rp=w),$("td:eq("+(_-2)+")",n[0]).html("<label for='"+a+"'>"+(void 0===b.label?t.p.colNames[c]:b.label)+"</label>"),$("td:eq("+(_-1)+")",n[0]).append(b.elmprefix).append(p).append(b.elmsuffix)}"custom"===this.edittype&&$.isFunction(j.custom_value)&&j.custom_value.call(f,$("#"+a,y),"set",l),$.jgrid.bindEv.call(f,p,j),g[u]=c,u++}}),u>0){var j;G?(j="<div class='FormData' style='display:none'><input class='FormElement' id='id_g' type='text' name='"+t.p.id+"_id' value='"+e+"'/>",$(N).append(j)):(j=$("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*r-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+t.p.id+"_id' value='"+e+"'/></td></tr>"),j[0].rp=u+999,$(i).append(j)),(rp_ge[f.p.id].checkOnSubmit||rp_ge[f.p.id].checkOnUpdate)&&(rp_ge[f.p.id]._savedData[t.p.id+"_id"]=e)}return g}function s(e,t,i){var r,o,a,s,n,l,d=0;(rp_ge[f.p.id].checkOnSubmit||rp_ge[f.p.id].checkOnUpdate)&&(rp_ge[f.p.id]._savedData={},rp_ge[f.p.id]._savedData[t.p.id+"_id"]=e);var p=t.p.colModel;if("_empty"===e){return $(p).each(function(){r=this.name,s=$.extend({},this.editoptions||{}),a=$("#"+$.jgrid.jqID(r),i),a&&a.length&&null!==a[0]&&(n="","custom"===this.edittype&&$.isFunction(s.custom_value)?s.custom_value.call(f,$("#"+r,i),"set",n):s.defaultValue?(n=$.isFunction(s.defaultValue)?s.defaultValue.call(f):s.defaultValue,"checkbox"===a[0].type?(l=n.toLowerCase(),l.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==l?(a[0].checked=!0,a[0].defaultChecked=!0,a[0].value=n):(a[0].checked=!1,a[0].defaultChecked=!1)):a.val(n)):"checkbox"===a[0].type?(a[0].checked=!1,a[0].defaultChecked=!1,n=$(a).attr("offval")):a[0].type&&"select"===a[0].type.substr(0,6)?a[0].selectedIndex=0:a.val(n),(rp_ge[f.p.id].checkOnSubmit===!0||rp_ge[f.p.id].checkOnUpdate)&&(rp_ge[f.p.id]._savedData[r]=n))}),void $("#id_g",i).val(e)}var c=$(t).jqGrid("getInd",e,!0);c&&($('td[role="gridcell"]',c).each(function(a){if(r=p[a].name,"cb"!==r&&"subgrid"!==r&&"rn"!==r&&p[a].editable===!0){if(r===t.p.ExpandColumn&&t.p.treeGrid===!0){o=$(this).text()}else{try{o=$.unformat.call(t,$(this),{rowId:e,colModel:p[a]},a)}catch(s){o="textarea"===p[a].edittype?$(this).text():$(this).html()}}switch(f.p.autoencode&&(o=$.jgrid.htmlDecode(o)),(rp_ge[f.p.id].checkOnSubmit===!0||rp_ge[f.p.id].checkOnUpdate)&&(rp_ge[f.p.id]._savedData[r]=o),r=$.jgrid.jqID(r),p[a].edittype){case"password":case"text":case"button":case"image":case"textarea":("&nbsp;"===o||"&#160;"===o||1===o.length&&160===o.charCodeAt(0))&&(o=""),$("#"+r,i).val(o);break;case"select":var n=o.split(",");n=$.map(n,function(e){return $.trim(e)}),$("#"+r+" option",i).each(function(){this.selected=p[a].editoptions.multiple||$.trim(o)!==$.trim($(this).text())&&n[0]!==$.trim($(this).text())&&n[0]!==$.trim($(this).val())?p[a].editoptions.multiple&&($.inArray($.trim($(this).text()),n)>-1||$.inArray($.trim($(this).val()),n)>-1)?!0:!1:!0}),(rp_ge[f.p.id].checkOnSubmit===!0||rp_ge[f.p.id].checkOnUpdate)&&(o=$("#"+r,i).val(),p[a].editoptions.multiple&&(o=o.join(",")),rp_ge[f.p.id]._savedData[r]=o);break;case"checkbox":if(o=String(o),p[a].editoptions&&p[a].editoptions.value){var l=p[a].editoptions.value.split(":");$("#"+r,i)[f.p.useProp?"prop":"attr"](l[0]===o?{checked:!0,defaultChecked:!0}:{checked:!1,defaultChecked:!1})}else{o=o.toLowerCase(),o.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==o?($("#"+r,i)[f.p.useProp?"prop":"attr"]("checked",!0),$("#"+r,i)[f.p.useProp?"prop":"attr"]("defaultChecked",!0)):($("#"+r,i)[f.p.useProp?"prop":"attr"]("checked",!1),$("#"+r,i)[f.p.useProp?"prop":"attr"]("defaultChecked",!1))}(rp_ge[f.p.id].checkOnSubmit===!0||rp_ge[f.p.id].checkOnUpdate)&&(o=$("#"+r,i).is(":checked")?$("#"+r,i).val():$("#"+r,i).attr("offval"));break;case"custom":try{if(!p[a].editoptions||!$.isFunction(p[a].editoptions.custom_value)){throw"e1"}p[a].editoptions.custom_value.call(f,$("#"+r,i),"set",o)}catch(c){"e1"===c?$.jgrid.info_dialog(F.errcap,"function 'custom_value' "+rp_ge[$(this)[0]].p.msg.nodefined,$.rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI}):$.jgrid.info_dialog(F.errcap,c.message,$.rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI})}}d++}}),d>0&&$("#id_g",x).val(e))}function n(){$.each(f.p.colModel,function(e,t){t.editoptions&&t.editoptions.NullIfEmpty===!0&&v.hasOwnProperty(t.name)&&""===v[t.name]&&(v[t.name]="null")})}function l(){var e,i,r,o,l,d,p,c=[!0,"",""],u={},g=f.p.prmNames,h=$(f).triggerHandler("jqGridAddEditBeforeCheckValues",[$(y),b]);h&&"object"==typeof h&&(v=h),$.isFunction(rp_ge[f.p.id].beforeCheckValues)&&(h=rp_ge[f.p.id].beforeCheckValues.call(f,v,$(y),b),h&&"object"==typeof h&&(v=h));for(o in v){if(v.hasOwnProperty(o)&&(c=$.jgrid.checkValues.call(f,v[o],o),c[0]===!1)){break}}if(n(),c[0]&&(u=$(f).triggerHandler("jqGridAddEditClickSubmit",[rp_ge[f.p.id],v,b]),void 0===u&&$.isFunction(rp_ge[f.p.id].onclickSubmit)&&(u=rp_ge[f.p.id].onclickSubmit.call(f,rp_ge[f.p.id],v,b)||{}),c=$(f).triggerHandler("jqGridAddEditBeforeSubmit",[v,$(y),b]),void 0===c&&(c=[!0,"",""]),c[0]&&$.isFunction(rp_ge[f.p.id].beforeSubmit)&&(c=rp_ge[f.p.id].beforeSubmit.call(f,v,$(y),b))),c[0]&&!rp_ge[f.p.id].processing){if(rp_ge[f.p.id].processing=!0,$("#sData",x+"_2").addClass(a.active),p=rp_ge[f.p.id].url||$(f).jqGrid("getGridParam","editurl"),r=g.oper,i="clientArray"===p?f.p.keyName:g.id,v[r]="_empty"===$.trim(v[f.p.id+"_id"])?g.addoper:g.editoper,v[r]!==g.addoper?v[i]=v[f.p.id+"_id"]:void 0===v[i]&&(v[i]=v[f.p.id+"_id"]),delete v[f.p.id+"_id"],v=$.extend(v,rp_ge[f.p.id].editData,u),f.p.treeGrid===!0){if(v[r]===g.addoper){l=$(f).jqGrid("getGridParam","selrow");var m="adjacency"===f.p.treeGridModel?f.p.treeReader.parent_id_field:"parent_id";v[m]=l}for(d in f.p.treeReader){if(f.p.treeReader.hasOwnProperty(d)){var j=f.p.treeReader[d];if(v.hasOwnProperty(j)){if(v[r]===g.addoper&&"parent_id_field"===d){continue}delete v[j]}}}}v[i]=$.jgrid.stripPref(f.p.idPrefix,v[i]);var _=$.extend({url:p,type:rp_ge[f.p.id].mtype,data:$.isFunction(rp_ge[f.p.id].serializeEditData)?rp_ge[f.p.id].serializeEditData.call(f,v):v,complete:function(o,n){var d;if($("#sData",x+"_2").removeClass(a.active),v[i]=f.p.idPrefix+v[i],o.status>=300&&304!==o.status?(c[0]=!1,c[1]=$(f).triggerHandler("jqGridAddEditErrorTextFormat",[o,b]),c[1]=$.isFunction(rp_ge[f.p.id].errorTextFormat)?rp_ge[f.p.id].errorTextFormat.call(f,o,b):n+" Status: '"+o.statusText+"'. Error code: "+o.status):(c=$(f).triggerHandler("jqGridAddEditAfterSubmit",[o,v,b]),void 0===c&&(c=[!0,"",""]),c[0]&&$.isFunction(rp_ge[f.p.id].afterSubmit)&&(c=rp_ge[f.p.id].afterSubmit.call(f,o,v,b))),c[0]===!1){$(".FormError",y).html(c[1]),$(".FormError",y).show()}else{if(f.p.autoencode&&$.each(v,function(e,t){v[e]=$.jgrid.htmlDecode(t)}),v[r]===g.addoper?(c[2]||(c[2]=$.jgrid.randId()),null==v[i]||"_empty"===v[i]?v[i]=c[2]:c[2]=v[i],rp_ge[f.p.id].reloadAfterSubmit?$(f).trigger("reloadGrid"):f.p.treeGrid===!0?$(f).jqGrid("addChildNode",c[2],l,v):$(f).jqGrid("addRowData",c[2],v,t.addedrow),rp_ge[f.p.id].closeAfterAdd?(f.p.treeGrid!==!0&&$(f).jqGrid("setSelection",c[2]),$.jgrid.hideModal("#"+$.jgrid.jqID(q.themodal),{gb:"#gbox_"+$.jgrid.jqID(w),jqm:t.jqModal,onClose:rp_ge[f.p.id].onClose,removemodal:rp_ge[f.p.id].removemodal,formprop:!rp_ge[f.p.id].recreateForm,form:rp_ge[f.p.id].form})):rp_ge[f.p.id].clearAfterAdd&&s("_empty",f,y)):(rp_ge[f.p.id].reloadAfterSubmit?($(f).trigger("reloadGrid"),rp_ge[f.p.id].closeAfterEdit||setTimeout(function(){$(f).jqGrid("setSelection",v[i])},1000)):f.p.treeGrid===!0?$(f).jqGrid("setTreeRow",v[i],v):$(f).jqGrid("setRowData",v[i],v),rp_ge[f.p.id].closeAfterEdit&&$.jgrid.hideModal("#"+$.jgrid.jqID(q.themodal),{gb:"#gbox_"+$.jgrid.jqID(w),jqm:t.jqModal,onClose:rp_ge[f.p.id].onClose,removemodal:rp_ge[f.p.id].removemodal,formprop:!rp_ge[f.p.id].recreateForm,form:rp_ge[f.p.id].form})),$.isFunction(rp_ge[f.p.id].afterComplete)&&(e=o,setTimeout(function(){$(f).triggerHandler("jqGridAddEditAfterComplete",[e,v,$(y),b]),rp_ge[f.p.id].afterComplete.call(f,e,v,$(y),b),e=null},500)),(rp_ge[f.p.id].checkOnSubmit||rp_ge[f.p.id].checkOnUpdate)&&($(y).data("disabled",!1),"_empty"!==rp_ge[f.p.id]._savedData[f.p.id+"_id"])){for(d in rp_ge[f.p.id]._savedData){rp_ge[f.p.id]._savedData.hasOwnProperty(d)&&v[d]&&(rp_ge[f.p.id]._savedData[d]=v[d])}}}rp_ge[f.p.id].processing=!1;try{$(":input:visible",y)[0].focus()}catch(p){}}},$.jgrid.ajaxOptions,rp_ge[f.p.id].ajaxEditOptions);if(_.url||rp_ge[f.p.id].useDataProxy||($.isFunction(f.p.dataProxy)?rp_ge[f.p.id].useDataProxy=!0:(c[0]=!1,c[1]+=" "+F.nourl)),c[0]){if(rp_ge[f.p.id].useDataProxy){var D=f.p.dataProxy.call(f,_,"set_"+f.p.id);void 0===D&&(D=[!0,""]),D[0]===!1?(c[0]=!1,c[1]=D[1]||"Error deleting the selected row!"):(_.data.oper===g.addoper&&rp_ge[f.p.id].closeAfterAdd&&$.jgrid.hideModal("#"+$.jgrid.jqID(q.themodal),{gb:"#gbox_"+$.jgrid.jqID(w),jqm:t.jqModal,onClose:rp_ge[f.p.id].onClose,removemodal:rp_ge[f.p.id].removemodal,formprop:!rp_ge[f.p.id].recreateForm,form:rp_ge[f.p.id].form}),_.data.oper===g.editoper&&rp_ge[f.p.id].closeAfterEdit&&$.jgrid.hideModal("#"+$.jgrid.jqID(q.themodal),{gb:"#gbox_"+$.jgrid.jqID(w),jqm:t.jqModal,onClose:rp_ge[f.p.id].onClose,removemodal:rp_ge[f.p.id].removemodal,formprop:!rp_ge[f.p.id].recreateForm,form:rp_ge[f.p.id].form}))}else{"clientArray"===_.url?(rp_ge[f.p.id].reloadAfterSubmit=!1,v=_.data,_.complete({status:200,statusText:""},"")):$.ajax(_)}}}c[0]===!1&&($(".FormError",y).html(c[1]),$(".FormError",y).show())}function d(e,t){var i,r=!1;for(i in e){if(e.hasOwnProperty(i)&&e[i]!=t[i]){r=!0;break}}return r}function p(){var e=!0;return $(".FormError",y).hide(),rp_ge[f.p.id].checkOnUpdate&&(v={},i(),j=d(v,rp_ge[f.p.id]._savedData),j&&($(y).data("disabled",!0),$(".confirm","#"+q.themodal).show(),e=!1)),e}function c(){var t;if("_empty"!==e&&void 0!==f.p.savedRow&&f.p.savedRow.length>0&&$.isFunction($.fn.jqGrid.restoreRow)){for(t=0;t<f.p.savedRow.length;t++){if(f.p.savedRow[t].id===e){$(f).jqGrid("restoreRow",e);break}}}}function u(e,t){var i=t[1].length-1;0===e?$("#pData",m).addClass(a.disabled):void 0!==t[1][e-1]&&$("#"+$.jgrid.jqID(t[1][e-1])).hasClass(a.disabled)?$("#pData",m).addClass(a.disabled):$("#pData",m).removeClass(a.disabled),e===i?$("#nData",m).addClass(a.disabled):void 0!==t[1][e+1]&&$("#"+$.jgrid.jqID(t[1][e+1])).hasClass(a.disabled)?$("#nData",m).addClass(a.disabled):$("#nData",m).removeClass(a.disabled)}function g(){var e=$(f).jqGrid("getDataIDs"),t=$("#id_g",x).val(),i=$.inArray(t,e);return[i,e]}function h(e){var t="";return"string"==typeof e&&(t=e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(e,t){return'<span id="'+t+'" ></span>'})),t}var f=this;if(f.grid&&e){var m,v,j,b,w=f.p.id,y="FrmGrid_"+w,_="TblGrid_"+w,x="#"+$.jgrid.jqID(_),q={themodal:"editmod"+w,modalhead:"edithd"+w,modalcontent:"editcnt"+w,scrollelm:y},D=!0,C=1,I=0,G="string"==typeof rp_ge[f.p.id].template&&rp_ge[f.p.id].template.length>0,F=$.jgrid.getRegional(this,"errors");rp_ge[f.p.id].styleUI=f.p.styleUI||"jQueryUI",$.jgrid.isMobile()&&(rp_ge[f.p.id].resize=!1),"new"===e?(e="_empty",b="add",t.caption=rp_ge[f.p.id].addCaption):(t.caption=rp_ge[f.p.id].editCaption,b="edit"),t.recreateForm||$(f).data("formProp")&&$.extend(rp_ge[$(this)[0].p.id],$(f).data("formProp"));var S=!0;t.checkOnUpdate&&t.jqModal&&!t.modal&&(S=!1);var k,R=isNaN(rp_ge[$(this)[0].p.id].dataheight)?rp_ge[$(this)[0].p.id].dataheight:rp_ge[$(this)[0].p.id].dataheight+"px",M=isNaN(rp_ge[$(this)[0].p.id].datawidth)?rp_ge[$(this)[0].p.id].datawidth:rp_ge[$(this)[0].p.id].datawidth+"px",N=$("<form name='FormPost' id='"+y+"' class='FormGrid' onSubmit='return false;' style='width:"+M+";height:"+R+";'></form>").data("disabled",!1);if(G?(k=h(rp_ge[$(this)[0].p.id].template),m=x):(k=$("<table id='"+_+"' class='EditTable ui-common-table'><tbody></tbody></table>"),m=x+"_2"),y="#"+$.jgrid.jqID(y),$(N).append("<div class='FormError "+a.error+"' style='display:none;'></div>"),$(N).append("<div class='tinfo topinfo'>"+rp_ge[f.p.id].topinfo+"</div>"),$(f.p.colModel).each(function(){var e=this.formoptions;C=Math.max(C,e?e.colpos||0:0),I=Math.max(I,e?e.rowpos||0:0)}),$(N).append(k),D=$(f).triggerHandler("jqGridAddEditBeforeInitData",[N,b]),void 0===D&&(D=!0),D&&$.isFunction(rp_ge[f.p.id].beforeInitData)&&(D=rp_ge[f.p.id].beforeInitData.call(f,N,b)),D!==!1){c(),r(e,f,k,C);var T="rtl"===f.p.direction?!0:!1,O=T?"nData":"pData",P=T?"pData":"nData",A="<a id='"+O+"' class='fm-button "+a.button+"'><span class='"+a.icon_base+" "+o.icon_prev+"'></span></a>",E="<a id='"+P+"' class='fm-button "+a.button+"'><span class='"+a.icon_base+" "+o.icon_next+"'></span></a>",U="<a id='sData' class='fm-button "+a.button+"'>"+t.bSubmit+"</a>",z="<a id='cData' class='fm-button "+a.button+"'>"+t.bCancel+"</a>",B="<table style='height:auto' class='EditTable ui-common-table' id='"+_+"_2'><tbody><tr><td colspan='2'><hr class='"+a.content+"' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton'>"+(T?E+A:A+E)+"</td><td class='EditButton'>"+U+z+"</td></tr>";if(B+="</tbody></table>",I>0){var H=[];$.each($(k)[0].rows,function(e,t){H[e]=t}),H.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),$.each(H,function(e,t){$("tbody",k).append(t)})}t.gbox="#gbox_"+$.jgrid.jqID(w);var L=!1;t.closeOnEscape===!0&&(t.closeOnEscape=!1,L=!0);var V;if(G?($(N).find("#pData").replaceWith(A),$(N).find("#nData").replaceWith(E),$(N).find("#sData").replaceWith(U),$(N).find("#cData").replaceWith(z),V=$("<div id="+_+"></div>").append(N)):V=$("<div></div>").append(N).append(B),$(N).append("<div class='binfo topinfo bottominfo'>"+rp_ge[f.p.id].bottominfo+"</div>"),$.jgrid.createModal(q,V,rp_ge[$(this)[0].p.id],"#gview_"+$.jgrid.jqID(f.p.id),$("#gbox_"+$.jgrid.jqID(f.p.id))[0]),T&&($("#pData, #nData",x+"_2").css("float","right"),$(".EditButton",x+"_2").css("text-align","left")),rp_ge[f.p.id].topinfo&&$(".tinfo",y).show(),rp_ge[f.p.id].bottominfo&&$(".binfo",y).show(),V=null,B=null,$("#"+$.jgrid.jqID(q.themodal)).keydown(function(e){var i=e.target;if($(y).data("disabled")===!0){return !1}if(rp_ge[f.p.id].savekey[0]===!0&&e.which===rp_ge[f.p.id].savekey[1]&&"TEXTAREA"!==i.tagName){return $("#sData",x+"_2").trigger("click"),!1}if(27===e.which){return p()?(L&&$.jgrid.hideModal("#"+$.jgrid.jqID(q.themodal),{gb:t.gbox,jqm:t.jqModal,onClose:rp_ge[f.p.id].onClose,removemodal:rp_ge[f.p.id].removemodal,formprop:!rp_ge[f.p.id].recreateForm,form:rp_ge[f.p.id].form}),!1):!1}if(rp_ge[f.p.id].navkeys[0]===!0){if("_empty"===$("#id_g",x).val()){return !0}if(e.which===rp_ge[f.p.id].navkeys[1]){return $("#pData",m).trigger("click"),!1}if(e.which===rp_ge[f.p.id].navkeys[2]){return $("#nData",m).trigger("click"),!1}}}),t.checkOnUpdate&&($("a.ui-jqdialog-titlebar-close span","#"+$.jgrid.jqID(q.themodal)).removeClass("jqmClose"),$("a.ui-jqdialog-titlebar-close","#"+$.jgrid.jqID(q.themodal)).unbind("click").click(function(){return p()?($.jgrid.hideModal("#"+$.jgrid.jqID(q.themodal),{gb:"#gbox_"+$.jgrid.jqID(w),jqm:t.jqModal,onClose:rp_ge[f.p.id].onClose,removemodal:rp_ge[f.p.id].removemodal,formprop:!rp_ge[f.p.id].recreateForm,form:rp_ge[f.p.id].form}),!1):!1})),t.saveicon=$.extend([!0,"left",o.icon_save],t.saveicon),t.closeicon=$.extend([!0,"left",o.icon_close],t.closeicon),t.saveicon[0]===!0&&$("#sData",m).addClass("right"===t.saveicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+a.icon_base+" "+t.saveicon[2]+"'></span>"),t.closeicon[0]===!0&&$("#cData",m).addClass("right"===t.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+a.icon_base+" "+t.closeicon[2]+"'></span>"),rp_ge[f.p.id].checkOnSubmit||rp_ge[f.p.id].checkOnUpdate){U="<a id='sNew' class='fm-button "+a.button+"' style='z-index:1002'>"+t.bYes+"</a>",E="<a id='nNew' class='fm-button "+a.button+"' style='z-index:1002;margin-left:5px'>"+t.bNo+"</a>",z="<a id='cNew' class='fm-button "+a.button+"' style='z-index:1002;margin-left:5px;'>"+t.bExit+"</a>";var W=t.zIndex||999;W++,$("<div class='"+t.overlayClass+" jqgrid-overlay confirm' style='z-index:"+W+";display:none;'>&#160;</div><div class='confirm ui-jqconfirm "+a.content+"' style='z-index:"+(W+1)+"'>"+t.saveData+"<br/><br/>"+U+E+z+"</div>").insertAfter(y),$("#sNew","#"+$.jgrid.jqID(q.themodal)).click(function(){return l(),$(y).data("disabled",!1),$(".confirm","#"+$.jgrid.jqID(q.themodal)).hide(),!1}),$("#nNew","#"+$.jgrid.jqID(q.themodal)).click(function(){return $(".confirm","#"+$.jgrid.jqID(q.themodal)).hide(),$(y).data("disabled",!1),setTimeout(function(){$(":input:visible",y)[0].focus()},0),!1}),$("#cNew","#"+$.jgrid.jqID(q.themodal)).click(function(){return $(".confirm","#"+$.jgrid.jqID(q.themodal)).hide(),$(y).data("disabled",!1),$.jgrid.hideModal("#"+$.jgrid.jqID(q.themodal),{gb:"#gbox_"+$.jgrid.jqID(w),jqm:t.jqModal,onClose:rp_ge[f.p.id].onClose,removemodal:rp_ge[f.p.id].removemodal,formprop:!rp_ge[f.p.id].recreateForm,form:rp_ge[f.p.id].form}),!1})}$(f).triggerHandler("jqGridAddEditInitializeForm",[$(y),b]),$.isFunction(rp_ge[f.p.id].onInitializeForm)&&rp_ge[f.p.id].onInitializeForm.call(f,$(y),b),"_empty"!==e&&rp_ge[f.p.id].viewPagerButtons?$("#pData,#nData",m).show():$("#pData,#nData",m).hide(),$(f).triggerHandler("jqGridAddEditBeforeShowForm",[$(y),b]),$.isFunction(rp_ge[f.p.id].beforeShowForm)&&rp_ge[f.p.id].beforeShowForm.call(f,$(y),b),$("#"+$.jgrid.jqID(q.themodal)).data("onClose",rp_ge[f.p.id].onClose),$.jgrid.viewModal("#"+$.jgrid.jqID(q.themodal),{gbox:"#gbox_"+$.jgrid.jqID(w),jqm:t.jqModal,overlay:t.overlay,modal:t.modal,overlayClass:t.overlayClass,focusField:t.focusField,onHide:function(e){var t=$("#editmod"+w)[0].style.height,i=$("#editmod"+w)[0].style.width;t.indexOf("px")>-1&&(t=parseFloat(t)),i.indexOf("px")>-1&&(i=parseFloat(i)),$(f).data("formProp",{top:parseFloat($(e.w).css("top")),left:parseFloat($(e.w).css("left")),width:i,height:t,dataheight:$(y).height(),datawidth:$(y).width()}),e.w.remove(),e.o&&e.o.remove()}}),S||$("."+$.jgrid.jqID(t.overlayClass)).click(function(){return p()?($.jgrid.hideModal("#"+$.jgrid.jqID(q.themodal),{gb:"#gbox_"+$.jgrid.jqID(w),jqm:t.jqModal,onClose:rp_ge[f.p.id].onClose,removemodal:rp_ge[f.p.id].removemodal,formprop:!rp_ge[f.p.id].recreateForm,form:rp_ge[f.p.id].form}),!1):!1}),$(".fm-button","#"+$.jgrid.jqID(q.themodal)).hover(function(){$(this).addClass(a.hover)},function(){$(this).removeClass(a.hover)}),$("#sData",m).click(function(){return v={},$(".FormError",y).hide(),i(),"_empty"===v[f.p.id+"_id"]?l():t.checkOnSubmit===!0?(j=d(v,rp_ge[f.p.id]._savedData),j?($(y).data("disabled",!0),$(".confirm","#"+$.jgrid.jqID(q.themodal)).show()):l()):l(),!1}),$("#cData",m).click(function(){return p()?($.jgrid.hideModal("#"+$.jgrid.jqID(q.themodal),{gb:"#gbox_"+$.jgrid.jqID(w),jqm:t.jqModal,onClose:rp_ge[f.p.id].onClose,removemodal:rp_ge[f.p.id].removemodal,formprop:!rp_ge[f.p.id].recreateForm,form:rp_ge[f.p.id].form}),!1):!1}),$("#nData",m).click(function(){if(!p()){return !1}$(".FormError",y).hide();var e=g();if(e[0]=parseInt(e[0],10),-1!==e[0]&&e[1][e[0]+1]){$(f).triggerHandler("jqGridAddEditClickPgButtons",["next",$(y),e[1][e[0]]]);var i;if($.isFunction(t.onclickPgButtons)&&(i=t.onclickPgButtons.call(f,"next",$(y),e[1][e[0]]),void 0!==i&&i===!1)){return !1}if($("#"+$.jgrid.jqID(e[1][e[0]+1])).hasClass(a.disabled)){return !1}s(e[1][e[0]+1],f,y),$(f).jqGrid("setSelection",e[1][e[0]+1]),$(f).triggerHandler("jqGridAddEditAfterClickPgButtons",["next",$(y),e[1][e[0]]]),$.isFunction(t.afterclickPgButtons)&&t.afterclickPgButtons.call(f,"next",$(y),e[1][e[0]+1]),u(e[0]+1,e)}return !1}),$("#pData",m).click(function(){if(!p()){return !1}$(".FormError",y).hide();var e=g();if(-1!==e[0]&&e[1][e[0]-1]){$(f).triggerHandler("jqGridAddEditClickPgButtons",["prev",$(y),e[1][e[0]]]);var i;if($.isFunction(t.onclickPgButtons)&&(i=t.onclickPgButtons.call(f,"prev",$(y),e[1][e[0]]),void 0!==i&&i===!1)){return !1}if($("#"+$.jgrid.jqID(e[1][e[0]-1])).hasClass(a.disabled)){return !1}s(e[1][e[0]-1],f,y),$(f).jqGrid("setSelection",e[1][e[0]-1]),$(f).triggerHandler("jqGridAddEditAfterClickPgButtons",["prev",$(y),e[1][e[0]]]),$.isFunction(t.afterclickPgButtons)&&t.afterclickPgButtons.call(f,"prev",$(y),e[1][e[0]-1]),u(e[0]-1,e)}return !1}),$(f).triggerHandler("jqGridAddEditAfterShowForm",[$(y),b]),$.isFunction(rp_ge[f.p.id].afterShowForm)&&rp_ge[f.p.id].afterShowForm.call(f,$(y),b);var Q=g();u(Q[0],Q)}}})},viewGridRow:function(e,t){var i=$.jgrid.getRegional(this[0],"view"),r=this[0].p.styleUI,o=$.jgrid.styleUI[r].formedit,a=$.jgrid.styleUI[r].common;return t=$.extend(!0,{top:0,left:0,width:500,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,jqModal:!0,closeOnEscape:!1,labelswidth:"30%",closeicon:[],navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0,recreateForm:!1,removemodal:!0,form:"view"},i,t||{}),rp_ge[$(this)[0].p.id]=t,this.each(function(){function i(){(rp_ge[d.p.id].closeOnEscape===!0||rp_ge[d.p.id].navkeys[0]===!0)&&setTimeout(function(){$(".ui-jqdialog-titlebar-close","#"+$.jgrid.jqID(f.modalhead)).attr("tabindex","-1").focus()},0)}function r(e,i,r,o){var s,n,l,d,p,c,u,g,h,f=0,m=[],v=!1,j="<td class='CaptionTD form-view-label "+a.content+"' width='"+t.labelswidth+"'>&#160;</td><td class='DataTD form-view-data ui-helper-reset "+a.content+"'>&#160;</td>",b="",w="<td class='CaptionTD form-view-label "+a.content+"'>&#160;</td><td class='DataTD form-view-data "+a.content+"'>&#160;</td>",y=["integer","number","currency"],_=0,x=0;for(c=1;o>=c;c++){b+=1===c?j:w}if($(i.p.colModel).each(function(){n=this.editrules&&this.editrules.edithidden===!0?!1:this.hidden===!0?!0:!1,n||"right"!==this.align||(this.formatter&&-1!==$.inArray(this.formatter,y)?_=Math.max(_,parseInt(this.width,10)):x=Math.max(x,parseInt(this.width,10)))}),u=0!==_?_:0!==x?x:0,v=$(i).jqGrid("getInd",e),$(i.p.colModel).each(function(e){if(s=this.name,g=!1,n=this.editrules&&this.editrules.edithidden===!0?!1:this.hidden===!0?!0:!1,p=n?"style='display:none'":"",h="boolean"!=typeof this.viewable?!0:this.viewable,"cb"!==s&&"subgrid"!==s&&"rn"!==s&&h){d=v===!1?"":s===i.p.ExpandColumn&&i.p.treeGrid===!0?$("td:eq("+e+")",i.rows[v]).text():$("td:eq("+e+")",i.rows[v]).html(),g="right"===this.align&&0!==u?!0:!1;var t=$.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),a=parseInt(t.rowpos,10)||f+1,c=parseInt(2*(parseInt(t.colpos,10)||1),10);if(t.rowabove){var j=$("<tr><td class='contentinfo' colspan='"+2*o+"'>"+t.rowcontent+"</td></tr>");$(r).append(j),j[0].rp=a}l=$(r).find("tr[rowpos="+a+"]"),0===l.length&&(l=$("<tr "+p+" rowpos='"+a+"'></tr>").addClass("FormData").attr("id","trv_"+s),$(l).append(b),$(r).append(l),l[0].rp=a),$("td:eq("+(c-2)+")",l[0]).html("<b>"+(void 0===t.label?i.p.colNames[e]:t.label)+"</b>"),$("td:eq("+(c-1)+")",l[0]).append("<span>"+d+"</span>").attr("id","v_"+s),g&&$("td:eq("+(c-1)+") span",l[0]).css({"text-align":"right",width:u+"px"}),m[f]=e,f++}}),f>0){var q=$("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*o-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+e+"'/></td></tr>");q[0].rp=f+99,$(r).append(q)}return m}function s(e,t){var i,r,o,a,s=0;a=$(t).jqGrid("getInd",e,!0),a&&($("td",a).each(function(e){i=t.p.colModel[e].name,r=t.p.colModel[e].editrules&&t.p.colModel[e].editrules.edithidden===!0?!1:t.p.colModel[e].hidden===!0?!0:!1,"cb"!==i&&"subgrid"!==i&&"rn"!==i&&(o=i===t.p.ExpandColumn&&t.p.treeGrid===!0?$(this).text():$(this).html(),i=$.jgrid.jqID("v_"+i),$("#"+i+" span","#"+u).html(o),r&&$("#"+i,"#"+u).parents("tr:first").hide(),s++)}),s>0&&$("#id_g","#"+u).val(e))}function n(e,t){var i=t[1].length-1;0===e?$("#pData","#"+u+"_2").addClass(a.disabled):void 0!==t[1][e-1]&&$("#"+$.jgrid.jqID(t[1][e-1])).hasClass(a.disabled)?$("#pData",u+"_2").addClass(a.disabled):$("#pData","#"+u+"_2").removeClass(a.disabled),e===i?$("#nData","#"+u+"_2").addClass(a.disabled):void 0!==t[1][e+1]&&$("#"+$.jgrid.jqID(t[1][e+1])).hasClass(a.disabled)?$("#nData",u+"_2").addClass(a.disabled):$("#nData","#"+u+"_2").removeClass(a.disabled)}function l(){var e=$(d).jqGrid("getDataIDs"),t=$("#id_g","#"+u).val(),i=$.inArray(t,e);return[i,e]}var d=this;if(d.grid&&e){var p=d.p.id,c="ViewGrid_"+$.jgrid.jqID(p),u="ViewTbl_"+$.jgrid.jqID(p),g="ViewGrid_"+p,h="ViewTbl_"+p,f={themodal:"viewmod"+p,modalhead:"viewhd"+p,modalcontent:"viewcnt"+p,scrollelm:c},m=$.isFunction(rp_ge[d.p.id].beforeInitData)?rp_ge[d.p.id].beforeInitData:!1,v=!0,j=1,b=0;rp_ge[d.p.id].styleUI=d.p.styleUI||"jQueryUI",t.recreateForm||$(d).data("viewProp")&&$.extend(rp_ge[$(this)[0].p.id],$(d).data("viewProp"));var w=isNaN(rp_ge[$(this)[0].p.id].dataheight)?rp_ge[$(this)[0].p.id].dataheight:rp_ge[$(this)[0].p.id].dataheight+"px",y=isNaN(rp_ge[$(this)[0].p.id].datawidth)?rp_ge[$(this)[0].p.id].datawidth:rp_ge[$(this)[0].p.id].datawidth+"px",_=$("<form name='FormPost' id='"+g+"' class='FormGrid' style='width:"+y+";height:"+w+";'></form>"),x=$("<table id='"+h+"' class='EditTable ViewTable'><tbody></tbody></table>");if($(d.p.colModel).each(function(){var e=this.formoptions;j=Math.max(j,e?e.colpos||0:0),b=Math.max(b,e?e.rowpos||0:0)}),$(_).append(x),m&&(v=m.call(d,_),void 0===v&&(v=!0)),v!==!1){r(e,d,x,j);var q="rtl"===d.p.direction?!0:!1,D=q?"nData":"pData",C=q?"pData":"nData",I="<a id='"+D+"' class='fm-button "+a.button+"'><span class='"+a.icon_base+" "+o.icon_prev+"'></span></a>",G="<a id='"+C+"' class='fm-button "+a.button+"'><span class='"+a.icon_base+" "+o.icon_next+"'></span></a>",F="<a id='cData' class='fm-button "+a.button+"'>"+t.bClose+"</a>";if(b>0){var S=[];$.each($(x)[0].rows,function(e,t){S[e]=t}),S.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),$.each(S,function(e,t){$("tbody",x).append(t)})}t.gbox="#gbox_"+$.jgrid.jqID(p);var k=$("<div></div>").append(_).append("<table border='0' class='EditTable' id='"+u+"_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='"+t.labelswidth+"'>"+(q?G+I:I+G)+"</td><td class='EditButton'>"+F+"</td></tr></tbody></table>");$.jgrid.createModal(f,k,rp_ge[$(this)[0].p.id],"#gview_"+$.jgrid.jqID(d.p.id),$("#gview_"+$.jgrid.jqID(d.p.id))[0]),q&&($("#pData, #nData","#"+u+"_2").css("float","right"),$(".EditButton","#"+u+"_2").css("text-align","left")),t.viewPagerButtons||$("#pData, #nData","#"+u+"_2").hide(),k=null,$("#"+f.themodal).keydown(function(e){if(27===e.which){return rp_ge[d.p.id].closeOnEscape&&$.jgrid.hideModal("#"+$.jgrid.jqID(f.themodal),{gb:t.gbox,jqm:t.jqModal,onClose:t.onClose,removemodal:rp_ge[d.p.id].removemodal,formprop:!rp_ge[d.p.id].recreateForm,form:rp_ge[d.p.id].form}),!1}if(t.navkeys[0]===!0){if(e.which===t.navkeys[1]){return $("#pData","#"+u+"_2").trigger("click"),!1}if(e.which===t.navkeys[2]){return $("#nData","#"+u+"_2").trigger("click"),!1}}}),t.closeicon=$.extend([!0,"left",o.icon_close],t.closeicon),t.closeicon[0]===!0&&$("#cData","#"+u+"_2").addClass("right"===t.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+a.icon_base+" "+t.closeicon[2]+"'></span>"),$.isFunction(t.beforeShowForm)&&t.beforeShowForm.call(d,$("#"+c)),$.jgrid.viewModal("#"+$.jgrid.jqID(f.themodal),{gbox:"#gbox_"+$.jgrid.jqID(p),jqm:t.jqModal,overlay:t.overlay,modal:t.modal,onHide:function(e){$(d).data("viewProp",{top:parseFloat($(e.w).css("top")),left:parseFloat($(e.w).css("left")),width:$(e.w).width(),height:$(e.w).height(),dataheight:$("#"+c).height(),datawidth:$("#"+c).width()}),e.w.remove(),e.o&&e.o.remove()}}),$(".fm-button:not(."+a.disabled+")","#"+u+"_2").hover(function(){$(this).addClass(a.hover)},function(){$(this).removeClass(a.hover)}),i(),$("#cData","#"+u+"_2").click(function(){return $.jgrid.hideModal("#"+$.jgrid.jqID(f.themodal),{gb:"#gbox_"+$.jgrid.jqID(p),jqm:t.jqModal,onClose:t.onClose,removemodal:rp_ge[d.p.id].removemodal,formprop:!rp_ge[d.p.id].recreateForm,form:rp_ge[d.p.id].form}),!1}),$("#nData","#"+u+"_2").click(function(){$("#FormError","#"+u).hide();var e=l();return e[0]=parseInt(e[0],10),-1!==e[0]&&e[1][e[0]+1]&&($.isFunction(t.onclickPgButtons)&&t.onclickPgButtons.call(d,"next",$("#"+c),e[1][e[0]]),s(e[1][e[0]+1],d),$(d).jqGrid("setSelection",e[1][e[0]+1]),$.isFunction(t.afterclickPgButtons)&&t.afterclickPgButtons.call(d,"next",$("#"+c),e[1][e[0]+1]),n(e[0]+1,e)),i(),!1}),$("#pData","#"+u+"_2").click(function(){$("#FormError","#"+u).hide();var e=l();return -1!==e[0]&&e[1][e[0]-1]&&($.isFunction(t.onclickPgButtons)&&t.onclickPgButtons.call(d,"prev",$("#"+c),e[1][e[0]]),s(e[1][e[0]-1],d),$(d).jqGrid("setSelection",e[1][e[0]-1]),$.isFunction(t.afterclickPgButtons)&&t.afterclickPgButtons.call(d,"prev",$("#"+c),e[1][e[0]-1]),n(e[0]-1,e)),i(),!1});var R=l();n(R[0],R)}}})},delGridRow:function(e,t){var i=$.jgrid.getRegional(this[0],"del"),r=this[0].p.styleUI,o=$.jgrid.styleUI[r].formedit,a=$.jgrid.styleUI[r].common;return t=$.extend(!0,{top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,jqModal:!0,closeOnEscape:!1,delData:{},delicon:[],cancelicon:[],onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},i,t||{}),rp_ge[$(this)[0].p.id]=t,this.each(function(){var i=this;if(i.grid&&e){var r,s,n,l,d=$.isFunction(rp_ge[i.p.id].beforeShowForm),p=$.isFunction(rp_ge[i.p.id].afterShowForm),c=$.isFunction(rp_ge[i.p.id].beforeInitData)?rp_ge[i.p.id].beforeInitData:!1,u=i.p.id,g={},h=!0,f="DelTbl_"+$.jgrid.jqID(u),m="DelTbl_"+u,v={themodal:"delmod"+u,modalhead:"delhd"+u,modalcontent:"delcnt"+u,scrollelm:f};if(rp_ge[i.p.id].styleUI=i.p.styleUI||"jQueryUI",$.isArray(e)&&(e=e.join()),void 0!==$("#"+$.jgrid.jqID(v.themodal))[0]){if(c&&(h=c.call(i,$("#"+f)),void 0===h&&(h=!0)),h===!1){return}$("#DelData>td","#"+f).text(e),$("#DelError","#"+f).hide(),rp_ge[i.p.id].processing===!0&&(rp_ge[i.p.id].processing=!1,$("#dData","#"+f).removeClass(a.active)),d&&rp_ge[i.p.id].beforeShowForm.call(i,$("#"+f)),$.jgrid.viewModal("#"+$.jgrid.jqID(v.themodal),{gbox:"#gbox_"+$.jgrid.jqID(u),jqm:rp_ge[i.p.id].jqModal,jqM:!1,overlay:rp_ge[i.p.id].overlay,modal:rp_ge[i.p.id].modal}),p&&rp_ge[i.p.id].afterShowForm.call(i,$("#"+f))}else{var j=isNaN(rp_ge[i.p.id].dataheight)?rp_ge[i.p.id].dataheight:rp_ge[i.p.id].dataheight+"px",b=isNaN(t.datawidth)?t.datawidth:t.datawidth+"px",w="<div id='"+m+"' class='formdata' style='width:"+b+";overflow:auto;position:relative;height:"+j+";'>";w+="<table class='DelTable'><tbody>",w+="<tr id='DelError' style='display:none'><td class='"+a.error+"'></td></tr>",w+="<tr id='DelData' style='display:none'><td >"+e+"</td></tr>",w+='<tr><td class="delmsg" style="white-space:pre;">'+rp_ge[i.p.id].msg+"</td></tr><tr><td >&#160;</td></tr>",w+="</tbody></table></div>";var y="<a id='dData' class='fm-button "+a.button+"'>"+t.bSubmit+"</a>",_="<a id='eData' class='fm-button "+a.button+"'>"+t.bCancel+"</a>";if(w+="<table class='EditTable ui-common-table' id='"+f+"_2'><tbody><tr><td><hr class='"+a.content+"' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton'>"+y+"&#160;"+_+"</td></tr></tbody></table>",t.gbox="#gbox_"+$.jgrid.jqID(u),$.jgrid.createModal(v,w,rp_ge[i.p.id],"#gview_"+$.jgrid.jqID(i.p.id),$("#gview_"+$.jgrid.jqID(i.p.id))[0]),c&&(h=c.call(i,$(w)),void 0===h&&(h=!0)),h===!1){return}$(".fm-button","#"+f+"_2").hover(function(){$(this).addClass(a.hover)},function(){$(this).removeClass(a.hover)}),t.delicon=$.extend([!0,"left",o.icon_del],rp_ge[i.p.id].delicon),t.cancelicon=$.extend([!0,"left",o.icon_cancel],rp_ge[i.p.id].cancelicon),t.delicon[0]===!0&&$("#dData","#"+f+"_2").addClass("right"===t.delicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+a.icon_base+" "+t.delicon[2]+"'></span>"),t.cancelicon[0]===!0&&$("#eData","#"+f+"_2").addClass("right"===t.cancelicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+a.icon_base+" "+t.cancelicon[2]+"'></span>"),$("#dData","#"+f+"_2").click(function(){var e,o=[!0,""],d=$("#DelData>td","#"+f).text();if(g={},$.isFunction(rp_ge[i.p.id].onclickSubmit)&&(g=rp_ge[i.p.id].onclickSubmit.call(i,rp_ge[i.p.id],d)||{}),$.isFunction(rp_ge[i.p.id].beforeSubmit)&&(o=rp_ge[i.p.id].beforeSubmit.call(i,d)),o[0]&&!rp_ge[i.p.id].processing){if(rp_ge[i.p.id].processing=!0,n=i.p.prmNames,r=$.extend({},rp_ge[i.p.id].delData,g),l=n.oper,r[l]=n.deloper,s=n.id,d=String(d).split(","),!d.length){return !1}for(e in d){d.hasOwnProperty(e)&&(d[e]=$.jgrid.stripPref(i.p.idPrefix,d[e]))}r[s]=d.join(),$(this).addClass(a.active);var p=$.extend({url:rp_ge[i.p.id].url||$(i).jqGrid("getGridParam","editurl"),type:rp_ge[i.p.id].mtype,data:$.isFunction(rp_ge[i.p.id].serializeDelData)?rp_ge[i.p.id].serializeDelData.call(i,r):r,complete:function(e,s){var n;if($("#dData","#"+f+"_2").removeClass(a.active),e.status>=300&&304!==e.status?(o[0]=!1,o[1]=$.isFunction(rp_ge[i.p.id].errorTextFormat)?rp_ge[i.p.id].errorTextFormat.call(i,e):s+" Status: '"+e.statusText+"'. Error code: "+e.status):$.isFunction(rp_ge[i.p.id].afterSubmit)&&(o=rp_ge[i.p.id].afterSubmit.call(i,e,r)),o[0]===!1){$("#DelError>td","#"+f).html(o[1]),$("#DelError","#"+f).show()}else{if(rp_ge[i.p.id].reloadAfterSubmit&&"local"!==i.p.datatype){$(i).trigger("reloadGrid")}else{if(i.p.treeGrid===!0){try{$(i).jqGrid("delTreeNode",i.p.idPrefix+d[0])}catch(l){}}else{for(n=0;n<d.length;n++){$(i).jqGrid("delRowData",i.p.idPrefix+d[n])}}i.p.selrow=null,i.p.selarrrow=[]}$.isFunction(rp_ge[i.p.id].afterComplete)&&setTimeout(function(){rp_ge[i.p.id].afterComplete.call(i,e,d)},500)}rp_ge[i.p.id].processing=!1,o[0]&&$.jgrid.hideModal("#"+$.jgrid.jqID(v.themodal),{gb:"#gbox_"+$.jgrid.jqID(u),jqm:t.jqModal,onClose:rp_ge[i.p.id].onClose})}},$.jgrid.ajaxOptions,rp_ge[i.p.id].ajaxDelOptions);if(p.url||rp_ge[i.p.id].useDataProxy||($.isFunction(i.p.dataProxy)?rp_ge[i.p.id].useDataProxy=!0:(o[0]=!1,o[1]+=" "+$.jgrid.getRegional(i,"errors.nourl"))),o[0]){if(rp_ge[i.p.id].useDataProxy){var c=i.p.dataProxy.call(i,p,"del_"+i.p.id);void 0===c&&(c=[!0,""]),c[0]===!1?(o[0]=!1,o[1]=c[1]||"Error deleting the selected row!"):$.jgrid.hideModal("#"+$.jgrid.jqID(v.themodal),{gb:"#gbox_"+$.jgrid.jqID(u),jqm:t.jqModal,onClose:rp_ge[i.p.id].onClose})}else{"clientArray"===p.url?(r=p.data,p.complete({status:200,statusText:""},"")):$.ajax(p)}}}return o[0]===!1&&($("#DelError>td","#"+f).html(o[1]),$("#DelError","#"+f).show()),!1}),$("#eData","#"+f+"_2").click(function(){return $.jgrid.hideModal("#"+$.jgrid.jqID(v.themodal),{gb:"#gbox_"+$.jgrid.jqID(u),jqm:rp_ge[i.p.id].jqModal,onClose:rp_ge[i.p.id].onClose}),!1}),d&&rp_ge[i.p.id].beforeShowForm.call(i,$("#"+f)),$.jgrid.viewModal("#"+$.jgrid.jqID(v.themodal),{gbox:"#gbox_"+$.jgrid.jqID(u),jqm:rp_ge[i.p.id].jqModal,overlay:rp_ge[i.p.id].overlay,modal:rp_ge[i.p.id].modal}),p&&rp_ge[i.p.id].afterShowForm.call(i,$("#"+f))}rp_ge[i.p.id].closeOnEscape===!0&&setTimeout(function(){$(".ui-jqdialog-titlebar-close","#"+$.jgrid.jqID(v.modalhead)).attr("tabindex","-1").focus()},0)}})},navGrid:function(e,t,i,r,o,a,s){var n=$.jgrid.getRegional(this[0],"nav"),l=this[0].p.styleUI,d=$.jgrid.styleUI[l].navigator,p=$.jgrid.styleUI[l].common;return t=$.extend({edit:!0,editicon:d.icon_edit_nav,add:!0,addicon:d.icon_add_nav,del:!0,delicon:d.icon_del_nav,search:!0,searchicon:d.icon_search_nav,refresh:!0,refreshicon:d.icon_refresh_nav,refreshstate:"firstpage",view:!1,viewicon:d.icon_view_nav,position:"left",closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,alertwidth:200,alertheight:"auto",alerttop:null,alertleft:null,alertzIndex:null,dropmenu:!1},n,t||{}),this.each(function(){if(!this.p.navGrid){var d,c,u,g={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},h=this;if(h.grid&&"string"==typeof e){$(h).data("navGrid")||$(h).data("navGrid",t),u=$(h).data("navGrid"),h.p.force_regional&&(u=$.extend(u,n)),void 0===$("#"+g.themodal)[0]&&(u.alerttop||u.alertleft||(void 0!==window.innerWidth?(u.alertleft=window.innerWidth,u.alerttop=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(u.alertleft=document.documentElement.clientWidth,u.alerttop=document.documentElement.clientHeight):(u.alertleft=1024,u.alerttop=768),u.alertleft=u.alertleft/2-parseInt(u.alertwidth,10)/2,u.alerttop=u.alerttop/2-25),$.jgrid.createModal(g,"<div>"+u.alerttext+"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",{gbox:"#gbox_"+$.jgrid.jqID(h.p.id),jqModal:!0,drag:!0,resize:!0,caption:u.alertcap,top:u.alerttop,left:u.alertleft,width:u.alertwidth,height:u.alertheight,closeOnEscape:u.closeOnEscape,zIndex:u.alertzIndex,styleUI:h.p.styleUI},"#gview_"+$.jgrid.jqID(h.p.id),$("#gbox_"+$.jgrid.jqID(h.p.id))[0],!0));var f,m=1,v=function(){$(this).hasClass(p.disabled)||$(this).addClass(p.hover)},j=function(){$(this).removeClass(p.hover)};for(u.cloneToTop&&h.p.toppager&&(m=2),f=0;m>f;f++){var b,w,y,_=$("<table class='ui-pg-table navtable ui-common-table'><tbody><tr></tr></tbody></table>"),x="<td class='ui-pg-button "+p.disabled+"' style='width:4px;'><span class='ui-separator'></span></td>";0===f?(w=e,y=h.p.id,w===h.p.toppager&&(y+="_top",m=1)):(w=h.p.toppager,y=h.p.id+"_top"),"rtl"===h.p.direction&&$(_).attr("dir","rtl").css("float","right"),r=r||{},u.add&&(b=$("<td class='ui-pg-button "+p.cornerall+"'></td>"),$(b).append("<div class='ui-pg-div'><span class='"+p.icon_base+" "+u.addicon+"'></span>"+u.addtext+"</div>"),$("tr",_).append(b),$(b,_).attr({title:u.addtitle||"",id:r.id||"add_"+y}).click(function(){return $(this).hasClass(p.disabled)||($.isFunction(u.addfunc)?u.addfunc.call(h):$(h).jqGrid("editGridRow","new",r)),!1}).hover(v,j),b=null),i=i||{},u.edit&&(b=$("<td class='ui-pg-button "+p.cornerall+"'></td>"),$(b).append("<div class='ui-pg-div'><span class='"+p.icon_base+" "+u.editicon+"'></span>"+u.edittext+"</div>"),$("tr",_).append(b),$(b,_).attr({title:u.edittitle||"",id:i.id||"edit_"+y}).click(function(){if(!$(this).hasClass(p.disabled)){var e=h.p.selrow;e?$.isFunction(u.editfunc)?u.editfunc.call(h,e):$(h).jqGrid("editGridRow",e,i):($.jgrid.viewModal("#"+g.themodal,{gbox:"#gbox_"+$.jgrid.jqID(h.p.id),jqm:!0}),$("#jqg_alrt").focus())}return !1}).hover(v,j),b=null),s=s||{},u.view&&(b=$("<td class='ui-pg-button "+p.cornerall+"'></td>"),$(b).append("<div class='ui-pg-div'><span class='"+p.icon_base+" "+u.viewicon+"'></span>"+u.viewtext+"</div>"),$("tr",_).append(b),$(b,_).attr({title:u.viewtitle||"",id:s.id||"view_"+y}).click(function(){if(!$(this).hasClass(p.disabled)){var e=h.p.selrow;e?$.isFunction(u.viewfunc)?u.viewfunc.call(h,e):$(h).jqGrid("viewGridRow",e,s):($.jgrid.viewModal("#"+g.themodal,{gbox:"#gbox_"+$.jgrid.jqID(h.p.id),jqm:!0}),$("#jqg_alrt").focus())}return !1}).hover(v,j),b=null),o=o||{},u.del&&(b=$("<td class='ui-pg-button "+p.cornerall+"'></td>"),$(b).append("<div class='ui-pg-div'><span class='"+p.icon_base+" "+u.delicon+"'></span>"+u.deltext+"</div>"),$("tr",_).append(b),$(b,_).attr({title:u.deltitle||"",id:o.id||"del_"+y}).click(function(){if(!$(this).hasClass(p.disabled)){var e;h.p.multiselect?(e=h.p.selarrrow,0===e.length&&(e=null)):e=h.p.selrow,e?$.isFunction(u.delfunc)?u.delfunc.call(h,e):$(h).jqGrid("delGridRow",e,o):($.jgrid.viewModal("#"+g.themodal,{gbox:"#gbox_"+$.jgrid.jqID(h.p.id),jqm:!0}),$("#jqg_alrt").focus())}return !1}).hover(v,j),b=null),(u.add||u.edit||u.del||u.view)&&$("tr",_).append(x),a=a||{},u.search&&(b=$("<td class='ui-pg-button "+p.cornerall+"'></td>"),$(b).append("<div class='ui-pg-div'><span class='"+p.icon_base+" "+u.searchicon+"'></span>"+u.searchtext+"</div>"),$("tr",_).append(b),$(b,_).attr({title:u.searchtitle||"",id:a.id||"search_"+y}).click(function(){return $(this).hasClass(p.disabled)||($.isFunction(u.searchfunc)?u.searchfunc.call(h,a):$(h).jqGrid("searchGrid",a)),!1}).hover(v,j),a.showOnLoad&&a.showOnLoad===!0&&$(b,_).click(),b=null),u.refresh&&(b=$("<td class='ui-pg-button "+p.cornerall+"'></td>"),$(b).append("<div class='ui-pg-div'><span class='"+p.icon_base+" "+u.refreshicon+"'></span>"+u.refreshtext+"</div>"),$("tr",_).append(b),$(b,_).attr({title:u.refreshtitle||"",id:"refresh_"+y}).click(function(){if(!$(this).hasClass(p.disabled)){$.isFunction(u.beforeRefresh)&&u.beforeRefresh.call(h),h.p.search=!1,h.p.resetsearch=!0;try{if("currentfilter"!==u.refreshstate){var e=h.p.id;h.p.postData.filters="";try{$("#fbox_"+$.jgrid.jqID(e)).jqFilter("resetFilter")}catch(t){}$.isFunction(h.clearToolbar)&&h.clearToolbar.call(h,!1)}}catch(i){}switch(u.refreshstate){case"firstpage":$(h).trigger("reloadGrid",[{page:1}]);break;case"current":case"currentfilter":$(h).trigger("reloadGrid",[{current:!0}])}$.isFunction(u.afterRefresh)&&u.afterRefresh.call(h)}return !1}).hover(v,j),b=null),c=$(".ui-jqgrid").css("font-size")||"11px",$("body").append("<div id='testpg2' class='ui-jqgrid "+$.jgrid.styleUI[l].base.entrieBox+"' style='font-size:"+c+";visibility:hidden;' ></div>"),d=$(_).clone().appendTo("#testpg2").width(),$("#testpg2").remove(),h.p._nvtd&&(u.dropmenu?(_=null,$(h).jqGrid("_buildNavMenu",w,y,t,i,r,o,a,s)):d>h.p._nvtd[0]?(h.p.responsive?(_=null,$(h).jqGrid("_buildNavMenu",w,y,t,i,r,o,a,s)):$(w+"_"+u.position,w).width(d),h.p._nvtd[0]=d):$(w+"_"+u.position,w).append(_),h.p._nvtd[1]=d),h.p.navGrid=!0}h.p.storeNavOptions&&(h.p.navOptions=u,h.p.editOptions=i,h.p.addOptions=r,h.p.delOptions=o,h.p.searchOptions=a,h.p.viewOptions=s)}}})},navButtonAdd:function(e,t){var i=this[0].p.styleUI,r=$.jgrid.styleUI[i].navigator;return t=$.extend({caption:"newButton",title:"",buttonicon:r.icon_newbutton_nav,onClickButton:null,position:"last",cursor:"pointer"},t||{}),this.each(function(){if(this.grid){"string"==typeof e&&0!==e.indexOf("#")&&(e="#"+$.jgrid.jqID(e));var r=$(".navtable",e)[0],o=this,a=$.jgrid.styleUI[i].common.disabled,s=$.jgrid.styleUI[i].common.hover,n=$.jgrid.styleUI[i].common.cornerall,l=$.jgrid.styleUI[i].common.icon_base;if(r){if(t.id&&void 0!==$("#"+$.jgrid.jqID(t.id),r)[0]){return}var d=$("<td></td>");$(d).addClass("ui-pg-button "+n).append("NONE"===t.buttonicon.toString().toUpperCase()?"<div class='ui-pg-div'>"+t.caption+"</div>":"<div class='ui-pg-div'><span class='"+l+" "+t.buttonicon+"'></span>"+t.caption+"</div>"),t.id&&$(d).attr("id",t.id),"first"===t.position?0===r.rows[0].cells.length?$("tr",r).append(d):$("tr td:eq(0)",r).before(d):$("tr",r).append(d),$(d,r).attr("title",t.title||"").click(function(e){return $(this).hasClass(a)||$.isFunction(t.onClickButton)&&t.onClickButton.call(o,e),!1}).hover(function(){$(this).hasClass(a)||$(this).addClass(s)},function(){$(this).removeClass(s)})}else{if(r=$(".dropdownmenu",e)[0]){var p=$(r).val(),c=t.id||$.jgrid.randId(),u=$('<li class="ui-menu-item" role="presentation"><a class="'+n+' g-menu-item" tabindex="0" role="menuitem" id="'+c+'">'+(t.caption||t.title)+"</a></li>");p&&("first"===t.position?$("#"+p).prepend(u):$("#"+p).append(u),$(u).on("click",function(e){return $(this).hasClass(a)||($("#"+p).hide(),$.isFunction(t.onClickButton)&&t.onClickButton.call(o,e)),!1}).find("a").hover(function(){$(this).hasClass(a)||$(this).addClass(s)},function(){$(this).removeClass(s)}))}}}})},navSeparatorAdd:function(e,t){var i=this[0].p.styleUI,r=$.jgrid.styleUI[i].common;return t=$.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},t||{}),this.each(function(){if(this.grid){"string"==typeof e&&0!==e.indexOf("#")&&(e="#"+$.jgrid.jqID(e));var i,o,a=$(".navtable",e)[0];a?(i="<td class='ui-pg-button "+r.disabled+"' style='width:4px;'><span class='"+t.sepclass+"'></span>"+t.sepcontent+"</td>","first"===t.position?0===a.rows[0].cells.length?$("tr",a).append(i):$("tr td:eq(0)",a).before(i):$("tr",a).append(i)):(a=$(".dropdownmenu",e)[0],i="<li class='ui-menu-item "+r.disabled+"' style='width:100%' role='presentation'><hr class='ui-separator-li'></li>",a&&(o=$(a).val(),o&&("first"===t.position?$("#"+o).prepend(i):$("#"+o).append(i))))}})},_buildNavMenu:function(e,t,i,r,o,a,s,n){return this.each(function(){var l=this,d=l.p.styleUI,p=($.jgrid.styleUI[d].navigator,$.jgrid.styleUI[d].filter),c=$.jgrid.styleUI[d].common,u="form_menu_"+$.jgrid.randId(),g="<button class='dropdownmenu "+c.button+"' value='"+u+"'>Actions</button>";$(e+"_"+i.position,e).append(g);var h={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},f=function(){var e,d,g=$(".ui-jqgrid-view").css("font-size")||"11px",f=$('<ul id="'+u+'" class="ui-nav-menu modal-content" role="menu" tabindex="0" style="display:none;font-size:'+g+'"></ul>');i.add&&(o=o||{},e=o.id||"add_"+t,d=$('<li class="ui-menu-item" role="presentation"><a class="'+c.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+e+'">'+(i.addtext||i.addtitle)+"</a></li>").click(function(){return $(this).hasClass(c.disabled)||($.isFunction(i.addfunc)?i.addfunc.call(l):$(l).jqGrid("editGridRow","new",o),$(f).hide()),!1}),$(f).append(d)),i.edit&&(r=r||{},e=r.id||"edit_"+t,d=$('<li class="ui-menu-item" role="presentation"><a class="'+c.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+e+'">'+(i.edittext||i.edittitle)+"</a></li>").click(function(){if(!$(this).hasClass(c.disabled)){var e=l.p.selrow;e?$.isFunction(i.editfunc)?i.editfunc.call(l,e):$(l).jqGrid("editGridRow",e,r):($.jgrid.viewModal("#"+h.themodal,{gbox:"#gbox_"+$.jgrid.jqID(l.p.id),jqm:!0}),$("#jqg_alrt").focus()),$(f).hide()}return !1}),$(f).append(d)),i.view&&(n=n||{},e=n.id||"view_"+t,d=$('<li class="ui-menu-item" role="presentation"><a class="'+c.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+e+'">'+(i.viewtext||i.viewtitle)+"</a></li>").click(function(){if(!$(this).hasClass(c.disabled)){var e=l.p.selrow;e?$.isFunction(i.editfunc)?i.viewfunc.call(l,e):$(l).jqGrid("viewGridRow",e,n):($.jgrid.viewModal("#"+h.themodal,{gbox:"#gbox_"+$.jgrid.jqID(l.p.id),jqm:!0}),$("#jqg_alrt").focus()),$(f).hide()}return !1}),$(f).append(d)),i.del&&(a=a||{},e=a.id||"del_"+t,d=$('<li class="ui-menu-item" role="presentation"><a class="'+c.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+e+'">'+(i.deltext||i.deltitle)+"</a></li>").click(function(){if(!$(this).hasClass(c.disabled)){var e;l.p.multiselect?(e=l.p.selarrrow,0===e.length&&(e=null)):e=l.p.selrow,e?$.isFunction(i.delfunc)?i.delfunc.call(l,e):$(l).jqGrid("delGridRow",e,a):($.jgrid.viewModal("#"+h.themodal,{gbox:"#gbox_"+$.jgrid.jqID(l.p.id),jqm:!0}),$("#jqg_alrt").focus()),$(f).hide()}return !1}),$(f).append(d)),(i.add||i.edit||i.del||i.view)&&$(f).append("<li class='ui-menu-item "+c.disabled+"' style='width:100%' role='presentation'><hr class='ui-separator-li'></li>"),i.search&&(s=s||{},e=s.id||"search_"+t,d=$('<li class="ui-menu-item" role="presentation"><a class="'+c.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+e+'">'+(i.searchtext||i.searchtitle)+"</a></li>").click(function(){return $(this).hasClass(c.disabled)||($.isFunction(i.searchfunc)?i.searchfunc.call(l,s):$(l).jqGrid("searchGrid",s),$(f).hide()),!1}),$(f).append(d),s.showOnLoad&&s.showOnLoad===!0&&$(d).click()),i.refresh&&(e=s.id||"search_"+t,d=$('<li class="ui-menu-item" role="presentation"><a class="'+c.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+e+'">'+(i.refreshtext||i.refreshtitle)+"</a></li>").click(function(){if(!$(this).hasClass(c.disabled)){$.isFunction(i.beforeRefresh)&&i.beforeRefresh.call(l),l.p.search=!1,l.p.resetsearch=!0;try{if("currentfilter"!==i.refreshstate){var e=l.p.id;l.p.postData.filters="";try{$("#fbox_"+$.jgrid.jqID(e)).jqFilter("resetFilter")}catch(t){}$.isFunction(l.clearToolbar)&&l.clearToolbar.call(l,!1)}}catch(r){}switch(i.refreshstate){case"firstpage":$(l).trigger("reloadGrid",[{page:1}]);break;case"current":case"currentfilter":$(l).trigger("reloadGrid",[{current:!0}])}$.isFunction(i.afterRefresh)&&i.afterRefresh.call(l),$(f).hide()}return !1}),$(f).append(d)),$(f).hide(),$("body").append(f),$("#"+u).addClass("ui-menu "+p.menu_widget),$("#"+u+" > li > a").hover(function(){$(this).addClass(c.hover)},function(){$(this).removeClass(c.hover)})};f(),$(".dropdownmenu").on("click",function(){var e=$(this).offset(),t=e.left,i=parseInt(e.top),r=$(this).val();$("#"+r).show().css({top:i-($("#"+r).height()+10)+"px",left:t+"px"})}),$("body").on("click",function(e){$(e.target).hasClass("dropdownmenu")||$("#"+u).hide()})})},GridToForm:function(e,t){return this.each(function(){var i,r=this;if(r.grid){var o=$(r).jqGrid("getRowData",e);if(o){for(i in o){o.hasOwnProperty(i)&&($("[name="+$.jgrid.jqID(i)+"]",t).is("input:radio")||$("[name="+$.jgrid.jqID(i)+"]",t).is("input:checkbox")?$("[name="+$.jgrid.jqID(i)+"]",t).each(function(){$(this).val()==o[i]?$(this)[r.p.useProp?"prop":"attr"]("checked",!0):$(this)[r.p.useProp?"prop":"attr"]("checked",!1)}):$("[name="+$.jgrid.jqID(i)+"]",t).val(o[i]))}}}})},FormToGrid:function(e,t,i,r){return this.each(function(){var o=this;if(o.grid){i||(i="set"),r||(r="first");var a=$(t).serializeArray(),s={};$.each(a,function(e,t){s[t.name]=t.value}),"add"===i?$(o).jqGrid("addRowData",e,s,r):"set"===i&&$(o).jqGrid("setRowData",e,s)}})}}),$.jgrid.extend({groupingSetup:function(){return this.each(function(){var e,t,i,r=this,o=r.p.colModel,a=r.p.groupingView,s=$.jgrid.styleUI[r.p.styleUI||"jQueryUI"].grouping;if(null===a||"object"!=typeof a&&!$.isFunction(a)){r.p.grouping=!1}else{if(a.plusicon||(a.plusicon=s.icon_plus),a.minusicon||(a.minusicon=s.icon_minus),a.groupField.length){for(void 0===a.visibiltyOnNextGrouping&&(a.visibiltyOnNextGrouping=[]),a.lastvalues=[],a._locgr||(a.groups=[]),a.counters=[],e=0;e<a.groupField.length;e++){a.groupOrder[e]||(a.groupOrder[e]="asc"),a.groupText[e]||(a.groupText[e]="{0}"),"boolean"!=typeof a.groupColumnShow[e]&&(a.groupColumnShow[e]=!0),"boolean"!=typeof a.groupSummary[e]&&(a.groupSummary[e]=!1),a.groupSummaryPos[e]||(a.groupSummaryPos[e]="footer"),a.groupColumnShow[e]===!0?(a.visibiltyOnNextGrouping[e]=!0,$(r).jqGrid("showCol",a.groupField[e])):(a.visibiltyOnNextGrouping[e]=$("#"+$.jgrid.jqID(r.p.id+"_"+a.groupField[e])).is(":visible"),$(r).jqGrid("hideCol",a.groupField[e]))}for(a.summary=[],a.hideFirstGroupCol&&(a.formatDisplayField[0]=function(e){return e}),t=0,i=o.length;i>t;t++){a.hideFirstGroupCol&&(o[t].hidden||a.groupField[0]!==o[t].name||(o[t].formatter=function(){return""})),o[t].summaryType&&a.summary.push(o[t].summaryDivider?{nm:o[t].name,st:o[t].summaryType,v:"",sd:o[t].summaryDivider,vd:"",sr:o[t].summaryRound,srt:o[t].summaryRoundType||"round"}:{nm:o[t].name,st:o[t].summaryType,v:"",sr:o[t].summaryRound,srt:o[t].summaryRoundType||"round"})}}else{r.p.grouping=!1}}})},groupingPrepare:function(e,t){return this.each(function(){var i,r,o,a,s,n=this.p.groupingView,l=this,d=function(){$.isFunction(this.st)?this.v=this.st.call(l,this.v,this.nm,e):(this.v=$(l).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,e),"avg"===this.st.toLowerCase()&&this.sd&&(this.vd=$(l).jqGrid("groupingCalculations.handler",this.st,this.vd,this.sd,this.sr,this.srt,e)))},p=n.groupField.length,c=0;for(i=0;p>i;i++){r=n.groupField[i],a=n.displayField[i],o=e[r],s=null==a?null:e[a],null==s&&(s=o),void 0!==o&&(0===t?(n.groups.push({idx:i,dataIndex:r,value:o,displayValue:s,startRow:t,cnt:1,summary:[]}),n.lastvalues[i]=o,n.counters[i]={cnt:1,pos:n.groups.length-1,summary:$.extend(!0,[],n.summary)},$.each(n.counters[i].summary,d),n.groups[n.counters[i].pos].summary=n.counters[i].summary):"object"==typeof o||($.isArray(n.isInTheSameGroup)&&$.isFunction(n.isInTheSameGroup[i])?n.isInTheSameGroup[i].call(l,n.lastvalues[i],o,i,n):n.lastvalues[i]===o)?1===c?(n.groups.push({idx:i,dataIndex:r,value:o,displayValue:s,startRow:t,cnt:1,summary:[]}),n.lastvalues[i]=o,n.counters[i]={cnt:1,pos:n.groups.length-1,summary:$.extend(!0,[],n.summary)},$.each(n.counters[i].summary,d),n.groups[n.counters[i].pos].summary=n.counters[i].summary):(n.counters[i].cnt+=1,n.groups[n.counters[i].pos].cnt=n.counters[i].cnt,$.each(n.counters[i].summary,d),n.groups[n.counters[i].pos].summary=n.counters[i].summary):(n.groups.push({idx:i,dataIndex:r,value:o,displayValue:s,startRow:t,cnt:1,summary:[]}),n.lastvalues[i]=o,c=1,n.counters[i]={cnt:1,pos:n.groups.length-1,summary:$.extend(!0,[],n.summary)},$.each(n.counters[i].summary,d),n.groups[n.counters[i].pos].summary=n.counters[i].summary))}}),this},groupingToggle:function(e){return this.each(function(){var t=this,i=t.p.groupingView,r=e.split("_"),o=parseInt(r[r.length-2],10);r.splice(r.length-2,2);var a,s,n=r.join("_"),l=i.minusicon,d=i.plusicon,p=$("#"+$.jgrid.jqID(e)),c=p.length?p[0].nextSibling:null,u=$("#"+$.jgrid.jqID(e)+" span.tree-wrap-"+t.p.direction),g=function(e){var t=$.map(e.split(" "),function(e){return e.substring(0,n.length+1)===n+"_"?parseInt(e.substring(n.length+1),10):void 0});return t.length>0?t[0]:void 0},h=!1,f=!1,m=t.p.frozenColumns?t.p.id+"_frozen":!1,v=m?$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(m)):!1,j=v&&v.length?v[0].nextSibling:null;if(u.hasClass(l)){if(i.showSummaryOnHide){if(c){for(;c&&(a=g(c.className),!(void 0!==a&&o>=a));){$(c).hide(),c=c.nextSibling,m&&($(j).hide(),j=j.nextSibling)}}}else{if(c){for(;c&&(a=g(c.className),!(void 0!==a&&o>=a));){$(c).hide(),c=c.nextSibling,m&&($(j).hide(),j=j.nextSibling)}}}u.removeClass(l).addClass(d),h=!0}else{if(c){for(s=void 0;c;){if(a=g(c.className),void 0===s&&(s=void 0===a),f=$(c).hasClass("ui-subgrid")&&$(c).hasClass("ui-sg-collapsed"),void 0!==a){if(o>=a){break}a===o+1&&(f||($(c).show().find(">td>span.tree-wrap-"+t.p.direction).removeClass(l).addClass(d),m&&$(j).show().find(">td>span.tree-wrap-"+t.p.direction).removeClass(l).addClass(d)))}else{s&&(f||($(c).show(),m&&$(j).show()))}c=c.nextSibling,m&&(j=j.nextSibling)}}u.removeClass(d).addClass(l)}$(t).triggerHandler("jqGridGroupingClickGroup",[e,h]),$.isFunction(t.p.onClickGroup)&&t.p.onClickGroup.call(t,e,h)}),!1},groupingRender:function(e,t,i,r){return this.each(function(){function o(e,t,i){var r,o=!1;if(0===t){o=i[e]}else{var a=i[e].idx;if(0===a){o=i[e]}else{for(r=e;r>=0;r--){if(i[r].idx===a-t){o=i[r];break}}}}return o}function a(e,i,r,a){var s,n,l=o(e,i,r),p=d.p.colModel,c=l.cnt,u="";for(n=a;t>n;n++){var g="<td "+d.formatCol(n,1,"")+">&#160;</td>",h="{0}";$.each(l.summary,function(){if(this.nm===p[n].name){p[n].summaryTpl&&(h=p[n].summaryTpl),"string"==typeof this.st&&"avg"===this.st.toLowerCase()&&(this.sd&&this.vd?this.v=this.v/this.vd:this.v&&c>0&&(this.v=this.v/c));try{this.groupCount=l.cnt,this.groupIndex=l.dataIndex,this.groupValue=l.value,s=d.formatter("",this.v,n,this)}catch(e){s=this.v}return g="<td "+d.formatCol(n,1,"")+">"+$.jgrid.template(h,s)+"</td>",!1}}),u+=g}return u}var s,n,l,d=this,p=d.p.groupingView,c="",u="",g=p.groupCollapse?p.plusicon:p.minusicon,h=[],f=p.groupField.length,m=$.jgrid.styleUI[d.p.styleUI||"jQueryUI"].common;g=g+" tree-wrap-"+d.p.direction,$.each(d.p.colModel,function(e,t){var i;for(i=0;f>i;i++){if(p.groupField[i]===t.name){h[i]=e;break}}});var v,j=0,b=$.makeArray(p.groupSummary);b.reverse(),v=d.p.multiselect?' colspan="2"':"",$.each(p.groups,function(o,w){if(p._locgr&&!(w.startRow+w.cnt>(i-1)*r&&w.startRow<i*r)){return !0}j++,n=d.p.id+"ghead_"+w.idx,s=n+"_"+o,u="<span style='cursor:pointer;margin-right:8px;margin-left:5px;' class='"+m.icon_base+" "+g+"' onclick=\"jQuery('#"+$.jgrid.jqID(d.p.id)+"').jqGrid('groupingToggle','"+s+"');return false;\"></span>";try{$.isArray(p.formatDisplayField)&&$.isFunction(p.formatDisplayField[w.idx])?(w.displayValue=p.formatDisplayField[w.idx].call(d,w.displayValue,w.value,d.p.colModel[h[w.idx]],w.idx,p),l=w.displayValue):l=d.formatter(s,w.displayValue,h[w.idx],w.value)}catch(y){l=w.displayValue}var _="";_=$.isFunction(p.groupText[w.idx])?p.groupText[w.idx].call(d,l,w.cnt,w.summary):$.jgrid.template(p.groupText[w.idx],l,w.cnt,w.summary),"string"!=typeof _&&"number"!=typeof _&&(_=l),"header"===p.groupSummaryPos[w.idx]?(c+='<tr id="'+s+'"'+(p.groupCollapse&&w.idx>0?' style="display:none;" ':" ")+'role="row" class= "'+m.content+" jqgroup ui-row-"+d.p.direction+" "+n+'"><td style="padding-left:'+12*w.idx+'px;"'+v+">"+u+_+"</td>",c+=a(o,0,p.groups,p.groupColumnShow[w.idx]===!1?""===v?2:3:""===v?1:2),c+="</tr>"):c+='<tr id="'+s+'"'+(p.groupCollapse&&w.idx>0?' style="display:none;" ':" ")+'role="row" class= "'+m.content+" jqgroup ui-row-"+d.p.direction+" "+n+'"><td style="padding-left:'+12*w.idx+'px;" colspan="'+(p.groupColumnShow[w.idx]===!1?t-1:t)+'">'+u+_+"</td></tr>";var x=f-1===w.idx;if(x){var q,D,C=p.groups[o+1],I=0,G=w.startRow,F=void 0!==C?C.startRow:p.groups[o].startRow+p.groups[o].cnt;for(p._locgr&&(I=(i-1)*r,I>w.startRow&&(G=I)),q=G;F>q&&e[q-I];q++){c+=e[q-I].join("")}if("header"!==p.groupSummaryPos[w.idx]){var S;if(void 0!==C){for(S=0;S<p.groupField.length&&C.dataIndex!==p.groupField[S];S++){}j=p.groupField.length-S}for(D=0;j>D;D++){if(b[D]){var k="";p.groupCollapse&&!p.showSummaryOnHide&&(k=' style="display:none;"'),c+="<tr"+k+' jqfootlevel="'+(w.idx-D)+'" role="row" class="'+m.content+" jqfoot ui-row-"+d.p.direction+'">',c+=a(o,D,p.groups,0),c+="</tr>"}}j=S}}}),$("#"+$.jgrid.jqID(d.p.id)+" tbody:first").append(c),c=null})},groupingGroupBy:function(e,t){return this.each(function(){var i=this;"string"==typeof e&&(e=[e]);var r=i.p.groupingView;i.p.grouping=!0,r._locgr=!1,void 0===r.visibiltyOnNextGrouping&&(r.visibiltyOnNextGrouping=[]);var o;for(o=0;o<r.groupField.length;o++){!r.groupColumnShow[o]&&r.visibiltyOnNextGrouping[o]&&$(i).jqGrid("showCol",r.groupField[o])}for(o=0;o<e.length;o++){r.visibiltyOnNextGrouping[o]=$("#"+$.jgrid.jqID(i.p.id)+"_"+$.jgrid.jqID(e[o])).is(":visible")}i.p.groupingView=$.extend(i.p.groupingView,t||{}),r.groupField=e,$(i).trigger("reloadGrid")})},groupingRemove:function(e){return this.each(function(){var t=this;if(void 0===e&&(e=!0),t.p.grouping=!1,e===!0){var i,r=t.p.groupingView;for(i=0;i<r.groupField.length;i++){!r.groupColumnShow[i]&&r.visibiltyOnNextGrouping[i]&&$(t).jqGrid("showCol",r.groupField)}$("tr.jqgroup, tr.jqfoot","#"+$.jgrid.jqID(t.p.id)+" tbody:first").remove(),$("tr.jqgrow:hidden","#"+$.jgrid.jqID(t.p.id)+" tbody:first").show()}else{$(t).trigger("reloadGrid")}})},groupingCalculations:{handler:function(e,t,i,r,o,a){var s={sum:function(){return parseFloat(t||0)+parseFloat(a[i]||0)},min:function(){return""===t?parseFloat(a[i]||0):Math.min(parseFloat(t),parseFloat(a[i]||0))},max:function(){return""===t?parseFloat(a[i]||0):Math.max(parseFloat(t),parseFloat(a[i]||0))},count:function(){return""===t&&(t=0),a.hasOwnProperty(i)?t+1:0},avg:function(){return s.sum()}};if(!s[e]){throw"jqGrid Grouping No such method: "+e}var n=s[e]();if(null!=r){if("fixed"===o){n=n.toFixed(r)}else{var l=Math.pow(10,r);n=Math.round(n*l)/l}}return n}},setGroupHeaders:function(e){return e=$.extend({useColSpanStyle:!1,groupHeaders:[]},e||{}),this.each(function(){var t,i,r,o,a,s,n,l,d,p,c,u,g,h,f=this,m=0,v=f.p.colModel,j=v.length,b=f.grid.headers,w=$("table.ui-jqgrid-htable",f.grid.hDiv),y=w.children("thead").children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header"),_=w.children("thead"),x=w.find(".jqg-first-row-header"),q=$.jgrid.styleUI[f.p.styleUI||"jQueryUI"].base;f.p.groupHeader||(f.p.groupHeader=[]),f.p.groupHeader.push(e),void 0===x[0]?x=$("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):x.empty();var D,C=function(e,t){var i,r=t.length;for(i=0;r>i;i++){if(t[i].startColumnName===e){return i}}return -1};for($(f).prepend(_),r=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels jqg-third-row-header"),t=0;j>t;t++){if(a=b[t].el,s=$(a),i=v[t],n={height:"0px",width:b[t].width+"px",display:i.hidden?"none":""},$("<th>",{role:"gridcell"}).css(n).addClass("ui-first-th-"+f.p.direction).appendTo(x),a.style.width="",l=C(i.name,e.groupHeaders),l>=0){for(d=e.groupHeaders[l],p=d.numberOfColumns,c=d.titleText,g=d.className||"",u=0,l=0;p>l&&j>t+l;l++){v[t+l].hidden||u++}o=$("<th>").attr({role:"columnheader"}).addClass(q.headerBox+" ui-th-column-header ui-th-"+f.p.direction+" "+g).html(c),u>0&&o.attr("colspan",String(u)),f.p.headertitles&&o.attr("title",o.text()),0===u&&o.hide(),s.before(o),r.append(a),m=p-1}else{0===m?e.useColSpanStyle?s.attr("rowspan","2"):($("<th>",{role:"columnheader"}).addClass(q.headerBox+" ui-th-column-header ui-th-"+f.p.direction).css({display:i.hidden?"none":""}).insertBefore(s),r.append(a)):(r.append(a),m--)}}h=$(f).children("thead"),h.prepend(x),r.insertAfter(y),w.append(h),e.useColSpanStyle&&(w.find("span.ui-jqgrid-resize").each(function(){var e=$(this).parent();e.is(":visible")&&(this.style.cssText="height: "+e.height()+"px !important; cursor: col-resize;")}),w.find("div.ui-jqgrid-sortable").each(function(){var e=$(this),t=e.parent();t.is(":visible")&&t.is(":has(span.ui-jqgrid-resize)")&&e.css("top",(t.height()-e.outerHeight())/2-4+"px")})),D=h.find("tr.jqg-first-row-header"),$(f).bind("jqGridResizeStop.setGroupHeaders",function(e,t,i){D.find("th").eq(i).width(t)})})},destroyGroupHeader:function(e){return void 0===e&&(e=!0),this.each(function(){var t,i,r,o,a,s,n,l=this,d=l.grid,p=$("table.ui-jqgrid-htable thead",d.hDiv),c=l.p.colModel;if(d){for($(this).unbind(".setGroupHeaders"),t=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels"),o=d.headers,i=0,r=o.length;r>i;i++){n=c[i].hidden?"none":"",a=$(o[i].el).width(o[i].width).css("display",n);try{a.removeAttr("rowSpan")}catch(u){a.attr("rowSpan",1)}t.append(a),s=a.children("span.ui-jqgrid-resize"),s.length>0&&(s[0].style.height=""),a.children("div")[0].style.top=""}$(p).children("tr.ui-jqgrid-labels").remove(),$(p).prepend(t),e===!0&&$(l).jqGrid("setGridParam",{groupHeader:null})}})}}),$.jgrid=$.jgrid||{},$.extend($.jgrid,{saveState:function(e,t){if(t=$.extend({useStorage:!0,storageType:"localStorage",beforeSetItem:null,compression:!1,compressionModule:"LZString",compressionMethod:"compressToUTF16"},t||{}),e){var i,r,o="",a="",s=$("#"+e)[0];if(s.grid){if(r=$(s).data("inlineNav"),r&&s.p.inlineNav&&$(s).jqGrid("setGridParam",{_iN:r}),r=$(s).data("filterToolbar"),r&&s.p.filterToolbar&&$(s).jqGrid("setGridParam",{_fT:r}),o=$(s).jqGrid("jqGridExport",{exptype:"jsonstring",ident:"",root:""}),$(s.grid.bDiv).find(".ui-jqgrid-btable tr:gt(0)").each(function(e,t){a+=t.outerHTML}),$.isFunction(t.beforeSetItem)&&(i=t.beforeSetItem.call(s,o),null!=i&&(o=i)),t.compression&&t.compressionModule){try{i=window[t.compressionModule][t.compressionMethod](o),null!=i&&(o=i,a=window[t.compressionModule][t.compressionMethod](a))}catch(n){}}if(t.useStorage&&$.jgrid.isLocalStorage()){try{window[t.storageType].setItem("jqGrid"+s.p.id,o),window[t.storageType].setItem("jqGrid"+s.p.id+"_data",a)}catch(n){22===n.code&&alert("Local storage limit is over!")}}return o}}},loadState:function(e,t,i){if(i=$.extend({useStorage:!0,storageType:"localStorage",clearAfterLoad:!1,beforeSetGrid:null,decompression:!1,decompressionModule:"LZString",decompressionMethod:"decompressFromUTF16"},i||{}),e){var r,o,a,s,n,l=$("#"+e)[0];if(l.grid&&$.jgrid.gridUnload(e),i.useStorage){try{t=window[i.storageType].getItem("jqGrid"+l.id),a=window[i.storageType].getItem("jqGrid"+l.id+"_data")}catch(d){}}if(t){if(i.decompression&&i.decompressionModule){try{r=window[i.decompressionModule][i.decompressionMethod](t),null!=r&&(t=r,a=window[i.decompressionModule][i.decompressionMethod](a))}catch(d){}}if(r=jqGridUtils.parse(t),r&&"object"===$.type(r)){$.isFunction(i.beforeSetGrid)&&(o=i.beforeSetGrid(r),o&&"object"===$.type(o)&&(r=o));var p=function(e){var t;return t=e},c={reccount:r.reccount,records:r.records,lastpage:r.lastpage,shrinkToFit:p(r.shrinkToFit),data:p(r.data),datatype:p(r.datatype),grouping:p(r.grouping)};r.shrinkToFit=!1,r.data=[],r.datatype="local",r.grouping=!1,r.navGrid=!1,r.inlineNav&&(s=p(r._iN),r._iN=null,delete r._iN),r.filterToolbar&&(n=p(r._fT),r._fT=null,delete r._fT);var u=$("#"+e).jqGrid(r);u.append(a),u.jqGrid("setGridParam",c),r.storeNavOptions&&u.jqGrid("navGrid",r.pager,r.navOptions,r.editOptions,r.addOptions,r.delOptions,r.searchOptions,r.viewOptions),r.inlineNav&&s&&(u.jqGrid("setGridParam",{inlineNav:!1}),u.jqGrid("inlineNav",r.pager,s)),r.filterToolbar&&n&&(u.jqGrid("setGridParam",{filterToolbar:!1}),u.jqGrid("filterToolbar",n)),u[0].updatepager(!0,!0),i.clearAfterLoad&&(window[i.storageType].removeItem("jqGrid"+l.id),window[i.storageType].removeItem("jqGrid"+l.id+"_data"))}else{alert("can not convert to object")}}}},setRegional:function(e,t){var i={storageType:"sessionStorage"};if(i=$.extend(i,t||{}),i.regional){$.jgrid.saveState(e,i),i.beforeSetGrid=function(e){return e.regional=i.regional,e.force_regional=!0,e},$.jgrid.loadState(e,null,i);var r=$("#"+e)[0],o=$(r).jqGrid("getGridParam","colModel"),a=-1,s=$.jgrid.getRegional(r,"nav");$.each(o,function(e){return this.formatter&&"actions"===this.formatter?(a=e,!1):void 0}),-1!==a&&s&&$("#"+e+" tbody tr").each(function(){var e=this.cells[a];$(e).find(".ui-inline-edit").attr("title",s.edittitle),$(e).find(".ui-inline-del").attr("title",s.deltitle),$(e).find(".ui-inline-save").attr("title",s.savetitle),$(e).find(".ui-inline-cancel").attr("title",s.canceltitle)});try{window[i.storageType].removeItem("jqGrid"+r.id),window[i.storageType].removeItem("jqGrid"+r.id+"_data")}catch(n){}}},jqGridImport:function(e,t){t=$.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"root>grid",data:"root>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},t||{});var i=(0===e.indexOf("#")?"":"#")+$.jgrid.jqID(e),r=function(e,t){var r,o,a,s=$(t.xmlGrid.config,e)[0],n=$(t.xmlGrid.data,e)[0];if(jqGridUtils.xmlToJSON){r=jqGridUtils.xmlToJSON(s);for(a in r){r.hasOwnProperty(a)&&(o=r[a])}if(n){var l=r.grid.datatype;r.grid.datatype="xmlstring",r.grid.datastr=e,$(i).jqGrid(o).jqGrid("setGridParam",{datatype:l})}else{setTimeout(function(){$(i).jqGrid(o)},0)}}else{alert("xml2json or parse are not present")}},o=function(e,t){if(e&&"string"==typeof e){var r=jqGridUtils.parse(e),o=r[t.jsonGrid.config],a=r[t.jsonGrid.data];if(a){var s=o.datatype;o.datatype="jsonstring",o.datastr=a,$(i).jqGrid(o).jqGrid("setGridParam",{datatype:s})}else{$(i).jqGrid(o)}}};switch(t.imptype){case"xml":$.ajax($.extend({url:t.impurl,type:t.mtype,data:t.impData,dataType:"xml",complete:function(e,o){"success"===o&&(r(e.responseXML,t),$(i).triggerHandler("jqGridImportComplete",[e,t]),$.isFunction(t.importComplete)&&t.importComplete(e)),e=null}},t.ajaxOptions));break;case"xmlstring":if(t.impstring&&"string"==typeof t.impstring){var a=$.parseXML(t.impstring);a&&(r(a,t),$(i).triggerHandler("jqGridImportComplete",[a,t]),$.isFunction(t.importComplete)&&t.importComplete(a))}break;case"json":$.ajax($.extend({url:t.impurl,type:t.mtype,data:t.impData,dataType:"json",complete:function(e){try{o(e.responseText,t),$(i).triggerHandler("jqGridImportComplete",[e,t]),$.isFunction(t.importComplete)&&t.importComplete(e)}catch(r){}e=null}},t.ajaxOptions));break;case"jsonstring":t.impstring&&"string"==typeof t.impstring&&(o(t.impstring,t),$(i).triggerHandler("jqGridImportComplete",[t.impstring,t]),$.isFunction(t.importComplete)&&t.importComplete(t.impstring))}}}),$.jgrid.extend({jqGridExport:function(e){e=$.extend({exptype:"xmlstring",root:"grid",ident:"	",addOptions:{}},e||{});var t=null;return this.each(function(){if(this.grid){var i,r=$.extend(!0,{},$(this).jqGrid("getGridParam"),e.addOptions);if(r.rownumbers&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.multiselect&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.subGrid&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.knv=null,r.treeGrid){for(i in r.treeReader){r.treeReader.hasOwnProperty(i)&&(r.colNames.splice(r.colNames.length-1),r.colModel.splice(r.colModel.length-1))}}switch(e.exptype){case"xmlstring":t="<"+e.root+">"+jqGridUtils.jsonToXML(r,{xmlDecl:""})+"</"+e.root+">";break;case"jsonstring":t=jqGridUtils.stringify(r),e.root&&(t="{"+e.root+":"+t+"}")}}}),t},excelExport:function(e){return e=$.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},e||{}),this.each(function(){if(this.grid){var t;if("remote"===e.exptype){var i=$.extend({},this.p.postData);i[e.oper]=e.tag;var r=jQuery.param(i);t=-1!==e.url.indexOf("?")?e.url+"&"+r:e.url+"?"+r,window.location=t}}})}}),$.jgrid.inlineEdit=$.jgrid.inlineEdit||{},$.jgrid.extend({editRow:function(e,t,i,r,o,a,s,n,l){var d={},p=$.makeArray(arguments).slice(1);return"object"===$.type(p[0])?d=p[0]:(void 0!==t&&(d.keys=t),$.isFunction(i)&&(d.oneditfunc=i),$.isFunction(r)&&(d.successfunc=r),void 0!==o&&(d.url=o),void 0!==a&&(d.extraparam=a),$.isFunction(s)&&(d.aftersavefunc=s),$.isFunction(n)&&(d.errorfunc=n),$.isFunction(l)&&(d.afterrestorefunc=l)),d=$.extend(!0,{keys:!1,oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",focusField:!0},$.jgrid.inlineEdit,d),this.each(function(){var t,i,r,o,a,s,n=this,l=0,p=null,c={},u=$(this).jqGrid("getStyleUI",n.p.styleUI+".inlinedit","inputClass",!0);n.grid&&(o=$(n).jqGrid("getInd",e,!0),o!==!1&&(s=$.isFunction(d.beforeEditRow)?d.beforeEditRow.call(n,d,e):void 0,void 0===s&&(s=!0),s&&(r=$(o).attr("editable")||"0","0"!==r||$(o).hasClass("not-editable-row")||(a=n.p.colModel,$('td[role="gridcell"]',o).each(function(r){t=a[r].name;var o=n.p.treeGrid===!0&&t===n.p.ExpandColumn;if(o){i=$("span:first",this).html()}else{try{i=$.unformat.call(n,this,{rowId:e,colModel:a[r]},r)}catch(s){i=a[r].edittype&&"textarea"===a[r].edittype?$(this).text():$(this).html()}}if("cb"!==t&&"subgrid"!==t&&"rn"!==t&&(n.p.autoencode&&(i=$.jgrid.htmlDecode(i)),c[t]=i,a[r].editable===!0)){null===p&&(p=r),o?$("span:first",this).html(""):$(this).html("");var d=$.extend({},a[r].editoptions||{},{id:e+"_"+t,name:t,rowId:e,oper:"edit"});a[r].edittype||(a[r].edittype="text"),("&nbsp;"===i||"&#160;"===i||1===i.length&&160===i.charCodeAt(0))&&(i="");var g=$.jgrid.createEl.call(n,a[r].edittype,d,i,!0,$.extend({},$.jgrid.ajaxOptions,n.p.ajaxSelectOptions||{}));$(g).addClass("editable inline-edit-cell"),$.inArray(a[r].edittype,["text","textarea","password","select"])>-1&&$(g).addClass(u),o?$("span:first",this).append(g):$(this).append(g),$.jgrid.bindEv.call(n,g,d),"select"===a[r].edittype&&void 0!==a[r].editoptions&&a[r].editoptions.multiple===!0&&void 0===a[r].editoptions.dataUrl&&$.jgrid.msie&&$(g).width($(g).width()),l++}}),l>0&&(c.id=e,n.p.savedRow.push(c),$(o).attr("editable","1"),d.focusField&&("number"==typeof d.focusField&&parseInt(d.focusField,10)<=a.length&&(p=d.focusField),setTimeout(function(){var e=$("td:eq("+p+") :input:visible",o).not(":disabled");e.length>0&&e.focus()},0)),d.keys===!0&&$(o).bind("keyup",function(t){if(27===t.keyCode){if($(n).jqGrid("restoreRow",e,d.afterrestorefunc),n.p.inlineNav){try{$(n).jqGrid("showAddEditButtons")}catch(i){}}return !1}if(13===t.keyCode){var r=t.target;if("TEXTAREA"===r.tagName){return !0}if($(n).jqGrid("saveRow",e,d)&&n.p.inlineNav){try{$(n).jqGrid("showAddEditButtons")}catch(o){}}return !1}}),$(n).triggerHandler("jqGridInlineEditRow",[e,d]),$.isFunction(d.oneditfunc)&&d.oneditfunc.call(n,e))))))})},saveRow:function(e,t,i,r,o,a,s){var n=$.makeArray(arguments).slice(1),l={},d=this[0];"object"===$.type(n[0])?l=n[0]:($.isFunction(t)&&(l.successfunc=t),void 0!==i&&(l.url=i),void 0!==r&&(l.extraparam=r),$.isFunction(o)&&(l.aftersavefunc=o),$.isFunction(a)&&(l.errorfunc=a),$.isFunction(s)&&(l.afterrestorefunc=s)),l=$.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",saveui:"enable",savetext:$.jgrid.getRegional(d,"defaults.savetext")},$.jgrid.inlineEdit,l);var p,c,u,g,h,f=!1,m={},v={},j={},b=!1,w=$.trim($(d).jqGrid("getStyleUI",d.p.styleUI+".common","error",!0));if(!d.grid){return f}if(h=$(d).jqGrid("getInd",e,!0),h===!1){return f}var y=$.jgrid.getRegional(this,"errors"),_=$.jgrid.getRegional(this,"edit"),x=$.isFunction(l.beforeSaveRow)?l.beforeSaveRow.call(d,l,e):void 0;if(void 0===x&&(x=!0),x){if(c=$(h).attr("editable"),l.url=l.url||d.p.editurl,"1"===c){var q;if($('td[role="gridcell"]',h).each(function(e){if(q=d.p.colModel[e],p=q.name,"cb"!==p&&"subgrid"!==p&&q.editable===!0&&"rn"!==p&&!$(this).hasClass("not-editable-cell")){switch(q.edittype){case"checkbox":var t=["Yes","No"];q.editoptions&&(t=q.editoptions.value.split(":")),m[p]=$("input",this).is(":checked")?t[0]:t[1];break;case"text":case"password":case"textarea":case"button":m[p]=$("input, textarea",this).val();break;case"select":if(q.editoptions.multiple){var i=$("select",this),r=[];m[p]=$(i).val(),m[p]=m[p]?m[p].join(","):"",$("select option:selected",this).each(function(e,t){r[e]=$(t).text()}),v[p]=r.join(",")}else{m[p]=$("select option:selected",this).val(),v[p]=$("select option:selected",this).text()}q.formatter&&"select"===q.formatter&&(v={});break;case"custom":try{if(!q.editoptions||!$.isFunction(q.editoptions.custom_value)){throw"e1"}if(m[p]=q.editoptions.custom_value.call(d,$(".customelement",this),"get"),void 0===m[p]){throw"e2"}}catch(o){"e1"===o?$.jgrid.info_dialog(y.errcap,"function 'custom_value' "+_.msg.nodefined,_.bClose,{styleUI:d.p.styleUI}):$.jgrid.info_dialog(y.errcap,o.message,_.bClose,{styleUI:d.p.styleUI})}}if(g=$.jgrid.checkValues.call(d,m[p],e),g[0]===!1){return !1}d.p.autoencode&&(m[p]=$.jgrid.htmlEncode(m[p])),"clientArray"!==l.url&&q.editoptions&&q.editoptions.NullIfEmpty===!0&&""===m[p]&&(j[p]="null",b=!0)}}),g[0]===!1){try{var D=$(d).jqGrid("getGridRowById",e),C=$.jgrid.findPos(D);$.jgrid.info_dialog(y.errcap,g[1],_.bClose,{left:C[0],top:C[1]+$(D).outerHeight(),styleUI:d.p.styleUI})}catch(I){alert(g[1])}return f}var G,F=d.p.prmNames,S=e;if(G=d.p.keyName===!1?F.id:d.p.keyName,m){if(m[F.oper]=F.editoper,void 0===m[G]||""===m[G]){m[G]=e}else{if(h.id!==d.p.idPrefix+m[G]){var k=$.jgrid.stripPref(d.p.idPrefix,e);if(void 0!==d.p._index[k]&&(d.p._index[m[G]]=d.p._index[k],delete d.p._index[k]),e=d.p.idPrefix+m[G],$(h).attr("id",e),d.p.selrow===S&&(d.p.selrow=e),$.isArray(d.p.selarrrow)){var R=$.inArray(S,d.p.selarrrow);R>=0&&(d.p.selarrrow[R]=e)}if(d.p.multiselect){var M="jqg_"+d.p.id+"_"+e;$("input.cbox",h).attr("id",M).attr("name",M)}}}void 0===d.p.inlineData&&(d.p.inlineData={}),m=$.extend({},m,d.p.inlineData,l.extraparam)}if("clientArray"===l.url){m=$.extend({},m,v),d.p.autoencode&&$.each(m,function(e,t){m[e]=$.jgrid.htmlDecode(t)});var N,T=$(d).jqGrid("setRowData",e,m);for($(h).attr("editable","0"),N=0;N<d.p.savedRow.length;N++){if(String(d.p.savedRow[N].id)===String(S)){u=N;break}}u>=0&&d.p.savedRow.splice(u,1),$(d).triggerHandler("jqGridInlineAfterSaveRow",[e,T,m,l]),$.isFunction(l.aftersavefunc)&&l.aftersavefunc.call(d,e,T,m,l),f=!0,$(h).removeClass("jqgrid-new-row").unbind("keydown")}else{$(d).jqGrid("progressBar",{method:"show",loadtype:l.saveui,htmlcontent:l.savetext}),j=$.extend({},m,j),j[G]=$.jgrid.stripPref(d.p.idPrefix,j[G]),$.ajax($.extend({url:l.url,data:$.isFunction(d.p.serializeRowData)?d.p.serializeRowData.call(d,j):j,type:l.mtype,async:!1,complete:function(t,i){if($(d).jqGrid("progressBar",{method:"hide",loadtype:l.saveui,htmlcontent:l.savetext}),"success"===i){var r,o,a=!0;if(r=$(d).triggerHandler("jqGridInlineSuccessSaveRow",[t,e,l]),$.isArray(r)||(r=[!0,j]),r[0]&&$.isFunction(l.successfunc)&&(r=l.successfunc.call(d,t)),$.isArray(r)?(a=r[0],m=r[1]||m):a=r,a===!0){for(d.p.autoencode&&$.each(m,function(e,t){m[e]=$.jgrid.htmlDecode(t)}),b&&$.each(m,function(e){"null"===m[e]&&(m[e]="")}),m=$.extend({},m,v),$(d).jqGrid("setRowData",e,m),$(h).attr("editable","0"),o=0;o<d.p.savedRow.length;o++){if(String(d.p.savedRow[o].id)===String(e)){u=o;break}}u>=0&&d.p.savedRow.splice(u,1),$(d).triggerHandler("jqGridInlineAfterSaveRow",[e,t,m,l]),$.isFunction(l.aftersavefunc)&&l.aftersavefunc.call(d,e,t,m,l),f=!0,$(h).removeClass("jqgrid-new-row").unbind("keydown")}else{$(d).triggerHandler("jqGridInlineErrorSaveRow",[e,t,i,null,l]),$.isFunction(l.errorfunc)&&l.errorfunc.call(d,e,t,i,null),l.restoreAfterError===!0&&$(d).jqGrid("restoreRow",e,l.afterrestorefunc)}}},error:function(t,i,r){if($("#lui_"+$.jgrid.jqID(d.p.id)).hide(),$(d).triggerHandler("jqGridInlineErrorSaveRow",[e,t,i,r,l]),$.isFunction(l.errorfunc)){l.errorfunc.call(d,e,t,i,r)}else{var o=t.responseText||t.statusText;try{$.jgrid.info_dialog(y.errcap,'<div class="'+w+'">'+o+"</div>",_.bClose,{buttonalign:"right",styleUI:d.p.styleUI})}catch(a){alert(o)}}l.restoreAfterError===!0&&$(d).jqGrid("restoreRow",e,l.afterrestorefunc)}},$.jgrid.ajaxOptions,d.p.ajaxRowOptions||{}))}}return f}},restoreRow:function(e,t){var i=$.makeArray(arguments).slice(1),r={};return"object"===$.type(i[0])?r=i[0]:$.isFunction(t)&&(r.afterrestorefunc=t),r=$.extend(!0,{},$.jgrid.inlineEdit,r),this.each(function(){var t,i,o=this,a=-1,s={};if(o.grid&&(t=$(o).jqGrid("getInd",e,!0),t!==!1)){var n=$.isFunction(r.beforeCancelRow)?r.beforeCancelRow.call(o,r,e):void 0;if(void 0===n&&(n=!0),n){for(i=0;i<o.p.savedRow.length;i++){if(String(o.p.savedRow[i].id)===String(e)){a=i;break}}if(a>=0){if($.isFunction($.fn.datepicker)){try{$("input.hasDatepicker","#"+$.jgrid.jqID(t.id)).datepicker("hide")}catch(l){}}$.each(o.p.colModel,function(){this.editable===!0&&o.p.savedRow[a].hasOwnProperty(this.name)&&(s[this.name]=o.p.savedRow[a][this.name])}),$(o).jqGrid("setRowData",e,s),$(t).attr("editable","0").unbind("keydown"),o.p.savedRow.splice(a,1),$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(o.p.id)).hasClass("jqgrid-new-row")&&setTimeout(function(){$(o).jqGrid("delRowData",e),$(o).jqGrid("showAddEditButtons")},0)}$(o).triggerHandler("jqGridInlineAfterRestoreRow",[e]),$.isFunction(r.afterrestorefunc)&&r.afterrestorefunc.call(o,e)}}})},addRow:function(e){return e=$.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,addRowParams:{extraparam:{}}},e||{}),this.each(function(){if(this.grid){var t=this,i=$.isFunction(e.beforeAddRow)?e.beforeAddRow.call(t,e.addRowParams):void 0;if(void 0===i&&(i=!0),i){if(e.rowID=$.isFunction(e.rowID)?e.rowID.call(t,e):null!=e.rowID?e.rowID:$.jgrid.randId(),e.useDefValues===!0&&$(t.p.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var i=this.editoptions.defaultValue,r=$.isFunction(i)?i.call(t):i;e.initdata[this.name]=r}}),$(t).jqGrid("addRowData",e.rowID,e.initdata,e.position),e.rowID=t.p.idPrefix+e.rowID,$("#"+$.jgrid.jqID(e.rowID),"#"+$.jgrid.jqID(t.p.id)).addClass("jqgrid-new-row"),e.useFormatter){$("#"+$.jgrid.jqID(e.rowID)+" .ui-inline-edit","#"+$.jgrid.jqID(t.p.id)).click()}else{var r=t.p.prmNames,o=r.oper;e.addRowParams.extraparam[o]=r.addoper,$(t).jqGrid("editRow",e.rowID,e.addRowParams),$(t).jqGrid("setSelection",e.rowID)}}}})},inlineNav:function(e,t){var i=this[0],r=$.jgrid.getRegional(i,"nav"),o=$.jgrid.styleUI[i.p.styleUI].inlinedit;return t=$.extend(!0,{edit:!0,editicon:o.icon_edit_nav,add:!0,addicon:o.icon_add_nav,save:!0,saveicon:o.icon_save_nav,cancel:!0,cancelicon:o.icon_cancel_nav,addParams:{addRowParams:{extraparam:{}}},editParams:{},restoreAfterSelect:!0},r,t||{}),this.each(function(){if(this.grid&&!this.p.inlineNav){var o=$.jgrid.jqID(i.p.id),a=$.trim($(i).jqGrid("getStyleUI",i.p.styleUI+".common","disabled",!0));if(i.p.navGrid||$(i).jqGrid("navGrid",e,{refresh:!1,edit:!1,add:!1,del:!1,search:!1,view:!1}),$(i).data("inlineNav")||$(i).data("inlineNav",t),i.p.force_regional&&(t=$.extend(t,r)),i.p.inlineNav=!0,t.addParams.useFormatter===!0){var s,n=i.p.colModel;for(s=0;s<n.length;s++){if(n[s].formatter&&"actions"===n[s].formatter){if(n[s].formatoptions){var l={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},d=$.extend(l,n[s].formatoptions);t.addParams.addRowParams={keys:d.keys,oneditfunc:d.onEdit,successfunc:d.onSuccess,url:d.url,extraparam:d.extraparam,aftersavefunc:d.afterSave,errorfunc:d.onError,afterrestorefunc:d.afterRestore}}break}}}t.add&&$(i).jqGrid("navButtonAdd",e,{caption:t.addtext,title:t.addtitle,buttonicon:t.addicon,id:i.p.id+"_iladd",onClickButton:function(){$(i).jqGrid("addRow",t.addParams),t.addParams.useFormatter||($("#"+o+"_ilsave").removeClass(a),$("#"+o+"_ilcancel").removeClass(a),$("#"+o+"_iladd").addClass(a),$("#"+o+"_iledit").addClass(a))}}),t.edit&&$(i).jqGrid("navButtonAdd",e,{caption:t.edittext,title:t.edittitle,buttonicon:t.editicon,id:i.p.id+"_iledit",onClickButton:function(){var e=$(i).jqGrid("getGridParam","selrow");e?($(i).jqGrid("editRow",e,t.editParams),$("#"+o+"_ilsave").removeClass(a),$("#"+o+"_ilcancel").removeClass(a),$("#"+o+"_iladd").addClass(a),$("#"+o+"_iledit").addClass(a)):($.jgrid.viewModal("#alertmod_"+o,{gbox:"#gbox_"+o,jqm:!0}),$("#jqg_alrt").focus())}}),t.save&&($(i).jqGrid("navButtonAdd",e,{caption:t.savetext||"",title:t.savetitle||"Save row",buttonicon:t.saveicon,id:i.p.id+"_ilsave",onClickButton:function(){var e=i.p.savedRow[0].id;if(e){var r=i.p.prmNames,a=r.oper,s=t.editParams;$("#"+$.jgrid.jqID(e),"#"+o).hasClass("jqgrid-new-row")?(t.addParams.addRowParams.extraparam[a]=r.addoper,s=t.addParams.addRowParams):(t.editParams.extraparam||(t.editParams.extraparam={}),t.editParams.extraparam[a]=r.editoper),$(i).jqGrid("saveRow",e,s)&&$(i).jqGrid("showAddEditButtons")}else{$.jgrid.viewModal("#alertmod_"+o,{gbox:"#gbox_"+o,jqm:!0}),$("#jqg_alrt").focus()}}}),$("#"+o+"_ilsave").addClass(a)),t.cancel&&($(i).jqGrid("navButtonAdd",e,{caption:t.canceltext||"",title:t.canceltitle||"Cancel row editing",buttonicon:t.cancelicon,id:i.p.id+"_ilcancel",onClickButton:function(){var e=i.p.savedRow[0].id,r=t.editParams;e?($("#"+$.jgrid.jqID(e),"#"+o).hasClass("jqgrid-new-row")&&(r=t.addParams.addRowParams),$(i).jqGrid("restoreRow",e,r),$(i).jqGrid("showAddEditButtons")):($.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+o,jqm:!0}),$("#jqg_alrt").focus())}}),$("#"+o+"_ilcancel").addClass(a)),t.restoreAfterSelect===!0&&$(i).bind("jqGridBeforeSelectRow.inlineNav",function(e,r){i.p.savedRow.length>0&&i.p.inlineNav===!0&&r!==i.p.selrow&&null!==i.p.selrow&&(i.p.selrow===t.addParams.rowID?$(i).jqGrid("delRowData",i.p.selrow):$(i).jqGrid("restoreRow",i.p.selrow,t.editParams),$(i).jqGrid("showAddEditButtons"))})}})},showAddEditButtons:function(){return this.each(function(){if(this.grid){var e=$.jgrid.jqID(this.p.id),t=$.trim($(this).jqGrid("getStyleUI",this.p.styleUI+".common","disabled",!0));$("#"+e+"_ilsave").addClass(t),$("#"+e+"_ilcancel").addClass(t),$("#"+e+"_iladd").removeClass(t),$("#"+e+"_iledit").removeClass(t)}})}}),$.jgrid.msie&&8===$.jgrid.msiever()&&($.expr[":"].hidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight||"none"===e.style.display}),$.jgrid._multiselect=!1,$.ui&&$.ui.multiselect){if($.ui.multiselect.prototype._setSelected){var setSelected=$.ui.multiselect.prototype._setSelected;$.ui.multiselect.prototype._setSelected=function(e,t){var i=setSelected.call(this,e,t);if(t&&this.selectedList){var r=this.element;this.selectedList.find("li").each(function(){$(this).data("optionLink")&&$(this).data("optionLink").remove().appendTo(r)})}return i}}$.ui.multiselect.prototype.destroy&&($.ui.multiselect.prototype.destroy=function(){this.element.show(),this.container.remove(),void 0===$.Widget?$.widget.prototype.destroy.apply(this,arguments):$.Widget.prototype.destroy.apply(this,arguments)}),$.jgrid._multiselect=!0}$.jgrid.extend({sortableColumns:function(e){return this.each(function(){function t(){i.p.disableClick=!0}var i=this,r=$.jgrid.jqID(i.p.id),o={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+r+"_cb,#jqgh_"+r+"_rn,#jqgh_"+r+"_subgrid),:hidden)",placeholder:{element:function(e){var t=$(document.createElement(e[0].nodeName)).addClass(e[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0];return t},update:function(e,t){t.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),t.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}},update:function(e,t){var r=$(t.item).parent(),o=$(">th",r),a=i.p.colModel,s={},n=i.p.id+"_";$.each(a,function(e){s[this.name]=e});var l=[];o.each(function(){var e=$(">div",this).get(0).id.replace(/^jqgh_/,"").replace(n,"");s.hasOwnProperty(e)&&l.push(s[e])}),$(i).jqGrid("remapColumns",l,!0,!0),$.isFunction(i.p.sortable.update)&&i.p.sortable.update(l),setTimeout(function(){i.p.disableClick=!1},50)}};if(i.p.sortable.options?$.extend(o,i.p.sortable.options):$.isFunction(i.p.sortable)&&(i.p.sortable={update:i.p.sortable}),o.start){var a=o.start;o.start=function(e,i){t(),a.call(this,e,i)}}else{o.start=t}i.p.sortable.exclude&&(o.items+=":not("+i.p.sortable.exclude+")");var s=e.sortable(o),n=s.data("sortable")||s.data("uiSortable");null!=n&&(n.data("sortable").floating=!0)})},columnChooser:function(e){function t(e,t,i){var r,o;return t>=0?(r=e.slice(),o=r.splice(t,Math.max(e.length-t,t)),t>e.length&&(t=e.length),r[t]=i,r.concat(o)):e}function i(e,t){e&&("string"==typeof e?$.fn[e]&&$.fn[e].apply(t,$.makeArray(arguments).slice(2)):$.isFunction(e)&&e.apply(t,$.makeArray(arguments).slice(2)))}var r,o,a,s,n,l,d,p=this,c={},u=[],g=p.jqGrid("getGridParam","colModel"),h=p.jqGrid("getGridParam","colNames"),f=function(e){return $.ui.multiselect.prototype&&e.data($.ui.multiselect.prototype.widgetFullName||$.ui.multiselect.prototype.widgetName)||e.data("ui-multiselect")||e.data("multiselect")},m=$.jgrid.getRegional(this[0],"col");if(!$("#colchooser_"+$.jgrid.jqID(p[0].p.id)).length){if(r=$('<div id="colchooser_'+p[0].p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),o=$("select",r),e=$.extend({width:400,height:240,classname:null,done:function(e){e&&p.jqGrid("remapColumns",e,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470,dialogClass:"ui-jqdialog"},dlog_opts:function(e){var t={};return t[e.bSubmit]=function(){e.apply_perm(),e.cleanup(!1)},t[e.bCancel]=function(){e.cleanup(!0)},$.extend(!0,{buttons:t,close:function(){e.cleanup(!0)},modal:e.modal||!1,resizable:e.resizable||!0,width:e.width+70,resize:function(){var e=f(o),t=e.container.closest(".ui-dialog-content");t.length>0&&"object"==typeof t[0].style?t[0].style.width="":t.css("width",""),e.selectedList.height(Math.max(e.selectedContainer.height()-e.selectedActions.outerHeight()-1,1)),e.availableList.height(Math.max(e.availableContainer.height()-e.availableActions.outerHeight()-1,1))}},e.dialog_opts||{})},apply_perm:function(){var i=[];$("option",o).each(function(){$(this).is("[selected]")?p.jqGrid("showCol",g[this.value].name):p.jqGrid("hideCol",g[this.value].name)}),$("option[selected]",o).each(function(){i.push(parseInt(this.value,10))}),$.each(i,function(){delete c[g[parseInt(this,10)].name]}),$.each(c,function(){var e=parseInt(this,10);i=t(i,e,e)}),e.done&&e.done.call(p,i),p.jqGrid("setGridWidth",p[0].p.width,p[0].p.shrinkToFit)},cleanup:function(t){i(e.dlog,r,"destroy"),i(e.msel,o,"destroy"),r.remove(),t&&e.done&&e.done.call(p)},msel_opts:{}},m,e||{}),$.ui&&$.ui.multiselect&&$.ui.multiselect.defaults){if(!$.jgrid._multiselect){return void alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!")}e.msel_opts=$.extend($.ui.multiselect.defaults,e.msel_opts)}e.caption&&r.attr("title",e.caption),e.classname&&(r.addClass(e.classname),o.addClass(e.classname)),e.width&&($(">div",r).css({width:e.width,margin:"0 auto"}),o.css("width",e.width)),e.height&&($(">div",r).css("height",e.height),o.css("height",e.height-10)),o.empty(),$.each(g,function(e){return c[this.name]=e,this.hidedlg?void (this.hidden||u.push(e)):void o.append("<option value='"+e+"' "+(this.hidden?"":"selected='selected'")+">"+$.jgrid.stripHtml(h[e])+"</option>")}),a=$.isFunction(e.dlog_opts)?e.dlog_opts.call(p,e):e.dlog_opts,i(e.dlog,r,a),s=$.isFunction(e.msel_opts)?e.msel_opts.call(p,e):e.msel_opts,i(e.msel,o,s),n=$("#colchooser_"+$.jgrid.jqID(p[0].p.id)),n.css({margin:"auto"}),n.find(">div").css({width:"100%",height:"100%",margin:"auto"}),l=f(o),l.container.css({width:"100%",height:"100%",margin:"auto"}),l.selectedContainer.css({width:100*l.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),l.availableContainer.css({width:100-100*l.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),l.selectedList.css("height","auto"),l.availableList.css("height","auto"),d=Math.max(l.selectedList.height(),l.availableList.height()),d=Math.min(d,$(window).height()),l.selectedList.css("height",d),l.availableList.css("height",d)}},sortableRows:function(e){return this.each(function(){var t=this;t.grid&&(t.p.treeGrid||$.fn.sortable&&(e=$.extend({cursor:"move",axis:"y",items:" > .jqgrow"},e||{}),e.start&&$.isFunction(e.start)?(e._start_=e.start,delete e.start):e._start_=!1,e.update&&$.isFunction(e.update)?(e._update_=e.update,delete e.update):e._update_=!1,e.start=function(i,r){if($(r.item).css("border-width","0"),$("td",r.item).each(function(e){this.style.width=t.grid.cols[e].style.width}),t.p.subGrid){var o=$(r.item).attr("id");try{$(t).jqGrid("collapseSubGridRow",o)}catch(a){}}e._start_&&e._start_.apply(this,[i,r])},e.update=function(i,r){$(r.item).css("border-width",""),t.p.rownumbers===!0&&$("td.jqgrid-rownum",t.rows).each(function(e){$(this).html(e+1+(parseInt(t.p.page,10)-1)*parseInt(t.p.rowNum,10))}),e._update_&&e._update_.apply(this,[i,r])},$("tbody:first",t).sortable(e),$("tbody:first > .jqgrow",t).disableSelection()))})},gridDnD:function(e){return this.each(function(){function t(){var e=$.data(o,"dnd");$("tr.jqgrow:not(.ui-draggable)",o).draggable($.isFunction(e.drag)?e.drag.call($(o),e):e.drag)}var i,r,o=this;if(o.grid&&!o.p.treeGrid&&$.fn.draggable&&$.fn.droppable){var a="<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>";if(void 0===$("#jqgrid_dnd")[0]&&$("body").append(a),"string"==typeof e&&"updateDnD"===e&&o.p.jqgdnd===!0){return void t()}if(e=$.extend({drag:function(e){return $.extend({start:function(t,i){var r,a;if(o.p.subGrid){a=$(i.helper).attr("id");try{$(o).jqGrid("collapseSubGridRow",a)}catch(s){}}for(r=0;r<$.data(o,"dnd").connectWith.length;r++){0===$($.data(o,"dnd").connectWith[r]).jqGrid("getGridParam","reccount")&&$($.data(o,"dnd").connectWith[r]).jqGrid("addRowData","jqg_empty_row",{})}i.helper.addClass("ui-state-highlight"),$("td",i.helper).each(function(e){this.style.width=o.grid.headers[e].width+"px"}),e.onstart&&$.isFunction(e.onstart)&&e.onstart.call($(o),t,i)},stop:function(t,i){var r,a;for(i.helper.dropped&&!e.dragcopy&&(a=$(i.helper).attr("id"),void 0===a&&(a=$(this).attr("id")),$(o).jqGrid("delRowData",a)),r=0;r<$.data(o,"dnd").connectWith.length;r++){$($.data(o,"dnd").connectWith[r]).jqGrid("delRowData","jqg_empty_row")}e.onstop&&$.isFunction(e.onstop)&&e.onstop.call($(o),t,i)}},e.drag_opts||{})},drop:function(e){return $.extend({accept:function(e){if(!$(e).hasClass("jqgrow")){return e}var t=$(e).closest("table.ui-jqgrid-btable");if(t.length>0&&void 0!==$.data(t[0],"dnd")){var i=$.data(t[0],"dnd").connectWith;return -1!==$.inArray("#"+$.jgrid.jqID(this.id),i)?!0:!1}return !1},drop:function(t,i){if($(i.draggable).hasClass("jqgrow")){var r=$(i.draggable).attr("id"),a=i.draggable.parent().parent().jqGrid("getRowData",r);if(!e.dropbyname){var s,n,l=0,d={},p=$("#"+$.jgrid.jqID(this.id)).jqGrid("getGridParam","colModel");try{for(n in a){a.hasOwnProperty(n)&&(s=p[l].name,"cb"!==s&&"rn"!==s&&"subgrid"!==s&&a.hasOwnProperty(n)&&p[l]&&(d[s]=a[n]),l++)}a=d}catch(c){}}if(i.helper.dropped=!0,e.beforedrop&&$.isFunction(e.beforedrop)){var u=e.beforedrop.call(this,t,i,a,$("#"+$.jgrid.jqID(o.p.id)),$(this));void 0!==u&&null!==u&&"object"==typeof u&&(a=u)}if(i.helper.dropped){var g;e.autoid&&($.isFunction(e.autoid)?g=e.autoid.call(this,a):(g=Math.ceil(1000*Math.random()),g=e.autoidprefix+g)),$("#"+$.jgrid.jqID(this.id)).jqGrid("addRowData",g,a,e.droppos)}e.ondrop&&$.isFunction(e.ondrop)&&e.ondrop.call(this,t,i,a)}}},e.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5000},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},e||{}),e.connectWith){for(e.connectWith=e.connectWith.split(","),e.connectWith=$.map(e.connectWith,function(e){return $.trim(e)}),$.data(o,"dnd",e),0===o.p.reccount||o.p.jqgdnd||t(),o.p.jqgdnd=!0,i=0;i<e.connectWith.length;i++){r=e.connectWith[i],$(r).droppable($.isFunction(e.drop)?e.drop.call($(o),e):e.drop)}}}})},gridResize:function(opts){return this.each(function(){var $t=this,gID=$.jgrid.jqID($t.p.id),req;if($t.grid&&$.fn.resizable){if(opts=$.extend({},opts||{}),opts.alsoResize?(opts._alsoResize_=opts.alsoResize,delete opts.alsoResize):opts._alsoResize_=!1,opts.stop&&$.isFunction(opts.stop)?(opts._stop_=opts.stop,delete opts.stop):opts._stop_=!1,opts.stop=function(e,t){$($t).jqGrid("setGridParam",{height:$("#gview_"+gID+" .ui-jqgrid-bdiv").height()}),$($t).jqGrid("setGridWidth",t.size.width,opts.shrinkToFit),opts._stop_&&opts._stop_.call($t,e,t),$t.p.caption&&$("#gbox_"+gID).css({height:"auto"}),$t.p.frozenColumns&&(req&&clearTimeout(req),req=setTimeout(function(){req&&clearTimeout(req),$("#"+gID).jqGrid("destroyFrozenColumns"),$("#"+gID).jqGrid("setFrozenColumns")}))},opts._alsoResize_){var optstest="{'#gview_"+gID+" .ui-jqgrid-bdiv':true,'"+opts._alsoResize_+"':true}";opts.alsoResize=eval("("+optstest+")")}else{opts.alsoResize=$(".ui-jqgrid-bdiv","#gview_"+gID)}delete opts._alsoResize_,$("#gbox_"+gID).resizable(opts)}})}}),$.assocArraySize=function(e){var t,i=0;for(t in e){e.hasOwnProperty(t)&&i++}return i},$.jgrid.extend({pivotSetup:function(e,t){var i=[],r=[],o=[],a=[],s=[],n={grouping:!0,groupingView:{groupField:[],groupSummary:[],groupSummaryPos:[]}},l=[],d=$.extend({rowTotals:!1,rowTotalsText:"Total",colTotals:!1,groupSummary:!0,groupSummaryPos:"header",frozenStaticCols:!1},t||{});return this.each(function(){function t(e,t,i){var r;return r=_pivotfilter.call(e,t,i),r.length>0?r[0]:null}function p(e,t){var i,r=0,o=!0;for(i in e){if(e.hasOwnProperty(i)){if(e[i]!=this[r]){o=!1;break}if(r++,r>=this.length){break}}}return o&&(f=t),o}function c(e,t,i,r){var o;switch(e){case"sum":o=parseFloat(t||0)+parseFloat(r[i]||0);break;case"count":(""===t||null==t)&&(t=0),o=r.hasOwnProperty(i)?t+1:0;break;case"min":o=""===t||null==t?parseFloat(r[i]||0):Math.min(parseFloat(t),parseFloat(r[i]||0));break;case"max":o=""===t||null==t?parseFloat(r[i]||0):Math.max(parseFloat(t),parseFloat(r[i]||0))}return o}function u(e,t,i,r){var o,n,l,d,p=t.length,u="",g=[];for($.isArray(i)?(d=i.length,g=i):(d=1,g[0]=i),a=[],s=[],a.root=0,l=0;d>l;l++){var h,f=[];for(o=0;p>o;o++){if(null==i){n=$.trim(t[o].member)+"_"+t[o].aggregator,h=n,g[0]=t[o].label||t[o].aggregator+" "+$.trim(t[o].member)}else{h=i[l].replace(/\s+/g,"");try{n=1===p?u+h:u+h+"_"+t[o].aggregator+"_"+String(o)}catch(m){}g[l]=i[l]}n=isNaN(parseInt(n,10))?n:n+" ",r[n]=f[n]=c(t[o].aggregator,r[n],t[o].member,e),1>=l&&"_r_Totals"!==h&&""===u&&(u=h)}a[n]=f,s[n]=g[l]}return r}function g(e){var t,r,o,a,s;for(o in e){if(e.hasOwnProperty(o)){if("object"!=typeof e[o]){if("level"===o){if(void 0===T[e.level]&&(T[e.level]="",e.level>0&&-1===e.text.indexOf("_r_Totals")&&(l[e.level-1]={useColSpanStyle:!1,groupHeaders:[]})),T[e.level]!==e.text&&e.children.length&&-1===e.text.indexOf("_r_Totals")&&e.level>0){l[e.level-1].groupHeaders.push({titleText:e.label,numberOfColumns:0});var n=l[e.level-1].groupHeaders.length-1,p=0===n?P:O+b;if(e.level-1===(d.rowTotals?1:0)&&n>0){for(var c=0,u=0;n>u;u++){c+=l[e.level-1].groupHeaders[u].numberOfColumns}c&&(p=c+v)}i[p]&&(l[e.level-1].groupHeaders[n].startColumnName=i[p].name,l[e.level-1].groupHeaders[n].numberOfColumns=i.length-p),O=i.length}T[e.level]=e.text}if(e.level===j&&"level"===o&&j>0){if(b>1){var h=1;for(t in e.fields){e.fields.hasOwnProperty(t)&&(1===h&&l[j-1].groupHeaders.push({startColumnName:t,numberOfColumns:1,titleText:e.label||e.text}),h++)}l[j-1].groupHeaders[l[j-1].groupHeaders.length-1].numberOfColumns=h-1}else{l.splice(j-1,1)}}}if(null!=e[o]&&"object"==typeof e[o]&&g(e[o]),"level"===o&&e.level>0&&(e.level===(0===j?e.level:j)||-1!==T[e.level].indexOf("_r_Totals"))){r=0;for(t in e.fields){if(e.fields.hasOwnProperty(t)){s={};for(a in d.aggregates[r]){if(d.aggregates[r].hasOwnProperty(a)){switch(a){case"member":case"label":case"aggregator":break;default:s[a]=d.aggregates[r][a]}}}b>1?(s.name=t,s.label=d.aggregates[r].label||e.label):(s.name=e.text,s.label="_r_Totals"===e.text?d.rowTotalsText:e.label),i.push(s),r++}}}}}}var h,f,m,v,j,b,w,y,_=e.length,x=0;if(d.rowTotals&&d.yDimension.length>0){var q=d.yDimension[0].dataName;d.yDimension.splice(0,0,{dataName:q}),d.yDimension[0].converter=function(){return"_r_Totals"}}if(v=$.isArray(d.xDimension)?d.xDimension.length:0,j=d.yDimension.length,b=$.isArray(d.aggregates)?d.aggregates.length:0,0===v||0===b){throw"xDimension or aggregates optiona are not set!"}var D;for(m=0;v>m;m++){D={name:d.xDimension[m].dataName,frozen:d.frozenStaticCols},null==d.xDimension[m].isGroupField&&(d.xDimension[m].isGroupField=!0),D=$.extend(!0,D,d.xDimension[m]),i.push(D)}for(var C=v-1,I={};_>x;){h=e[x];var G=[],F=[];w={},m=0;do{G[m]=$.trim(h[d.xDimension[m].dataName]),w[d.xDimension[m].dataName]=G[m],m++}while(v>m);var S=0;if(f=-1,y=t(r,p,G)){if(f>=0){if(S=0,j>=1){for(S=0;j>S;S++){F[S]=$.trim(h[d.yDimension[S].dataName]),d.yDimension[S].converter&&$.isFunction(d.yDimension[S].converter)&&(F[S]=d.yDimension[S].converter.call(this,F[S],G,F))}y=u(h,d.aggregates,F,y)}else{0===j&&(y=u(h,d.aggregates,null,y))}r[f]=y}}else{if(S=0,j>=1){for(S=0;j>S;S++){F[S]=$.trim(h[d.yDimension[S].dataName]),d.yDimension[S].converter&&$.isFunction(d.yDimension[S].converter)&&(F[S]=d.yDimension[S].converter.call(this,F[S],G,F))}w=u(h,d.aggregates,F,w)}else{0===j&&(w=u(h,d.aggregates,null,w))}r.push(w)}var k,R=0,M=null,N=null;for(k in a){if(a.hasOwnProperty(k)){if(0===R){I.children&&void 0!==I.children||(I={text:k,level:0,children:[],label:k}),M=I.children}else{for(N=null,m=0;m<M.length;m++){if(M[m].text===k){N=M[m];break}}N?M=N.children:(M.push({children:[],text:k,level:R,fields:a[k],label:s[k]}),M=M[M.length-1].children)}R++}}x++}var T=[],O=i.length,P=O;j>0&&(l[j-1]={useColSpanStyle:!1,groupHeaders:[]}),g(I);var A;if(d.colTotals){for(var E=r.length;E--;){for(m=v;m<i.length;m++){A=i[m].name,o[A]?o[A]+=parseFloat(r[E][A]||0):o[A]=parseFloat(r[E][A]||0)}}}if(C>0){for(m=0;C>m;m++){i[m].isGroupField&&(n.groupingView.groupField.push(i[m].name),n.groupingView.groupSummary.push(d.groupSummary),n.groupingView.groupSummaryPos.push(d.groupSummaryPos))}}else{n.grouping=!1}n.sortname=i[C].name,n.groupingView.hideFirstGroupCol=!0}),{colModel:i,rows:r,groupOptions:n,groupHeaders:l,summary:o}},jqPivot:function(e,t,i,r){return this.each(function(){function o(e){var r,o=jQuery(a).jqGrid("pivotSetup",e,t),s=$.assocArraySize(o.summary)>0?!0:!1,n=$.jgrid.from.call(a,o.rows);for(r=0;r<o.groupOptions.groupingView.groupField.length;r++){n.orderBy(o.groupOptions.groupingView.groupField[r],"a","text","")}jQuery(a).jqGrid($.extend(!0,{datastr:$.extend(n.select(),s?{userdata:o.summary}:{}),datatype:"jsonstring",footerrow:s,userDataOnFooter:s,colModel:o.colModel,viewrecords:!0,sortname:t.xDimension[0].dataName},o.groupOptions,i||{}));var l=o.groupHeaders;if(l.length){for(r=0;r<l.length;r++){l[r]&&l[r].groupHeaders.length&&jQuery(a).jqGrid("setGroupHeaders",l[r])}}t.frozenStaticCols&&jQuery(a).jqGrid("setFrozenColumns")}var a=this;"string"==typeof e?$.ajax($.extend({url:e,dataType:"json",success:function(e){o($.jgrid.getAccessor(e,r&&r.reader?r.reader:"rows"))}},r||{})):o(e)})}}),$.jgrid.extend({setSubGrid:function(){return this.each(function(){var e,t,i=this,r=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].subgrid,o={plusicon:r.icon_plus,minusicon:r.icon_minus,openicon:r.icon_open,expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,selectOnCollapse:!1,reloadOnExpand:!0};if(i.p.subGridOptions=$.extend(o,i.p.subGridOptions||{}),i.p.colNames.unshift(""),i.p.colModel.unshift({name:"subgrid",width:$.jgrid.cell_width?i.p.subGridWidth+i.p.cellLayout:i.p.subGridWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0}),e=i.p.subGridModel,e[0]){for(e[0].align=$.extend([],e[0].align||[]),t=0;t<e[0].name.length;t++){e[0].align[t]=e[0].align[t]||"left"}}})},addSubGridCell:function(e,t){var i,r,o,a="";return this.each(function(){a=this.formatCol(e,t),r=this.p.id,i=this.p.subGridOptions.plusicon,o=$.jgrid.styleUI[this.p.styleUI||"jQueryUI"].common}),'<td role="gridcell" aria-describedby="'+r+'_subgrid" class="ui-sgcollapsed sgcollapsed" '+a+"><a style='cursor:pointer;' class='ui-sghref'><span class='"+o.icon_base+" "+i+"'></span></a></td>"},addSubGrid:function(e,t){return this.each(function(){var i=this;if(i.grid){var r,o,a,s,n,l=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].base,d=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].common,p=function(e,t,r){var o=$("<td align='"+i.p.subGridModel[0].align[r]+"'></td>").html(t);$(e).append(o)},c=function(e,t){var r,o,a,s=$("<table class='"+l.rowTable+" ui-common-table'><tbody></tbody></table>"),n=$("<tr></tr>");for(o=0;o<i.p.subGridModel[0].name.length;o++){r=$("<th class='"+l.headerBox+" ui-th-subgrid ui-th-column ui-th-"+i.p.direction+"'></th>"),$(r).html(i.p.subGridModel[0].name[o]),$(r).width(i.p.subGridModel[0].width[o]),$(n).append(r)}$(s).append(n),e&&(a=i.p.xmlReader.subgrid,$(a.root+" "+a.row,e).each(function(){if(n=$("<tr class='"+d.content+" ui-subtblcell'></tr>"),a.repeatitems===!0){$(a.cell,this).each(function(e){p(n,$(this).text()||"&#160;",e)})}else{var e=i.p.subGridModel[0].mapping||i.p.subGridModel[0].name;if(e){for(o=0;o<e.length;o++){p(n,$(e[o],this).text()||"&#160;",o)}}}$(s).append(n)}));var c=$("table:first",i.grid.bDiv).attr("id")+"_";return $("#"+$.jgrid.jqID(c+t)).append(s),i.grid.hDiv.loading=!1,$("#load_"+$.jgrid.jqID(i.p.id)).hide(),!1},u=function(e,t){var r,o,a,s,n,c,u=$("<table class='"+l.rowTable+" ui-common-table'><tbody></tbody></table>"),g=$("<tr></tr>");for(a=0;a<i.p.subGridModel[0].name.length;a++){r=$("<th class='"+l.headerBox+" ui-th-subgrid ui-th-column ui-th-"+i.p.direction+"'></th>"),$(r).html(i.p.subGridModel[0].name[a]),$(r).width(i.p.subGridModel[0].width[a]),$(g).append(r)}if($(u).append(g),e&&(n=i.p.jsonReader.subgrid,o=$.jgrid.getAccessor(e,n.root),void 0!==o)){for(a=0;a<o.length;a++){if(s=o[a],g=$("<tr class='"+d.content+" ui-subtblcell'></tr>"),n.repeatitems===!0){for(n.cell&&(s=s[n.cell]),c=0;c<s.length;c++){p(g,s[c]||"&#160;",c)}}else{var h=i.p.subGridModel[0].mapping||i.p.subGridModel[0].name;if(h.length){for(c=0;c<h.length;c++){p(g,s[h[c]]||"&#160;",c)}}}$(u).append(g)}}var f=$("table:first",i.grid.bDiv).attr("id")+"_";return $("#"+$.jgrid.jqID(f+t)).append(u),i.grid.hDiv.loading=!1,$("#load_"+$.jgrid.jqID(i.p.id)).hide(),!1},g=function(e){var t,r,o,a;if(t=$(e).attr("id"),r={nd_:(new Date).getTime()},r[i.p.prmNames.subgridid]=t,!i.p.subGridModel[0]){return !1}if(i.p.subGridModel[0].params){for(a=0;a<i.p.subGridModel[0].params.length;a++){for(o=0;o<i.p.colModel.length;o++){i.p.colModel[o].name===i.p.subGridModel[0].params[a]&&(r[i.p.colModel[o].name]=$("td:eq("+o+")",e).text().replace(/\&#160\;/gi,""))}}}if(!i.grid.hDiv.loading){switch(i.grid.hDiv.loading=!0,$("#load_"+$.jgrid.jqID(i.p.id)).show(),i.p.subgridtype||(i.p.subgridtype=i.p.datatype),$.isFunction(i.p.subgridtype)?i.p.subgridtype.call(i,r):i.p.subgridtype=i.p.subgridtype.toLowerCase(),i.p.subgridtype){case"xml":case"json":$.ajax($.extend({type:i.p.mtype,url:$.isFunction(i.p.subGridUrl)?i.p.subGridUrl.call(i,r):i.p.subGridUrl,dataType:i.p.subgridtype,data:$.isFunction(i.p.serializeSubGridData)?i.p.serializeSubGridData.call(i,r):r,complete:function(e){"xml"===i.p.subgridtype?c(e.responseXML,t):u($.jgrid.parse(e.responseText),t),e=null}},$.jgrid.ajaxOptions,i.p.ajaxSubgridOptions||{}))}}return !1},h=0;$.each(i.p.colModel,function(){(this.hidden===!0||"rn"===this.name||"cb"===this.name)&&h++});var f=i.rows.length,m=1;for(void 0!==t&&t>0&&(m=t,f=t+1);f>m;){$(i.rows[m]).hasClass("jqgrow")&&(i.p.scroll&&$(i.rows[m].cells[e]).unbind("click"),$(i.rows[m].cells[e]).bind("click",function(){var t=$(this).parent("tr")[0];if(o=i.p.id,r=t.id,n=$("#"+o+"_"+r+"_expandedContent"),$(this).hasClass("sgcollapsed")){if(s=$(i).triggerHandler("jqGridSubGridBeforeExpand",[o+"_"+r,r]),s=s===!1||"stop"===s?!1:!0,s&&$.isFunction(i.p.subGridBeforeExpand)&&(s=i.p.subGridBeforeExpand.call(i,o+"_"+r,r)),s===!1){return !1}i.p.subGridOptions.reloadOnExpand===!0||i.p.subGridOptions.reloadOnExpand===!1&&!n.hasClass("ui-subgrid")?(a=e>=1?"<td colspan='"+e+"'>&#160;</td>":"",$(t).after("<tr role='row' id='"+o+"_"+r+"_expandedContent' class='ui-subgrid ui-sg-expanded'>"+a+"<td class='"+d.content+" subgrid-cell'><span class='"+d.icon_base+" "+i.p.subGridOptions.openicon+"'></span></td><td colspan='"+parseInt(i.p.colNames.length-1-h,10)+"' class='"+d.content+" subgrid-data'><div id="+o+"_"+r+" class='tablediv'></div></td></tr>"),$(i).triggerHandler("jqGridSubGridRowExpanded",[o+"_"+r,r]),$.isFunction(i.p.subGridRowExpanded)?i.p.subGridRowExpanded.call(i,o+"_"+r,r):g(t)):n.show().removeClass("ui-sg-collapsed").addClass("ui-sg-expanded"),$(this).html("<a style='cursor:pointer;' class='ui-sghref'><span class='"+d.icon_base+" "+i.p.subGridOptions.minusicon+"'></span></a>").removeClass("sgcollapsed").addClass("sgexpanded"),i.p.subGridOptions.selectOnExpand&&$(i).jqGrid("setSelection",r)}else{if($(this).hasClass("sgexpanded")){if(s=$(i).triggerHandler("jqGridSubGridRowColapsed",[o+"_"+r,r]),s=s===!1||"stop"===s?!1:!0,s&&$.isFunction(i.p.subGridRowColapsed)&&(s=i.p.subGridRowColapsed.call(i,o+"_"+r,r)),s===!1){return !1}i.p.subGridOptions.reloadOnExpand===!0?n.remove(".ui-subgrid"):n.hasClass("ui-subgrid")&&n.hide().addClass("ui-sg-collapsed").removeClass("ui-sg-expanded"),$(this).html("<a style='cursor:pointer;' class='ui-sghref'><span class='"+d.icon_base+" "+i.p.subGridOptions.plusicon+"'></span></a>").removeClass("sgexpanded").addClass("sgcollapsed"),i.p.subGridOptions.selectOnCollapse&&$(i).jqGrid("setSelection",r)}}return !1})),m++}i.p.subGridOptions.expandOnLoad===!0&&$(i.rows).filter(".jqgrow").each(function(e,t){$(t.cells[0]).click()}),i.subGridXml=function(e,t){c(e,t)},i.subGridJson=function(e,t){u(e,t)}}})},expandSubGridRow:function(e){return this.each(function(){var t=this;if((t.grid||e)&&t.p.subGrid===!0){var i=$(this).jqGrid("getInd",e,!0);if(i){var r=$("td.sgcollapsed",i)[0];r&&$(r).trigger("click")}}})},collapseSubGridRow:function(e){return this.each(function(){var t=this;if((t.grid||e)&&t.p.subGrid===!0){var i=$(this).jqGrid("getInd",e,!0);if(i){var r=$("td.sgexpanded",i)[0];r&&$(r).trigger("click")}}})},toggleSubGridRow:function(e){return this.each(function(){var t=this;if((t.grid||e)&&t.p.subGrid===!0){var i=$(this).jqGrid("getInd",e,!0);if(i){var r=$("td.sgcollapsed",i)[0];r?$(r).trigger("click"):(r=$("td.sgexpanded",i)[0],r&&$(r).trigger("click"))}}})}}),$.jgrid.extend({setTreeNode:function(e,t){return this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){for(var r,o,a,s,n,l,d,p,c=i.p.expColInd,u=i.p.treeReader.expanded_field,g=i.p.treeReader.leaf_field,h=i.p.treeReader.level_field,f=i.p.treeReader.icon_field,m=i.p.treeReader.loaded,v=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].common;t>e;){var j,b=$.jgrid.stripPref(i.p.idPrefix,i.rows[e].id),w=i.p._index[b];d=i.p.data[w],"nested"===i.p.treeGridModel&&(d[g]||(r=parseInt(d[i.p.treeReader.left_field],10),o=parseInt(d[i.p.treeReader.right_field],10),d[g]=o===r+1?"true":"false",i.rows[e].cells[i.p._treeleafpos].innerHTML=d[g])),a=parseInt(d[h],10),0===i.p.tree_root_level?(s=a+1,n=a):(s=a,n=a-1),l="<div class='tree-wrap tree-wrap-"+i.p.direction+"' style='width:"+18*s+"px;'>",l+="<div style='"+("rtl"===i.p.direction?"right:":"left:")+18*n+"px;' class='"+v.icon_base+" ",void 0!==d[m]&&(d[m]="true"===d[m]||d[m]===!0?!0:!1),"true"===d[g]||d[g]===!0?(l+=(void 0!==d[f]&&""!==d[f]?d[f]:i.p.treeIcons.leaf)+" tree-leaf treeclick",d[g]=!0,p="leaf"):(d[g]=!1,p=""),d[u]=("true"===d[u]||d[u]===!0?!0:!1)&&(d[m]||void 0===d[m]),l+=d[u]===!1?d[g]===!0?"'":i.p.treeIcons.plus+" tree-plus treeclick'":d[g]===!0?"'":i.p.treeIcons.minus+" tree-minus treeclick'",l+="></div></div>",$(i.rows[e].cells[c]).wrapInner("<span class='cell-wrapper"+p+"'></span>").prepend(l),a!==parseInt(i.p.tree_root_level,10)&&(j=$(i).jqGrid("isVisibleNode",d),j||$(i.rows[e]).css("display","none")),$(i.rows[e].cells[c]).find("div.treeclick").bind("click",function(e){var t=e.target||e.srcElement,r=$.jgrid.stripPref(i.p.idPrefix,$(t,i.rows).closest("tr.jqgrow")[0].id),o=i.p._index[r];return i.p.data[o][g]||(i.p.data[o][u]?($(i).jqGrid("collapseRow",i.p.data[o]),$(i).jqGrid("collapseNode",i.p.data[o])):($(i).jqGrid("expandRow",i.p.data[o]),$(i).jqGrid("expandNode",i.p.data[o]))),!1}),i.p.ExpandColClick===!0&&$(i.rows[e].cells[c]).find("span.cell-wrapper").css("cursor","pointer").bind("click",function(e){var t=e.target||e.srcElement,r=$.jgrid.stripPref(i.p.idPrefix,$(t,i.rows).closest("tr.jqgrow")[0].id),o=i.p._index[r];return i.p.data[o][g]||(i.p.data[o][u]?($(i).jqGrid("collapseRow",i.p.data[o]),$(i).jqGrid("collapseNode",i.p.data[o])):($(i).jqGrid("expandRow",i.p.data[o]),$(i).jqGrid("expandNode",i.p.data[o]))),$(i).jqGrid("setSelection",r),!1}),e++}}})},setTreeGrid:function(){return this.each(function(){var e,t,i,r,o=this,a=0,s=!1,n=[],l=$.jgrid.styleUI[o.p.styleUI||"jQueryUI"].treegrid;if(o.p.treeGrid){o.p.treedatatype||$.extend(o.p,{treedatatype:o.p.datatype}),o.p.loadonce&&(o.p.treedatatype="local"),o.p.subGrid=!1,o.p.altRows=!1,o.p.pgbuttons=!1,o.p.pginput=!1,o.p.gridview=!0,null===o.p.rowTotal&&(o.p.rowNum=10000),o.p.multiselect=!1,o.p.rowList=[],o.p.expColInd=0,e=l.icon_plus,"jQueryUI"===o.p.styleUI&&(e+="rtl"===o.p.direction?"w":"e"),o.p.treeIcons=$.extend({plus:e,minus:l.icon_minus,leaf:l.icon_leaf},o.p.treeIcons||{}),"nested"===o.p.treeGridModel?o.p.treeReader=$.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},o.p.treeReader):"adjacency"===o.p.treeGridModel&&(o.p.treeReader=$.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},o.p.treeReader));for(i in o.p.colModel){if(o.p.colModel.hasOwnProperty(i)){t=o.p.colModel[i].name,t!==o.p.ExpandColumn||s||(s=!0,o.p.expColInd=a),a++;for(r in o.p.treeReader){o.p.treeReader.hasOwnProperty(r)&&o.p.treeReader[r]===t&&n.push(t)}}}$.each(o.p.treeReader,function(e,t){t&&-1===$.inArray(t,n)&&("leaf_field"===e&&(o.p._treeleafpos=a),a++,o.p.colNames.push(t),o.p.colModel.push({name:t,width:1,hidden:!0,sortable:!1,resizable:!1,hidedlg:!0,editable:!0,search:!1}))})}})},expandRow:function(e){this.each(function(){var t=this;if(t.grid&&t.p.treeGrid){var i=$(t).jqGrid("getNodeChildren",e),r=t.p.treeReader.expanded_field,o=e[t.p.localReader.id],a=$.isFunction(t.p.beforeExpandTreeGridRow)?t.p.beforeExpandTreeGridRow.call(t,o,e,i):!0;a!==!1&&($(i).each(function(){var e=t.p.idPrefix+$.jgrid.getAccessor(this,t.p.localReader.id);$($(t).jqGrid("getGridRowById",e)).css("display",""),this[r]&&$(t).jqGrid("expandRow",this)}),$.isFunction(t.p.afterExpandTreeGridRow)&&t.p.afterExpandTreeGridRow.call(t,o,e,i))}})},collapseRow:function(e){this.each(function(){var t=this;if(t.grid&&t.p.treeGrid){var i=$(t).jqGrid("getNodeChildren",e),r=t.p.treeReader.expanded_field,o=e[t.p.localReader.id],a=$.isFunction(t.p.beforeCollapseTreeGridRow)?t.p.beforeCollapseTreeGridRow.call(t,o,e,i):!0;a!==!1&&($(i).each(function(){var e=t.p.idPrefix+$.jgrid.getAccessor(this,t.p.localReader.id);$($(t).jqGrid("getGridRowById",e)).css("display","none"),this[r]&&$(t).jqGrid("collapseRow",this)}),$.isFunction(t.p.afterCollapseTreeGridRow)&&t.p.afterCollapseTreeGridRow.call(t,o,e,i))}})},getRootNodes:function(e){var t=[];return this.each(function(){var i,r,o,a=this;if(a.grid&&a.p.treeGrid){switch("boolean"!=typeof e&&(e=!1),o=e?$(a).jqGrid("getRowData",null,!0):a.p.data,a.p.treeGridModel){case"nested":i=a.p.treeReader.level_field,$(o).each(function(){parseInt(this[i],10)===parseInt(a.p.tree_root_level,10)&&t.push(e?a.p.data[a.p._index[this[a.p.keyName]]]:this)});break;case"adjacency":r=a.p.treeReader.parent_id_field,$(o).each(function(){(null===this[r]||"null"===String(this[r]).toLowerCase())&&t.push(e?a.p.data[a.p._index[this[a.p.keyName]]]:this)})}}}),t},getNodeDepth:function(e){var t=null;return this.each(function(){if(this.grid&&this.p.treeGrid){var i=this;switch(i.p.treeGridModel){case"nested":var r=i.p.treeReader.level_field;t=parseInt(e[r],10)-parseInt(i.p.tree_root_level,10);break;case"adjacency":t=$(i).jqGrid("getNodeAncestors",e).length}}}),t},getNodeParent:function(e){var t=null;return this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){switch(i.p.treeGridModel){case"nested":var r=i.p.treeReader.left_field,o=i.p.treeReader.right_field,a=i.p.treeReader.level_field,s=parseInt(e[r],10),n=parseInt(e[o],10),l=parseInt(e[a],10);$(this.p.data).each(function(){return parseInt(this[a],10)===l-1&&parseInt(this[r],10)<s&&parseInt(this[o],10)>n?(t=this,!1):void 0});break;case"adjacency":for(var d=i.p.treeReader.parent_id_field,p=i.p.localReader.id,c=e[p],u=i.p._index[c];u--;){if(i.p.data[u][p]===$.jgrid.stripPref(i.p.idPrefix,e[d])){t=i.p.data[u];break}}}}}),t},getNodeChildren:function(e){var t=[];return this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){switch(i.p.treeGridModel){case"nested":var r=i.p.treeReader.left_field,o=i.p.treeReader.right_field,a=i.p.treeReader.level_field,s=parseInt(e[r],10),n=parseInt(e[o],10),l=parseInt(e[a],10);$(this.p.data).each(function(){parseInt(this[a],10)===l+1&&parseInt(this[r],10)>s&&parseInt(this[o],10)<n&&t.push(this)});break;case"adjacency":var d=i.p.treeReader.parent_id_field,p=i.p.localReader.id;$(this.p.data).each(function(){this[d]==$.jgrid.stripPref(i.p.idPrefix,e[p])&&t.push(this)})}}}),t},getFullTreeNode:function(e,t){var i=[];return this.each(function(){var r,o=this,a=o.p.treeReader.expanded_field;if(o.grid&&o.p.treeGrid){switch((null==t||"boolean"!=typeof t)&&(t=!1),o.p.treeGridModel){case"nested":var s=o.p.treeReader.left_field,n=o.p.treeReader.right_field,l=o.p.treeReader.level_field,d=parseInt(e[s],10),p=parseInt(e[n],10),c=parseInt(e[l],10);$(this.p.data).each(function(){parseInt(this[l],10)>=c&&parseInt(this[s],10)>=d&&parseInt(this[s],10)<=p&&(t&&(this[a]=!0),i.push(this))});break;case"adjacency":if(e){i.push(e);var u=o.p.treeReader.parent_id_field,g=o.p.localReader.id;$(this.p.data).each(function(e){for(r=i.length,e=0;r>e;e++){if($.jgrid.stripPref(o.p.idPrefix,i[e][g])===this[u]){t&&(this[a]=!0),i.push(this);break}}})}}}}),i},getNodeAncestors:function(e){var t=[];return this.each(function(){if(this.grid&&this.p.treeGrid){for(var i=$(this).jqGrid("getNodeParent",e);i;){t.push(i),i=$(this).jqGrid("getNodeParent",i)}}}),t},isVisibleNode:function(e){var t=!0;return this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var r=$(i).jqGrid("getNodeAncestors",e),o=i.p.treeReader.expanded_field;$(r).each(function(){return t=t&&this[o],t?void 0:!1})}}),t},isNodeLoaded:function(e){var t;return this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var r=i.p.treeReader.leaf_field,o=i.p.treeReader.loaded;t=void 0!==e?void 0!==e[o]?e[o]:e[r]||$(i).jqGrid("getNodeChildren",e).length>0?!0:!1:!1}}),t},reloadNode:function(e){return this.each(function(){if(this.grid&&this.p.treeGrid){var t=this.p.localReader.id,i=this.p.selrow;$(this).jqGrid("delChildren",e[t]);var r=this.p.treeReader.expanded_field,o=this.p.treeReader.parent_id_field,a=this.p.treeReader.loaded,s=this.p.treeReader.level_field,n=this.p.treeReader.left_field,l=this.p.treeReader.right_field,d=$.jgrid.getAccessor(e,this.p.localReader.id),p=$("#"+d,this.grid.bDiv)[0];e[r]=!0,$("div.treeclick",p).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=p.rowIndex,this.p.datatype=this.p.treedatatype,"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{postData:{nodeid:d,n_left:e[n],n_right:e[l],n_level:e[s]}}):$(this).jqGrid("setGridParam",{postData:{nodeid:d,parentid:e[o],n_level:e[s]}}),$(this).trigger("reloadGrid"),e[a]=!0,"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{selrow:i,postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):$(this).jqGrid("setGridParam",{selrow:i,postData:{nodeid:"",parentid:"",n_level:""}})}})},expandNode:function(e){return this.each(function(){if(this.grid&&this.p.treeGrid){var t=this.p.treeReader.expanded_field,i=this.p.treeReader.parent_id_field,r=this.p.treeReader.loaded,o=this.p.treeReader.level_field,a=this.p.treeReader.left_field,s=this.p.treeReader.right_field;if(!e[t]){var n=$.jgrid.getAccessor(e,this.p.localReader.id),l=$("#"+this.p.idPrefix+$.jgrid.jqID(n),this.grid.bDiv)[0],d=this.p._index[n],p=$.isFunction(this.p.beforeExpandTreeGridNode)?this.p.beforeExpandTreeGridNode.call(this,n,e):!0;if(p===!1){return}$(this).jqGrid("isNodeLoaded",this.p.data[d])?(e[t]=!0,$("div.treeclick",l).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus")):this.grid.hDiv.loading||(e[t]=!0,$("div.treeclick",l).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=l.rowIndex,this.p.datatype=this.p.treedatatype,"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{postData:{nodeid:n,n_left:e[a],n_right:e[s],n_level:e[o]}}):$(this).jqGrid("setGridParam",{postData:{nodeid:n,parentid:e[i],n_level:e[o]}}),$(this).trigger("reloadGrid"),e[r]=!0,"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):$(this).jqGrid("setGridParam",{postData:{nodeid:"",parentid:"",n_level:""}})),$.isFunction(this.p.afterExpandTreeGridNode)&&this.p.afterExpandTreeGridNode.call(this,n,e)}}})},collapseNode:function(e){return this.each(function(){if(this.grid&&this.p.treeGrid){var t=this.p.treeReader.expanded_field;if(e[t]){var i=$.jgrid.getAccessor(e,this.p.localReader.id),r=$.isFunction(this.p.beforeCollapseTreeGridNode)?this.p.beforeCollapseTreeGridNode.call(this,i,e):!0,o=$("#"+this.p.idPrefix+$.jgrid.jqID(i),this.grid.bDiv)[0];if(e[t]=!1,r===!1){return}$("div.treeclick",o).removeClass(this.p.treeIcons.minus+" tree-minus").addClass(this.p.treeIcons.plus+" tree-plus"),$.isFunction(this.p.afterCollapseTreeGridNode)&&this.p.afterCollapseTreeGridNode.call(this,i,e)}}})},SortTree:function(e,t,i,r){return this.each(function(){if(this.grid&&this.p.treeGrid){var o,a,s,n,l,d=[],p=this,c=$(this).jqGrid("getRootNodes",p.p.search);for(n=$.jgrid.from.call(this,c),n.orderBy(e,t,i,r),l=n.select(),o=0,a=l.length;a>o;o++){s=l[o],d.push(s),$(this).jqGrid("collectChildrenSortTree",d,s,e,t,i,r)}$.each(d,function(e){var t=$.jgrid.getAccessor(this,p.p.localReader.id);$("#"+$.jgrid.jqID(p.p.id)+" tbody tr:eq("+e+")").after($("tr#"+$.jgrid.jqID(t),p.grid.bDiv))}),n=null,l=null,d=null}})},searchTree:function(e){var t,i,r,o=e.length||0,a=[],s=[],n=[];return this.each(function(){if(this.grid&&this.p.treeGrid&&o){for(i=this.p.localReader.id,t=0;o>t;t++){a=$(this).jqGrid("getNodeAncestors",e[t]),a.length||a.push(e[t]),r=a[a.length-1][i],-1===$.inArray(r,s)&&(s.push(r),a=$(this).jqGrid("getFullTreeNode",a[a.length-1],!0),n=n.concat(a))}}}),n},collectChildrenSortTree:function(e,t,i,r,o,a){return this.each(function(){if(this.grid&&this.p.treeGrid){var s,n,l,d,p,c;for(d=$(this).jqGrid("getNodeChildren",t),p=$.jgrid.from.call(this,d),p.orderBy(i,r,o,a),c=p.select(),s=0,n=c.length;n>s;s++){l=c[s],e.push(l),$(this).jqGrid("collectChildrenSortTree",e,l,i,r,o,a)}}})},setTreeRow:function(e,t){var i=!1;return this.each(function(){var r=this;r.grid&&r.p.treeGrid&&(i=$(r).jqGrid("setRowData",e,t))}),i},delTreeNode:function(e){return this.each(function(){var t,i,r,o,a,s=this,n=s.p.localReader.id,l=s.p.treeReader.left_field,d=s.p.treeReader.right_field;if(s.grid&&s.p.treeGrid){var p=s.p._index[e];if(void 0!==p){i=parseInt(s.p.data[p][d],10),r=i-parseInt(s.p.data[p][l],10)+1;var c=$(s).jqGrid("getFullTreeNode",s.p.data[p]);if(c.length>0){for(t=0;t<c.length;t++){$(s).jqGrid("delRowData",c[t][n])}}if("nested"===s.p.treeGridModel){if(o=$.jgrid.from.call(s,s.p.data).greater(l,i,{stype:"integer"}).select(),o.length){for(a in o){o.hasOwnProperty(a)&&(o[a][l]=parseInt(o[a][l],10)-r)}}if(o=$.jgrid.from.call(s,s.p.data).greater(d,i,{stype:"integer"}).select(),o.length){for(a in o){o.hasOwnProperty(a)&&(o[a][d]=parseInt(o[a][d],10)-r)}}}}}})},delChildren:function(e){return this.each(function(){var t,i,r,o,a=this,s=a.p.localReader.id,n=a.p.treeReader.left_field,l=a.p.treeReader.right_field;if(a.grid&&a.p.treeGrid){var d=a.p._index[e];if(void 0!==d){t=parseInt(a.p.data[d][l],10),i=t-parseInt(a.p.data[d][n],10)+1;var p=$(a).jqGrid("getFullTreeNode",a.p.data[d]);if(p.length>0){for(var c=0;c<p.length;c++){p[c][s]!==e&&$(a).jqGrid("delRowData",p[c][s])}}if("nested"===a.p.treeGridModel){if(r=$.jgrid.from(a.p.data).greater(n,t,{stype:"integer"}).select(),r.length){for(o in r){r.hasOwnProperty(o)&&(r[o][n]=parseInt(r[o][n],10)-i)}}if(r=$.jgrid.from(a.p.data).greater(l,t,{stype:"integer"}).select(),r.length){for(o in r){r.hasOwnProperty(o)&&(r[o][l]=parseInt(r[o][l],10)-i)}}}}}})},addChildNode:function(e,t,i,r){var o=this[0];if(i){var a,s,n,l,d,p,c,u,g=o.p.treeReader.expanded_field,h=o.p.treeReader.leaf_field,f=o.p.treeReader.level_field,m=o.p.treeReader.parent_id_field,v=o.p.treeReader.left_field,j=o.p.treeReader.right_field,b=o.p.treeReader.loaded,w=0,y=t;if(void 0===r&&(r=!1),null==e){if(d=o.p.data.length-1,d>=0){for(;d>=0;){w=Math.max(w,parseInt(o.p.data[d][o.p.localReader.id],10)),d--}}e=w+1}var _=$(o).jqGrid("getInd",t);if(c=!1,void 0===t||null===t||""===t){t=null,y=null,a="last",l=o.p.tree_root_level,d=o.p.data.length+1}else{a="after",s=o.p._index[t],n=o.p.data[s],t=n[o.p.localReader.id],l=parseInt(n[f],10)+1;var x=$(o).jqGrid("getFullTreeNode",n);x.length?(d=x[x.length-1][o.p.localReader.id],y=d,d=$(o).jqGrid("getInd",y)+1):d=$(o).jqGrid("getInd",t)+1,n[h]&&(c=!0,n[g]=!0,$(o.rows[_]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(o.p.treeIcons.leaf+" tree-leaf").addClass(o.p.treeIcons.minus+" tree-minus"),o.p.data[s][h]=!1,n[b]=!0)}if(p=d+1,void 0===i[g]&&(i[g]=!1),void 0===i[b]&&(i[b]=!1),i[f]=l,void 0===i[h]&&(i[h]=!0),"adjacency"===o.p.treeGridModel&&(i[m]=t),"nested"===o.p.treeGridModel){var q,D,C;if(null!==t){if(u=parseInt(n[j],10),q=$.jgrid.from.call(o,o.p.data),q=q.greaterOrEquals(j,u,{stype:"integer"}),D=q.select(),D.length){for(C in D){D.hasOwnProperty(C)&&(D[C][v]=D[C][v]>u?parseInt(D[C][v],10)+2:D[C][v],D[C][j]=D[C][j]>=u?parseInt(D[C][j],10)+2:D[C][j])}}i[v]=u,i[j]=u+1}else{if(u=parseInt($(o).jqGrid("getCol",j,!1,"max"),10),D=$.jgrid.from.call(o,o.p.data).greater(v,u,{stype:"integer"}).select(),D.length){for(C in D){D.hasOwnProperty(C)&&(D[C][v]=parseInt(D[C][v],10)+2)}}if(D=$.jgrid.from.call(o,o.p.data).greater(j,u,{stype:"integer"}).select(),D.length){for(C in D){D.hasOwnProperty(C)&&(D[C][j]=parseInt(D[C][j],10)+2)}}i[v]=u+1,i[j]=u+2}}(null===t||$(o).jqGrid("isNodeLoaded",n)||c)&&($(o).jqGrid("addRowData",e,i,a,y),$(o).jqGrid("setTreeNode",d,p)),n&&!n[g]&&r&&$(o.rows[_]).find("div.treeclick").click()}}}),$.fn.jqDrag=function(e){return i(this,e,"d")},$.fn.jqResize=function(e,t){return i(this,e,"r",t)},$.jqDnR={dnr:{},e:0,drag:function(e){return"d"==M.k?E.css({left:M.X+e.pageX-M.pX,top:M.Y+e.pageY-M.pY}):(E.css({width:Math.max(e.pageX-M.pX+M.W,0),height:Math.max(e.pageY-M.pY+M.H,0)}),M1&&E1.css({width:Math.max(e.pageX-M1.pX+M1.W,0),height:Math.max(e.pageY-M1.pY+M1.H,0)})),!1},stop:function(){$(document).unbind("mousemove",J.drag).unbind("mouseup",J.stop)}};var J=$.jqDnR,M=J.dnr,E=J.e,E1,M1,i=function(e,t,i,r){return e.each(function(){t=t?$(t,e):e,t.bind("mousedown",{e:e,k:i},function(e){var t=e.data,i={};if(E=t.e,E1=r?$(r):!1,"relative"!=E.css("position")){try{E.position(i)}catch(o){}}if(M={X:i.left||f("left")||0,Y:i.top||f("top")||0,W:f("width")||E[0].scrollWidth||0,H:f("height")||E[0].scrollHeight||0,pX:e.pageX,pY:e.pageY,k:t.k},M1=E1&&"d"!=t.k?{X:i.left||f1("left")||0,Y:i.top||f1("top")||0,W:E1[0].offsetWidth||f1("width")||0,H:E1[0].offsetHeight||f1("height")||0,pX:e.pageX,pY:e.pageY,k:t.k}:!1,$("input.hasDatepicker",E[0])[0]){try{$("input.hasDatepicker",E[0]).datepicker("hide")}catch(a){}}return $(document).mousemove($.jqDnR.drag).mouseup($.jqDnR.stop),!1})})},f=function(e){return parseInt(E.css(e),10)||!1},f1=function(e){return parseInt(E1.css(e),10)||!1};$.fn.jqm=function(e){var t={overlay:50,closeoverlay:!0,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:F,ajaxText:"",target:F,modal:F,toTop:F,onShow:F,onHide:F,onLoad:F};return this.each(function(){return this._jqm?H[this._jqm].c=$.extend({},H[this._jqm].c,e):(s++,this._jqm=s,H[s]={c:$.extend(t,$.jqm.params,e),a:F,w:$(this).addClass("jqmID"+s),s:s},void (t.trigger&&$(this).jqmAddTrigger(t.trigger)))})},$.fn.jqmAddClose=function(e){return hs(this,e,"jqmHide")},$.fn.jqmAddTrigger=function(e){return hs(this,e,"jqmShow")},$.fn.jqmShow=function(e){return this.each(function(){$.jqm.open(this._jqm,e)})},$.fn.jqmHide=function(e){return this.each(function(){$.jqm.close(this._jqm,e)})},$.jqm={hash:{},open:function(t,i){var r=H[t],o=r.c,a="."+o.closeClass,s=parseInt(r.w.css("z-index"));s=s>0?s:3000;var n=$("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":s-1,opacity:o.overlay/100});if(r.a){return F}if(r.t=i,r.a=!0,r.w.css("z-index",s),o.modal?(A[0]||setTimeout(function(){new L("bind")},1),A.push(t)):o.overlay>0?o.closeoverlay&&r.w.jqmAddClose(n):n=F,r.o=n?n.addClass(o.overlayClass).prependTo("body"):F,o.ajax){var l=o.target||r.w,d=o.ajax;l="string"==typeof l?$(l,r.w):$(l),d="@"===d.substr(0,1)?$(i).attr(d.substring(1)):d,l.html(o.ajaxText).load(d,function(){o.onLoad&&o.onLoad.call(this,r),a&&r.w.jqmAddClose($(a,r.w)),e(r)})}else{a&&r.w.jqmAddClose($(a,r.w))}return o.toTop&&r.o&&r.w.before('<span id="jqmP'+r.w[0]._jqm+'"></span>').insertAfter(r.o),o.onShow?o.onShow(r):r.w.show(),e(r),F},close:function(e){var t=H[e];return t.a?(t.a=F,A[0]&&(A.pop(),A[0]||new L("unbind")),t.c.toTop&&t.o&&$("#jqmP"+t.w[0]._jqm).after(t.w).remove(),t.c.onHide?t.c.onHide(t):(t.w.hide(),t.o&&t.o.remove()),F):F},params:{}};var s=0,H=$.jqm.hash,A=[],F=!1,e=function(e){void 0===e.c.focusField&&(e.c.focusField=0),e.c.focusField>=0&&f(e)},f=function(e){try{$(":input:visible",e.w)[parseInt(e.c.focusField,10)].focus()}catch(t){}},L=function(e){$(document)[e]("keypress",m)[e]("keydown",m)[e]("mousedown",m)},m=function(e){var t=H[A[A.length-1]],i=!$(e.target).parents(".jqmID"+t.s)[0];return i&&($(".jqmID"+t.s).each(function(){var t=$(this),r=t.offset();return r.top<=e.pageY&&e.pageY<=r.top+t.height()&&r.left<=e.pageX&&e.pageX<=r.left+t.width()?(i=!1,!1):void 0}),f(t)),!i},hs=function(e,t,i){return e.each(function(){var e=this._jqm;$(t).each(function(){this[i]||(this[i]=[],$(this).click(function(){for(var e in {jqmShow:1,jqmHide:1}){for(var t in this[e]){H[this[e][t]]&&H[this[e][t]].w[e](this)}}return F})),this[i].push(e)})})};$.fmatter={},$.extend($.fmatter,{isBoolean:function(e){return"boolean"==typeof e},isObject:function(e){return e&&("object"==typeof e||$.isFunction(e))||!1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(e){return !this.isString(e)&&this.isValue(e)?!1:this.isValue(e)?(e=$.trim(e).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===e):!0}}),$.fn.fmatter=function(e,t,i,r,o){var a=t;i=$.extend({},$.jgrid.getRegional(this,"formatter"),i);try{a=$.fn.fmatter[e].call(this,t,i,r,o)}catch(s){}return a},$.fmatter.util={NumberFormat:function(e,t){if($.fmatter.isNumber(e)||(e*=1),$.fmatter.isNumber(e)){var i,r=0>e,o=String(e),a=t.decimalSeparator||".";if($.fmatter.isNumber(t.decimalPlaces)){var s=t.decimalPlaces,n=Math.pow(10,s);if(o=String(Math.round(e*n)/n),i=o.lastIndexOf("."),s>0){for(0>i?(o+=a,i=o.length-1):"."!==a&&(o=o.replace(".",a));o.length-1-i<s;){o+="0"}}}if(t.thousandsSeparator){var l=t.thousandsSeparator;i=o.lastIndexOf(a),i=i>-1?i:o.length;var d,p=o.substring(i),c=-1;for(d=i;d>0;d--){c++,c%3===0&&d!==i&&(!r||d>1)&&(p=l+p),p=o.charAt(d-1)+p}o=p}return o=t.prefix?t.prefix+o:o,o=t.suffix?o+t.suffix:o}return e}},$.fn.fmatter.defaultFormat=function(e,t){return $.fmatter.isValue(e)&&""!==e?e:t.defaultValue||"&#160;"},$.fn.fmatter.email=function(e,t){return $.fmatter.isEmpty(e)?$.fn.fmatter.defaultFormat(e,t):'<a href="mailto:'+e+'">'+e+"</a>"},$.fn.fmatter.checkbox=function(e,t){var i,r=$.extend({},t.checkbox);void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(r=$.extend({},r,t.colModel.formatoptions)),i=r.disabled===!0?'disabled="disabled"':"",($.fmatter.isEmpty(e)||void 0===e)&&(e=$.fn.fmatter.defaultFormat(e,r)),e=String(e),e=(e+"").toLowerCase();var o=e.search(/(false|f|0|no|n|off|undefined)/i)<0?" checked='checked' ":"";return'<input type="checkbox" '+o+' value="'+e+'" offval="no" '+i+"/>"},$.fn.fmatter.link=function(e,t){var i={target:t.target},r="";return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(i=$.extend({},i,t.colModel.formatoptions)),i.target&&(r="target="+i.target),$.fmatter.isEmpty(e)?$.fn.fmatter.defaultFormat(e,t):"<a "+r+' href="'+e+'">'+e+"</a>"},$.fn.fmatter.showlink=function(e,t){var i,r={baseLinkUrl:t.baseLinkUrl,showAction:t.showAction,addParam:t.addParam||"",target:t.target,idName:t.idName},o="";return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(r=$.extend({},r,t.colModel.formatoptions)),r.target&&(o="target="+r.target),i=r.baseLinkUrl+r.showAction+"?"+r.idName+"="+t.rowId+r.addParam,$.fmatter.isString(e)||$.fmatter.isNumber(e)?"<a "+o+' href="'+i+'">'+e+"</a>":$.fn.fmatter.defaultFormat(e,t)},$.fn.fmatter.integer=function(e,t){var i=$.extend({},t.integer);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(i=$.extend({},i,t.colModel.formatoptions)),$.fmatter.isEmpty(e)?i.defaultValue:$.fmatter.util.NumberFormat(e,i)},$.fn.fmatter.number=function(e,t){var i=$.extend({},t.number);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(i=$.extend({},i,t.colModel.formatoptions)),$.fmatter.isEmpty(e)?i.defaultValue:$.fmatter.util.NumberFormat(e,i)},$.fn.fmatter.currency=function(e,t){var i=$.extend({},t.currency);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(i=$.extend({},i,t.colModel.formatoptions)),$.fmatter.isEmpty(e)?i.defaultValue:$.fmatter.util.NumberFormat(e,i)},$.fn.fmatter.date=function(e,t,i,r){var o=$.extend({},t.date);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(o=$.extend({},o,t.colModel.formatoptions)),o.reformatAfterEdit||"edit"!==r?$.fmatter.isEmpty(e)?$.fn.fmatter.defaultFormat(e,t):$.jgrid.parseDate.call(this,o.srcformat,e,o.newformat,o):$.fn.fmatter.defaultFormat(e,t)},$.fn.fmatter.select=function(e,t){e=String(e);var i,r,o=!1,a=[];if(void 0!==t.colModel.formatoptions?(o=t.colModel.formatoptions.value,i=void 0===t.colModel.formatoptions.separator?":":t.colModel.formatoptions.separator,r=void 0===t.colModel.formatoptions.delimiter?";":t.colModel.formatoptions.delimiter):void 0!==t.colModel.editoptions&&(o=t.colModel.editoptions.value,i=void 0===t.colModel.editoptions.separator?":":t.colModel.editoptions.separator,r=void 0===t.colModel.editoptions.delimiter?";":t.colModel.editoptions.delimiter),o){var s,n=(null!=t.colModel.editoptions&&t.colModel.editoptions.multiple===!0)==!0?!0:!1,l=[];if(n&&(l=e.split(","),l=$.map(l,function(e){return $.trim(e)})),$.fmatter.isString(o)){var d,p=o.split(r),c=0;for(d=0;d<p.length;d++){if(s=p[d].split(i),s.length>2&&(s[1]=$.map(s,function(e,t){return t>0?e:void 0}).join(i)),n){$.inArray(s[0],l)>-1&&(a[c]=s[1],c++)}else{if($.trim(s[0])===$.trim(e)){a[0]=s[1];break}}}}else{$.fmatter.isObject(o)&&(n?a=$.map(l,function(e){return o[e]}):a[0]=o[e]||"")}}return e=a.join(", "),""===e?$.fn.fmatter.defaultFormat(e,t):e},$.fn.fmatter.rowactions=function(e){var t=$(this).closest("tr.jqgrow"),i=t.attr("id"),r=$(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),o=$("#"+r),a=o[0],s=a.p,n=s.colModel[$.jgrid.getCellIndex(this)],l=n.frozen?$("tr#"+i+" td:eq("+$.jgrid.getCellIndex(this)+") > div",o):$(this).parent(),d={extraparam:{}},p=function(e,t){$.isFunction(d.afterSave)&&d.afterSave.call(a,e,t),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide()},c=function(e){$.isFunction(d.afterRestore)&&d.afterRestore.call(a,e),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide()};void 0!==n.formatoptions&&(d=$.extend(d,n.formatoptions)),void 0!==s.editOptions&&(d.editOptions=s.editOptions),void 0!==s.delOptions&&(d.delOptions=s.delOptions),t.hasClass("jqgrid-new-row")&&(d.extraparam[s.prmNames.oper]=s.prmNames.addoper);var u={keys:d.keys,oneditfunc:d.onEdit,successfunc:d.onSuccess,url:d.url,extraparam:d.extraparam,aftersavefunc:p,errorfunc:d.onError,afterrestorefunc:c,restoreAfterError:d.restoreAfterError,mtype:d.mtype};switch(e){case"edit":o.jqGrid("editRow",i,u),l.find("div.ui-inline-edit,div.ui-inline-del").hide(),l.find("div.ui-inline-save,div.ui-inline-cancel").show(),o.triggerHandler("jqGridAfterGridComplete");break;case"save":o.jqGrid("saveRow",i,u)&&(l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide(),o.triggerHandler("jqGridAfterGridComplete"));break;case"cancel":o.jqGrid("restoreRow",i,c),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide(),o.triggerHandler("jqGridAfterGridComplete");break;case"del":o.jqGrid("delGridRow",i,d.delOptions);break;case"formedit":o.jqGrid("setSelection",i),o.jqGrid("editGridRow",i,d.editOptions)}},$.fn.fmatter.actions=function(e,t){var i,r={keys:!1,editbutton:!0,delbutton:!0,editformbutton:!1},o=t.rowId,a="",s=$.jgrid.getRegional(this,"nav"),n=$.jgrid.styleUI[t.styleUI||"jQueryUI"].fmatter,l=$.jgrid.styleUI[t.styleUI||"jQueryUI"].common;if(void 0!==t.colModel.formatoptions&&(r=$.extend(r,t.colModel.formatoptions)),void 0===o||$.fmatter.isEmpty(o)){return""}var d="onmouseover=jQuery(this).addClass('"+l.hover+"'); onmouseout=jQuery(this).removeClass('"+l.hover+"');  ";return r.editformbutton?(i="id='jEditButton_"+o+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'formedit'); "+d,a+="<div title='"+s.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+i+"><span class='"+l.icon_base+" "+n.icon_edit+"'></span></div>"):r.editbutton&&(i="id='jEditButton_"+o+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'edit'); "+d,a+="<div title='"+s.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+i+"><span class='"+l.icon_base+" "+n.icon_edit+"'></span></div>"),r.delbutton&&(i="id='jDeleteButton_"+o+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); "+d,a+="<div title='"+s.deltitle+"' style='float:left;' class='ui-pg-div ui-inline-del' "+i+"><span class='"+l.icon_base+" "+n.icon_del+"'></span></div>"),i="id='jSaveButton_"+o+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'save'); "+d,a+="<div title='"+s.savetitle+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' "+i+"><span class='"+l.icon_base+" "+n.icon_save+"'></span></div>",i="id='jCancelButton_"+o+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel'); "+d,a+="<div title='"+s.canceltitle+"' style='float:left;display:none;' class='ui-pg-div ui-inline-cancel' "+i+"><span class='"+l.icon_base+" "+n.icon_cancel+"'></span></div>","<div style='margin-left:8px;'>"+a+"</div>"},$.unformat=function(e,t,i,r){var o,a,s=t.colModel.formatter,n=t.colModel.formatoptions||{},l=/([\.\*\_\'\(\)\{\}\+\?\\])/g,d=t.colModel.unformat||$.fn.fmatter[s]&&$.fn.fmatter[s].unformat;if(void 0!==d&&$.isFunction(d)){o=d.call(this,$(e).text(),t,e)}else{if(void 0!==s&&$.fmatter.isString(s)){var p,c=$.jgrid.getRegional(this,"formatter")||{};switch(s){case"integer":n=$.extend({},c.integer,n),a=n.thousandsSeparator.replace(l,"\\$1"),p=new RegExp(a,"g"),o=$(e).text().replace(p,"");break;case"number":n=$.extend({},c.number,n),a=n.thousandsSeparator.replace(l,"\\$1"),p=new RegExp(a,"g"),o=$(e).text().replace(p,"").replace(n.decimalSeparator,".");break;case"currency":n=$.extend({},c.currency,n),a=n.thousandsSeparator.replace(l,"\\$1"),p=new RegExp(a,"g"),o=$(e).text(),n.prefix&&n.prefix.length&&(o=o.substr(n.prefix.length)),n.suffix&&n.suffix.length&&(o=o.substr(0,o.length-n.suffix.length)),o=o.replace(p,"").replace(n.decimalSeparator,".");break;case"checkbox":var u=t.colModel.editoptions?t.colModel.editoptions.value.split(":"):["Yes","No"];o=$("input",e).is(":checked")?u[0]:u[1];break;case"select":o=$.unformat.select(e,t,i,r);break;case"actions":return"";default:o=$(e).text()}}}return void 0!==o?o:r===!0?$(e).text():$.jgrid.htmlDecode($(e).html())},$.unformat.select=function(e,t,i,r){var o=[],a=$(e).text();if(r===!0){return a}var s=$.extend({},void 0!==t.colModel.formatoptions?t.colModel.formatoptions:t.colModel.editoptions),n=void 0===s.separator?":":s.separator,l=void 0===s.delimiter?";":s.delimiter;if(s.value){var d,p=s.value,c=s.multiple===!0?!0:!1,u=[];if(c&&(u=a.split(","),u=$.map(u,function(e){return $.trim(e)})),$.fmatter.isString(p)){var g,h=p.split(l),f=0;for(g=0;g<h.length;g++){if(d=h[g].split(n),d.length>2&&(d[1]=$.map(d,function(e,t){return t>0?e:void 0}).join(n)),c){$.inArray($.trim(d[1]),u)>-1&&(o[f]=d[0],f++)}else{if($.trim(d[1])===$.trim(a)){o[0]=d[0];break}}}}else{($.fmatter.isObject(p)||$.isArray(p))&&(c||(u[0]=a),o=$.map(u,function(e){var t;return $.each(p,function(i,r){return r===e?(t=i,!1):void 0}),void 0!==t?t:void 0}))}return o.join(", ")}return a||""},$.unformat.date=function(e,t){var i=$.jgrid.getRegional(this,"formatter.date")||{};return void 0!==t.formatoptions&&(i=$.extend({},i,t.formatoptions)),$.fmatter.isEmpty(e)?$.fn.fmatter.defaultFormat(e,t):$.jgrid.parseDate.call(this,i.newformat,e,i.srcformat,i)},window.jqGridUtils={stringify:function(e){return JSON.stringify(e,function(e,t){return"function"==typeof t?t.toString():t})},parse:function(str){return JSON.parse(str,function(key,value){return"string"==typeof value&&-1!==value.indexOf("function")?eval("("+value+")"):value})},encode:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},jsonToXML:function(e,t){var i=$.extend({xmlDecl:'<?xml version="1.0" encoding="UTF-8" ?>\n',attr_prefix:"-",encode:!0},t||{}),r=this,o=function(e,t){return"#text"===e?i.encode?r.encode(t):t:"function"==typeof t?"<"+e+"><![CDATA["+t+"]]></"+e+">\n":""===t?"<"+e+">__EMPTY_STRING_</"+e+">\n":"<"+e+">"+(i.encode?r.encode(t):t)+"</"+e+">\n"},a=function(e,t){for(var i=[],r=0;r<t.length;r++){var n=t[r];i[i.length]="undefined"==typeof n||null==n?"<"+e+" />":"object"==typeof n&&n.constructor==Array?a(e,n):"object"==typeof n?s(e,n):o(e,n)}return i.length||(i[0]="<"+e+">__EMPTY_ARRAY_</"+e+">\n"),i.join("")},s=function(e,t){var n=[],l=[];for(var d in t){if(t.hasOwnProperty(d)){var p=t[d];d.charAt(0)!==i.attr_prefix?n[n.length]=null==p?"<"+d+" />":"object"==typeof p&&p.constructor===Array?a(d,p):"object"==typeof p?s(d,p):o(d,p):l[l.length]=" "+d.substring(1)+'="'+(i.encode?r.encode(p):p)+'"'}}var c=l.join(""),u=n.join("");return null==e||(u=n.length>0?u.match(/\n/)?"<"+e+c+">\n"+u+"</"+e+">\n":"<"+e+c+">"+u+"</"+e+">\n":"<"+e+c+" />\n"),u},n=s(null,e);return i.xmlDecl+n},xmlToJSON:function(root,options){var o=$.extend({force_array:[],attr_prefix:"-"},options||{});if(root){var __force_array={};if(o.force_array){for(var i=0;i<o.force_array.length;i++){__force_array[o.force_array[i]]=1}}"string"==typeof root&&(root=$.parseXML(root)),root.documentElement&&(root=root.documentElement);var addNode=function(hash,key,cnts,val){if("string"==typeof val){if(-1!==val.indexOf("function")){val=eval("("+val+")")}else{switch(val){case"__EMPTY_ARRAY_":val=[];break;case"__EMPTY_STRING_":val="";break;case"false":val=!1;break;case"true":val=!0}}}__force_array[key]?(1===cnts&&(hash[key]=[]),hash[key][hash[key].length]=val):1===cnts?hash[key]=val:2===cnts?hash[key]=[hash[key],val]:hash[key][hash[key].length]=val},parseElement=function(e){if(7!==e.nodeType){if(3===e.nodeType||4===e.nodeType){var t=e.nodeValue.match(/[^\x00-\x20]/);if(null==t){return}return e.nodeValue}var i,r,a,s,n={};if(e.attributes&&e.attributes.length){for(i={},r=0;r<e.attributes.length;r++){a=e.attributes[r].nodeName,"string"==typeof a&&(s=e.attributes[r].nodeValue,s&&(a=o.attr_prefix+a,"undefined"==typeof n[a]&&(n[a]=0),n[a]++,addNode(i,a,n[a],s)))}}if(e.childNodes&&e.childNodes.length){var l=!0;for(i&&(l=!1),r=0;r<e.childNodes.length&&l;r++){var d=e.childNodes[r].nodeType;3!==d&&4!==d&&(l=!1)}if(l){for(i||(i=""),r=0;r<e.childNodes.length;r++){i+=e.childNodes[r].nodeValue}}else{for(i||(i={}),r=0;r<e.childNodes.length;r++){a=e.childNodes[r].nodeName,"string"==typeof a&&(s=parseElement(e.childNodes[r]),s&&("undefined"==typeof n[a]&&(n[a]=0),n[a]++,addNode(i,a,n[a],s)))}}}return i}},json=parseElement(root);if(__force_array[root.nodeName]&&(json=[json]),11!==root.nodeType){var tmp={};tmp[root.nodeName]=json,json=tmp}return json}}}});
/*!/pagination/jquery.pagination.js*/
!function(m){var w={pageClicked:"pageClicked",jumpClicked:"jumpClicked",pageSizeChanged:"pageSizeChanged"},f=function(r,h){var p={pageSize:10,pageBtnCount:11,showFirstLastBtn:!0,firstBtnText:null,lastBtnText:null,prevBtnText:"&laquo;",nextBtnText:"&raquo;",loadFirstPage:!0,remote:{url:null,params:null,callback:null,success:null,beforeSend:null,complete:null,pageIndexName:"pageIndex",pageSizeName:"pageSize",totalName:"total"},showInfo:!1,infoFormat:"{start} ~ {end} of {total} entires",showJump:!1,jumpBtnText:"Go",showPageSizes:!1,pageSizeItems:null,debug:!1};this.$element=m(r),this.$page=m('<ul class="m-pagination-page"></ul>'),this.$size=m('<div class="m-pagination-size"></div>'),this.$jump=m('<div class="m-pagination-jump"></div>'),this.$info=m('<div class="m-pagination-info"></div>'),this.options=m.extend(!0,{},p,m.fn.page.defaults,h),this.total=this.options.total||0,this.options.pageSizeItems=this.options.pageSizeItems||[5,10,15,20],this.currentPageIndex=0,this.currentPageSize=this.options.pageSize,this.pageCount=b(this.total,this.currentPageSize),null==this.options.remote.success&&(this.options.remote.success=this.options.remote.callback);var e=function(y){for(var A=y,u=m('<select data-page-btn="size"></select>'),z=0;z<A.options.pageSizeItems.length;z++){u.append('<option value="'+A.options.pageSizeItems[z]+'">'+A.options.pageSizeItems[z]+"</option>")}u.val(A.currentPageSize),A.$size.append(u);var s='<div class="m-pagination-group"><input type="text"><button data-page-btn="jump" type="button">'+A.options.jumpBtnText+"</button></div>";A.$jump.append(s),A.$jump.find("input").change(function(){v(this.value,A.pageCount)||(this.value=null)}),A.$element.append(A.$page.hide()),A.$element.append(A.$size.hide()),A.$element.append(A.$jump.hide()),A.$element.append(A.$info.hide()),A._remoteOrRedner(0),A.$element.on("click",{page:A},function(a){l(a)}).on("change",{page:A},function(a){l(a)})},l=function(B){var u=B.data.page,A=m(B.target);if("click"!==B.type||void 0===A.data("pageIndex")||A.parent().hasClass("active")){if("click"===B.type&&"jump"===A.data("pageBtn")){var t=u.$jump.find("input").val();if(v(t,u.pageCount)){var y=t-1;u.$element.trigger(w.jumpClicked,y),u.debug("event[ jumpClicked ] : pageIndex = "+y),u._remoteOrRedner(y)}u.$jump.find("input").val(null)}else{if("change"===B.type&&"size"===A.data("pageBtn")){var z=u.$size.find("select").val();u.currentPageSize=z,u.$element.trigger(w.pageSizeChanged,z),u.debug("event[ pageSizeChanged ] : pageSize = "+z),u._remoteOrRedner(0)}}}else{var y=m(B.target).data("pageIndex");u.$element.trigger(w.pageClicked,y),u.debug("event[ pageClicked ] : pageIndex = "+y),u._remoteOrRedner(y)}};"undefined"==typeof this.options.total&&null===this.options.remote.url?console&&console.error("[init error] : the options must have the parameter of 'remote.url' or 'total'."):"undefined"!=typeof this.options.total||this.options.loadFirstPage?e(this):console&&console.error("[init error] : if you don't remote the first page. you must set the options or 'total'.")};f.prototype={_remoteOrRedner:function(a){null!=this.options.remote.url&&(this.options.loadFirstPage||a>0)?this.remote(a):this.renderPagination(a)},remote:function(l,r){var h=this;(isNaN(parseInt(l))||"object"==typeof l)&&(r=l,l=null),isNaN(parseInt(l))&&(l=h.currentPageIndex);var p={};p[this.options.remote.pageIndexName]=l,p[this.options.remote.pageSizeName]=this.currentPageSize,this.options.remote.params=c(this.options.remote.params),r&&(r=c(r),this.options.remote.params=m.extend({},this.options.remote.params,r));var e=m.extend({},this.options.remote.params,p);m.ajax({url:this.options.remote.url,dataType:"json",data:e,contentType:"application/Json",async:!1,beforeSend:function(a){"function"==typeof h.options.remote.beforeSend&&h.options.remote.beforeSend(a)},complete:function(i,a){"function"==typeof h.options.remote.complete&&h.options.remote.complete(i,a)},success:function(a){h.debug("ajax request : params = "+JSON.stringify(e),a);var i=g(a,h.options.remote.totalName);null==i||void 0==i?console&&console.error("the response of totalName :  '"+h.options.remote.totalName+"'  not found"):(h._updateTotal(i),"function"==typeof h.options.remote.success&&h.options.remote.success(a,l),h.renderPagination(l))}})},renderPagination:function(h){this.currentPageIndex=h;var a=d(this.currentPageIndex,this.currentPageSize,this.total,this.options.pageBtnCount,this.options.firstBtnText,this.options.lastBtnText,this.options.prevBtnText,this.options.nextBtnText,this.options.showFirstLastBtn);this.$page.empty().append(a),this.$info.text(j(this.currentPageIndex,this.currentPageSize,this.total,this.options.infoFormat)),this.pageCount>1?(this.$page.show(),this.options.showPageSizes&&this.$size.show(),this.options.showJump&&this.$jump.show(),this.options.showInfo&&this.$info.show()):1==this.pageCount?this.options.showInfo&&this.$info.show():(this.$page.hide(),this.$size.hide(),this.$jump.hide(),this.$info.hide())},_updateTotal:function(a){this.total=a,this.pageCount=b(a,this.currentPageSize)},destroy:function(){this.$element.unbind().data("page",null).empty()},debug:function(h,a){this.options.debug&&console&&(h&&console.info(h),a&&console.info(a))}};var j=function(r,p,u,l){var s=r*p+1,h=(r+1)*p;return h=h>=u?u:h,l.replace("{start}",s).replace("{end}",h).replace("{total}",u)},d=function(L,B,E,H,D,C,A,G,I){L=void 0==L?1:parseInt(L)+1;var M=b(E,B),J=[];if(H>=M){J=q(1,M,L)}else{var N=x(D||1,0),K=x(C||M,M-1),F=x(A,L-2),y=x(G,L),s=(H-1-4)/2;I||(s+=1);var r=(H+1)/2,a=M-(H+1)/2;s=-1==s.toString().indexOf(".")?s:s+0.5,r=-1==r.toString().indexOf(".")?r:r+0.5,a=-1==a.toString().indexOf(".")?a:a+0.5,r>=L?I?(J=q(1,H-2,L),J.push(y),J.push(K)):(J=renderPagenderPage(1,H-1,L),J.push(y)):L>a?I?(J=q(M-H+3,H-2,L),J.unshift(F),J.unshift(N)):(J=q(M-H+2,H-1,L),J.unshift(F)):I?(J=q(L-s,H-4,L),J.unshift(F),J.push(y),J.unshift(N),J.push(K)):(J=q(L-s,H-2,L),J.unshift(F),J.push(y))}return J},q=function(r,p,u){for(var l=[],s=0;p>s;s++){var h=x(r,r-1);r==u&&h.addClass("active"),l.push(h),r++}return l},x=function(a,e){return m("<li><a data-page-index='"+e+"'>"+a+"</a></li>")},b=function(l,h){var o=0,l=parseInt(l),a=l/h;return o=-1!=a.toString().indexOf(".")?parseInt(a.toString().split(".")[0])+1:a},c=function(l){var h={};if("string"==typeof l){for(var r=l.split("&"),a=0;a<r.length;a++){var p=r[a].split("=");h[p[0]]=decodeURIComponent(p[1])}}else{if(l instanceof Array){for(var a=0;a<l.length;a++){h[l[a].name]=decodeURIComponent(l[a].value)}}else{"object"==typeof l&&(h=l)}}return h},v=function(h,a){var i=/^\+?[1-9][0-9]*$/;return i.test(h)&&parseInt(h)<=parseInt(a)},g=function(r,p){for(var u=p.split("."),l=r,s=null,h=0;h<u.length;h++){if(l=k(l,u[h]),!isNaN(parseInt(l))){s=l;break}if(null==l){break}}return s},k=function(h,a){for(var i in h){if(i==a){return h[i]}}return null};m.fn.page=function(e){var a=arguments;return this.each(function(){var n=m(this),h=n.data("page");if(h||"object"!=typeof e&&"undefined"!=typeof e){h&&"string"==typeof e?h[e].apply(h,Array.prototype.slice.call(a,1)):h||void 0==h||console&&console.log("jQuery Pagination Plugin is uninitialized.")}else{var i="object"==typeof e&&e,l=n.data();i=m.extend(i,l),n.data("page",h=new f(this,i))}})}}(window.jQuery);
/*!/poshytip/jquery.poshytip.js*/
!function(b){function a(){b.each(d,function(){this.refresh(!0)})}var d=[],f=/^url\(["']?([^"'\)]*)["']?\);?$/i,g=/\.png$/i,c=!!window.createPopup&&"undefined"==document.documentElement.currentStyle.minWidth;b(window).resize(a),b.Poshytip=function(e,h){this.$elm=b(e),this.opts=b.extend({},b.fn.poshytip.defaults,h),this.$tip=b(['<div class="',this.opts.className,'">','<div class="tip-inner tip-bg-image"></div>','<div class="tip-arrow tip-arrow-top tip-arrow-right tip-arrow-bottom tip-arrow-left"></div>',"</div>"].join("")).appendTo(document.body),this.$arrow=this.$tip.find("div.tip-arrow"),this.$inner=this.$tip.find("div.tip-inner"),this.disabled=!1,this.content=null,this.init()},b.Poshytip.prototype={init:function(){d.push(this);var e=this.$elm.attr("title");if(this.$elm.data("title.poshytip",void 0!==e?e:null).data("poshytip",this),"none"!=this.opts.showOn){switch(this.$elm.bind({"mouseenter.poshytip":b.proxy(this.mouseenter,this),"mouseleave.poshytip":b.proxy(this.mouseleave,this)}),this.opts.showOn){case"hover":"cursor"==this.opts.alignTo&&this.$elm.bind("mousemove.poshytip",b.proxy(this.mousemove,this)),this.opts.allowTipHover&&this.$tip.hover(b.proxy(this.clearTimeouts,this),b.proxy(this.mouseleave,this));break;case"focus":this.$elm.bind({"focus.poshytip":b.proxy(this.showDelayed,this),"blur.poshytip":b.proxy(this.hideDelayed,this)})}}},mouseenter:function(){return this.disabled?!0:(this.$elm.attr("title",""),"focus"==this.opts.showOn?!0:void this.showDelayed())},mouseleave:function(h){if(this.disabled||this.asyncAnimating&&(this.$tip[0]===h.relatedTarget||jQuery.contains(this.$tip[0],h.relatedTarget))){return !0}if(!this.$tip.data("active")){var e=this.$elm.data("title.poshytip");null!==e&&this.$elm.attr("title",e)}return"focus"==this.opts.showOn?!0:void this.hideDelayed()},mousemove:function(e){return this.disabled?!0:(this.eventX=e.pageX,this.eventY=e.pageY,void (this.opts.followCursor&&this.$tip.data("active")&&(this.calcPos(),this.$tip.css({left:this.pos.l,top:this.pos.t}),this.pos.arrow&&(this.$arrow[0].className="tip-arrow tip-arrow-"+this.pos.arrow))))},show:function(){function h(i){i.reset(),i.update(),i.content&&(i.display(),i.opts.timeOnScreen&&i.hideDelayed(i.opts.timeOnScreen),i.opts.show&&i.opts.show.call(i.$elm))}if(!this.disabled&&!this.$tip.data("active")){var e=this;this.opts.showBefore?this.opts.showBefore.call(this.$elm,function(){h(e)}):h(e)}},showDelayed:function(e){this.clearTimeouts(),this.showTimeout=setTimeout(b.proxy(this.show,this),"number"==typeof e?e:this.opts.showTimeout)},hide:function(){!this.disabled&&this.$tip.data("active")&&(this.opts.hideBefore&&this.opts.hideBefore.call(this.$elm),this.display(!0),this.opts.hide&&this.opts.hide.call(this.$elm))},hideDelayed:function(e){this.clearTimeouts(),this.hideTimeout=setTimeout(b.proxy(this.hide,this),"number"==typeof e?e:this.opts.hideTimeout)},reset:function(){this.$tip.queue([]).detach().css("visibility","hidden").data("active",!1),this.$inner.find("*").poshytip("hide"),this.opts.fade&&this.$tip.css("opacity",this.opacity),this.$arrow[0].className="tip-arrow tip-arrow-top tip-arrow-right tip-arrow-bottom tip-arrow-left",this.asyncAnimating=!1},update:function(j,h){if(!this.disabled){var k=void 0!==j;if(k){if(h||(this.opts.content=j),!this.$tip.data("active")){return}}else{j=this.opts.content}var l=this,m="function"==typeof j?j.call(this.$elm[0],function(e){l.update(e)}):"[title]"==j?this.$elm.data("title.poshytip"):j;this.content!==m&&(this.$inner.empty().append(m),this.content=m),this.refresh(k)}},refresh:function(m){if(!this.disabled){if(m){if(!this.$tip.data("active")){return}var w={left:this.$tip.css("left"),top:this.$tip.css("top")}}this.$tip.css({left:0,top:0}).appendTo(document.body),void 0===this.opacity&&(this.opacity=this.$tip.css("opacity"));var t=this.$tip.css("background-image").match(f),h=this.$arrow.css("background-image").match(f);if(t){var e=g.test(t[1]);c&&e?(this.$tip.css("background-image","none"),this.$inner.css({margin:0,border:0,padding:0}),t=e=!1):this.$tip.prepend('<table class="tip-table" border="0" cellpadding="0" cellspacing="0"><tr><td class="tip-top tip-bg-image" colspan="2"><span></span></td><td class="tip-right tip-bg-image" rowspan="2"><span></span></td></tr><tr><td class="tip-left tip-bg-image" rowspan="2"><span></span></td><td></td></tr><tr><td class="tip-bottom tip-bg-image" colspan="2"><span></span></td></tr></table>').css({border:0,padding:0,"background-image":"none","background-color":"transparent"}).find(".tip-bg-image").css("background-image",'url("'+t[1]+'")').end().find("td").eq(3).append(this.$inner),e&&!b.support.opacity&&(this.opts.fade=!1)}h&&!b.support.opacity&&(c&&g.test(h[1])&&(h=!1,this.$arrow.css("background-image","none")),this.opts.fade=!1);var j=this.$tip.find("> table.tip-table");if(c){this.$tip[0].style.width="",j.width("auto").find("td").eq(3).width("auto");var k=this.$tip.width(),o=parseInt(this.$tip.css("min-width")),q=parseInt(this.$tip.css("max-width"));!isNaN(o)&&o>k?k=o:!isNaN(q)&&k>q&&(k=q),this.$tip.add(j).width(k).eq(0).find("td").eq(3).width("100%")}else{j[0]&&j.width("auto").find("td").eq(3).width("auto").end().end().width(document.defaultView&&document.defaultView.getComputedStyle&&parseFloat(document.defaultView.getComputedStyle(this.$tip[0],null).width)||this.$tip.width()).find("td").eq(3).width("100%")}if(this.tipOuterW=this.$tip.outerWidth(),this.tipOuterH=this.$tip.outerHeight(),this.calcPos(),h&&this.pos.arrow&&(this.$arrow[0].className="tip-arrow tip-arrow-"+this.pos.arrow,this.$arrow.css("visibility","inherit")),m&&this.opts.refreshAniDuration){this.asyncAnimating=!0;var v=this;this.$tip.css(w).animate({left:this.pos.l,top:this.pos.t},this.opts.refreshAniDuration,function(){v.asyncAnimating=!1})}else{this.$tip.css({left:this.pos.l,top:this.pos.t})}}},display:function(k){var m=this.$tip.data("active");if(!(m&&!k||!m&&k)){if(this.$tip.stop(),(this.opts.slide&&this.pos.arrow||this.opts.fade)&&(k&&this.opts.hideAniDuration||!k&&this.opts.showAniDuration)){var t={},u={};if(this.opts.slide&&this.pos.arrow){var l,j;"bottom"==this.pos.arrow||"top"==this.pos.arrow?(l="top",j="bottom"):(l="left",j="right");var q=parseInt(this.$tip.css(l));t[l]=q+(k?0:this.pos.arrow==j?-this.opts.slideOffset:this.opts.slideOffset),u[l]=q+(k?this.pos.arrow==j?this.opts.slideOffset:-this.opts.slideOffset:0)+"px"}this.opts.fade&&(t.opacity=k?this.$tip.css("opacity"):0,u.opacity=k?0:this.opacity),this.$tip.css(t).animate(u,this.opts[k?"hideAniDuration":"showAniDuration"])}if(k?this.$tip.queue(b.proxy(this.reset,this)):this.$tip.css("visibility","visible"),m){var n=this.$elm.data("title.poshytip");null!==n&&this.$elm.attr("title",n)}this.$tip.data("active",!m)}},disable:function(){this.reset(),this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){this.reset(),this.$tip.remove(),delete this.$tip,this.content=null,this.$elm.unbind(".poshytip").removeData("title.poshytip").removeData("poshytip"),d.splice(b.inArray(this,d),1)},clearTimeouts:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0),this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0)},calcPos:function(){var u,z,w,m,v,y,k={l:0,t:0,arrow:""},j=b(window),q={l:j.scrollLeft(),t:j.scrollTop(),w:j.width(),h:j.height()};if("cursor"==this.opts.alignTo){u=z=w=this.eventX,m=v=y=this.eventY}else{var t=this.$elm.offset(),x={l:t.left,t:t.top,w:this.$elm.outerWidth(),h:this.$elm.outerHeight()};u=x.l+("inner-right"!=this.opts.alignX?0:x.w),z=u+Math.floor(x.w/2),w=u+("inner-left"!=this.opts.alignX?x.w:0),m=x.t+("inner-bottom"!=this.opts.alignY?0:x.h),v=m+Math.floor(x.h/2),y=m+("inner-top"!=this.opts.alignY?x.h:0)}switch(this.opts.alignX){case"right":case"inner-left":k.l=w+this.opts.offsetX,this.opts.keepInViewport&&k.l+this.tipOuterW>q.l+q.w&&(k.l=q.l+q.w-this.tipOuterW),("right"==this.opts.alignX||"center"==this.opts.alignY)&&(k.arrow="left");break;case"center":k.l=z-Math.floor(this.tipOuterW/2),this.opts.keepInViewport&&(k.l+this.tipOuterW>q.l+q.w?k.l=q.l+q.w-this.tipOuterW:k.l<q.l&&(k.l=q.l));break;default:k.l=u-this.tipOuterW-this.opts.offsetX,this.opts.keepInViewport&&k.l<q.l&&(k.l=q.l),("left"==this.opts.alignX||"center"==this.opts.alignY)&&(k.arrow="right")}switch(this.opts.alignY){case"bottom":case"inner-top":k.t=y+this.opts.offsetY,k.arrow&&"cursor"!=this.opts.alignTo||(k.arrow="top"),this.opts.keepInViewport&&k.t+this.tipOuterH>q.t+q.h&&(k.t=m-this.tipOuterH-this.opts.offsetY,"top"==k.arrow&&(k.arrow="bottom"));break;case"center":k.t=v-Math.floor(this.tipOuterH/2),this.opts.keepInViewport&&(k.t+this.tipOuterH>q.t+q.h?k.t=q.t+q.h-this.tipOuterH:k.t<q.t&&(k.t=q.t));break;default:k.t=m-this.tipOuterH-this.opts.offsetY,k.arrow&&"cursor"!=this.opts.alignTo||(k.arrow="bottom"),this.opts.keepInViewport&&k.t<q.t&&(k.t=y+this.opts.offsetY,"bottom"==k.arrow&&(k.arrow="top"))}this.pos=k}},b.fn.poshytip=function(k){if("string"==typeof k){var m=arguments,n=k;return Array.prototype.shift.call(m),"destroy"==n&&(this.die?this.die("mouseenter.poshytip").die("focus.poshytip"):b(document).undelegate(this.selector,"mouseenter.poshytip").undelegate(this.selector,"focus.poshytip")),this.each(function(){var e=b(this).data("poshytip");e&&e[n]&&e[n].apply(e,m)})}var p=b.extend({},b.fn.poshytip.defaults,k);if(b("#poshytip-css-"+p.className)[0]||b(['<style id="poshytip-css-',p.className,'" type="text/css">',"div.",p.className,"{visibility:hidden;position:absolute;top:0;left:0;}","div.",p.className," table.tip-table, div.",p.className," table.tip-table td{margin:0;font-family:inherit;font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;vertical-align:middle;}","div.",p.className," td.tip-bg-image span{display:block;font:1px/1px sans-serif;height:",p.bgImageFrameSize,"px;width:",p.bgImageFrameSize,"px;overflow:hidden;}","div.",p.className," td.tip-right{background-position:100% 0;}","div.",p.className," td.tip-bottom{background-position:100% 100%;}","div.",p.className," td.tip-left{background-position:0 100%;}","div.",p.className," div.tip-inner{background-position:-",p.bgImageFrameSize,"px -",p.bgImageFrameSize,"px;}","div.",p.className," div.tip-arrow{visibility:hidden;position:absolute;overflow:hidden;font:1px/1px sans-serif;}","</style>"].join("")).appendTo("head"),p.liveEvents&&"none"!=p.showOn){var l,j=b.extend({},p,{liveEvents:!1});switch(p.showOn){case"hover":l=function(){var e=b(this);e.data("poshytip")||e.poshytip(j).poshytip("mouseenter")},this.live?this.live("mouseenter.poshytip",l):b(document).delegate(this.selector,"mouseenter.poshytip",l);break;case"focus":l=function(){var e=b(this);e.data("poshytip")||e.poshytip(j).poshytip("showDelayed")},this.live?this.live("focus.poshytip",l):b(document).delegate(this.selector,"focus.poshytip",l)}return this}return this.each(function(){new b.Poshytip(this,p)})},b.fn.poshytip.defaults={content:"[title]",className:"tip-yellow",bgImageFrameSize:10,showTimeout:500,hideTimeout:100,timeOnScreen:0,showOn:"hover",liveEvents:!1,alignTo:"cursor",alignX:"right",alignY:"top",offsetX:-22,offsetY:18,keepInViewport:!0,allowTipHover:!0,followCursor:!1,fade:!0,slide:!0,slideOffset:8,showAniDuration:300,hideAniDuration:300,refreshAniDuration:200,show:null,hide:null,hideBefore:null}}(jQuery);
/*!/validation/jquery.validationEngine.js*/
!function(b){function a(){for(var g=document.cookie,d=g.split("; "),c=0;c<d.length;c++){var f=d[c].split("=");if("org.springframework.web.servlet.i18n.CookieLocaleResolver.LOCALE"==f[0]){return f[1]}}return"zh"}b.fn.validationEngineLanguage=function(){},b.validationEngineLanguage={newLang:function(){var c=a();b.validationEngineLanguage.allRules="zh"==c?{required:{regex:"none",alertText:"* ",alertTextCheckboxMultiple:"* ",alertTextCheckboxe:"* ",alertTextDateRange:"* "},dateRange:{regex:"none",alertText:"*  ",alertText2:" "},dateTimeRange:{regex:"none",alertText:"*  ",alertText2:" "},sp:{regex:"none",alertText:"*   <strong>",alertText2:" </strong>"},len:{regex:"none",alertText:"*  <strong>",alertText2:" </strong>"},minSize:{regex:"none",alertText:"*  <strong>",alertText2:" </strong>"},maxSize:{regex:"none",alertText:"* <strong> ",alertText2:" </strong>"},groupRequired:{regex:"none",alertText:"* "},min:{regex:"none",alertText:"*  "},max:{regex:"none",alertText:"*  "},past:{regex:"none",alertText:"*  ",alertText2:" "},future:{regex:"none",alertText:"*  ",alertText2:" "},maxCheckbox:{regex:"none",alertText:"*  ",alertText2:" "},minCheckbox:{regex:"none",alertText:"*  ",alertText2:" "},equals:{regex:"none",alertText:"* "},creditCard:{regex:"none",alertText:"* "},phone:{regex:/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/,alertText:"* "},email:{regex:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,alertText:"* "},integer:{regex:/^[\-\+]?\d+$/,alertText:"* "},number:{regex:/^[\-\+]?((([0-9]{1,3})([,][0-9]{3})*)|([0-9]+))?([\.]([0-9]+))?$/,alertText:"* "},date:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/,alertText:"*  YYYY-MM-DD"},ipv4:{regex:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,alertText:"*  IP "},url:{regex:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,alertText:"* "},onlyNumberSp:{regex:/^[0-9\ ]+$/,alertText:"* "},onlyLetterSp:{regex:/^[a-zA-Z\ \']+$/,alertText:"* "},onlyLetterNumber:{regex:/^[0-9a-zA-Z]+$/,alertText:"* "},dateFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/,alertText:"* "},dateTimeFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/,alertText:"* ",alertText2:" ",alertText3:"mm/dd/yyyy hh:mm:ss AM|PM  ",alertText4:"yyyy-mm-dd hh:mm:ss AM|PM"},chinese:{regex:/^[\u4E00-\u9FA5]+$/,alertText:"* "},chinaId:{regex:/^[1-9]\d{5}[1-9]\d{3}(((0[13578]|1[02])(0[1-9]|[12]\d|3[0-1]))|((0[469]|11)(0[1-9]|[12]\d|30))|(02(0[1-9]|[12]\d)))(\d{4}|\d{3}[xX])$/,alertText:"* "},chinaIdLoose:{regex:/^(\d{18}|\d{15}|\d{17}[xX])$/,alertText:"* "},chinaZip:{regex:/^\d{6}$/,alertText:"* "},qq:{regex:/^[1-9]\d{4,10}$/,alertText:"*  QQ "},mobile:{regex:/^(1[0-9]{10})$/,alertText:"* "}}:{required:{regex:"none",alertText:"* There can't be empty!",alertTextCheckboxMultiple:"* Please select a option!",alertTextCheckboxe:"* You must select a option!",alertTextDateRange:"* Date range cannot be empty!"},dateRange:{regex:"none",alertText:"*Invalid ",alertText2:" date range!"},dateTimeRange:{regex:"none",alertText:"* Invalid ",alertText2:" time range!"},sp:{regex:"none",alertText:"* You input the contents of the can not contain <strong>",alertText2:" </strong>special symbols."},len:{regex:"none",alertText:"* You enter the length of the not between <strong>",alertText2:" </strong>,A Chinese characters of three bytes."},minSize:{regex:"none",alertText:"* At least <strong>",alertText2:" </strong>characters."},maxSize:{regex:"none",alertText:"* Up to<strong> ",alertText2:" </strong>characters."},groupRequired:{regex:"none",alertText:"* Fill out at least one of them."},min:{regex:"none",alertText:"* The minimum value of "},max:{regex:"none",alertText:"* A maximum of "},past:{regex:"none",alertText:"* Date should be before ",alertText2:" ."},future:{regex:"none",alertText:"* The date should be after ",alertText2:" ."},maxCheckbox:{regex:"none",alertText:"* Up to ",alertText2:" options."},minCheckbox:{regex:"none",alertText:"* At least ",alertText2:" options."},equals:{regex:"none",alertText:"* Two times the password is not consistent."},creditCard:{regex:"none",alertText:"* Invalid credit card number."},phone:{regex:/^([\+][0-9]{1,3}[ \.\-])?([\(]{1}[0-9]{2,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,alertText:"* Invalid phone number."},email:{regex:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,alertText:"* Invalid email address."},integer:{regex:/^[\-\+]?\d+$/,alertText:"* Invalid integer."},number:{regex:/^[\-\+]?((([0-9]{1,3})([,][0-9]{3})*)|([0-9]+))?([\.]([0-9]+))?$/,alertText:"* Invalid value."},date:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/,alertText:"* Invalid date, format must be YYYY-MM-DD."},ipv4:{regex:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,alertText:"* Invalid IP address."},url:{regex:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,alertText:"* Invalid URL."},onlyNumberSp:{regex:/^[0-9\ ]+$/,alertText:"* Can only fill in the numbers."},onlyLetterSp:{regex:/^[a-zA-Z\ \']+$/,alertText:"* Can only fill in the English alphabet."},onlyLetterNumber:{regex:/^[0-9a-zA-Z]+$/,alertText:"* Can only fill in numbers and letters in English."},dateFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/,alertText:"* Invalid date format."},dateTimeFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/,alertText:"* Invalid date or time format",alertText2:" Acceptable format ",alertText3:"mm/dd/yyyy hh:mm:ss AM|PM or ",alertText4:"yyyy-mm-dd hh:mm:ss AM|PM"},chinese:{regex:/^[\u4E00-\u9FA5]+$/,alertText:"* Can only fill in Chinese characters."},chinaId:{regex:/^[1-9]\d{5}[1-9]\d{3}(((0[13578]|1[02])(0[1-9]|[12]\d|3[0-1]))|((0[469]|11)(0[1-9]|[12]\d|30))|(02(0[1-9]|[12]\d)))(\d{4}|\d{3}[xX])$/,alertText:"* Invalid ID number."},chinaIdLoose:{regex:/^(\d{18}|\d{15}|\d{17}[xX])$/,alertText:"* Invalid ID number."},chinaZip:{regex:/^\d{6}$/,alertText:"* Invalid post encoding."},qq:{regex:/^[1-9]\d{4,10}$/,alertText:"* Invalid QQ number."},mobile:{regex:/^(1[0-9]{10})$/,alertText:"* Invalid mobile number."}}}},b.validationEngineLanguage.newLang()}(jQuery),function($){function getStrLen(e){for(var t=0,a=e.length,r=-1,i=0;a>i;i++){r=e.charCodeAt(i),t+=r>=0&&128>=r?1:3}return t}function cutStrByLen(e,t){for(var a=(getStrLen(e),e),r=0,i=0;t>=i;i++){if(r+=a.charCodeAt(i)>255?3:1,r>t){a=a.slice(0,i);break}}return a}Array.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++){if(this[t]==e){return t}}return -1});var methods={init:function(e){var t=this;return t.data("jqv")&&null!=t.data("jqv")||(e=methods._saveOptions(t,e),$(document).on("click",".formError",function(){$(this).fadeOut(150,function(){$(this).parent(".formErrorOuter").remove(),$(this).remove()})})),this},attach:function(e){var t,a=this;return t=e?methods._saveOptions(a,e):a.data("jqv"),t.validateAttribute=a.find("[data-validation-engine*=validate]").length?"data-validation-engine":"class",t.binded&&(a.on(t.validationEventTrigger,"["+t.validateAttribute+"*=validate]:not([type=checkbox]):not([type=radio]):not(.datepicker)",methods._onFieldEvent),a.on("click","["+t.validateAttribute+"*=validate][type=checkbox],["+t.validateAttribute+"*=validate][type=radio]",methods._onFieldEvent),a.on(t.validationEventTrigger,"["+t.validateAttribute+"*=validate][class*=datepicker]",{delay:300},methods._onFieldEvent)),t.autoPositionUpdate&&$(window).bind("resize",{noAnimation:!0,formElem:a},methods.updatePromptsPosition),a.on("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",methods._submitButtonClick),a.removeData("jqv_submitButton"),a.on("submit",methods._onSubmitEvent),this},detach:function(){var e=this,t=e.data("jqv");return e.find("["+t.validateAttribute+"*=validate]").not("[type=checkbox]").off(t.validationEventTrigger,methods._onFieldEvent),e.find("["+t.validateAttribute+"*=validate][type=checkbox],[class*=validate][type=radio]").off("click",methods._onFieldEvent),e.off("submit",methods._onSubmitEvent),e.removeData("jqv"),e.off("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",methods._submitButtonClick),e.removeData("jqv_submitButton"),t.autoPositionUpdate&&$(window).off("resize",methods.updatePromptsPosition),this},validate:function(){var e=$(this),t=null;if(e.is("form")||e.hasClass("validationEngineContainer")){if(e.hasClass("validating")){return !1}e.addClass("validating");var a=e.data("jqv"),t=methods._validateFields(this);setTimeout(function(){e.removeClass("validating")},100),t&&a.onSuccess?a.onSuccess():!t&&a.onFailure&&a.onFailure()}else{if(e.is("form")||e.hasClass("validationEngineContainer")){e.removeClass("validating")}else{var r=e.closest("form, .validationEngineContainer"),a=r.data("jqv")?r.data("jqv"):$.validationEngine.defaults,t=methods._validateField(e,a);t&&a.onFieldSuccess?a.onFieldSuccess():a.onFieldFailure&&a.InvalidFields.length>0&&a.onFieldFailure()}}return a.onValidationComplete?!!a.onValidationComplete(r,t):t},updatePromptsPosition:function(e){if(e&&this==window){var t=e.data.formElem,a=e.data.noAnimation}else{var t=$(this.closest("form, .validationEngineContainer"))}var r=t.data("jqv");return t.find("["+r.validateAttribute+"*=validate]").not(":disabled").each(function(){var e=$(this);r.prettySelect&&e.is(":hidden")&&(e=t.find("#"+r.usePrefix+e.attr("id")+r.useSuffix));var i=methods._getPrompt(e),o=$(i).find(".formErrorContent").html();i&&methods._updatePrompt(e,$(i),o,void 0,!1,r,a)}),this},showPrompt:function(e,t,a,r){var i=this.closest("form, .validationEngineContainer"),o=i.data("jqv");return o||(o=methods._saveOptions(this,o)),a&&(o.promptPosition=a),o.showArrow=1==r,methods._showPrompt(this,e,t,!1,o),this},hide:function(){var e,t=$(this).closest("form, .validationEngineContainer"),a=t.data("jqv"),r=a&&a.fadeDuration?a.fadeDuration:0.3;return e=$(this).is("form")||$(this).hasClass("validationEngineContainer")?"parentForm"+methods._getClassName($(this).attr("id")):methods._getClassName($(this).attr("id"))+"formError",$("."+e).fadeTo(r,0.3,function(){$(this).parent(".formErrorOuter").remove(),$(this).remove()}),this},hideAll:function(){var e=this,t=e.data("jqv"),a=t?t.fadeDuration:300;return $(".formError").fadeTo(a,300,function(){$(this).parent(".formErrorOuter").remove(),$(this).remove()}),this},_onFieldEvent:function(e){var t=$(this),a=t.closest("form, .validationEngineContainer"),r=a.data("jqv");r.eventTrigger="field",window.setTimeout(function(){methods._validateField(t,r),0==r.InvalidFields.length&&r.onFieldSuccess?r.onFieldSuccess():r.InvalidFields.length>0&&r.onFieldFailure&&r.onFieldFailure()},e.data?e.data.delay:0)},_onSubmitEvent:function(){var e=$(this),t=e.data("jqv");if(e.data("jqv_submitButton")){var a=$("#"+e.data("jqv_submitButton"));if(a&&a.length>0&&(a.hasClass("validate-skip")||"true"==a.attr("data-validation-engine-skip"))){return !0}}t.eventTrigger="submit";var r=methods._validateFields(e);return r&&t.ajaxFormValidation?(methods._validateFormWithAjax(e,t),!1):t.onValidationComplete?!!t.onValidationComplete(e,r):r},_checkAjaxStatus:function(e){var t=!0;return $.each(e.ajaxValidCache,function(e,a){return a?void 0:(t=!1,!1)}),t},_checkAjaxFieldStatus:function(e,t){return 1==t.ajaxValidCache[e]},_validateFields:function(e){var t=e.data("jqv"),a=!1;e.trigger("jqv.form.validating");var r=null;if(e.find("["+t.validateAttribute+"*=validate]").not(":disabled").each(function(){var i=$(this),o=[];if($.inArray(i.attr("name"),o)<0){if(a|=methods._validateField(i,t),a&&null==r&&(i.is(":hidden")&&t.prettySelect?r=i=e.find("#"+t.usePrefix+methods._jqSelector(i.attr("id"))+t.useSuffix):(i.data("jqv-prompt-at") instanceof jQuery?i=i.data("jqv-prompt-at"):i.data("jqv-prompt-at")&&(i=$(i.data("jqv-prompt-at"))),r=i)),t.doNotShowAllErrosOnSubmit){return !1}if(o.push(i.attr("name")),1==t.showOneMessage&&a){return !1}}}),e.trigger("jqv.form.result",[a]),a){if(t.scroll){var i=r.offset().top,o=r.offset().left,n=t.promptPosition;if("string"==typeof n&&-1!=n.indexOf(":")&&(n=n.substring(0,n.indexOf(":"))),"bottomRight"!=n&&"bottomLeft"!=n){var s=methods._getPrompt(r);s&&(i=s.offset().top)}if(t.scrollOffset&&(i-=t.scrollOffset),t.isOverflown){var d=$(t.overflownDIV);if(!d.length){return !1}var l=d.scrollTop(),u=-parseInt(d.offset().top);i+=l+u-5;var F=$(t.overflownDIV+":not(:animated)");F.animate({scrollTop:i},1100,function(){t.focusFirstField&&r.focus()})}else{$("html, body").animate({scrollTop:i},1100,function(){t.focusFirstField&&r.focus()}),$("html, body").animate({scrollLeft:o},1100)}}else{t.focusFirstField&&r.focus()}return !1}return !0},_validateFormWithAjax:function(e,t){var a=e.serialize(),r=t.ajaxFormValidationMethod?t.ajaxFormValidationMethod:"GET",i=t.ajaxFormValidationURL?t.ajaxFormValidationURL:e.attr("action"),o=t.dataType?t.dataType:"json";$.ajax({type:r,url:i,cache:!1,dataType:o,data:a,form:e,methods:methods,options:t,beforeSend:function(){return t.onBeforeAjaxFormValidation(e,t)},error:function(e,a){t.onFailure?t.onFailure(e,a):methods._ajaxError(e,a)},success:function(a){if("json"==o&&a!==!0){for(var r=!1,i=0;i<a.length;i++){var n=a[i],s=n[0],d=$($("#"+s)[0]);if(1==d.length){var l=n[2];if(1==n[1]){if(""!=l&&l){if(t.allrules[l]){var u=t.allrules[l].alertTextOk;u&&(l=u)}t.showPrompts&&methods._showPrompt(d,l,"pass",!1,t,!0)}else{methods._closePrompt(d)}}else{if(r|=!0,t.allrules[l]){var u=t.allrules[l].alertText;u&&(l=u)}t.showPrompts&&methods._showPrompt(d,l,"",!1,t,!0)}}}t.onAjaxFormComplete(!r,e,a,t)}else{t.onAjaxFormComplete(!0,e,a,t)}}})},_validateField:function(e,t,a){if(e.attr("id")||(e.attr("id","form-validation-field-"+$.validationEngine.fieldIdCounter),++$.validationEngine.fieldIdCounter),!t.validateNonVisibleFields&&(e.is(":hidden")&&!t.prettySelect||e.parent().is(":hidden"))){return !1}var r=e.attr(t.validateAttribute),i=/validate\[(.*)\]/.exec(r);if(!i){return !1}var o=i[1],n=o.split(/\[|,|\]/),s=!1,d=e.attr("name"),l="",u="",F=!1,m=!1;t.isError=!1,t.showArrow=!0,t.maxErrorsPerField>0&&(m=!0);for(var c=$(e.closest("form, .validationEngineContainer")),f=0;f<n.length;f++){n[f]=n[f].replace(" ",""),""===n[f]&&delete n[f]}for(var f=0,v=0;f<n.length;f++){if(m&&v>=t.maxErrorsPerField){if(!F){var x=$.inArray("required",n);F=-1!=x&&x>=f}break}var p=void 0;switch(n[f]){case"required":F=!0,p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._required);break;case"custom":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._custom);break;case"groupRequired":var h="["+t.validateAttribute+"*="+n[f+1]+"]",g=c.find(h).eq(0);g[0]!=e[0]&&(methods._validateField(g,t,a),t.showArrow=!0),p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._groupRequired),p&&(F=!0),t.showArrow=!1;break;case"ajax":p=methods._ajax(e,n,f,t),p&&(u="load");break;case"sp":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._sp);break;case"nums":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._nums);break;case"len":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._len);break;case"minSize":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._minSize);break;case"maxSize":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._maxSize);break;case"min":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._min);break;case"max":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._max);break;case"past":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._past);break;case"future":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._future);break;case"dateRange":var h="["+t.validateAttribute+"*="+n[f+1]+"]";t.firstOfGroup=c.find(h).eq(0),t.secondOfGroup=c.find(h).eq(1),(t.firstOfGroup[0].value||t.secondOfGroup[0].value)&&(p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._dateRange)),p&&(F=!0),t.showArrow=!1;break;case"dateTimeRange":var h="["+t.validateAttribute+"*="+n[f+1]+"]";t.firstOfGroup=c.find(h).eq(0),t.secondOfGroup=c.find(h).eq(1),(t.firstOfGroup[0].value||t.secondOfGroup[0].value)&&(p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._dateTimeRange)),p&&(F=!0),t.showArrow=!1;break;case"maxCheckbox":e=$(c.find("input[name='"+d+"']")),p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._maxCheckbox);break;case"minCheckbox":e=$(c.find("input[name='"+d+"']")),p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._minCheckbox);break;case"equals":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._equals);break;case"funcCall":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._funcCall);break;case"creditCard":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._creditCard);break;case"condRequired":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._condRequired),void 0!==p&&(F=!0)}var T=!1;if("object"==typeof p){switch(p.status){case"_break":T=!0;break;case"_error":p=p.message;break;case"_error_no_prompt":return !0}}if(T){break}"string"==typeof p&&((""==l||t.showOneMessage!==!0)&&(l+=p+"<br/>"),t.isError=!0,v++)}!F&&!e.val()&&e.val().length<1&&n.indexOf("equals")<0&&(t.isError=!1);var C=e.prop("type"),_=e.data("promptPosition")||t.promptPosition;("radio"==C||"checkbox"==C)&&c.find("input[name='"+d+"']").size()>1&&(e=$("inline"===_?c.find("input[name='"+d+"'][type!=hidden]:last"):c.find("input[name='"+d+"'][type!=hidden]:first")),t.showArrow=!1),e.is(":hidden")&&t.prettySelect&&(e=c.find("#"+t.usePrefix+methods._jqSelector(e.attr("id"))+t.useSuffix)),t.isError&&t.showPrompts?methods._showPrompt(e,l,u,!1,t):s||methods._closePrompt(e),s||e.trigger("jqv.field.result",[e,t.isError,l]);var D=$.inArray(e[0],t.InvalidFields);return -1==D?t.isError&&t.InvalidFields.push(e[0]):t.isError||t.InvalidFields.splice(D,1),methods._handleStatusCssClasses(e,t),t.isError&&t.onFieldFailure&&t.onFieldFailure(e),!t.isError&&t.onFieldSuccess&&t.onFieldSuccess(e),t.isError},_handleStatusCssClasses:function(e,t){t.addSuccessCssClassToField&&e.removeClass(t.addSuccessCssClassToField),t.addFailureCssClassToField&&e.removeClass(t.addFailureCssClassToField),t.addSuccessCssClassToField&&!t.isError&&e.addClass(t.addSuccessCssClassToField),t.addFailureCssClassToField&&t.isError&&e.addClass(t.addFailureCssClassToField)},_getErrorMessage:function(e,t,a,r,i,o,n){var s=jQuery.inArray(a,r);if("custom"===a||"funcCall"===a){var d=r[s+1];a=a+"["+d+"]",delete r[s]}var l,u=a,F=t.attr(t.attr("data-validation-engine")?"data-validation-engine":"class"),m=F.split(" ");if(l="future"==a||"past"==a||"maxCheckbox"==a||"minCheckbox"==a?n(e,t,r,i,o):n(t,r,i,o),void 0!=l){var c=methods._getCustomErrorMessage($(t),m,u,o);c&&(l=c)}return l},_getCustomErrorMessage:function(e,t,a,r){var i=!1,o=/^custom\[.*\]$/.test(a)?methods._validityProp.custom:methods._validityProp[a];if(void 0!=o&&(i=e.attr("data-errormessage-"+o),void 0!=i)){return i}if(i=e.attr("data-errormessage"),void 0!=i){return i}var n="#"+e.attr("id");if("undefined"!=typeof r.custom_error_messages[n]&&"undefined"!=typeof r.custom_error_messages[n][a]){i=r.custom_error_messages[n][a].message}else{if(t.length>0){for(var s=0;s<t.length&&t.length>0;s++){var d="."+t[s];if("undefined"!=typeof r.custom_error_messages[d]&&"undefined"!=typeof r.custom_error_messages[d][a]){i=r.custom_error_messages[d][a].message;break}}}}return i||"undefined"==typeof r.custom_error_messages[a]||"undefined"==typeof r.custom_error_messages[a].message||(i=r.custom_error_messages[a].message),i},_validityProp:{required:"value-missing",custom:"custom-error",groupRequired:"value-missing",ajax:"custom-error",sp:"range-underflow",len:"range-underflow",minSize:"range-underflow",maxSize:"range-overflow",min:"range-underflow",max:"range-overflow",past:"type-mismatch",future:"type-mismatch",dateRange:"type-mismatch",dateTimeRange:"type-mismatch",maxCheckbox:"range-overflow",minCheckbox:"range-underflow",equals:"pattern-mismatch",funcCall:"custom-error",creditCard:"pattern-mismatch",condRequired:"value-missing"},_required:function(e,t,a,r,i){switch(e.prop("type")){case"text":case"password":case"textarea":case"file":case"select-one":case"select-multiple":default:var o=$.trim(e.val()),n=$.trim(e.attr("data-validation-placeholder")),s=$.trim(e.attr("placeholder"));if(!o||n&&o==n||s&&o==s){return r.allrules[t[a]].alertText}break;case"radio":case"checkbox":if(i){if(!e.attr("checked")){return r.allrules[t[a]].alertTextCheckboxMultiple}break}var d=e.closest("form, .validationEngineContainer"),l=e.attr("name");if(0==d.find("input[name='"+l+"']:checked").size()){return 1==d.find("input[name='"+l+"']:visible").size()?r.allrules[t[a]].alertTextCheckboxe:r.allrules[t[a]].alertTextCheckboxMultiple}}},_groupRequired:function(e,t,a,r){var i="["+r.validateAttribute+"*="+t[a+1]+"]",o=!1;return e.closest("form, .validationEngineContainer").find(i).each(function(){return methods._required($(this),t,a,r)?void 0:(o=!0,!1)}),o?void 0:r.allrules[t[a]].alertText},_custom:function(e,t,a,r){var i,o=t[a+1],n=r.allrules[o];if(!n){return void alert("jqv:custom rule not found - "+o)}if(n.regex){var s=n.regex;if(!s){return void alert("jqv:custom regex not found - "+o)}var d=new RegExp(s);if(!d.test(e.val())){return r.allrules[o].alertText}}else{if(!n.func){return void alert("jqv:custom type not allowed "+o)}if(i=n.func,"function"!=typeof i){return void alert("jqv:custom parameter 'function' is no function - "+o)}if(!i(e,t,a,r)){return r.allrules[o].alertText}}},_funcCall:function(e,t,a,r){var i,o=t[a+1];if(o.indexOf(".")>-1){for(var n=o.split("."),s=window;n.length;){s=s[n.shift()]}i=s}else{i=window[o]||r.customFunctions[o]}return"function"==typeof i?i(e,t,a,r):void 0},_equals:function(e,t,a,r){var i=t[a+1];return e.val()!=$("#"+i).val()?r.allrules.equals.alertText:void 0},_maxSize:function(e,t,a,r){var i=t[a+1],o=e.val(),n=getStrLen(o);if(n>i){var s=cutStrByLen(e.val(),i);e.val(s);var d=r.allrules.maxSize;return d.alertText+i+d.alertText2}},_minSize:function(e,t,a,r){var i=t[a+1],o=e.val(),n=getStrLen(o);if(i>n){var s=r.allrules.minSize;return s.alertText+i+s.alertText2}},_len:function(e,t,a,r){var i=e.val(),o=t[a+1],n=t[a+2],s=getStrLen(i);if(!(s>=o&&n>=s)){var d=r.allrules.len,l=o+" - "+n;if(s>n){var u=cutStrByLen(e.val(),n);e.val(u)}return d.alertText+l+d.alertText2}},_sp:function(field,rules,i,options){function checkSpecialChars(e,t){for(var a=t.split("|"),r="",i=0;i<a.length;i++){(e.indexOf(a[i])>=0||e.indexOf("\\")>=0)&&(r=a.join(" , ").replace("\\\\","\\"))}return r}var sign="#|%|<|>|?|$|&|/|'|\\\\",arrayStr=rules[i+1];if(arrayStr&&0==arrayStr.indexOf("[")){var param=eval("("+rules[i+1]+")");param&&param.add&&(sign+="|"+param.add),param&&param.me&&(sign=param.me)}var value=field.val(),message=checkSpecialChars(value,sign);if(message){setTimeout(function(){var e=new RegExp("["+sign+"]","g"),t=field.val().replace(e,"");field.val(t)},800);var rule=options.allrules.sp;return rule.alertText+message+rule.alertText2}},_nums:function(e,t,a,r){var i,o=t[a+1],n=r.allrules[o];if(!n){return void alert("jqv:custom rule not found - "+o)}if(n.regex){var s=n.regex;if(!s){return void alert("jqv:custom regex not found - "+o)}var d=new RegExp(s);if(!d.test(e.val())){var l=new RegExp("[^\\d\\.]","g"),u=e.val().replace(l,"");return setTimeout(function(){e.val("undefined"!=u&&"null"!=u?u:"")},800),r.allrules[o].alertText}}else{if(!n.func){return void alert("jqv:custom type not allowed "+o)}if(i=n.func,"function"!=typeof i){return void alert("jqv:custom parameter 'function' is no function - "+o)}if(!i(e,t,a,r)){return r.allrules[o].alertText}}},_min:function(e,t,a,r){var i=parseFloat(t[a+1]),o=parseFloat(e.val());if(i>o){var n=r.allrules.min;return n.alertText2?n.alertText+i+n.alertText2:n.alertText+i}},_max:function(e,t,a,r){var i=parseFloat(t[a+1]),o=parseFloat(e.val());if(o>i){var n=r.allrules.max;return n.alertText2?n.alertText+i+n.alertText2:n.alertText+i}},_past:function(e,t,a,r,i){var o,n=a[r+1],s=$(e.find("*[name='"+n.replace(/^#+/,"")+"']"));if("now"==n.toLowerCase()){o=new Date}else{if(void 0!=s.val()){if(s.is(":disabled")){return}o=methods._parseDate(s.val())}else{o=methods._parseDate(n)}}var d=methods._parseDate(t.val());if(d>o){var l=i.allrules.past;return l.alertText2?l.alertText+methods._dateToString(o)+l.alertText2:l.alertText+methods._dateToString(o)}},_future:function(e,t,a,r,i){var o,n=a[r+1],s=$(e.find("*[name='"+n.replace(/^#+/,"")+"']"));if("now"==n.toLowerCase()){o=new Date}else{if(void 0!=s.val()){if(s.is(":disabled")){return}o=methods._parseDate(s.val())}else{o=methods._parseDate(n)}}var d=methods._parseDate(t.val());if(o>d){var l=i.allrules.future;return l.alertText2?l.alertText+methods._dateToString(o)+l.alertText2:l.alertText+methods._dateToString(o)}},_isDate:function(e){var t=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/);return t.test(e)},_isDateTime:function(e){var t=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/);return t.test(e)},_dateCompare:function(e,t){return new Date(e.toString())<new Date(t.toString())},_dateRange:function(e,t,a,r){return !r.firstOfGroup[0].value&&r.secondOfGroup[0].value||r.firstOfGroup[0].value&&!r.secondOfGroup[0].value?r.allrules[t[a]].alertText+r.allrules[t[a]].alertText2:methods._isDate(r.firstOfGroup[0].value)&&methods._isDate(r.secondOfGroup[0].value)&&methods._dateCompare(r.firstOfGroup[0].value,r.secondOfGroup[0].value)?void 0:r.allrules[t[a]].alertText+r.allrules[t[a]].alertText2},_dateTimeRange:function(e,t,a,r){return !r.firstOfGroup[0].value&&r.secondOfGroup[0].value||r.firstOfGroup[0].value&&!r.secondOfGroup[0].value?r.allrules[t[a]].alertText+r.allrules[t[a]].alertText2:methods._isDateTime(r.firstOfGroup[0].value)&&methods._isDateTime(r.secondOfGroup[0].value)&&methods._dateCompare(r.firstOfGroup[0].value,r.secondOfGroup[0].value)?void 0:r.allrules[t[a]].alertText+r.allrules[t[a]].alertText2},_maxCheckbox:function(e,t,a,r,i){var o=a[r+1],n=t.attr("name"),s=e.find("input[name='"+n+"']:checked").size();return s>o?(i.showArrow=!1,i.allrules.maxCheckbox.alertText2?i.allrules.maxCheckbox.alertText+" "+o+" "+i.allrules.maxCheckbox.alertText2:i.allrules.maxCheckbox.alertText):void 0},_minCheckbox:function(e,t,a,r,i){var o=a[r+1],n=t.attr("name"),s=e.find("input[name='"+n+"']:checked").size();return o>s?(i.showArrow=!1,i.allrules.minCheckbox.alertText+" "+o+" "+i.allrules.minCheckbox.alertText2):void 0},_creditCard:function(e,t,a,r){var i=!1,o=e.val().replace(/ +/g,"").replace(/-+/g,""),n=o.length;if(n>=14&&16>=n&&parseInt(o)>0){var s,d=0,a=n-1,l=1,u=new String;do{s=parseInt(o.charAt(a)),u+=l++%2==0?2*s:s}while(--a>=0);for(a=0;a<u.length;a++){d+=parseInt(u.charAt(a))}i=d%10==0}return i?void 0:r.allrules.creditCard.alertText},_ajax:function(e,t,a,r){var i=t[a+1],o=r.allrules[i],n=o.extraData,s=o.extraDataDynamic,d={fieldId:e.attr("id"),fieldValue:e.val()};if("object"==typeof n){$.extend(d,n)}else{if("string"==typeof n){for(var l=n.split("&"),a=0;a<l.length;a++){var u=l[a].split("=");u[0]&&u[0]&&(d[u[0]]=u[1])}}}if(s){for(var F=String(s).split(","),a=0;a<F.length;a++){var m=F[a];if($(m).length){var c=e.closest("form, .validationEngineContainer").find(m).val();m.replace("#","")+"="+escape(c);d[m.replace("#","")]=c}}}return"field"==r.eventTrigger&&delete r.ajaxValidCache[e.attr("id")],r.isError||methods._checkAjaxFieldStatus(e.attr("id"),r)?void 0:($.ajax({type:r.ajaxFormValidationMethod,url:o.url,cache:!1,dataType:"json",data:d,field:e,rule:o,methods:methods,options:r,beforeSend:function(){},error:function(e,t){r.onFailure?r.onFailure(e,t):methods._ajaxError(e,t)},success:function(t){var a=t[0],i=$("#"+a).eq(0);if(1==i.length){var n=t[1],s=t[2];if(n){if(r.ajaxValidCache[a]=!0,s){if(r.allrules[s]){var d=r.allrules[s].alertTextOk;d&&(s=d)}}else{s=o.alertTextOk}r.showPrompts&&(s?methods._showPrompt(i,s,"pass",!0,r):methods._closePrompt(i)),"submit"==r.eventTrigger&&e.closest("form").submit()}else{if(r.ajaxValidCache[a]=!1,r.isError=!0,s){if(r.allrules[s]){var d=r.allrules[s].alertText;d&&(s=d)}}else{s=o.alertText}r.showPrompts&&methods._showPrompt(i,s,"",!0,r)}}i.trigger("jqv.field.result",[i,r.isError,s])}}),o.alertTextLoad)},_ajaxError:function(e,t){0==e.status&&null==t?alert("The page is not served from a server! ajax call failed"):"undefined"!=typeof console&&console.log("Ajax error: "+e.status+" "+t)},_dateToString:function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},_parseDate:function(e){var t=e.split("-");return t==e&&(t=e.split("/")),t==e?(t=e.split("."),new Date(t[2],t[1]-1,t[0])):new Date(t[0],t[1]-1,t[2])},_showPrompt:function(e,t,a,r,i,o){e.data("jqv-prompt-at") instanceof jQuery?e=e.data("jqv-prompt-at"):e.data("jqv-prompt-at")&&(e=$(e.data("jqv-prompt-at")));var n=methods._getPrompt(e);o&&(n=!1),$.trim(t)&&(n?methods._updatePrompt(e,n,t,a,r,i):methods._buildPrompt(e,t,a,r,i))},_buildPrompt:function(e,t,a,r,i){var o=$("<div>");switch(o.addClass(methods._getClassName(e.attr("id"))+"formError"),o.addClass("parentForm"+methods._getClassName(e.closest("form, .validationEngineContainer").attr("id"))),o.addClass("formError"),a){case"pass":o.addClass("greenPopup");break;case"load":o.addClass("blackPopup")}r&&o.addClass("ajaxed");var n=($("<div>").addClass("formErrorContent").html(t).appendTo(o),e.data("promptPosition")||i.promptPosition);if(i.showArrow){var s=$("<div>").addClass("formErrorArrow");if("string"==typeof n){var d=n.indexOf(":");-1!=d&&(n=n.substring(0,d))}switch(n){case"bottomLeft":case"bottomRight":o.find(".formErrorContent").before(s),s.addClass("formErrorArrowBottom").html('<div class="line1"><!-- --></div><div class="line2"><!-- --></div><div class="line3"><!-- --></div><div class="line4"><!-- --></div><div class="line5"><!-- --></div><div class="line6"><!-- --></div><div class="line7"><!-- --></div><div class="line8"><!-- --></div><div class="line9"><!-- --></div><div class="line10"><!-- --></div>');break;case"topLeft":case"topRight":s.html('<div class="line10"><!-- --></div><div class="line9"><!-- --></div><div class="line8"><!-- --></div><div class="line7"><!-- --></div><div class="line6"><!-- --></div><div class="line5"><!-- --></div><div class="line4"><!-- --></div><div class="line3"><!-- --></div><div class="line2"><!-- --></div><div class="line1"><!-- --></div>'),o.append(s)}}i.addPromptClass&&o.addClass(i.addPromptClass);var l=e.attr("data-required-class");if(void 0!==l){o.addClass(l)}else{if(i.prettySelect&&$("#"+e.attr("id")).next().is("select")){var u=$("#"+e.attr("id").substr(i.usePrefix.length).substring(i.useSuffix.length)).attr("data-required-class");void 0!==u&&o.addClass(u)}}o.css({opacity:0}),"inline"===n?(o.addClass("inline"),"undefined"!=typeof e.attr("data-prompt-target")&&$("#"+e.attr("data-prompt-target")).length>0?o.appendTo($("#"+e.attr("data-prompt-target"))):e.after(o)):e.before(o);var d=methods._calculatePosition(e,o,i);return o.css({position:"inline"===n?"relative":"absolute",top:d.callerTopPosition,left:d.callerleftPosition,marginTop:d.marginTopSize,opacity:0}).data("callerField",e),i.autoHidePrompt&&setTimeout(function(){o.animate({opacity:0},function(){o.closest(".formErrorOuter").remove(),o.remove()})},i.autoHideDelay),o.animate({opacity:0.9})},_updatePrompt:function(e,t,a,r,i,o,n){if(t){"undefined"!=typeof r&&("pass"==r?t.addClass("greenPopup"):t.removeClass("greenPopup"),"load"==r?t.addClass("blackPopup"):t.removeClass("blackPopup")),i?t.addClass("ajaxed"):t.removeClass("ajaxed"),t.find(".formErrorContent").html(a);var s=methods._calculatePosition(e,t,o),d={top:s.callerTopPosition,left:s.callerleftPosition,marginTop:s.marginTopSize};n?t.css(d):t.animate(d)}},_closePrompt:function(e){var t=methods._getPrompt(e);t&&t.fadeTo("fast",0,function(){t.parent(".formErrorOuter").remove(),t.remove()})},closePrompt:function(e){return methods._closePrompt(e)},_getPrompt:function(e){var t=$(e).closest("form, .validationEngineContainer").attr("id"),a=methods._getClassName(e.attr("id"))+"formError",r=$("."+methods._escapeExpression(a)+".parentForm"+methods._getClassName(t))[0];return r?$(r):void 0},_escapeExpression:function(e){return e.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},isRTL:function(e){var t=$(document),a=$("body"),r=e&&e.hasClass("rtl")||e&&"rtl"===(e.attr("dir")||"").toLowerCase()||t.hasClass("rtl")||"rtl"===(t.attr("dir")||"").toLowerCase()||a.hasClass("rtl")||"rtl"===(a.attr("dir")||"").toLowerCase();return Boolean(r)},_calculatePosition:function(e,t,a){var r,i,o,n=e.width(),s=e.position().left,d=e.position().top,l=(e.height(),t.height());r=i=0,o=-l;var u=e.data("promptPosition")||a.promptPosition,F="",m="",c=0,f=0;switch("string"==typeof u&&-1!=u.indexOf(":")&&(F=u.substring(u.indexOf(":")+1),u=u.substring(0,u.indexOf(":")),-1!=F.indexOf(",")&&(m=F.substring(F.indexOf(",")+1),F=F.substring(0,F.indexOf(",")),f=parseInt(m),isNaN(f)&&(f=0)),c=parseInt(F),isNaN(F)&&(F=0)),u){default:case"topRight":i+=s+n-30,r+=d;break;case"topLeft":r+=d,i+=s;break;case"centerRight":r=d,o=0,i=s+e.outerWidth(!0)+5;break;case"centerLeft":i=s-t.outerWidth(),r=d,o=0;break;case"bottomLeft":r=d+e.outerHeight(),o=0,i=s;break;case"bottomRight":i=s+n-30,r=d+e.outerHeight(),o=0;break;case"inline":i=0,r=0,o=0}return i+=c,r+=f,{callerTopPosition:r+"px",callerleftPosition:i+"px",marginTopSize:o+"px"}},_saveOptions:function(e,t){if($.validationEngineLanguage){var a=$.validationEngineLanguage.allRules}else{$.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page")}$.validationEngine.defaults.allrules=a;var r=$.extend(!0,{},$.validationEngine.defaults,t);return e.data("jqv",r),r},_getClassName:function(e){return e?e.replace(/:/g,"_").replace(/\./g,"_"):void 0},_jqSelector:function(e){return e.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1")},_condRequired:function(e,t,a,r){var i,o;for(i=a+1;i<t.length;i++){if(o=jQuery("#"+t[i]).first(),o.length&&void 0==methods._required(o,["required"],0,r,!0)){return methods._required(e,["required"],0,r)}}},_submitButtonClick:function(){var e=$(this),t=e.closest("form, .validationEngineContainer");t.data("jqv_submitButton",e.attr("id"))}};$.fn.validationEngine=function(e){var t=$(this);return t[0]?"string"==typeof e&&"_"!=e.charAt(0)&&methods[e]?("showPrompt"!=e&&"hide"!=e&&"hideAll"!=e&&methods.init.apply(t),methods[e].apply(t,Array.prototype.slice.call(arguments,1))):"object"!=typeof e&&e?void $.error("Method "+e+" does not exist in jQuery.validationEngine"):(methods.init.apply(t,arguments),methods.attach.apply(t)):t},$.validationEngine={fieldIdCounter:0,defaults:{validationEventTrigger:"blur",scroll:!0,focusFirstField:!0,showPrompts:!0,validateNonVisibleFields:!1,promptPosition:"topRight",bindMethod:"bind",inlineAjax:!1,ajaxFormValidation:!1,ajaxFormValidationURL:!1,ajaxFormValidationMethod:"get",onAjaxFormComplete:$.noop,onBeforeAjaxFormValidation:$.noop,onValidationComplete:!1,doNotShowAllErrosOnSubmit:!1,custom_error_messages:{},binded:!0,showArrow:!0,isError:!1,maxErrorsPerField:!1,ajaxValidCache:{},autoPositionUpdate:!1,InvalidFields:[],onFieldSuccess:!1,onFieldFailure:!1,onSuccess:!1,onFailure:!1,validateAttribute:"class",addSuccessCssClassToField:"",addFailureCssClassToField:"",autoHidePrompt:!1,autoHideDelay:10000,fadeDuration:0.3,prettySelect:!1,addPromptClass:"",usePrefix:"",useSuffix:"",showOneMessage:!1}},$(function(){$.validationEngine.defaults.promptPosition=methods.isRTL()?"topLeft":"topRight"})}(jQuery);
/*!/ztree/js/jquery.ztree.all-3.5.js*/
!function($){var settings={},roots={},caches={},_consts={className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove",SELECTED:"ztree_selected",UNSELECTED:"ztree_unselected"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_setting={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0,txtSelectedEnable:!1},data:{key:{children:"children",name:"name",title:"",url:"url",icon:"icon"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},_initRoot=function(e){var t=data.getRoot(e);t||(t={},data.setRoot(e,t)),t[e.data.key.children]=[],t.expandTriggerFlag=!1,t.curSelectedList=[],t.noSelection=!0,t.createdNodes=[],t.zId=0,t._ver=(new Date).getTime()},_initCache=function(e){var t=data.getCache(e);t||(t={},data.setCache(e,t)),t.nodes=[],t.doms=[]},_bindEvent=function(e){var t=e.treeObj,n=consts.event;t.bind(n.NODECREATED,function(t,n,o){tools.apply(e.callback.onNodeCreated,[t,n,o])}),t.bind(n.CLICK,function(t,n,o,a,r){tools.apply(e.callback.onClick,[n,o,a,r])}),t.bind(n.EXPAND,function(t,n,o){tools.apply(e.callback.onExpand,[t,n,o])}),t.bind(n.COLLAPSE,function(t,n,o){tools.apply(e.callback.onCollapse,[t,n,o])}),t.bind(n.ASYNC_SUCCESS,function(t,n,o,a){tools.apply(e.callback.onAsyncSuccess,[t,n,o,a])}),t.bind(n.ASYNC_ERROR,function(t,n,o,a,r,i){tools.apply(e.callback.onAsyncError,[t,n,o,a,r,i])}),t.bind(n.REMOVE,function(t,n,o){tools.apply(e.callback.onRemove,[t,n,o])}),t.bind(n.SELECTED,function(t,n,o){tools.apply(e.callback.onSelected,[n,o])}),t.bind(n.UNSELECTED,function(t,n,o){tools.apply(e.callback.onUnSelected,[n,o])})},_unbindEvent=function(e){var t=e.treeObj,n=consts.event;t.unbind(n.NODECREATED).unbind(n.CLICK).unbind(n.EXPAND).unbind(n.COLLAPSE).unbind(n.ASYNC_SUCCESS).unbind(n.ASYNC_ERROR).unbind(n.REMOVE).unbind(n.SELECTED).unbind(n.UNSELECTED)},_eventProxy=function(e){var t=e.target,n=data.getSetting(e.data.treeId),o="",a=null,r="",i="",d=null,s=null,l=null;if(tools.eqs(e.type,"mousedown")?i="mousedown":tools.eqs(e.type,"mouseup")?i="mouseup":tools.eqs(e.type,"contextmenu")?i="contextmenu":tools.eqs(e.type,"click")?tools.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+consts.id.SWITCH)?(o=tools.getNodeMainDom(t).id,r="switchNode"):(l=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]),l&&(o=tools.getNodeMainDom(l).id,r="clickNode")):tools.eqs(e.type,"dblclick")&&(i="dblclick",l=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]),l&&(o=tools.getNodeMainDom(l).id,r="switchNode")),i.length>0&&0==o.length&&(l=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]),l&&(o=tools.getNodeMainDom(l).id)),o.length>0){switch(a=data.getNodeCache(n,o),r){case"switchNode":a.isParent&&(tools.eqs(e.type,"click")||tools.eqs(e.type,"dblclick")&&tools.apply(n.view.dblClickExpand,[n.treeId,a],n.view.dblClickExpand))?d=handler.onSwitchNode:r="";break;case"clickNode":d=handler.onClickNode}}switch(i){case"mousedown":s=handler.onZTreeMousedown;break;case"mouseup":s=handler.onZTreeMouseup;break;case"dblclick":s=handler.onZTreeDblclick;break;case"contextmenu":s=handler.onZTreeContextmenu}var c={stop:!1,node:a,nodeEventType:r,nodeEventCallback:d,treeEventType:i,treeEventCallback:s};return c},_initNode=function(e,t,n,o,a,r){if(n){var i=data.getRoot(e),d=e.data.key.children;n.level=t,n.tId=e.treeId+"_"+ ++i.zId,n.parentTId=o?o.tId:null,n.open="string"==typeof n.open?tools.eqs(n.open,"true"):!!n.open,n[d]&&n[d].length>0?(n.isParent=!0,n.zAsync=!0):(n.isParent="string"==typeof n.isParent?tools.eqs(n.isParent,"true"):!!n.isParent,n.open=n.isParent&&!e.async.enable?n.open:!1,n.zAsync=!n.isParent),n.isFirstNode=a,n.isLastNode=r,n.getParentNode=function(){return data.getNodeCache(e,n.parentTId)},n.getPreNode=function(){return data.getPreNode(e,n)},n.getNextNode=function(){return data.getNextNode(e,n)},n.isAjaxing=!1,data.fixPIdKeyValue(e,n)}},_init={bind:[_bindEvent],unbind:[_unbindEvent],caches:[_initCache],nodes:[_initNode],proxys:[_eventProxy],roots:[_initRoot],beforeA:[],afterA:[],innerBeforeA:[],innerAfterA:[],zTreeTools:[]},data={addNodeCache:function(e,t){data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=t},getNodeCacheId:function(e){return e.substring(e.lastIndexOf("_")+1)},addAfterA:function(e){_init.afterA.push(e)},addBeforeA:function(e){_init.beforeA.push(e)},addInnerAfterA:function(e){_init.innerAfterA.push(e)},addInnerBeforeA:function(e){_init.innerBeforeA.push(e)},addInitBind:function(e){_init.bind.push(e)},addInitUnBind:function(e){_init.unbind.push(e)},addInitCache:function(e){_init.caches.push(e)},addInitNode:function(e){_init.nodes.push(e)},addInitProxy:function(e,t){t?_init.proxys.splice(0,0,e):_init.proxys.push(e)},addInitRoot:function(e){_init.roots.push(e)},addNodesData:function(e,t,n){var o=e.data.key.children;t[o]||(t[o]=[]),t[o].length>0&&(t[o][t[o].length-1].isLastNode=!1,view.setNodeLineIcos(e,t[o][t[o].length-1])),t.isParent=!0,t[o]=t[o].concat(n)},addSelectedNode:function(e,t){var n=data.getRoot(e);data.isSelectedNode(e,t)||n.curSelectedList.push(t)},addCreatedNode:function(e,t){if(e.callback.onNodeCreated||e.view.addDiyDom){var n=data.getRoot(e);n.createdNodes.push(t)}},addZTreeTools:function(e){_init.zTreeTools.push(e)},exSetting:function(e){$.extend(!0,_setting,e)},fixPIdKeyValue:function(e,t){e.data.simpleData.enable&&(t[e.data.simpleData.pIdKey]=t.parentTId?t.getParentNode()[e.data.simpleData.idKey]:e.data.simpleData.rootPId)},getAfterA:function(){for(var e=0,t=_init.afterA.length;t>e;e++){_init.afterA[e].apply(this,arguments)}},getBeforeA:function(){for(var e=0,t=_init.beforeA.length;t>e;e++){_init.beforeA[e].apply(this,arguments)}},getInnerAfterA:function(){for(var e=0,t=_init.innerAfterA.length;t>e;e++){_init.innerAfterA[e].apply(this,arguments)}},getInnerBeforeA:function(){for(var e=0,t=_init.innerBeforeA.length;t>e;e++){_init.innerBeforeA[e].apply(this,arguments)}},getCache:function(e){return caches[e.treeId]},getNextNode:function(e,t){if(!t){return null}for(var n=e.data.key.children,o=t.parentTId?t.getParentNode():data.getRoot(e),a=0,r=o[n].length-1;r>=a;a++){if(o[n][a]===t){return a==r?null:o[n][a+1]}}return null},getNodeByParam:function(e,t,n,o){if(!t||!n){return null}for(var a=e.data.key.children,r=0,i=t.length;i>r;r++){if(t[r][n]==o){return t[r]}var d=data.getNodeByParam(e,t[r][a],n,o);if(d){return d}}return null},getNodeCache:function(e,t){if(!t){return null}var n=caches[e.treeId].nodes[data.getNodeCacheId(t)];return n?n:null},getNodeName:function(e,t){var n=e.data.key.name;return""+t[n]},getNodeTitle:function(e,t){var n=""===e.data.key.title?e.data.key.name:e.data.key.title;return""+t[n]},getNodes:function(e){return data.getRoot(e)[e.data.key.children]},getNodesByParam:function(e,t,n,o){if(!t||!n){return[]}for(var a=e.data.key.children,r=[],i=0,d=t.length;d>i;i++){t[i][n]==o&&r.push(t[i]),r=r.concat(data.getNodesByParam(e,t[i][a],n,o))}return r},getNodesByParamFuzzy:function(e,t,n,o){if(!t||!n){return[]}var a=e.data.key.children,r=[];o=o.toLowerCase();for(var i=0,d=t.length;d>i;i++){"string"==typeof t[i][n]&&t[i][n].toLowerCase().indexOf(o)>-1&&r.push(t[i]),r=r.concat(data.getNodesByParamFuzzy(e,t[i][a],n,o))}return r},getNodesByFilter:function(e,t,n,o,a){if(!t){return o?null:[]}for(var r=e.data.key.children,i=o?null:[],d=0,s=t.length;s>d;d++){if(tools.apply(n,[t[d],a],!1)){if(o){return t[d]}i.push(t[d])}var l=data.getNodesByFilter(e,t[d][r],n,o,a);if(o&&l){return l}i=o?l:i.concat(l)}return i},getPreNode:function(e,t){if(!t){return null}for(var n=e.data.key.children,o=t.parentTId?t.getParentNode():data.getRoot(e),a=0,r=o[n].length;r>a;a++){if(o[n][a]===t){return 0==a?null:o[n][a-1]}}return null},getRoot:function(e){return e?roots[e.treeId]:null},getRoots:function(){return roots},getSetting:function(e){return settings[e]},getSettings:function(){return settings},getZTreeTools:function(e){var t=this.getRoot(this.getSetting(e));return t?t.treeTools:null},initCache:function(){for(var e=0,t=_init.caches.length;t>e;e++){_init.caches[e].apply(this,arguments)}},initNode:function(){for(var e=0,t=_init.nodes.length;t>e;e++){_init.nodes[e].apply(this,arguments)}},initRoot:function(){for(var e=0,t=_init.roots.length;t>e;e++){_init.roots[e].apply(this,arguments)}},isSelectedNode:function(e,t){for(var n=data.getRoot(e),o=0,a=n.curSelectedList.length;a>o;o++){if(t===n.curSelectedList[o]){return !0}}return !1},removeNodeCache:function(e,t){var n=e.data.key.children;if(t[n]){for(var o=0,a=t[n].length;a>o;o++){arguments.callee(e,t[n][o])}}data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=null},removeSelectedNode:function(e,t){for(var n=data.getRoot(e),o=0,a=n.curSelectedList.length;a>o;o++){t!==n.curSelectedList[o]&&data.getNodeCache(e,n.curSelectedList[o].tId)||(n.curSelectedList.splice(o,1),e.treeObj.trigger(consts.event.UNSELECTED,[e.treeId,t]),o--,a--)}},setCache:function(e,t){caches[e.treeId]=t},setRoot:function(e,t){roots[e.treeId]=t},setZTreeTools:function(){for(var e=0,t=_init.zTreeTools.length;t>e;e++){_init.zTreeTools[e].apply(this,arguments)}},transformToArrayFormat:function(e,t){if(!t){return[]}var n=e.data.key.children,o=[];if(tools.isArray(t)){for(var a=0,r=t.length;r>a;a++){o.push(t[a]),t[a][n]&&(o=o.concat(data.transformToArrayFormat(e,t[a][n])))}}else{o.push(t),t[n]&&(o=o.concat(data.transformToArrayFormat(e,t[n])))}return o},transformTozTreeFormat:function(e,t){var n,o,a=e.data.simpleData.idKey,r=e.data.simpleData.pIdKey,i=e.data.key.children;if(!a||""==a||!t){return[]}if(tools.isArray(t)){var d=[],s=[];for(n=0,o=t.length;o>n;n++){s[t[n][a]]=t[n]}for(n=0,o=t.length;o>n;n++){s[t[n][r]]&&t[n][a]!=t[n][r]?(s[t[n][r]][i]||(s[t[n][r]][i]=[]),s[t[n][r]][i].push(t[n])):d.push(t[n])}return d}return[t]}},event={bindEvent:function(){for(var e=0,t=_init.bind.length;t>e;e++){_init.bind[e].apply(this,arguments)}},unbindEvent:function(){for(var e=0,t=_init.unbind.length;t>e;e++){_init.unbind[e].apply(this,arguments)}},bindTree:function(e){var t={treeId:e.treeId},n=e.treeObj;e.view.txtSelectedEnable||n.bind("selectstart",function(e){var t=e.originalEvent.srcElement.nodeName.toLowerCase();return"input"===t||"textarea"===t}).css({"-moz-user-select":"-moz-none"}),n.bind("click",t,event.proxy),n.bind("dblclick",t,event.proxy),n.bind("mouseover",t,event.proxy),n.bind("mouseout",t,event.proxy),n.bind("mousedown",t,event.proxy),n.bind("mouseup",t,event.proxy),n.bind("contextmenu",t,event.proxy)},unbindTree:function(e){var t=e.treeObj;t.unbind("click",event.proxy).unbind("dblclick",event.proxy).unbind("mouseover",event.proxy).unbind("mouseout",event.proxy).unbind("mousedown",event.proxy).unbind("mouseup",event.proxy).unbind("contextmenu",event.proxy)},doProxy:function(){for(var e=[],t=0,n=_init.proxys.length;n>t;t++){var o=_init.proxys[t].apply(this,arguments);if(e.push(o),o.stop){break}}return e},proxy:function(e){var t=data.getSetting(e.data.treeId);if(!tools.uCanDo(t,e)){return !0}for(var n=event.doProxy(e),o=!0,a=!1,r=0,i=n.length;i>r;r++){var d=n[r];d.nodeEventCallback&&(a=!0,o=d.nodeEventCallback.apply(d,[e,d.node])&&o),d.treeEventCallback&&(a=!0,o=d.treeEventCallback.apply(d,[e,d.node])&&o)}return o}},handler={onSwitchNode:function(e,t){var n=data.getSetting(e.data.treeId);if(t.open){if(0==tools.apply(n.callback.beforeCollapse,[n.treeId,t],!0)){return !0}data.getRoot(n).expandTriggerFlag=!0,view.switchNode(n,t)}else{if(0==tools.apply(n.callback.beforeExpand,[n.treeId,t],!0)){return !0}data.getRoot(n).expandTriggerFlag=!0,view.switchNode(n,t)}return !0},onClickNode:function(e,t){var n=data.getSetting(e.data.treeId),o=n.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&data.isSelectedNode(n,t)?0:n.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&n.view.selectedMulti?2:1;return 0==tools.apply(n.callback.beforeClick,[n.treeId,t,o],!0)?!0:(0===o?view.cancelPreSelectedNode(n,t):view.selectNode(n,t,2===o),n.treeObj.trigger(consts.event.CLICK,[e,n.treeId,t,o]),!0)},onZTreeMousedown:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeMouseDown,[n.treeId,t],!0)&&tools.apply(n.callback.onMouseDown,[e,n.treeId,t]),!0},onZTreeMouseup:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeMouseUp,[n.treeId,t],!0)&&tools.apply(n.callback.onMouseUp,[e,n.treeId,t]),!0},onZTreeDblclick:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeDblClick,[n.treeId,t],!0)&&tools.apply(n.callback.onDblClick,[e,n.treeId,t]),!0},onZTreeContextmenu:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeRightClick,[n.treeId,t],!0)&&tools.apply(n.callback.onRightClick,[e,n.treeId,t]),"function"!=typeof n.callback.onRightClick}},tools={apply:function(e,t,n){return"function"==typeof e?e.apply(zt,t?t:[]):n},canAsync:function(e,t){var n=e.data.key.children;return e.async.enable&&t&&t.isParent&&!(t.zAsync||t[n]&&t[n].length>0)},clone:function(e){if(null===e){return null}var t=tools.isArray(e)?[]:{};for(var n in e){t[n]=e[n] instanceof Date?new Date(e[n].getTime()):"object"==typeof e[n]?arguments.callee(e[n]):e[n]}return t},eqs:function(e,t){return e.toLowerCase()===t.toLowerCase()},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},$:function(e,t,n){return t&&"string"!=typeof t&&(n=t,t=""),"string"==typeof e?$(e,n?n.treeObj.get(0).ownerDocument:null):$("#"+e.tId+t,n?n.treeObj:null)},getMDom:function(e,t,n){if(!t){return null}for(;t&&t.id!==e.treeId;){for(var o=0,a=n.length;t.tagName&&a>o;o++){if(tools.eqs(t.tagName,n[o].tagName)&&null!==t.getAttribute(n[o].attrName)){return t}}t=t.parentNode}return null},getNodeMainDom:function(e){return $(e).parent("li").get(0)||$(e).parentsUntil("li").parent().get(0)},isChildOrSelf:function(e,t){return $(e).closest("#"+t).length>0},uCanDo:function(){return !0}},view={addNodes:function(e,t,n,o){if(!e.data.keep.leaf||!t||t.isParent){if(tools.isArray(n)||(n=[n]),e.data.simpleData.enable&&(n=data.transformTozTreeFormat(e,n)),t){var a=$$(t,consts.id.SWITCH,e),r=$$(t,consts.id.ICON,e),i=$$(t,consts.id.UL,e);t.open||(view.replaceSwitchClass(t,a,consts.folder.CLOSE),view.replaceIcoClass(t,r,consts.folder.CLOSE),t.open=!1,i.css({display:"none"})),data.addNodesData(e,t,n),view.createNodes(e,t.level+1,n,t),o||view.expandCollapseParentNode(e,t,!0)}else{data.addNodesData(e,data.getRoot(e),n),view.createNodes(e,0,n,null)}}},appendNodes:function(e,t,n,o,a,r){if(!n){return[]}for(var i=[],d=e.data.key.children,s=0,l=n.length;l>s;s++){var c=n[s];if(a){var u=o?o:data.getRoot(e),h=u[d],g=h.length==n.length&&0==s,p=s==n.length-1;data.initNode(e,t,c,o,g,p,r),data.addNodeCache(e,c)}var f=[];c[d]&&c[d].length>0&&(f=view.appendNodes(e,t+1,c[d],c,a,r&&c.open)),r&&(view.makeDOMNodeMainBefore(i,e,c),view.makeDOMNodeLine(i,e,c),data.getBeforeA(e,c,i),view.makeDOMNodeNameBefore(i,e,c),data.getInnerBeforeA(e,c,i),view.makeDOMNodeIcon(i,e,c),data.getInnerAfterA(e,c,i),view.makeDOMNodeNameAfter(i,e,c),data.getAfterA(e,c,i),c.isParent&&c.open&&view.makeUlHtml(e,c,i,f.join("")),view.makeDOMNodeMainAfter(i,e,c),data.addCreatedNode(e,c))}return i},appendParentULDom:function(e,t){var n=[],o=$$(t,e);!o.get(0)&&t.parentTId&&(view.appendParentULDom(e,t.getParentNode()),o=$$(t,e));var a=$$(t,consts.id.UL,e);a.get(0)&&a.remove();var r=e.data.key.children,i=view.appendNodes(e,t.level+1,t[r],t,!1,!0);view.makeUlHtml(e,t,n,i.join("")),o.append(n.join(""))},asyncNode:function(setting,node,isSilent,callback){var i,l;if(node&&!node.isParent){return tools.apply(callback),!1}if(node&&node.isAjaxing){return !1}if(0==tools.apply(setting.callback.beforeAsync,[setting.treeId,node],!0)){return tools.apply(callback),!1}if(node){node.isAjaxing=!0;var icoObj=$$(node,consts.id.ICON,setting);icoObj.attr({style:"","class":consts.className.BUTTON+" "+consts.className.ICO_LOADING})}var tmpParam={};for(i=0,l=setting.async.autoParam.length;node&&l>i;i++){var pKey=setting.async.autoParam[i].split("="),spKey=pKey;pKey.length>1&&(spKey=pKey[1],pKey=pKey[0]),tmpParam[spKey]=node[pKey]}if(tools.isArray(setting.async.otherParam)){for(i=0,l=setting.async.otherParam.length;l>i;i+=2){tmpParam[setting.async.otherParam[i]]=setting.async.otherParam[i+1]}}else{for(var p in setting.async.otherParam){tmpParam[p]=setting.async.otherParam[p]}}var _tmpV=data.getRoot(setting)._ver;return $.ajax({contentType:setting.async.contentType,cache:!1,type:setting.async.type,url:tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),data:tmpParam,dataType:setting.async.dataType,success:function(msg){if(_tmpV==data.getRoot(setting)._ver){var newNodes=[];try{newNodes=msg&&0!=msg.length?"string"==typeof msg?eval("("+msg+")"):msg:[]}catch(err){newNodes=msg}node&&(node.isAjaxing=null,node.zAsync=!0),view.setNodeLineIcos(setting,node),newNodes&&""!==newNodes?(newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes),view.addNodes(setting,node,newNodes?tools.clone(newNodes):[],!!isSilent)):view.addNodes(setting,node,[],!!isSilent),setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]),tools.apply(callback)}},error:function(e,t,n){_tmpV==data.getRoot(setting)._ver&&(node&&(node.isAjaxing=null),view.setNodeLineIcos(setting,node),setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,e,t,n]))}}),!0},cancelPreSelectedNode:function(e,t,n){var o,a,r=data.getRoot(e).curSelectedList;for(o=r.length-1;o>=0;o--){if(a=r[o],t===a||!t&&(!n||n!==a)){if($$(a,consts.id.A,e).removeClass(consts.node.CURSELECTED),t){data.removeSelectedNode(e,t);break}r.splice(o,1),e.treeObj.trigger(consts.event.UNSELECTED,[e.treeId,a])}}},createNodeCallback:function(e){if(e.callback.onNodeCreated||e.view.addDiyDom){for(var t=data.getRoot(e);t.createdNodes.length>0;){var n=t.createdNodes.shift();tools.apply(e.view.addDiyDom,[e.treeId,n]),e.callback.onNodeCreated&&e.treeObj.trigger(consts.event.NODECREATED,[e.treeId,n])}}},createNodes:function(e,t,n,o){if(n&&0!=n.length){var a=data.getRoot(e),r=e.data.key.children,i=!o||o.open||!!$$(o[r][0],e).get(0);a.createdNodes=[];var d=view.appendNodes(e,t,n,o,!0,i);if(o){var s=$$(o,consts.id.UL,e);s.get(0)&&s.append(d.join(""))}else{e.treeObj.append(d.join(""))}view.createNodeCallback(e)}},destroy:function(e){e&&(data.initCache(e),data.initRoot(e),event.unbindTree(e),event.unbindEvent(e),e.treeObj.empty(),delete settings[e.treeId])},expandCollapseNode:function(e,t,n,o,a){var r=data.getRoot(e),i=e.data.key.children;if(!t){return void tools.apply(a,[])}if(r.expandTriggerFlag){var d=a;a=function(){d&&d(),t.open?e.treeObj.trigger(consts.event.EXPAND,[e.treeId,t]):e.treeObj.trigger(consts.event.COLLAPSE,[e.treeId,t])},r.expandTriggerFlag=!1}if(!t.open&&t.isParent&&(!$$(t,consts.id.UL,e).get(0)||t[i]&&t[i].length>0&&!$$(t[i][0],e).get(0))&&(view.appendParentULDom(e,t),view.createNodeCallback(e)),t.open==n){return void tools.apply(a,[])}var s=$$(t,consts.id.UL,e),l=$$(t,consts.id.SWITCH,e),c=$$(t,consts.id.ICON,e);t.isParent?(t.open=!t.open,t.iconOpen&&t.iconClose&&c.attr("style",view.makeNodeIcoStyle(e,t)),t.open?(view.replaceSwitchClass(t,l,consts.folder.OPEN),view.replaceIcoClass(t,c,consts.folder.OPEN),0==o||""==e.view.expandSpeed?(s.show(),tools.apply(a,[])):t[i]&&t[i].length>0?s.slideDown(e.view.expandSpeed,a):(s.show(),tools.apply(a,[]))):(view.replaceSwitchClass(t,l,consts.folder.CLOSE),view.replaceIcoClass(t,c,consts.folder.CLOSE),0!=o&&""!=e.view.expandSpeed&&t[i]&&t[i].length>0?s.slideUp(e.view.expandSpeed,a):(s.hide(),tools.apply(a,[])))):tools.apply(a,[])},expandCollapseParentNode:function(e,t,n,o,a){if(t){if(!t.parentTId){return void view.expandCollapseNode(e,t,n,o,a)}view.expandCollapseNode(e,t,n,o),t.parentTId&&view.expandCollapseParentNode(e,t.getParentNode(),n,o,a)}},expandCollapseSonNode:function(e,t,n,o,a){var r=data.getRoot(e),i=e.data.key.children,d=t?t[i]:r[i],s=t?!1:o,l=data.getRoot(e).expandTriggerFlag;if(data.getRoot(e).expandTriggerFlag=!1,d){for(var c=0,u=d.length;u>c;c++){d[c]&&view.expandCollapseSonNode(e,d[c],n,s)}}data.getRoot(e).expandTriggerFlag=l,view.expandCollapseNode(e,t,n,o,a)},isSelectedNode:function(e,t){if(!t){return !1}var n,o=data.getRoot(e).curSelectedList;for(n=o.length-1;n>=0;n--){if(t===o[n]){return !0}}return !1},makeDOMNodeIcon:function(e,t,n){var o=data.getNodeName(t,n),a=t.view.nameIsHTML?o:o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");e.push("<span id='",n.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(t,n),"' style='",view.makeNodeIcoStyle(t,n),"'></span><span id='",n.tId,consts.id.SPAN,"'>",a,"</span>")},makeDOMNodeLine:function(e,t,n){e.push("<span id='",n.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(t,n),"' treeNode",consts.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(e){e.push("</li>")},makeDOMNodeMainBefore:function(e,t,n){e.push("<li id='",n.tId,"' class='",consts.className.LEVEL,n.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(e){e.push("</a>")},makeDOMNodeNameBefore:function(e,t,n){var o=data.getNodeTitle(t,n),a=view.makeNodeUrl(t,n),r=view.makeNodeFontCss(t,n),i=[];for(var d in r){i.push(d,":",r[d],";")}e.push("<a id='",n.tId,consts.id.A,"' class='",consts.className.LEVEL,n.level,"' treeNode",consts.id.A,' onclick="',n.click||"",'" ',null!=a&&a.length>0?"href='"+a+"'":""," target='",view.makeNodeTarget(n),"' style='",i.join(""),"'"),tools.apply(t.view.showTitle,[t.treeId,n],t.view.showTitle)&&o&&e.push("title='",o.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),e.push(">")},makeNodeFontCss:function(e,t){var n=tools.apply(e.view.fontCss,[e.treeId,t],e.view.fontCss);return n&&"function"!=typeof n?n:{}},makeNodeIcoClass:function(e,t){var n=["ico"];return t.isAjaxing||(n[0]=(t.iconSkin?t.iconSkin+"_":"")+n[0],n.push(t.isParent?t.open?consts.folder.OPEN:consts.folder.CLOSE:consts.folder.DOCU)),consts.className.BUTTON+" "+n.join("_")},makeNodeIcoStyle:function(e,t){var n=[];if(!t.isAjaxing){var o=t.isParent&&t.iconOpen&&t.iconClose?t.open?t.iconOpen:t.iconClose:t[e.data.key.icon];o&&n.push("background:url(",o,") 0 0 no-repeat;"),0!=e.view.showIcon&&tools.apply(e.view.showIcon,[e.treeId,t],!0)||n.push("width:0px;height:0px;")}return n.join("")},makeNodeLineClass:function(e,t){var n=[];return n.push(e.view.showLine?0==t.level&&t.isFirstNode&&t.isLastNode?consts.line.ROOT:0==t.level&&t.isFirstNode?consts.line.ROOTS:t.isLastNode?consts.line.BOTTOM:consts.line.CENTER:consts.line.NOLINE),n.push(t.isParent?t.open?consts.folder.OPEN:consts.folder.CLOSE:consts.folder.DOCU),view.makeNodeLineClassEx(t)+n.join("_")},makeNodeLineClassEx:function(e){return consts.className.BUTTON+" "+consts.className.LEVEL+e.level+" "+consts.className.SWITCH+" "},makeNodeTarget:function(e){return e.target||"_blank"},makeNodeUrl:function(e,t){var n=e.data.key.url;return t[n]?t[n]:null},makeUlHtml:function(e,t,n,o){n.push("<ul id='",t.tId,consts.id.UL,"' class='",consts.className.LEVEL,t.level," ",view.makeUlLineClass(e,t),"' style='display:",t.open?"block":"none","'>"),n.push(o),n.push("</ul>")},makeUlLineClass:function(e,t){return e.view.showLine&&!t.isLastNode?consts.line.LINE:""},removeChildNodes:function(e,t){if(t){var n=e.data.key.children,o=t[n];if(o){for(var a=0,r=o.length;r>a;a++){data.removeNodeCache(e,o[a])}if(data.removeSelectedNode(e),delete t[n],e.data.keep.parent){$$(t,consts.id.UL,e).empty()}else{t.isParent=!1,t.open=!1;var i=$$(t,consts.id.SWITCH,e),d=$$(t,consts.id.ICON,e);view.replaceSwitchClass(t,i,consts.folder.DOCU),view.replaceIcoClass(t,d,consts.folder.DOCU),$$(t,consts.id.UL,e).remove()}}}},setFirstNode:function(e,t){var n=e.data.key.children,o=t[n].length;o>0&&(t[n][0].isFirstNode=!0)},setLastNode:function(e,t){var n=e.data.key.children,o=t[n].length;o>0&&(t[n][o-1].isLastNode=!0)},removeNode:function(e,t){var n=data.getRoot(e),o=e.data.key.children,a=t.parentTId?t.getParentNode():n;if(t.isFirstNode=!1,t.isLastNode=!1,t.getPreNode=function(){return null},t.getNextNode=function(){return null},data.getNodeCache(e,t.tId)){$$(t,e).remove(),data.removeNodeCache(e,t),data.removeSelectedNode(e,t);for(var r=0,i=a[o].length;i>r;r++){if(a[o][r].tId==t.tId){a[o].splice(r,1);break}}view.setFirstNode(e,a),view.setLastNode(e,a);var d,s,l,c=a[o].length;if(e.data.keep.parent||0!=c){if(e.view.showLine&&c>0){var u=a[o][c-1];if(d=$$(u,consts.id.UL,e),s=$$(u,consts.id.SWITCH,e),l=$$(u,consts.id.ICON,e),a==n){if(1==a[o].length){view.replaceSwitchClass(u,s,consts.line.ROOT)}else{var h=$$(a[o][0],consts.id.SWITCH,e);view.replaceSwitchClass(a[o][0],h,consts.line.ROOTS),view.replaceSwitchClass(u,s,consts.line.BOTTOM)}}else{view.replaceSwitchClass(u,s,consts.line.BOTTOM)}d.removeClass(consts.line.LINE)}}else{a.isParent=!1,a.open=!1,d=$$(a,consts.id.UL,e),s=$$(a,consts.id.SWITCH,e),l=$$(a,consts.id.ICON,e),view.replaceSwitchClass(a,s,consts.folder.DOCU),view.replaceIcoClass(a,l,consts.folder.DOCU),d.css("display","none")}}},replaceIcoClass:function(e,t,n){if(t&&!e.isAjaxing){var o=t.attr("class");if(void 0!=o){var a=o.split("_");switch(n){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:a[a.length-1]=n}t.attr("class",a.join("_"))}}},replaceSwitchClass:function(e,t,n){if(t){var o=t.attr("class");if(void 0!=o){var a=o.split("_");switch(n){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:a[0]=view.makeNodeLineClassEx(e)+n;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:a[1]=n}t.attr("class",a.join("_")),n!==consts.folder.DOCU?t.removeAttr("disabled"):t.attr("disabled","disabled")}}},selectNode:function(e,t,n){n||view.cancelPreSelectedNode(e,null,t),$$(t,consts.id.A,e).addClass(consts.node.CURSELECTED),data.addSelectedNode(e,t),e.treeObj.trigger(consts.event.SELECTED,[e.treeId,t])},setNodeFontCss:function(e,t){var n=$$(t,consts.id.A,e),o=view.makeNodeFontCss(e,t);o&&n.css(o)},setNodeLineIcos:function(e,t){if(t){var n=$$(t,consts.id.SWITCH,e),o=$$(t,consts.id.UL,e),a=$$(t,consts.id.ICON,e),r=view.makeUlLineClass(e,t);0==r.length?o.removeClass(consts.line.LINE):o.addClass(r),n.attr("class",view.makeNodeLineClass(e,t)),t.isParent?n.removeAttr("disabled"):n.attr("disabled","disabled"),a.removeAttr("style"),a.attr("style",view.makeNodeIcoStyle(e,t)),a.attr("class",view.makeNodeIcoClass(e,t))}},setNodeName:function(e,t){var n=data.getNodeTitle(e,t),o=$$(t,consts.id.SPAN,e);if(o.empty(),e.view.nameIsHTML?o.html(data.getNodeName(e,t)):o.text(data.getNodeName(e,t)),tools.apply(e.view.showTitle,[e.treeId,t],e.view.showTitle)){var a=$$(t,consts.id.A,e);a.attr("title",n?n:"")}},setNodeTarget:function(e,t){var n=$$(t,consts.id.A,e);n.attr("target",view.makeNodeTarget(t))},setNodeUrl:function(e,t){var n=$$(t,consts.id.A,e),o=view.makeNodeUrl(e,t);null==o||0==o.length?n.removeAttr("href"):n.attr("href",o)},switchNode:function(e,t){if(t.open||!tools.canAsync(e,t)){view.expandCollapseNode(e,t,!t.open)}else{if(e.async.enable){if(!view.asyncNode(e,t)){return void view.expandCollapseNode(e,t,!t.open)}}else{t&&view.expandCollapseNode(e,t,!t.open)}}}};$.fn.zTree={consts:_consts,_z:{tools:tools,view:view,event:event,data:data},getZTreeObj:function(e){var t=data.getZTreeTools(e);return t?t:null},destroy:function(e){if(e&&e.length>0){view.destroy(data.getSetting(e))}else{for(var t in settings){view.destroy(settings[t])}}},init:function(e,t,n){var o=tools.clone(_setting);$.extend(!0,o,t),o.treeId=e.attr("id"),o.treeObj=e,o.treeObj.empty(),settings[o.treeId]=o,"undefined"==typeof document.body.style.maxHeight&&(o.view.expandSpeed=""),data.initRoot(o);var a=data.getRoot(o),r=o.data.key.children;n=n?tools.clone(tools.isArray(n)?n:[n]):[],a[r]=o.data.simpleData.enable?data.transformTozTreeFormat(o,n):n,data.initCache(o),event.unbindTree(o),event.bindTree(o),event.unbindEvent(o),event.bindEvent(o);var i={setting:o,addNodes:function(e,t,n){function a(){view.addNodes(o,e,r,1==n)}if(!t){return null}if(e||(e=null),e&&!e.isParent&&o.data.keep.leaf){return null}var r=tools.clone(tools.isArray(t)?t:[t]);return tools.canAsync(o,e)?view.asyncNode(o,e,n,a):a(),r},cancelSelectedNode:function(e){view.cancelPreSelectedNode(o,e)},destroy:function(){view.destroy(o)},expandAll:function(e){return e=!!e,view.expandCollapseSonNode(o,null,e,!0),e},expandNode:function(e,t,n,a,r){if(!e||!e.isParent){return null}if(t!==!0&&t!==!1&&(t=!e.open),r=!!r,r&&t&&0==tools.apply(o.callback.beforeExpand,[o.treeId,e],!0)){return null}if(r&&!t&&0==tools.apply(o.callback.beforeCollapse,[o.treeId,e],!0)){return null}if(t&&e.parentTId&&view.expandCollapseParentNode(o,e.getParentNode(),t,!1),t===e.open&&!n){return null}if(data.getRoot(o).expandTriggerFlag=r,!tools.canAsync(o,e)&&n){view.expandCollapseSonNode(o,e,t,!0,function(){if(a!==!1){try{$$(e,o).focus().blur()}catch(t){}}})}else{if(e.open=!t,view.switchNode(this.setting,e),a!==!1){try{$$(e,o).focus().blur()}catch(i){}}}return t},getNodes:function(){return data.getNodes(o)},getNodeByParam:function(e,t,n){return e?data.getNodeByParam(o,n?n[o.data.key.children]:data.getNodes(o),e,t):null},getNodeByTId:function(e){return data.getNodeCache(o,e)},getNodesByParam:function(e,t,n){return e?data.getNodesByParam(o,n?n[o.data.key.children]:data.getNodes(o),e,t):null},getNodesByParamFuzzy:function(e,t,n){return e?data.getNodesByParamFuzzy(o,n?n[o.data.key.children]:data.getNodes(o),e,t):null},getNodesByFilter:function(e,t,n,a){return t=!!t,e&&"function"==typeof e?data.getNodesByFilter(o,n?n[o.data.key.children]:data.getNodes(o),e,t,a):t?null:[]},getNodeIndex:function(e){if(!e){return null}for(var t=o.data.key.children,n=e.parentTId?e.getParentNode():data.getRoot(o),a=0,r=n[t].length;r>a;a++){if(n[t][a]==e){return a}}return -1},getSelectedNodes:function(){for(var e=[],t=data.getRoot(o).curSelectedList,n=0,a=t.length;a>n;n++){e.push(t[n])}return e},isSelectedNode:function(e){return data.isSelectedNode(o,e)},reAsyncChildNodes:function(e,t,n){if(this.setting.async.enable){var a=!e;if(a&&(e=data.getRoot(o)),"refresh"==t){for(var r=this.setting.data.key.children,i=0,d=e[r]?e[r].length:0;d>i;i++){data.removeNodeCache(o,e[r][i])}if(data.removeSelectedNode(o),e[r]=[],a){this.setting.treeObj.empty()}else{var s=$$(e,consts.id.UL,o);s.empty()}}view.asyncNode(this.setting,a?null:e,!!n)}},refresh:function(){this.setting.treeObj.empty();var e=data.getRoot(o),t=e[o.data.key.children];data.initRoot(o),e[o.data.key.children]=t,data.initCache(o),view.createNodes(o,0,e[o.data.key.children])},removeChildNodes:function(e){if(!e){return null}var t=o.data.key.children,n=e[t];return view.removeChildNodes(o,e),n?n:null},removeNode:function(e,t){e&&(t=!!t,t&&0==tools.apply(o.callback.beforeRemove,[o.treeId,e],!0)||(view.removeNode(o,e),t&&this.setting.treeObj.trigger(consts.event.REMOVE,[o.treeId,e])))},selectNode:function(e,t){if(e&&tools.uCanDo(o)){if(t=o.view.selectedMulti&&t,e.parentTId){view.expandCollapseParentNode(o,e.getParentNode(),!0,!1,function(){try{$$(e,o).focus().blur()}catch(t){}})}else{try{$$(e,o).focus().blur()}catch(n){}}view.selectNode(o,e,t)}},transformTozTreeNodes:function(e){return data.transformTozTreeFormat(o,e)},transformToArray:function(e){return data.transformToArrayFormat(o,e)},updateNode:function(e){if(e){var t=$$(e,o);t.get(0)&&tools.uCanDo(o)&&(view.setNodeName(o,e),view.setNodeTarget(o,e),view.setNodeUrl(o,e),view.setNodeLineIcos(o,e),view.setNodeFontCss(o,e))}}};return a.treeTools=i,data.setZTreeTools(o,i),a[r]&&a[r].length>0?view.createNodes(o,0,a[r]):o.async.enable&&o.async.url&&""!==o.async.url&&view.asyncNode(o),i}};var zt=$.fn.zTree,$$=tools.$,consts=zt.consts}(jQuery),function(V){var D={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},L={check:{enable:!1,autoCheckTrigger:!1,chkStyle:D.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:D.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},K=function(b){var a=w.getRoot(b);a.radioCheckedList=[]},Z=function(){},H=function(b){var a=b.treeObj,c=M.event;a.bind(c.CHECK,function(e,g,f,d){e.srcEvent=g,P.apply(b.callback.onCheck,[e,f,d])})},Q=function(b){var a=b.treeObj,c=M.event;a.unbind(c.CHECK)},W=function(k){var u=k.target,f=w.getSetting(k.data.treeId),c="",p=null,b="",h="",m=null,v=null;if(P.eqs(k.type,"mouseover")?f.check.enable&&P.eqs(u.tagName,"span")&&null!==u.getAttribute("treeNode"+M.id.CHECK)&&(c=P.getNodeMainDom(u).id,b="mouseoverCheck"):P.eqs(k.type,"mouseout")?f.check.enable&&P.eqs(u.tagName,"span")&&null!==u.getAttribute("treeNode"+M.id.CHECK)&&(c=P.getNodeMainDom(u).id,b="mouseoutCheck"):P.eqs(k.type,"click")&&f.check.enable&&P.eqs(u.tagName,"span")&&null!==u.getAttribute("treeNode"+M.id.CHECK)&&(c=P.getNodeMainDom(u).id,b="checkNode"),c.length>0){switch(p=w.getNodeCache(f,c),b){case"checkNode":m=S.onCheckNode;break;case"mouseoverCheck":m=S.onMouseoverCheck;break;case"mouseoutCheck":m=S.onMouseoutCheck}}var g={stop:"checkNode"===b,node:p,nodeEventType:b,nodeEventCallback:m,treeEventType:h,treeEventCallback:v};return g},F=function(f,c,h,g){if(h){var b=f.data.key.checked;if("string"==typeof h[b]&&(h[b]=P.eqs(h[b],"true")),h[b]=!!h[b],h.checkedOld=h[b],"string"==typeof h.nocheck&&(h.nocheck=P.eqs(h.nocheck,"true")),h.nocheck=!!h.nocheck||f.check.nocheckInherit&&g&&!!g.nocheck,"string"==typeof h.chkDisabled&&(h.chkDisabled=P.eqs(h.chkDisabled,"true")),h.chkDisabled=!!h.chkDisabled||f.check.chkDisabledInherit&&g&&!!g.chkDisabled,"string"==typeof h.halfCheck&&(h.halfCheck=P.eqs(h.halfCheck,"true")),h.halfCheck=!!h.halfCheck,h.check_Child_State=-1,h.check_Focus=!1,h.getCheckStatus=function(){return w.getCheckStatus(f,h)},f.check.chkStyle==M.radio.STYLE&&f.check.radioType==M.radio.TYPE_ALL&&h[b]){var d=w.getRoot(f);d.radioCheckedList.push(h)}}},O=function(b,a,c){b.data.key.checked;b.check.enable&&(w.makeChkFlag(b,a),c.push("<span ID='",a.tId,M.id.CHECK,"' class='",G.makeChkClass(b,a),"' treeNode",M.id.CHECK,a.nocheck===!0?" style='display:none;'":"","></span>"))},X=function(b,a){a.checkNode=function(h,f,k,i){var d=this.setting.data.key.checked;if(h.chkDisabled!==!0&&(f!==!0&&f!==!1&&(f=!h[d]),i=!!i,(h[d]!==f||k)&&(!i||0!=P.apply(this.setting.callback.beforeCheck,[this.setting.treeId,h],!0))&&P.uCanDo(this.setting)&&this.setting.check.enable&&h.nocheck!==!0)){h[d]=f;var g=j(h,M.id.CHECK,this.setting);(k||this.setting.check.chkStyle===M.radio.STYLE)&&G.checkNodeRelation(this.setting,h),G.setChkClass(this.setting,g,h),G.repairParentChkClassWithSelf(this.setting,h),i&&this.setting.treeObj.trigger(M.event.CHECK,[null,this.setting.treeId,h])}},a.checkAllNodes=function(d){G.repairAllChk(this.setting,!!d)},a.getCheckedNodes=function(f){var d=this.setting.data.key.children;return f=f!==!1,w.getTreeCheckedNodes(this.setting,w.getRoot(this.setting)[d],f)},a.getChangeCheckedNodes=function(){var d=this.setting.data.key.children;return w.getTreeChangeCheckedNodes(this.setting,w.getRoot(this.setting)[d])},a.setChkDisabled=function(f,d,h,g){d=!!d,h=!!h,g=!!g,G.repairSonChkDisabled(this.setting,f,d,g),G.repairParentChkDisabled(this.setting,f.getParentNode(),d,h)};var c=a.updateNode;a.updateNode=function(g,h){if(c&&c.apply(a,arguments),g&&this.setting.check.enable){var d=j(g,this.setting);if(d.get(0)&&P.uCanDo(this.setting)){var f=j(g,M.id.CHECK,this.setting);(1==h||this.setting.check.chkStyle===M.radio.STYLE)&&G.checkNodeRelation(this.setting,g),G.setChkClass(this.setting,f,g),G.repairParentChkClassWithSelf(this.setting,g)}}}},A={getRadioCheckedList:function(b){for(var a=w.getRoot(b).radioCheckedList,d=0,c=a.length;c>d;d++){w.getNodeCache(b,a[d].tId)||(a.splice(d,1),d--,c--)}return a},getCheckStatus:function(b,a){if(!b.check.enable||a.nocheck||a.chkDisabled){return null}var d=b.data.key.checked,c={checked:a[d],half:a.halfCheck?a.halfCheck:b.check.chkStyle==M.radio.STYLE?2===a.check_Child_State:a[d]?a.check_Child_State>-1&&a.check_Child_State<2:a.check_Child_State>0};return c},getTreeCheckedNodes:function(h,m,f,c){if(!m){return[]}var l=h.data.key.children,b=h.data.key.checked,g=f&&h.check.chkStyle==M.radio.STYLE&&h.check.radioType==M.radio.TYPE_ALL;c=c?c:[];for(var k=0,p=m.length;p>k&&(m[k].nocheck===!0||m[k].chkDisabled===!0||m[k][b]!=f||(c.push(m[k]),!g))&&(w.getTreeCheckedNodes(h,m[k][l],f,c),!(g&&c.length>0));k++){}return c},getTreeChangeCheckedNodes:function(g,d,k){if(!d){return[]}var h=g.data.key.children,b=g.data.key.checked;k=k?k:[];for(var f=0,c=d.length;c>f;f++){d[f].nocheck!==!0&&d[f].chkDisabled!==!0&&d[f][b]!=d[f].checkedOld&&k.push(d[f]),w.getTreeChangeCheckedNodes(g,d[f][h],k)}return k},makeChkFlag:function(h,m){if(m){var f=h.data.key.children,c=h.data.key.checked,l=-1;if(m[f]){for(var b=0,g=m[f].length;g>b;b++){var k=m[f][b],p=-1;if(h.check.chkStyle==M.radio.STYLE){if(p=k.nocheck===!0||k.chkDisabled===!0?k.check_Child_State:k.halfCheck===!0?2:k[c]?2:k.check_Child_State>0?2:0,2==p){l=2;break}0==p&&(l=0)}else{if(h.check.chkStyle==M.checkbox.STYLE){if(p=k.nocheck===!0||k.chkDisabled===!0?k.check_Child_State:k.halfCheck===!0?1:k[c]?-1===k.check_Child_State||2===k.check_Child_State?2:1:k.check_Child_State>0?1:0,1===p){l=1;break}if(2===p&&l>-1&&b>0&&p!==l){l=1;break}if(2===l&&p>-1&&2>p){l=1;break}p>-1&&(l=p)}}}}m.check_Child_State=l}}},R={},S={onCheckNode:function(d,c){if(c.chkDisabled===!0){return !1}var g=w.getSetting(d.data.treeId),f=g.data.key.checked;if(0==P.apply(g.callback.beforeCheck,[g.treeId,c],!0)){return !0}c[f]=!c[f],G.checkNodeRelation(g,c);var b=j(c,M.id.CHECK,g);return G.setChkClass(g,b,c),G.repairParentChkClassWithSelf(g,c),g.treeObj.trigger(M.event.CHECK,[d,g.treeId,c]),!0},onMouseoverCheck:function(b,a){if(a.chkDisabled===!0){return !1}var d=w.getSetting(b.data.treeId),c=j(a,M.id.CHECK,d);return a.check_Focus=!0,G.setChkClass(d,c,a),!0},onMouseoutCheck:function(b,a){if(a.chkDisabled===!0){return !1}var d=w.getSetting(b.data.treeId),c=j(a,M.id.CHECK,d);return a.check_Focus=!1,G.setChkClass(d,c,a),!0}},J={},U={checkNodeRelation:function(k,u){var f,c,p,b=k.data.key.children,h=k.data.key.checked,m=M.radio;if(k.check.chkStyle==m.STYLE){var v=w.getRadioCheckedList(k);if(u[h]){if(k.check.radioType==m.TYPE_ALL){for(c=v.length-1;c>=0;c--){f=v[c],f[h]&&f!=u&&(f[h]=!1,v.splice(c,1),G.setChkClass(k,j(f,M.id.CHECK,k),f),f.parentTId!=u.parentTId&&G.repairParentChkClassWithSelf(k,f))}v.push(u)}else{var g=u.parentTId?u.getParentNode():w.getRoot(k);for(c=0,p=g[b].length;p>c;c++){f=g[b][c],f[h]&&f!=u&&(f[h]=!1,G.setChkClass(k,j(f,M.id.CHECK,k),f))}}}else{if(k.check.radioType==m.TYPE_ALL){for(c=0,p=v.length;p>c;c++){if(u==v[c]){v.splice(c,1);break}}}}}else{u[h]&&(!u[b]||0==u[b].length||k.check.chkboxType.Y.indexOf("s")>-1)&&G.setSonNodeCheckBox(k,u,!0),u[h]||u[b]&&0!=u[b].length&&!(k.check.chkboxType.N.indexOf("s")>-1)||G.setSonNodeCheckBox(k,u,!1),u[h]&&k.check.chkboxType.Y.indexOf("p")>-1&&G.setParentNodeCheckBox(k,u,!0),!u[h]&&k.check.chkboxType.N.indexOf("p")>-1&&G.setParentNodeCheckBox(k,u,!1)}},makeChkClass:function(g,d){var k=g.data.key.checked,h=M.checkbox,b=M.radio,f="";f=d.chkDisabled===!0?h.DISABLED:d.halfCheck?h.PART:g.check.chkStyle==b.STYLE?d.check_Child_State<1?h.FULL:h.PART:d[k]?2===d.check_Child_State||-1===d.check_Child_State?h.FULL:h.PART:d.check_Child_State<1?h.FULL:h.PART;var c=g.check.chkStyle+"_"+(d[k]?h.TRUE:h.FALSE)+"_"+f;return c=d.check_Focus&&d.chkDisabled!==!0?c+"_"+h.FOCUS:c,M.className.BUTTON+" "+h.DEFAULT+" "+c},repairAllChk:function(h,f){if(h.check.enable&&h.check.chkStyle===M.checkbox.STYLE){for(var m=h.data.key.checked,l=h.data.key.children,b=w.getRoot(h),g=0,c=b[l].length;c>g;g++){var k=b[l][g];k.nocheck!==!0&&k.chkDisabled!==!0&&(k[m]=f),G.setSonNodeCheckBox(h,k,f)}}},repairChkClass:function(b,a){if(a&&(w.makeChkFlag(b,a),a.nocheck!==!0)){var c=j(a,M.id.CHECK,b);G.setChkClass(b,c,a)}},repairParentChkClass:function(b,a){if(a&&a.parentTId){var c=a.getParentNode();G.repairChkClass(b,c),G.repairParentChkClass(b,c)}},repairParentChkClassWithSelf:function(b,a){if(a){var c=b.data.key.children;a[c]&&a[c].length>0?G.repairParentChkClass(b,a[c][0]):G.repairParentChkClass(b,a)}},repairSonChkDisabled:function(h,f,m,l){if(f){var b=h.data.key.children;if(f.chkDisabled!=m&&(f.chkDisabled=m),G.repairChkClass(h,f),f[b]&&l){for(var g=0,c=f[b].length;c>g;g++){var k=f[b][g];G.repairSonChkDisabled(h,k,m,l)}}}},repairParentChkDisabled:function(b,a,d,c){a&&(a.chkDisabled!=d&&c&&(a.chkDisabled=d),G.repairChkClass(b,a),G.repairParentChkDisabled(b,a.getParentNode(),d,c))},setChkClass:function(b,a,c){a&&(c.nocheck===!0?a.hide():a.show(),a.attr("class",G.makeChkClass(b,c)))},setParentNodeCheckBox:function(m,y,g,f){var v=m.data.key.children,b=m.data.key.checked,k=j(y,M.id.CHECK,m);if(f||(f=y),w.makeChkFlag(m,y),y.nocheck!==!0&&y.chkDisabled!==!0&&(y[b]=g,G.setChkClass(m,k,y),m.check.autoCheckTrigger&&y!=f&&m.treeObj.trigger(M.event.CHECK,[null,m.treeId,y])),y.parentTId){var p=!0;if(!g){for(var C=y.getParentNode()[v],h=0,u=C.length;u>h;h++){if(C[h].nocheck!==!0&&C[h].chkDisabled!==!0&&C[h][b]||(C[h].nocheck===!0||C[h].chkDisabled===!0)&&C[h].check_Child_State>0){p=!1;break}}}p&&G.setParentNodeCheckBox(m,y.getParentNode(),g,f)}},setSonNodeCheckBox:function(m,y,g,f){if(y){var v=m.data.key.children,b=m.data.key.checked,k=j(y,M.id.CHECK,m);f||(f=y);var p=!1;if(y[v]){for(var C=0,h=y[v].length;h>C&&y.chkDisabled!==!0;C++){var u=y[v][C];G.setSonNodeCheckBox(m,u,g,f),u.chkDisabled===!0&&(p=!0)}}y!=w.getRoot(m)&&y.chkDisabled!==!0&&(p&&y.nocheck!==!0&&w.makeChkFlag(m,y),y.nocheck!==!0&&y.chkDisabled!==!0?(y[b]=g,p||(y.check_Child_State=y[v]&&y[v].length>0?g?2:0:-1)):y.check_Child_State=-1,G.setChkClass(m,k,y),m.check.autoCheckTrigger&&y!=f&&y.nocheck!==!0&&y.chkDisabled!==!0&&m.treeObj.trigger(M.event.CHECK,[null,m.treeId,y]))}}},z={tools:J,view:U,event:R,data:A};V.extend(!0,V.fn.zTree.consts,D),V.extend(!0,V.fn.zTree._z,z);var q=V.fn.zTree,P=q._z.tools,M=q.consts,G=q._z.view,w=q._z.data,j=(q._z.event,P.$);w.exSetting(L),w.addInitBind(H),w.addInitUnBind(Q),w.addInitCache(Z),w.addInitNode(F),w.addInitProxy(W,!0),w.addInitRoot(K),w.addBeforeA(O),w.addZTreeTools(X);var Y=G.createNodes;G.createNodes=function(b,a,d,c){Y&&Y.apply(G,arguments),d&&G.repairParentChkClassWithSelf(b,c)};var B=G.removeNode;G.removeNode=function(b,a){var c=a.getParentNode();B&&B.apply(G,arguments),a&&c&&(G.repairChkClass(b,c),G.repairParentChkClass(b,c))};var x=G.appendNodes;G.appendNodes=function(d,c,g,f){var b="";return x&&(b=x.apply(G,arguments)),f&&w.makeChkFlag(d,f),b}}(jQuery),function(Z){var H={event:{DRAG:"ztree_drag",DROP:"ztree_drop",RENAME:"ztree_rename",DRAGMOVE:"ztree_dragmove"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},P={edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}},O=function(b){var a=K.getRoot(b),c=K.getRoots();a.curEditNode=null,a.curEditInput=null,a.curHoverNode=null,a.dragFlag=0,a.dragNodeShowBefore=[],a.dragMaskList=new Array,c.showHoverDom=!0},ad=function(){},L=function(b){var a=b.treeObj,c=U.event;a.bind(c.RENAME,function(e,g,f,d){x.apply(b.callback.onRename,[e,g,f,d])}),a.bind(c.DRAG,function(e,g,f,d){x.apply(b.callback.onDrag,[g,f,d])}),a.bind(c.DRAGMOVE,function(e,g,f,d){x.apply(b.callback.onDragMove,[g,f,d])}),a.bind(c.DROP,function(g,m,l,e,h,f,k){x.apply(b.callback.onDrop,[m,l,e,h,f,k])})},V=function(b){var a=b.treeObj,c=U.event;a.unbind(c.RENAME),a.unbind(c.DRAG),a.unbind(c.DRAGMOVE),a.unbind(c.DROP)},aa=function(m){var C=m.target,g=K.getSetting(m.data.treeId),f=m.relatedTarget,w="",b=null,k="",p="",E=null,h=null,v=null;if(x.eqs(m.type,"mouseover")?(v=x.getMDom(g,C,[{tagName:"a",attrName:"treeNode"+U.id.A}]),v&&(w=x.getNodeMainDom(v).id,k="hoverOverNode")):x.eqs(m.type,"mouseout")?(v=x.getMDom(g,f,[{tagName:"a",attrName:"treeNode"+U.id.A}]),v||(w="remove",k="hoverOutNode")):x.eqs(m.type,"mousedown")&&(v=x.getMDom(g,C,[{tagName:"a",attrName:"treeNode"+U.id.A}]),v&&(w=x.getNodeMainDom(v).id,k="mousedownNode")),w.length>0){switch(b=K.getNodeCache(g,w),k){case"mousedownNode":E=W.onMousedownNode;break;case"hoverOverNode":E=W.onHoverOverNode;break;case"hoverOutNode":E=W.onHoverOutNode}}var y={stop:!1,node:b,nodeEventType:k,nodeEventCallback:E,treeEventType:p,treeEventCallback:h};return y},J=function(b,a,c){c&&(c.isHover=!1,c.editNameFlag=!1)},R=function(b,a){a.cancelEditName=function(d){var c=K.getRoot(this.setting);c.curEditNode&&Q.cancelCurEditNode(this.setting,d?d:null,!0)},a.copyNode=function(h,f,l,k){function c(){Q.addNodes(g.setting,h,[d],k)}if(!f){return null}if(h&&!h.isParent&&this.setting.data.keep.leaf&&l===U.move.TYPE_INNER){return null}var g=this,d=x.clone(f);return h||(h=null,l=U.move.TYPE_INNER),l==U.move.TYPE_INNER?x.canAsync(this.setting,h)?Q.asyncNode(this.setting,h,k,c):c():(Q.addNodes(this.setting,h.parentNode,[d],k),Q.moveNode(this.setting,h,d,l,!1,k)),d},a.editName=function(c){c&&c.tId&&c===K.getNodeCache(this.setting,c.tId)&&(c.parentTId&&Q.expandCollapseParentNode(this.setting,c.getParentNode(),!0),Q.editNode(this.setting,c))},a.moveNode=function(g,d,i,h){function c(){Q.moveNode(f.setting,g,d,i,!1,h)}if(!d){return d}if(g&&!g.isParent&&this.setting.data.keep.leaf&&i===U.move.TYPE_INNER){return null}if(g&&(d.parentTId==g.tId&&i==U.move.TYPE_INNER||z(d,this.setting).find("#"+g.tId).length>0)){return null}g||(g=null);var f=this;return x.canAsync(this.setting,g)&&i===U.move.TYPE_INNER?Q.asyncNode(this.setting,g,h,c):c(),d},a.setEditable=function(c){return this.setting.edit.enable=c,this.refresh()}},ab={setSonNodeLevel:function(f,c,h){if(h){var g=f.data.key.children;if(h.level=c?c.level+1:0,h[g]){for(var b=0,d=h[g].length;d>b;b++){h[g][b]&&K.setSonNodeLevel(f,h,h[g][b])}}}}},F={},W={onHoverOverNode:function(b,a){var d=K.getSetting(b.data.treeId),c=K.getRoot(d);c.curHoverNode!=a&&W.onHoverOutNode(b),c.curHoverNode=a,Q.addHoverDom(d,a)},onHoverOutNode:function(b){var a=K.getSetting(b.data.treeId),c=K.getRoot(a);c.curHoverNode&&!K.isSelectedNode(a,c.curHoverNode)&&(Q.removeTreeDom(a,c.curHoverNode),c.curHoverNode=null)},onMousedownNode:function(aq,ap){function aA(a2){if(0==ay.dragFlag&&Math.abs(an-a2.clientX)<ar.edit.drag.minMoveSize&&Math.abs(ae-a2.clientY)<ar.edit.drag.minMoveSize){return !0}var a0,bc,a6,bb,aW,a7=ar.data.key.children;if(ag.css("cursor","pointer"),0==ay.dragFlag){if(0==x.apply(ar.callback.beforeDrag,[ar.treeId,ao],!0)){return am(a2),!0}for(a0=0,bc=ao.length;bc>a0;a0++){0==a0&&(ay.dragNodeShowBefore=[]),a6=ao[a0],a6.isParent&&a6.open?(Q.expandCollapseNode(ar,a6,!a6.open),ay.dragNodeShowBefore[a6.tId]=!0):ay.dragNodeShowBefore[a6.tId]=!1}ay.dragFlag=1,ai.showHoverDom=!1,x.showIfameMask(ar,!0);var a9=!0,bd=-1;if(ao.length>1){var a5=ao[0].parentTId?ao[0].getParentNode()[a7]:K.getNodes(ar);for(aW=[],a0=0,bc=a5.length;bc>a0;a0++){if(void 0!==ay.dragNodeShowBefore[a5[a0].tId]&&(a9&&bd>-1&&bd+1!==a0&&(a9=!1),aW.push(a5[a0]),bd=a0),ao.length===aW.length){ao=aW;break}}}for(a9&&(az=ao[0].getPreNode(),aj=ao[ao.length-1].getNextNode()),aw=z("<ul class='zTreeDragUL'></ul>",ar),a0=0,bc=ao.length;bc>a0;a0++){a6=ao[a0],a6.editNameFlag=!1,Q.selectNode(ar,a6,a0>0),Q.removeTreeDom(ar,a6),a0>ar.edit.drag.maxShowNodeNum-1||(bb=z("<li id='"+a6.tId+"_tmp'></li>",ar),bb.append(z(a6,U.id.A,ar).clone()),bb.css("padding","0"),bb.children("#"+a6.tId+U.id.A).removeClass(U.node.CURSELECTED),aw.append(bb),a0==ar.edit.drag.maxShowNodeNum-1&&(bb=z("<li id='"+a6.tId+"_moretmp'><a>  ...  </a></li>",ar),aw.append(bb)))}aw.attr("id",ao[0].tId+U.id.UL+"_tmp"),aw.addClass(ar.treeObj.attr("class")),aw.appendTo(ag),ah=z("<span class='tmpzTreeMove_arrow'></span>",ar),ah.attr("id","zTreeMove_arrow_tmp"),ah.appendTo(ag),ar.treeObj.trigger(U.event.DRAG,[a2,ar.treeId,ao])}if(1==ay.dragFlag){if(e&&ah.attr("id")==a2.target.id&&m&&a2.clientX+af.scrollLeft()+2>Z("#"+m+U.id.A,e).offset().left){var aU=Z("#"+m+U.id.A,e);a2.target=aU.length>0?aU.get(0):a2.target}else{e&&(e.removeClass(U.node.TMPTARGET_TREE),m&&Z("#"+m+U.id.A,e).removeClass(U.node.TMPTARGET_NODE+"_"+U.move.TYPE_PREV).removeClass(U.node.TMPTARGET_NODE+"_"+H.move.TYPE_NEXT).removeClass(U.node.TMPTARGET_NODE+"_"+H.move.TYPE_INNER))}e=null,m=null,k=!1,t=ar;var aV=K.getSettings();for(var r in aV){aV[r].treeId&&aV[r].edit.enable&&aV[r].treeId!=ar.treeId&&(a2.target.id==aV[r].treeId||Z(a2.target).parents("#"+aV[r].treeId).length>0)&&(k=!0,t=aV[r])}var aK=af.scrollTop(),aH=af.scrollLeft(),c=t.treeObj.offset(),aD=t.treeObj.get(0).scrollHeight,S=t.treeObj.get(0).scrollWidth,p=a2.clientY+aK-c.top,aY=t.treeObj.height()+c.top-a2.clientY-aK,l=a2.clientX+aH-c.left,aF=t.treeObj.width()+c.left-a2.clientX-aH,f=p<ar.edit.drag.borderMax&&p>ar.edit.drag.borderMin,b=aY<ar.edit.drag.borderMax&&aY>ar.edit.drag.borderMin,w=l<ar.edit.drag.borderMax&&l>ar.edit.drag.borderMin,T=aF<ar.edit.drag.borderMax&&aF>ar.edit.drag.borderMin,aZ=p>ar.edit.drag.borderMin&&aY>ar.edit.drag.borderMin&&l>ar.edit.drag.borderMin&&aF>ar.edit.drag.borderMin,ba=f&&t.treeObj.scrollTop()<=0,a4=b&&t.treeObj.scrollTop()+t.treeObj.height()+10>=aD,aR=w&&t.treeObj.scrollLeft()<=0,u=T&&t.treeObj.scrollLeft()+t.treeObj.width()+10>=S;if(a2.target&&x.isChildOrSelf(a2.target,t.treeId)){for(var aS=a2.target;aS&&aS.tagName&&!x.eqs(aS.tagName,"li")&&aS.id!=t.treeId;){aS=aS.parentNode}var aP=!0;for(a0=0,bc=ao.length;bc>a0;a0++){if(a6=ao[a0],aS.id===a6.tId){aP=!1;break}if(z(a6,ar).find("#"+aS.id).length>0){aP=!1;break}}aP&&a2.target&&x.isChildOrSelf(a2.target,aS.id+U.id.A)&&(e=Z(aS),m=aS.id)}a6=ao[0],aZ&&x.isChildOrSelf(a2.target,t.treeId)&&(!e&&(a2.target.id==t.treeId||ba||a4||aR||u)&&(k||!k&&a6.parentTId)&&(e=t.treeObj),f?t.treeObj.scrollTop(t.treeObj.scrollTop()-10):b&&t.treeObj.scrollTop(t.treeObj.scrollTop()+10),w?t.treeObj.scrollLeft(t.treeObj.scrollLeft()-10):T&&t.treeObj.scrollLeft(t.treeObj.scrollLeft()+10),e&&e!=t.treeObj&&e.offset().left<t.treeObj.offset().left&&t.treeObj.scrollLeft(t.treeObj.scrollLeft()+e.offset().left-t.treeObj.offset().left)),aw.css({top:a2.clientY+aK+3+"px",left:a2.clientX+aH+3+"px"});var v=0,aE=0;if(e&&e.attr("id")!=t.treeId){var aQ=null==m?null:K.getNodeCache(t,m),aN=(a2.ctrlKey||a2.metaKey)&&ar.edit.drag.isMove&&ar.edit.drag.isCopy||!ar.edit.drag.isMove&&ar.edit.drag.isCopy,aT=!(!az||m!==az.tId),a1=!(!aj||m!==aj.tId),E=a6.parentTId&&a6.parentTId==m,aC=(aN||!a1)&&x.apply(t.edit.drag.prev,[t.treeId,ao,aQ],!!t.edit.drag.prev),aO=(aN||!aT)&&x.apply(t.edit.drag.next,[t.treeId,ao,aQ],!!t.edit.drag.next),aI=!(!aN&&E||t.data.keep.leaf&&!aQ.isParent||!x.apply(t.edit.drag.inner,[t.treeId,ao,aQ],!!t.edit.drag.inner));if(aC||aO||aI){var aL=Z("#"+m+U.id.A,e),a3=aQ.isLastNode?null:Z("#"+aQ.getNextNode().tId+U.id.A,e.next()),I=aL.offset().top,a8=aL.offset().left,aJ=aC?aI?0.25:aO?0.5:1:-1,aM=aO?aI?0.75:aC?0.5:0:-1,aX=(a2.clientY+aK-I)/aL.height();if((1==aJ||aJ>=aX&&aX>=-0.2)&&aC?(v=1-ah.width(),aE=I-ah.height()/2,N=U.move.TYPE_PREV):(0==aM||aX>=aM&&1.2>=aX)&&aO?(v=1-ah.width(),aE=null==a3||aQ.isParent&&aQ.open?I+aL.height()-ah.height()/2:a3.offset().top-ah.height()/2,N=U.move.TYPE_NEXT):(v=5-ah.width(),aE=I,N=U.move.TYPE_INNER),ah.css({display:"block",top:aE+"px",left:a8+v+"px"}),aL.addClass(U.node.TMPTARGET_NODE+"_"+N),(ak!=m||y!=N)&&(C=(new Date).getTime()),aQ&&aQ.isParent&&N==U.move.TYPE_INNER){var aG=!0;window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==aQ.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===aQ.tId&&(aG=!1),aG&&(window.zTreeMoveTimer=setTimeout(function(){N==U.move.TYPE_INNER&&aQ&&aQ.isParent&&!aQ.open&&(new Date).getTime()-C>t.edit.drag.autoOpenTime&&x.apply(t.callback.beforeDragOpen,[t.treeId,aQ],!0)&&(Q.switchNode(t,aQ),t.edit.drag.autoExpandTrigger&&t.treeObj.trigger(U.event.EXPAND,[t.treeId,aQ]))},t.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=aQ.tId)}}else{e=null,m="",N=U.move.TYPE_INNER,ah.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null)}}else{N=U.move.TYPE_INNER,e&&x.apply(t.edit.drag.inner,[t.treeId,ao,null],!!t.edit.drag.inner)?e.addClass(U.node.TMPTARGET_TREE):e=null,ah.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null)}ak=m,y=N,ar.treeObj.trigger(U.event.DRAGMOVE,[a2,ar.treeId,ao])}return !1}function am(u){function r(){if(k){if(!i){for(var d=0,b=ao.length;b>d;d++){Q.removeNode(ar,ao[d])}}if(N==U.move.TYPE_INNER){Q.addNodes(t,a,l)}else{if(Q.addNodes(t,a.getParentNode(),l),N==U.move.TYPE_PREV){for(d=0,b=l.length;b>d;d++){Q.moveNode(t,a,l[d],N,!1)}}else{for(d=-1,b=l.length-1;b>d;b--){Q.moveNode(t,a,l[b],N,!1)}}}}else{if(i&&N==U.move.TYPE_INNER){Q.addNodes(t,a,l)}else{if(i&&Q.addNodes(t,a.getParentNode(),l),N!=U.move.TYPE_NEXT){for(d=0,b=l.length;b>d;d++){Q.moveNode(t,a,l[d],N,!1)}}else{for(d=-1,b=l.length-1;b>d;b--){Q.moveNode(t,a,l[b],N,!1)}}}}Q.selectNodes(t,l),z(l[0],ar).focus().blur(),ar.treeObj.trigger(U.event.DROP,[u,t.treeId,l,a,N,i])}if(window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null),ak=null,y=null,af.unbind("mousemove",aA),af.unbind("mouseup",am),af.unbind("selectstart",at),ag.css("cursor","auto"),e&&(e.removeClass(U.node.TMPTARGET_TREE),m&&Z("#"+m+U.id.A,e).removeClass(U.node.TMPTARGET_NODE+"_"+U.move.TYPE_PREV).removeClass(U.node.TMPTARGET_NODE+"_"+H.move.TYPE_NEXT).removeClass(U.node.TMPTARGET_NODE+"_"+H.move.TYPE_INNER)),x.showIfameMask(ar,!1),ai.showHoverDom=!0,0!=ay.dragFlag){ay.dragFlag=0;var p,f,c;for(p=0,f=ao.length;f>p;p++){c=ao[p],c.isParent&&ay.dragNodeShowBefore[c.tId]&&!c.open&&(Q.expandCollapseNode(ar,c,!c.open),delete ay.dragNodeShowBefore[c.tId])}aw&&aw.remove(),ah&&ah.remove();var i=(u.ctrlKey||u.metaKey)&&ar.edit.drag.isMove&&ar.edit.drag.isCopy||!ar.edit.drag.isMove&&ar.edit.drag.isCopy;if(!i&&e&&m&&ao[0].parentTId&&m==ao[0].parentTId&&N==U.move.TYPE_INNER&&(e=null),e){var a=null==m?null:K.getNodeCache(t,m);if(0==x.apply(ar.callback.beforeDrop,[t.treeId,ao,a,N,i],!0)){return void Q.selectNodes(aB,ao)}var l=i?x.clone(ao):ao;N==U.move.TYPE_INNER&&x.canAsync(t,a)?Q.asyncNode(t,a,!1,r):r()}else{Q.selectNodes(aB,ao),ar.treeObj.trigger(U.event.DROP,[u,ar.treeId,ao,null,null,null])}}}function at(){return !1}var ax,al,ar=K.getSetting(aq.data.treeId),ay=K.getRoot(ar),ai=K.getRoots();if(2==aq.button||!ar.edit.enable||!ar.edit.drag.isCopy&&!ar.edit.drag.isMove){return !0}var au=aq.target,av=K.getRoot(ar).curSelectedList,ao=[];if(K.isSelectedNode(ar,ap)){for(ax=0,al=av.length;al>ax;ax++){if(av[ax].editNameFlag&&x.eqs(au.tagName,"input")&&null!==au.getAttribute("treeNode"+U.id.INPUT)){return !0}if(ao.push(av[ax]),ao[0].parentTId!==av[ax].parentTId){ao=[ap];break}}}else{ao=[ap]}Q.editNodeBlur=!0,Q.cancelCurEditNode(ar);var aw,ah,e,az,aj,af=Z(ar.treeObj.get(0).ownerDocument),ag=Z(ar.treeObj.get(0).ownerDocument.body),k=!1,t=ar,aB=ar,ak=null,y=null,m=null,N=U.move.TYPE_INNER,an=aq.clientX,ae=aq.clientY,C=(new Date).getTime();return x.uCanDo(ar)&&af.bind("mousemove",aA),af.bind("mouseup",am),af.bind("selectstart",at),aq.preventDefault&&aq.preventDefault(),!0}},X={getAbs:function(b){var a=b.getBoundingClientRect(),d=document.body.scrollTop+document.documentElement.scrollTop,c=document.body.scrollLeft+document.documentElement.scrollLeft;return[a.left+c,a.top+d]},inputFocus:function(a){a.get(0)&&(a.focus(),x.setCursorPosition(a.get(0),a.val().length))},inputSelect:function(a){a.get(0)&&(a.focus(),a.select())},setCursorPosition:function(b,a){if(b.setSelectionRange){b.focus(),b.setSelectionRange(a,a)}else{if(b.createTextRange){var c=b.createTextRange();c.collapse(!0),c.moveEnd("character",a),c.moveStart("character",a),c.select()}}},showIfameMask:function(h,m){for(var f=K.getRoot(h);f.dragMaskList.length>0;){f.dragMaskList[0].remove(),f.dragMaskList.shift()}if(m){for(var c=z("iframe",h),l=0,b=c.length;b>l;l++){var g=c.get(l),k=x.getAbs(g),p=z("<div id='zTreeMask_"+l+"' class='zTreeMask' style='top:"+k[1]+"px; left:"+k[0]+"px; width:"+g.offsetWidth+"px; height:"+g.offsetHeight+"px;'></div>",h);p.appendTo(z("body",h)),f.dragMaskList.push(p)}}}},M={addEditBtn:function(b,a){if(!(a.editNameFlag||z(a,U.id.EDIT,b).length>0)&&x.apply(b.edit.showRenameBtn,[b.treeId,a],b.edit.showRenameBtn)){var d=z(a,U.id.A,b),c="<span class='"+U.className.BUTTON+" edit' id='"+a.tId+U.id.EDIT+"' title='"+x.apply(b.edit.renameTitle,[b.treeId,a],b.edit.renameTitle)+"' treeNode"+U.id.EDIT+" style='display:none;'></span>";d.append(c),z(a,U.id.EDIT,b).bind("click",function(){return x.uCanDo(b)&&0!=x.apply(b.callback.beforeEditName,[b.treeId,a],!0)?(Q.editNode(b,a),!1):!1}).show()}},addRemoveBtn:function(b,a){if(!(a.editNameFlag||z(a,U.id.REMOVE,b).length>0)&&x.apply(b.edit.showRemoveBtn,[b.treeId,a],b.edit.showRemoveBtn)){var d=z(a,U.id.A,b),c="<span class='"+U.className.BUTTON+" remove' id='"+a.tId+U.id.REMOVE+"' title='"+x.apply(b.edit.removeTitle,[b.treeId,a],b.edit.removeTitle)+"' treeNode"+U.id.REMOVE+" style='display:none;'></span>";d.append(c),z(a,U.id.REMOVE,b).bind("click",function(){return x.uCanDo(b)&&0!=x.apply(b.callback.beforeRemove,[b.treeId,a],!0)?(Q.removeNode(b,a),b.treeObj.trigger(U.event.REMOVE,[b.treeId,a]),!1):!1}).bind("mousedown",function(){return !0}).show()}},addHoverDom:function(b,a){K.getRoots().showHoverDom&&(a.isHover=!0,b.edit.enable&&(Q.addEditBtn(b,a),Q.addRemoveBtn(b,a)),x.apply(b.view.addHoverDom,[b.treeId,a]))},cancelCurEditNode:function(h,m,f){var c=K.getRoot(h),l=h.data.key.name,b=c.curEditNode;if(b){var g=c.curEditInput,k=m?m:f?b[l]:g.val();if(x.apply(h.callback.beforeRename,[h.treeId,b,k,f],!0)===!1){return !1}b[l]=k;var p=z(b,U.id.A,h);p.removeClass(U.node.CURSELECTED_EDIT),g.unbind(),Q.setNodeName(h,b),b.editNameFlag=!1,c.curEditNode=null,c.curEditInput=null,Q.selectNode(h,b,!1),h.treeObj.trigger(U.event.RENAME,[h.treeId,b,f])}return c.noSelection=!0,!0},editNode:function(d,c){var g=K.getRoot(d);if(Q.editNodeBlur=!1,K.isSelectedNode(d,c)&&g.curEditNode==c&&c.editNameFlag){return void setTimeout(function(){x.inputFocus(g.curEditInput)},0)}var f=d.data.key.name;c.editNameFlag=!0,Q.removeTreeDom(d,c),Q.cancelCurEditNode(d),Q.selectNode(d,c,!1),z(c,U.id.SPAN,d).html("<input type=text class='rename' id='"+c.tId+U.id.INPUT+"' treeNode"+U.id.INPUT+" >");var b=z(c,U.id.INPUT,d);b.attr("value",c[f]),d.edit.editNameSelectAll?x.inputSelect(b):x.inputFocus(b),b.bind("blur",function(){Q.editNodeBlur||Q.cancelCurEditNode(d)}).bind("keydown",function(a){"13"==a.keyCode?(Q.editNodeBlur=!0,Q.cancelCurEditNode(d)):"27"==a.keyCode&&Q.cancelCurEditNode(d,null,!0)}).bind("click",function(){return !1}).bind("dblclick",function(){return !1}),z(c,U.id.A,d).addClass(U.node.CURSELECTED_EDIT),g.curEditInput=b,g.noSelection=!1,g.curEditNode=c},moveNode:function(av,aj,ao,an,az,al){var aq=K.getRoot(av),aw=av.data.key.children;if(aj!=ao&&(!av.data.keep.leaf||!aj||aj.isParent||an!=U.move.TYPE_INNER)){var ak=ao.parentTId?ao.getParentNode():aq,ap=null===aj||aj==aq;ap&&null===aj&&(aj=aq),ap&&(an=U.move.TYPE_INNER);var ax=aj.parentTId?aj.getParentNode():aq;an!=U.move.TYPE_PREV&&an!=U.move.TYPE_NEXT&&(an=U.move.TYPE_INNER),an==U.move.TYPE_INNER&&(ap?ao.parentTId=null:(aj.isParent||(aj.isParent=!0,aj.open=!!aj.open,Q.setNodeLineIcos(av,aj)),ao.parentTId=aj.tId));var ah,ar;if(ap){ah=av.treeObj,ar=ah}else{if(al||an!=U.move.TYPE_INNER?al||Q.expandCollapseNode(av,aj.getParentNode(),!0,!1):Q.expandCollapseNode(av,aj,!0,!1),ah=z(aj,av),ar=z(aj,U.id.UL,av),ah.get(0)&&!ar.get(0)){var at=[];Q.makeUlHtml(av,aj,at,""),ah.append(at.join(""))}ar=z(aj,U.id.UL,av)}var am=z(ao,av);am.get(0)?ah.get(0)||am.remove():am=Q.appendNodes(av,ao.level,[ao],null,!1,!0).join(""),ar.get(0)&&an==U.move.TYPE_INNER?ar.append(am):ah.get(0)&&an==U.move.TYPE_PREV?ah.before(am):ah.get(0)&&an==U.move.TYPE_NEXT&&ah.after(am);var au,ag,C=-1,k=0,ay=null,ai=null,ae=ao.level;if(ao.isFirstNode){C=0,ak[aw].length>1&&(ay=ak[aw][1],ay.isFirstNode=!0)}else{if(ao.isLastNode){C=ak[aw].length-1,ay=ak[aw][C-1],ay.isLastNode=!0}else{for(au=0,ag=ak[aw].length;ag>au;au++){if(ak[aw][au].tId==ao.tId){C=au;break}}}}if(C>=0&&ak[aw].splice(C,1),an!=U.move.TYPE_INNER){for(au=0,ag=ax[aw].length;ag>au;au++){ax[aw][au].tId==aj.tId&&(k=au)}}if(an==U.move.TYPE_INNER?(aj[aw]||(aj[aw]=new Array),aj[aw].length>0&&(ai=aj[aw][aj[aw].length-1],ai.isLastNode=!1),aj[aw].splice(aj[aw].length,0,ao),ao.isLastNode=!0,ao.isFirstNode=1==aj[aw].length):aj.isFirstNode&&an==U.move.TYPE_PREV?(ax[aw].splice(k,0,ao),ai=aj,ai.isFirstNode=!1,ao.parentTId=aj.parentTId,ao.isFirstNode=!0,ao.isLastNode=!1):aj.isLastNode&&an==U.move.TYPE_NEXT?(ax[aw].splice(k+1,0,ao),ai=aj,ai.isLastNode=!1,ao.parentTId=aj.parentTId,ao.isFirstNode=!1,ao.isLastNode=!0):(an==U.move.TYPE_PREV?ax[aw].splice(k,0,ao):ax[aw].splice(k+1,0,ao),ao.parentTId=aj.parentTId,ao.isFirstNode=!1,ao.isLastNode=!1),K.fixPIdKeyValue(av,ao),K.setSonNodeLevel(av,ao.getParentNode(),ao),Q.setNodeLineIcos(av,ao),Q.repairNodeLevelClass(av,ao,ae),!av.data.keep.parent&&ak[aw].length<1){ak.isParent=!1,ak.open=!1;var af=z(ak,U.id.UL,av),m=z(ak,U.id.SWITCH,av),y=z(ak,U.id.ICON,av);Q.replaceSwitchClass(ak,m,U.folder.DOCU),Q.replaceIcoClass(ak,y,U.folder.DOCU),af.css("display","none")}else{ay&&Q.setNodeLineIcos(av,ay)}ai&&Q.setNodeLineIcos(av,ai),av.check&&av.check.enable&&Q.repairChkClass&&(Q.repairChkClass(av,ak),Q.repairParentChkClassWithSelf(av,ak),ak!=ao.parent&&Q.repairParentChkClassWithSelf(av,ao)),al||Q.expandCollapseParentNode(av,ao.getParentNode(),!0,az)}},removeEditBtn:function(b,a){z(a,U.id.EDIT,b).unbind().remove()},removeRemoveBtn:function(b,a){z(a,U.id.REMOVE,b).unbind().remove()},removeTreeDom:function(b,a){a.isHover=!1,Q.removeEditBtn(b,a),Q.removeRemoveBtn(b,a),x.apply(b.view.removeHoverDom,[b.treeId,a])},repairNodeLevelClass:function(h,f,m){if(m!==f.level){var l=z(f,h),b=z(f,U.id.A,h),g=z(f,U.id.UL,h),c=U.className.LEVEL+m,k=U.className.LEVEL+f.level;l.removeClass(c),l.addClass(k),b.removeClass(c),b.addClass(k),g.removeClass(c),g.addClass(k)}},selectNodes:function(b,a){for(var d=0,c=a.length;c>d;d++){Q.selectNode(b,a[d],d>0)}}},Y={tools:X,view:M,event:F,data:ab};Z.extend(!0,Z.fn.zTree.consts,H),Z.extend(!0,Z.fn.zTree._z,Y);var D=Z.fn.zTree,x=D._z.tools,U=D.consts,Q=D._z.view,K=D._z.data,z=(D._z.event,x.$);K.exSetting(P),K.addInitBind(L),K.addInitUnBind(V),K.addInitCache(ad),K.addInitNode(J),K.addInitProxy(aa),K.addInitRoot(O),K.addZTreeTools(R);var j=Q.cancelPreSelectedNode;Q.cancelPreSelectedNode=function(d,c){for(var g=K.getRoot(d).curSelectedList,f=0,b=g.length;b>f&&(c&&c!==g[f]||(Q.removeTreeDom(d,g[f]),!c));f++){}j&&j.apply(Q,arguments)};var ac=Q.createNodes;Q.createNodes=function(b,a,d,c){ac&&ac.apply(Q,arguments),d&&Q.repairParentChkClassWithSelf&&Q.repairParentChkClassWithSelf(b,c)};var G=Q.makeNodeUrl;Q.makeNodeUrl=function(a){return a.edit.enable?null:G.apply(Q,arguments)};var A=Q.removeNode;Q.removeNode=function(b,a){var c=K.getRoot(b);c.curEditNode===a&&(c.curEditNode=null),A&&A.apply(Q,arguments)};var B=Q.selectNode;Q.selectNode=function(b,a){var c=K.getRoot(b);return K.isSelectedNode(b,a)&&c.curEditNode==a&&a.editNameFlag?!1:(B&&B.apply(Q,arguments),Q.addHoverDom(b,a),!0)};var q=x.uCanDo;x.uCanDo=function(b,a){var c=K.getRoot(b);return a&&(x.eqs(a.type,"mouseover")||x.eqs(a.type,"mouseout")||x.eqs(a.type,"mousedown")||x.eqs(a.type,"mouseup"))?!0:(c.curEditNode&&(Q.editNodeBlur=!1,c.curEditInput.focus()),!c.curEditNode&&(q?q.apply(Q,arguments):!0))}}(jQuery),function(h){function l(){h("#"+h(this).data("defaults").id).html('<div class="search-loading">&nbsp;&nbsp;&nbsp;&nbsp;...</div>')}function f(a){var e=h(this).data("defaults"),d={type:"post",cache:!1,data:a,dataType:"json",url:e.url,success:function(i){h.fn.zTree.init(h("#"+e.id),m,i)},error:function(){h("#"+e.id).html('<div class="ztree-search-error"></div>')}};h.ajax(d)}function c(){var a=h(this),d=a.data("defaults");h("#div"+d.id).css({left:h(this).offset().left+"px",top:h(this).offset().top+h(this).outerHeight()+"px","z-index":d.zindex||"1055"}).slideDown("fast"),h("body").bind("mousedown",{object:a},j),h(".modal,window").bind("scroll ",function(){h(".ztree-menuContent").fadeOut("fast")})}function k(a,e){var d=h.fn.zTree.getZTreeObj(a);return d.checkNode(e,!e.checked,null,!0),!1}function b(B,q){for(var p=jQuery("#"+q).attr("targetId"),z=jQuery("#"+p).data("defaults"),e=h.fn.zTree.getZTreeObj(z.id),w=e.getCheckedNodes(!0),x="",C="",v=0,y=w.length;y>v;v++){x+=w[v].name+",",C+=w[v].id+","}x.length>0&&(x=x.substring(0,x.length-1)),C.length>0&&(C=C.substring(0,C.length-1));var A=h("#"+z.targetId);A.val(x),A.attr("trueValue",C),A.attr("value",x),z.onCheck&&"function"==typeof z.onCheck&&z.onCheck()}function g(){var a=h(this).data("defaults");h("#div"+a.id).fadeOut("fast"),h("body").unbind("mousedown",j)}function j(e){var q=e.data.object,p=q.data("defaults"),d=event.target;if(d.id!=p.targetId){var i=h(d).prev()[0];if(void 0==i||i.id!=p.targetId){for(;d.id!="div"+p.id;){var d=h(d).parent()[0];if(void 0==d){break}}(void 0==d||d.id!="div"+p.id)&&g.call(q)}}}var m={check:{enable:!0,chkboxType:{Y:"",N:""},radioType:"all"},view:{dblClickExpand:!1},data:{simpleData:{enable:!0}},callback:{beforeClick:k,onCheck:b}};h.fn.treeselect=function(d){h(this).after('<span class="glyphicon glyphicon-chevron-down ztree-dropdown"></span>'),h(this).on("click",function(){var e={id:"",targetId:"",searchAjaxParam:"name",height:300,width:180},a=h(this);if(a.data("defaults")){return void c.call(this)}e.targetId=a.attr("id"),e.id=e.targetId+"_"+Date.parse(new Date),d.width=d.width||a.width(),h.extend(e,d),a.data("defaults",e),void 0!=d.chkStyle&&(m.check.chkStyle=d.chkStyle);var n=h('<div id="div'+e.id+'" class="ztree-menuContent"><ul class="ztree" style="margin-top:0px; width:'+e.width+"px; height: "+e.height+'px;">	<li class="ztree-search-input"><input id="input'+e.id+'" value="" type="text" style="height:24px;width:'+(e.width-24)+'px"/>       <img class="find-img"/>	</li>	<li targetId="'+e.targetId+'" id="'+e.id+'" ></li></ul></div>');n.appendTo("body"),h(".find-img").bind("click",function(){var p=h("#input"+e.id),i={};i[e.searchAjaxParam]=p.val(),l.call(a),f.call(a,i)}),h(".ztree-search-input").show(),l.call(this),f.call(this),c.call(this)}),h(".ztree-dropdown").on("click",function(){h(this).prev().click()})};h.fn.treeselectUpdate=function(a){ii=h(this);f.call(ii,a)}}(jQuery);
/*!/spin/spin.js*/
!function(a,b){a.Spinner2=b()}(this,function(){function C(c,d){var a,f=document.createElement(c||"div");for(a in d){f[a]=d[a]}return f}function x(c){for(var d=1,a=arguments.length;a>d;d++){c.appendChild(arguments[d])}return c}function q(F,u,p,f){var d=["opacity",u,~~(100*F),p,f].join("-"),c=0.01+p/f*100,G=Math.max(1-(1-F)/u*(100-c),F),E=z.substring(0,z.indexOf("Animation")).toLowerCase(),h=E&&"-"+E+"-"||"";return B[d]||(g.insertRule("@"+h+"keyframes "+d+"{0%{opacity:"+G+"}"+c+"%{opacity:"+F+"}"+(c+0.01)+"%{opacity:1}"+(c+u)%100+"%{opacity:"+F+"}100%{opacity:"+G+"}}",g.cssRules.length),B[d]=1),d}function k(c,d){var a,h,f=c.style;if(d=d.charAt(0).toUpperCase()+d.slice(1),void 0!==f[d]){return d}for(h=0;h<y.length;h++){if(a=y[h]+d,void 0!==f[a]){return a}}}function j(c,d){for(var a in d){c.style[k(c,a)||a]=d[a]}return c}function b(c){for(var d=1;d<arguments.length;d++){var a=arguments[d];for(var f in a){void 0===c[f]&&(c[f]=a[f])}}return c}function D(a,c){return"string"==typeof a?a:a[c%a.length]}function A(a){this.opts=b(a||{},A.defaults,w)}function m(){function a(d,c){return C("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',c)}g.addRule(".spin-vml","behavior:url(#default#VML)"),A.prototype.lines=function(G,h){function e(){return j(a("group",{coordsize:f+" "+f,coordorigin:-s+" "+-s}),{width:f,height:f})}function E(n,d,c){x(F,x(j(e(),{rotation:360/h.lines*n+"deg",left:~~d}),x(j(a("roundrect",{arcsize:h.corners}),{width:s,height:h.scale*h.width,left:h.scale*h.radius,top:-h.scale*h.width>>1,filter:c}),a("fill",{color:D(h.color,n),opacity:h.opacity}),a("stroke",{opacity:0}))))}var i,s=h.scale*(h.length+h.width),f=2*h.scale*s,o=-(h.width+h.length)*h.scale*2+"px",F=j(e(),{position:"absolute",top:o,left:o});if(h.shadow){for(i=1;i<=h.lines;i++){E(i,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")}}for(i=1;i<=h.lines;i++){E(i)}return x(G,F)},A.prototype.opacity=function(d,f,c,l){var h=d.firstChild;l=l.shadow&&l.lines||0,h&&f+l<h.childNodes.length&&(h=h.childNodes[f+l],h=h&&h.firstChild,h=h&&h.firstChild,h&&(h.opacity=c))}}var z,g,y=["webkit","Moz","ms","O"],B={},w={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:0.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2000000000,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(A.defaults={},b(A.prototype,{spin:function(I){this.stop();var F=this,t=F.opts,c=F.el=C(null,{className:t.className});if(j(c,{position:t.position,width:0,zIndex:t.zIndex,left:t.left,top:t.top}),I&&I.insertBefore(c,I.firstChild||null),c.setAttribute("role","progressbar"),F.lines(c,F.opts),!z){var M,K=0,E=(t.lines-1)*(1-t.direction)/2,o=t.fps,J=o/t.speed,L=(1-t.opacity)/(J*t.trail/100),H=J/t.lines;!function G(){K++;for(var a=0;a<t.lines;a++){M=Math.max(1-(K+(t.lines-a)*H)%J*L,t.opacity),F.opacity(c,a*t.direction+E,M,t)}F.timeout=F.el&&setTimeout(G,~~(1000/o))}()}return F},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0),this},lines:function(o,f){function e(d,a){return j(C(),{position:"absolute",width:f.scale*(f.length+f.width)+"px",height:f.scale*f.width+"px",background:d,boxShadow:a,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*h+f.rotate)+"deg) translate("+f.scale*f.radius+"px,0)",borderRadius:(f.corners*f.scale*f.width>>1)+"px"})}for(var c,h=0,i=(f.lines-1)*(1-f.direction)/2;h<f.lines;h++){c=j(C(),{position:"absolute",top:1+~(f.scale*f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:z&&q(f.opacity,f.trail,i+h*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&x(c,j(e("#000","0 0 4px #000"),{top:"2px"})),x(o,x(c,e(D(f.color,h),"0 0 1px rgba(0,0,0,.1)")))}return o},opacity:function(c,d,a){d<c.childNodes.length&&(c.childNodes[d].style.opacity=a)}}),"undefined"!=typeof document){g=function(){var a=C("style",{type:"text/css"});return x(document.getElementsByTagName("head")[0],a),a.sheet||a.styleSheet}();var v=j(C("group"),{behavior:"url(#default#VML)"});!k(v,"transform")&&v.adj?m():z=k(v,"animation")}return A}),$.fn.spin=function(a){return this.each(function(){var c=$(this),b=c.data();b.spinner&&(b.spinner.stop(),delete b.spinner,a&&"close"===a)||a!==!1&&(b.spinner=new Spinner2($.extend({color:c.css("color")},a)).spin(this))}),this};