define(["sabace","dialog","retrievepsd/message"],function(d,c,e){jQuery(function(){jQuery(".mobile-way").on("click",f);jQuery(".email-way").on("click",b)});function f(){d.ajax({type:"post",loading:{title:"执行中",text:"正在提交信息，请稍后..."},cache:false,dataType:"json",url:d.handleUrlParam("/platform/retripsd/check-mobileNum"),success:function(g){if(g.noSession){document.location.href=d.handleUrlParam("/platform/retripsd/enter-page")}if(!g.validateFlag){a(d.getMessage(g.errorMsg))}else{document.location.href=d.handleUrlParam("/platform/retripsd/mobile-page")}},error:function(g){a(d.getMessage("retripsd.msg.Exception"))}})}function b(){var g=jQuery("#userId").text();d.ajax({type:"post",cache:false,loading:{title:"执行中",text:"正在提交信息，请稍后..."},dataType:"json",url:d.handleUrlParam("/platform/retripsd/check-email"),success:function(h){if(h.noSession){document.location.href=d.handleUrlParam("/platform/retripsd/enter-page")}if(!h.validateFlag){a(d.getMessage(h.errorMsg))}else{document.location.href=d.handleUrlParam("/platform/retripsd/email-page")}},error:function(h){bi.dialog.show({type:"type-danger",title:d.getMessage("retripsd.msg.prompt"),message:d.getMessage("retripsd.msg.Exception"),})}})}function a(g){bi.dialog.show({type:"type-warning",title:d.getMessage("retripsd.msg.prompt"),message:g,})}});