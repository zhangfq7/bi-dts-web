define(["sabace","dztree"],function(a,c){var b={};b.module={ajaxURL:"/platform/resmanage/datalink/query-tree-data",dimId:"",paramObj:{}};b.view={init:function(){function d(g,e,f){return f.RES_DATA}jQuery("#bztree_input").dzTree({async:{enable:true,autoParam:["id=clickCode","dimId=clickDimId"],url:a.handleUrlParam(b.module.ajaxURL),dataType:"json",otherParam:{dimId:b.module.dimId},dataFilter:d,treeId:"zDimTree",zTreeId:"zDimTree",mTreeId:"mDimTree"},})},initForModify:function(){var e=b.module.paramObj;function d(h,f,g){return g.RES_DATA}jQuery("#bztree_input").dzTree({async:{label:e.whereText,code:e.whereValue,enable:true,autoParam:["id=clickCode","dimId=clickDimId"],url:a.handleUrlParam(b.module.ajaxURL),dataType:"json",otherParam:{dimId:b.module.dimId},dataFilter:d,treeId:"zDimTree",zTreeId:"zDimTree",mTreeId:"mDimTree"},})},getSelectData:function(){var d=jQuery("#bztree_input").val();var e=jQuery("#bztree_input").dzTree("getCheckCode","#bztree_input");var f={};f.whereValue=e;f.whereText=d;f.trueText=d;f.filterType="1";f.isExclude="0";return f}};b.controller={init:function(d){if("modify"==d){b.view.initForModify()}else{b.view.init()}},setDimId:function(d){b.module.dimId=d},getDimCode:function(){return b.view.getSelectData()},setModifyObj:function(d){b.module.paramObj=d}};return b.controller});