define(["bace","view/layout","view/pc/contanier","view/pc/serach","view/box","view/pc/share","layout","poshytip","grid","date","switchButton","dialog","colpick","chosen","ztree","placeholder","dotdotdot","validation"],function(d,c,e,f,b,a){var g={};g.control={init:function(){b.flags.isVeiwPage=true;var i=_RSDFGHJJKK;if(previewKey){var h=$.evalJSON(window.sessionStorage.getItem(previewKey));console.log(h);if(!h){alert("链接已失效");return}b.main.dataId=h.dataId;b.main.reortName=h.reportName;b.main.reportId=h.reportId;b.main.allowComment=0;if($.evalJSON(h.urlMenuInfo).length>0){b.main.urlMenuInfo=$.evalJSON(h.urlMenuInfo)}c.init();jQuery("#layout_body_title_panel").hide();e.init();var j=$.evalJSON(h.resportConfig);e.start("render",j,"isPreview");return}if(i){$.ajax({type:"POST",url:d.handleUrlParam("/platform/dataview/queryViewInfo"),dataType:"json",data:{reportId:i},success:function(l){if(l.dataDeletaFlag==0){alert("数据源已删除！")}b.main.dataId=l.dataId;b.main.reportName=l.reportName;b.main.reportId=l.reportId;b.main.allowComment=l.allowComment;if($.evalJSON(l.urlMenuInfo).length>0){b.main.urlMenuInfo=$.evalJSON(l.urlMenuInfo)}var n=$.evalJSON(l.resportConfig);var m=n.filters;var k=(m&&m.length>0);c.setShareLayout(k);c.init();jQuery("#layout_body_title_panel").hide();e.init();e.start("render",n);a.init(n);e.bindEmailAndDownload()},error:function(){alert(JSON.stringify(arguments));alert("没有查询到数据源，自动跳转到可视化新建页面")}})}}};g.module={};g.view={};return g.control});