(function(){var a=null;UM.registerWidget("emotion",{tpl:'<link type="text/css" rel="stylesheet" href="<%=emotion_url%>emotion.css"><div class="edui-emotion-tab-Jpanel edui-emotion-wrapper"><ul class="edui-emotion-Jtabnav edui-tab-nav"><li class="edui-tab-item"><a data-context=".edui-emotion-Jtab0" hideFocus="true" class="edui-tab-text"><%=lang_input_choice%></a></li><li class="edui-tab-item"><a data-context=".edui-emotion-Jtab1" class="edui-tab-text"><%=lang_input_Tuzki%></a></li><li class="edui-tab-item"><a data-context=".edui-emotion-Jtab2" hideFocus="true" class="edui-tab-text"><%=lang_input_lvdouwa%></a></li><li class="edui-tab-item"><a data-context=".edui-emotion-Jtab3" hideFocus="true" class="edui-tab-text"><%=lang_input_BOBO%></a></li><li class="edui-tab-item"><a data-context=".edui-emotion-Jtab4" hideFocus="true" class="edui-tab-text"><%=lang_input_babyCat%></a></li><li class="edui-tab-item"><a data-context=".edui-emotion-Jtab5" hideFocus="true" class="edui-tab-text"><%=lang_input_bubble%></a></li><li class="edui-tab-item"><a data-context=".edui-emotion-Jtab6" hideFocus="true" class="edui-tab-text"><%=lang_input_youa%></a></li><li class="edui-emotion-tabs"></li></ul><div class="edui-tab-content edui-emotion-JtabBodys"><div class="edui-emotion-Jtab0 edui-tab-pane"></div><div class="edui-emotion-Jtab1 edui-tab-pane"></div><div class="edui-emotion-Jtab2 edui-tab-pane"></div><div class="edui-emotion-Jtab3 edui-tab-pane"></div><div class="edui-emotion-Jtab4 edui-tab-pane"></div><div class="edui-emotion-Jtab5 edui-tab-pane"></div><div class="edui-emotion-Jtab6 edui-tab-pane"></div></div><div class="edui-emotion-JtabIconReview edui-emotion-preview-box"><img src="<%=cover_img%>" class=\'edui-emotion-JfaceReview edui-emotion-preview-img\'/></div>',sourceData:{emotion:{tabNum:7,SmilmgName:{"edui-emotion-Jtab0":["j_00",84],"edui-emotion-Jtab1":["t_00",40],"edui-emotion-Jtab2":["w_00",52],"edui-emotion-Jtab3":["B_00",63],"edui-emotion-Jtab4":["C_00",20],"edui-emotion-Jtab5":["i_f",50],"edui-emotion-Jtab6":["y_00",40]},imageFolders:{"edui-emotion-Jtab0":"jx2/","edui-emotion-Jtab1":"tsj/","edui-emotion-Jtab2":"ldw/","edui-emotion-Jtab3":"bobo/","edui-emotion-Jtab4":"babycat/","edui-emotion-Jtab5":"face/","edui-emotion-Jtab6":"youa/"},imageCss:{"edui-emotion-Jtab0":"jd","edui-emotion-Jtab1":"tsj","edui-emotion-Jtab2":"ldw","edui-emotion-Jtab3":"bb","edui-emotion-Jtab4":"cat","edui-emotion-Jtab5":"pp","edui-emotion-Jtab6":"youa"},imageCssOffset:{"edui-emotion-Jtab0":35,"edui-emotion-Jtab1":35,"edui-emotion-Jtab2":35,"edui-emotion-Jtab3":35,"edui-emotion-Jtab4":35,"edui-emotion-Jtab5":25,"edui-emotion-Jtab6":35},SmileyInfor:{"edui-emotion-Jtab0":["Kiss","Love","Yeah","啊！","背扭","顶","抖胸","88","汗","瞌睡","鲁拉","拍砖","揉脸","生日快乐","大笑","瀑布汗~","惊讶","臭美","傻笑","抛媚眼","发怒","打酱油","俯卧撑","气愤","?","吻","怒","胜利","HI","KISS","不说","不要","扯花","大心","顶","大惊","飞吻","鬼脸","害羞","口水","狂哭","来","发财了","吃西瓜","套牢","害羞","庆祝","我来了","敲打","晕了","胜利","臭美","被打了","贪吃","迎接","酷","微笑","亲吻","调皮","惊恐","耍酷","发火","害羞","汗水","大哭","","加油","困","你NB","晕倒","开心","偷笑","大哭","滴汗","叹气","超赞","??","飞吻","天使","撒花","生气","被砸","吓傻","随意吐"],"edui-emotion-Jtab1":["Kiss","Love","Yeah","啊！","背扭","顶","抖胸","88","汗","瞌睡","鲁拉","拍砖","揉脸","生日快乐","摊手","睡觉","瘫坐","无聊","星星闪","旋转","也不行","郁闷","正Music","抓墙","撞墙至死","歪头","戳眼","飘过","互相拍砖","砍死你","扔桌子","少林寺","什么？","转头","我爱牛奶","我踢","摇晃","晕厥","在笼子里","震荡"],"edui-emotion-Jtab2":["大笑","瀑布汗~","惊讶","臭美","傻笑","抛媚眼","发怒","我错了","money","气愤","挑逗","吻","怒","胜利","委屈","受伤","说啥呢？","闭嘴","不","逗你玩儿","飞吻","眩晕","魔法","我来了","睡了","我打","闭嘴","打","打晕了","刷牙","爆揍","炸弹","倒立","刮胡子","邪恶的笑","不要不要","爱恋中","放大仔细看","偷窥","超高兴","晕","松口气","我跑","享受","修养","哭","汗","啊~","热烈欢迎","打酱油","俯卧撑","?"],"edui-emotion-Jtab3":["HI","KISS","不说","不要","扯花","大心","顶","大惊","飞吻","鬼脸","害羞","口水","狂哭","来","泪眼","流泪","生气","吐舌","喜欢","旋转","再见","抓狂","汗","鄙视","拜","吐血","嘘","打人","蹦跳","变脸","扯肉","吃To","吃花","吹泡泡糖","大变身","飞天舞","回眸","可怜","猛抽","泡泡","苹果","亲","","骚舞","烧香","睡","套娃娃","捅捅","舞倒","西红柿","爱慕","摇","摇摆","杂耍","招财","被殴","被球闷","大惊","理想","欧打","呕吐","碎","吐痰"],"edui-emotion-Jtab4":["发财了","吃西瓜","套牢","害羞","庆祝","我来了","敲打","晕了","胜利","臭美","被打了","贪吃","迎接","酷","顶","幸运","爱心","躲","送花","选择"],"edui-emotion-Jtab5":["微笑","亲吻","调皮","惊讶","耍酷","发火","害羞","汗水","大哭","得意","鄙视","困","夸奖","晕倒","疑问","媒婆","狂吐","青蛙","发愁","亲吻","","爱心","心碎","玫瑰","礼物","哭","奸笑","可爱","得意","呲牙","暴汗","楚楚可怜","困","哭","生气","惊讶","口水","彩虹","夜空","太阳","钱钱","灯泡","咖啡","蛋糕","音乐","爱","胜利","赞","鄙视","OK"],"edui-emotion-Jtab6":["男兜","女兜","开心","乖乖","偷笑","大笑","抽泣","大哭","无奈","滴汗","叹气","狂晕","委屈","超赞","??","疑问","飞吻","天使","撒花","生气","被砸","口水","泪奔","吓傻","吐舌头","点头","随意吐","旋转","困困","鄙视","狂顶","篮球","再见","欢迎光临","恭喜发财","稍等","我在线","恕不议价","库房有货","货在路上"]}}},initContent:function(h,i){var d=this,b=d.sourceData.emotion,g=h.getLang("emotion")["static"],f=UMEDITOR_CONFIG.UMEDITOR_HOME_URL+"dialogs/emotion/",c=$.extend({},g,{emotion_url:f}),e=d.root();if(d.inited){d.preventDefault();this.switchToFirst();return}d.inited=true;a=h;this.widget=i;b.SmileyPath=h.options.emotionLocalization===true?f+"images/":"http://img.baidu.com/hi/";b.SmileyBox=d.createTabList(b.tabNum);b.tabExist=d.createArr(b.tabNum);c.cover_img=b.SmileyPath+(a.options.emotionLocalization?"0.gif":"default/0.gif");e.html($.parseTmpl(d.tpl,c));d.tabs=$.eduitab({selector:".edui-emotion-tab-Jpanel"});d.previewBox=e.find(".edui-emotion-JtabIconReview");d.previewImg=e.find(".edui-emotion-JfaceReview");d.initImgName()},initEvent:function(){var b=this;b.root().on("click",function(c){return false});b.root().delegate("td","mouseover mouseout",function(c){var e=$(this),d=e.attr("data-surl")||null;if(d){b[c.type](this,d,e.attr("data-posflag"))}return false});b.root().delegate("td","click",function(c){var e=$(this),d=e.attr("data-realurl")||null;if(d){b.insertSmiley(d.replace(/'/g,"\\'"),c)}return false});b.tabs.edui().on("beforeshow",function(c){var d=$(c.target).attr("data-context").replace(/^.*\.(?=[^\s]*$)/,"");c.stopPropagation();b.updateTab(d)});this.switchToFirst()},initImgName:function(){var b=this.sourceData.emotion;for(var f in b.SmilmgName){var e=b.SmilmgName[f],g=b.SmileyBox[f],c="";if(g.length){return}for(var d=1;d<=e[1];d++){c=e[0];if(d<10){c=c+"0"}c=c+d+".gif";g.push(c)}}},switchToFirst:function(){this.root().find(".edui-emotion-Jtabnav .edui-tab-text:first").trigger("click")},updateTab:function(c){var d=this,b=d.sourceData.emotion;d.autoHeight(c);if(!b.tabExist[c]){b.tabExist[c]=true;d.createTab(c)}},autoHeight:function(){this.widget.height(this.root()+2)},createTabList:function(d){var c={};for(var b=0;b<d;b++){c["edui-emotion-Jtab"+b]=[]}return c},mouseover:function(d,c,b){b-=0;$(d).css("backgroundColor","#ACCD3C");this.previewImg.css("backgroundImage","url("+c+")");b&&this.previewBox.addClass("edui-emotion-preview-left");this.previewBox.show()},mouseout:function(b){$(b).css("backgroundColor","transparent");this.previewBox.removeClass("edui-emotion-preview-left").hide()},insertSmiley:function(c,b){var d={src:c};d._src=d.src;a.execCommand("insertimage",d);if(!b.ctrlKey){this.previewBox.removeClass("edui-emotion-preview-left").hide();this.widget.edui().hide()}},createTab:function(b){var g="?v=1.1",y=this,q=this.root().find("."+b),f=y.sourceData.emotion,m=f.SmileyPath+f.imageFolders[b],l=11/2,t=iHeight=35,v=3,c=f.imageCss[b],k=f.imageCssOffset[b],n=['<table border="1" class="edui-emotion-smileytable">'],s=0,d=f.SmileyBox[b].length,o=11,u,p,x,e,h,w;for(;s<d;){n.push("<tr>");for(var r=0;r<o;r++,s++){u=f.SmileyBox[b][s];if(u){p=m+u+g;x=m+u;e=r<l?0:1;h=k*s*(-1)-1;w=f.SmileyInfor[b][s];n.push('<td  class="edui-emotion-'+c+'" data-surl="'+p+'" data-realurl="'+x+'" data-posflag="'+e+'" align="center">');n.push("<span>");n.push('<img  style="background-position:left '+h+'px;" title="'+w+'" src="'+f.SmileyPath+(a.options.emotionLocalization?'0.gif" width="':'default/0.gif" width="')+t+'" height="'+iHeight+'"></img>');n.push("</span>")}else{n.push('<td bgcolor="#FFFFFF">')}n.push("</td>")}n.push("</tr>")}n.push("</table>");n=n.join("");q.html(n)},createArr:function(d){var b=[];for(var c=0;c<d;c++){b[c]=0}return b},width:603,height:400})})();