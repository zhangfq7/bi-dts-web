(function(aU,ab,aa,D,ag,G){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   2.0.1
 */
(function(){function bw(bI,bH){bB[bD]=bI;bB[bD+1]=bH;bD+=2;2===bD&&bz()}function bu(bH){return"function"===typeof bH}function bp(){return function(){process.nextTick(bs)}}function bo(){var bI=0,bH=new bx(bs),bJ=ab.createTextNode("");bH.observe(bJ,{characterData:!0});return function(){bJ.data=bI=++bI%2}}function bm(){var bH=new MessageChannel;bH.port1.onmessage=bs;return function(){bH.port2.postMessage(0)}}function bj(){return function(){setTimeout(bs,1)}}function bs(){for(var bH=0;bH<bD;bH+=2){(0,bB[bH])(bB[bH+1]),bB[bH]=void 0,bB[bH+1]=void 0}bD=0}function bA(){}function bi(bI,bH,bL,bK){try{bI.call(bH,bL,bK)}catch(bJ){return bJ}}function bg(bI,bH,bJ){bw(function(bK){var bM=!1,bL=bi(bJ,bH,function(bN){bM||(bM=!0,bH!==bN?by(bK,bN):bC(bK,bN))},function(bN){bM||(bM=!0,bG(bK,bN))});!bM&&bL&&(bM=!0,bG(bK,bL))},bI)}function be(bI,bH){1===bH.a?bC(bI,bH.b):2===bI.a?bG(bI,bH.b):bq(bH,void 0,function(bJ){by(bI,bJ)},function(bJ){bG(bI,bJ)})}function by(bI,bH){if(bI===bH){bG(bI,new TypeError("You cannot resolve a promise with itself"))}else{if("function"===typeof bH||"object"===typeof bH&&null!==bH){if(bH.constructor===bI.constructor){be(bI,bH)}else{var bK;try{bK=bH.then}catch(bJ){bn.error=bJ,bK=bn}bK===bn?bG(bI,bn.error):void 0===bK?bC(bI,bH):bu(bK)?bg(bI,bH,bK):bC(bI,bH)}}else{bC(bI,bH)}}}function bd(bH){bH.f&&bH.f(bH.b);bk(bH)}function bC(bI,bH){void 0===bI.a&&(bI.b=bH,bI.a=1,0!==bI.e.length&&bw(bk,bI))}function bG(bI,bH){void 0===bI.a&&(bI.a=2,bI.b=bH,bw(bd,bI))}function bq(bI,bH,bM,bL){var bK=bI.e,bJ=bK.length;bI.f=null;bK[bJ]=bH;bK[bJ+1]=bM;bK[bJ+2]=bL;0===bJ&&bI.a&&bw(bk,bI)}function bk(bI){var bH=bI.e,bN=bI.a;if(0!==bH.length){for(var bM,bL,bK=bI.b,bJ=0;bJ<bH.length;bJ+=3){bM=bH[bJ],bL=bH[bJ+bN],bM?bv(bN,bM,bL,bK):bL(bK)}bI.e.length=0}}function bt(){this.error=null}function bv(bQ,bP,bO,bN){var bM=bu(bO),bL,bJ,bK,bI;if(bM){try{bL=bO(bN)}catch(bH){bh.error=bH,bL=bh}bL===bh?(bI=!0,bJ=bL.error,bL=null):bK=!0;if(bP===bL){bG(bP,new TypeError("A promises callback cannot return that same promise."));return}}else{bL=bN,bK=!0}void 0===bP.a&&(bM&&bK?by(bP,bL):bI?bG(bP,bJ):1===bQ?bC(bP,bL):2===bQ&&bG(bP,bL))}function bc(bI,bH){try{bH(function(bK){by(bI,bK)},function(bK){bG(bI,bK)})}catch(bJ){bG(bI,bJ)}}function bE(bI,bH,bK,bJ){this.n=bI;this.c=new bI(bA,bJ);this.i=bK;this.o(bH)?(this.m=bH,this.d=this.length=bH.length,this.l(),0===this.length?bC(this.c,this.b):(this.length=this.length||0,this.k(),0===this.d&&bC(this.c,this.b))):bG(this.c,this.p())}function bF(bH){bb++;this.b=this.a=void 0;this.e=[];if(bA!==bH){if(!bu(bH)){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}if(!(this instanceof bF)){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}bc(this,bH)}}var br=Array.isArray?Array.isArray:function(bH){return"[object Array]"===Object.prototype.toString.call(bH)},bD=0,bl="undefined"!==typeof aU?aU:{},bx=bl.MutationObserver||bl.WebKitMutationObserver,bl="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,bB=Array(1000),bz;bz="undefined"!==typeof process&&"[object process]"==={}.toString.call(process)?bp():bx?bo():bl?bm():bj();var bn=new bt,bh=new bt;bE.prototype.o=function(bH){return br(bH)};bE.prototype.p=function(){return Error("Array Methods must be provided an Array")};bE.prototype.l=function(){this.b=Array(this.length)};bE.prototype.k=function(){for(var bI=this.length,bH=this.c,bK=this.m,bJ=0;void 0===bH.a&&bJ<bI;bJ++){this.j(bK[bJ],bJ)}};bE.prototype.j=function(bI,bH){var bJ=this.n;"object"===typeof bI&&null!==bI?bI.constructor===bJ&&void 0!==bI.a?(bI.f=null,this.g(bI.a,bH,bI.b)):this.q(bJ.resolve(bI),bH):(this.d--,this.b[bH]=this.h(bI))};bE.prototype.g=function(bI,bH,bK){var bJ=this.c;void 0===bJ.a&&(this.d--,this.i&&2===bI?bG(bJ,bK):this.b[bH]=this.h(bK));0===this.d&&bC(bJ,this.b)};bE.prototype.h=function(bH){return bH};bE.prototype.q=function(bI,bH){var bJ=this;bq(bI,void 0,function(bK){bJ.g(1,bH,bK)},function(bK){bJ.g(2,bH,bK)})};var bb=0;bF.all=function(bI,bH){return(new bE(this,bI,!0,bH)).c};bF.race=function(bI,bH){function bN(bO){by(bL,bO)}function bM(bO){bG(bL,bO)}var bL=new this(bA,bH);if(!br(bI)){return(bG(bL,new TypeError("You must pass an array to race.")),bL)}for(var bK=bI.length,bJ=0;void 0===bL.a&&bJ<bK;bJ++){bq(this.resolve(bI[bJ]),void 0,bN,bM)}return bL};bF.resolve=function(bI,bH){if(bI&&"object"===typeof bI&&bI.constructor===this){return bI}var bJ=new this(bA,bH);by(bJ,bI);return bJ};bF.reject=function(bI,bH){var bJ=new this(bA,bH);bG(bJ,bI);return bJ};bF.prototype={constructor:bF,then:function(bI,bH){var bM=this.a;if(1===bM&&!bI||2===bM&&!bH){return this}var bL=new this.constructor(bA),bK=this.b;if(bM){var bJ=arguments[bM-1];bw(function(){bv(bM,bL,bJ,bK)})}else{bq(this,bL,bI,bH)}return bL},"catch":function(bH){return this.then(null,bH)}};var bf={Promise:bF,polyfill:function(){var bH;bH="undefined"!==typeof D?D:"undefined"!==typeof aU&&aU.document?aU:self;"Promise" in bH&&"resolve" in bH.Promise&&"reject" in bH.Promise&&"all" in bH.Promise&&"race" in bH.Promise&&function(){var bI;new bH.Promise(function(bJ){bI=bJ});return bu(bI)}()||(bH.Promise=bF)}};"function"===typeof ag&&ag.amd?ag(function(){return bf}):"undefined"!==typeof module&&module.exports?module.exports=bf:"undefined"!==typeof this&&(this.ES6Promise=bf)}).call(aU);if(aU){aU.ES6Promise.polyfill()}if(typeof(ab)==="undefined"||typeof(Object.create)!=="function"||typeof(ab.createElement("canvas").getContext)!=="function"){(aU||module.exports).html2canvas=function(){return Promise.reject("No canvas support")};return;
/*! https://mths.be/punycode v1.3.1 by @mathias */
}(function(bA){var bq=typeof aa=="object"&&aa&&!aa.nodeType&&aa;var bI=typeof module=="object"&&module&&!module.nodeType&&module;var bz=typeof D=="object"&&D;if(bz.global===bz||bz.window===bz||bz.self===bz){bA=bz}var bf,bt=2147483647,bm=36,bo=1,br=26,bj=38,bn=700,bp=72,bi=128,bG="-",bw=/^xn--/,be=/[^\x20-\x7E]/,bb=/[\x2E\u3002\uFF0E\uFF61]/g,bs={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},bh=bm-bo,bC=Math.floor,by=String.fromCharCode,bH;function bB(bJ){throw RangeError(bs[bJ])}function bE(bM,bK){var bL=bM.length;var bJ=[];while(bL--){bJ[bL]=bK(bM[bL])}return bJ}function bd(bK,bL){var bN=bK.split("@");var bJ="";if(bN.length>1){bJ=bN[0]+"@";bK=bN[1]}var bO=bK.split(bb);var bM=bE(bO,bL).join(".");return bJ+bM}function bl(bM){var bL=[],bK=0,bN=bM.length,bO,bJ;while(bK<bN){bO=bM.charCodeAt(bK++);if(bO>=55296&&bO<=56319&&bK<bN){bJ=bM.charCodeAt(bK++);if((bJ&64512)==56320){bL.push(((bO&1023)<<10)+(bJ&1023)+65536)}else{bL.push(bO);bK--}}else{bL.push(bO)}}return bL}function bD(bJ){return bE(bJ,function(bL){var bK="";if(bL>65535){bL-=65536;bK+=by(bL>>>10&1023|55296);bL=56320|bL&1023}bK+=by(bL);return bK}).join("")}function bg(bJ){if(bJ-48<10){return bJ-22}if(bJ-65<26){return bJ-65}if(bJ-97<26){return bJ-97}return bm}function bx(bK,bJ){return bK+22+75*(bK<26)-((bJ!=0)<<5)}function bc(bM,bK,bL){var bJ=0;bM=bL?bC(bM/bn):bM>>1;bM+=bC(bM/bK);for(;bM>bh*br>>1;bJ+=bm){bM=bC(bM/bh)}return bC(bJ+(bh+1)*bM/(bM+bj))}function bv(bV){var bL=[],bO=bV.length,bQ,bR=0,bK=bi,bS=bp,bN,bP,bT,bJ,bW,bM,bU,bY,bX;bN=bV.lastIndexOf(bG);if(bN<0){bN=0}for(bP=0;bP<bN;++bP){if(bV.charCodeAt(bP)>=128){bB("not-basic")}bL.push(bV.charCodeAt(bP))}for(bT=bN>0?bN+1:0;bT<bO;){for(bJ=bR,bW=1,bM=bm;;bM+=bm){if(bT>=bO){bB("invalid-input")}bU=bg(bV.charCodeAt(bT++));if(bU>=bm||bU>bC((bt-bR)/bW)){bB("overflow")}bR+=bU*bW;bY=bM<=bS?bo:(bM>=bS+br?br:bM-bS);if(bU<bY){break}bX=bm-bY;if(bW>bC(bt/bX)){bB("overflow")}bW*=bX}bQ=bL.length+1;bS=bc(bR-bJ,bQ,bJ==0);if(bC(bR/bQ)>bt-bK){bB("overflow")}bK+=bC(bR/bQ);bR%=bQ;bL.splice(bR++,0,bK)}return bD(bL)}function bk(bV){var bM,bX,bS,bK,bT,bR,bN,bJ,bQ,bZ,bW,bL=[],bP,bO,bY,bU;bV=bl(bV);bP=bV.length;bM=bi;bX=0;bT=bp;for(bR=0;bR<bP;++bR){bW=bV[bR];if(bW<128){bL.push(by(bW))}}bS=bK=bL.length;if(bK){bL.push(bG)}while(bS<bP){for(bN=bt,bR=0;bR<bP;++bR){bW=bV[bR];if(bW>=bM&&bW<bN){bN=bW}}bO=bS+1;if(bN-bM>bC((bt-bX)/bO)){bB("overflow")}bX+=(bN-bM)*bO;bM=bN;for(bR=0;bR<bP;++bR){bW=bV[bR];if(bW<bM&&++bX>bt){bB("overflow")}if(bW==bM){for(bJ=bX,bQ=bm;;bQ+=bm){bZ=bQ<=bT?bo:(bQ>=bT+br?br:bQ-bT);if(bJ<bZ){break}bU=bJ-bZ;bY=bm-bZ;bL.push(by(bx(bZ+bU%bY,0)));bJ=bC(bU/bY)}bL.push(by(bx(bJ,0)));bT=bc(bX,bO,bS==bK);bX=0;++bS}}++bX;++bM}return bL.join("")}function bu(bJ){return bd(bJ,function(bK){return bw.test(bK)?bv(bK.slice(4).toLowerCase()):bK})}function bF(bJ){return bd(bJ,function(bK){return be.test(bK)?"xn--"+bk(bK):bK})}bf={version:"1.3.1",ucs2:{decode:bl,encode:bD},decode:bv,encode:bk,toASCII:bF,toUnicode:bu};if(typeof ag=="function"&&typeof ag.amd=="object"&&ag.amd){ag("punycode",function(){return bf})}else{if(bq&&bI){if(module.exports==bq){bI.exports=bf}else{for(bH in bf){bf.hasOwnProperty(bH)&&(bq[bH]=bf[bH])}}}else{bA.punycode=bf}}}(this));var t="data-html2canvas-node";var a4="data-html2canvas-canvas-clone";var s=0;var aQ=0;aU.html2canvas=function(be,bd){var bc=aQ++;bd=bd||{};if(bd.logging){aU.html2canvas.logging=true;aU.html2canvas.start=Date.now()}bd.async=typeof(bd.async)==="undefined"?true:bd.async;bd.allowTaint=typeof(bd.allowTaint)==="undefined"?false:bd.allowTaint;bd.removeContainer=typeof(bd.removeContainer)==="undefined"?true:bd.removeContainer;bd.javascriptEnabled=typeof(bd.javascriptEnabled)==="undefined"?false:bd.javascriptEnabled;bd.imageTimeout=typeof(bd.imageTimeout)==="undefined"?10000:bd.imageTimeout;bd.renderer=typeof(bd.renderer)==="function"?bd.renderer:e;bd.strict=!!bd.strict;if(typeof(be)==="string"){if(typeof(bd.proxy)!=="string"){return Promise.reject("Proxy must be used when rendering url")}var bf=bd.width!=null?bd.width:aU.innerWidth;var bb=bd.height!=null?bd.height:aU.innerHeight;return ah(aP(be),bd.proxy,ab,bf,bb,bd).then(function(bh){return aS(bh.contentWindow.document.documentElement,bh,bd,bf,bb)})}var bg=((be===G)?[ab.documentElement]:((be.length)?be:[be]))[0];bg.setAttribute(t+bc,bc);return aJ(bg.ownerDocument,bd,bd.width!=G?bd.width:bg.ownerDocument.defaultView.innerWidth,bd.height!=G?bd.height:bg.ownerDocument.defaultView.innerHeight,bc).then(function(bh){if(typeof(bd.onrendered)==="function"){h("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas");bd.onrendered(bh)}return bh})};aU.html2canvas.punycode=this.punycode;aU.html2canvas.proxy={};function aJ(bc,bd,be,bf,bb){return H(bc,bc,be,bf,bd,bc.defaultView.pageXOffset,bc.defaultView.pageYOffset).then(function(bh){h("Document cloned");var bi=t+bb;var bg="["+bi+"='"+bb+"']";bc.querySelector(bg).removeAttribute(bi);var bl=bh.contentWindow;var bk=bl.document.querySelector(bg);var bj=(typeof(bd.onclone)==="function")?Promise.resolve(bd.onclone(bl.document)):Promise.resolve(true);return bj.then(function(){return aS(bk,bh,bd,be,bf)})})}function aS(bh,be,bn,bg,bc){var bj=be.contentWindow;var bl=new aC(bj.document);var bi=new Q(bn,bl);var bb=aR(bh);var bf=bn.type==="view"?bg:U(bj.document);var bm=bn.type==="view"?bc:a5(bj.document);var bk=new bn.renderer(bf,bm,bi,bn,ab);var bd=new af(bh,bk,bl,bi,bn);return bd.ready.then(function(){h("Finished rendering");var bo;if(bn.type==="view"){bo=T(bk.canvas,{width:bk.canvas.width,height:bk.canvas.height,top:0,left:0,x:0,y:0})}else{if(bh===bj.document.body||bh===bj.document.documentElement||bn.canvas!=null){bo=bk.canvas}else{bo=T(bk.canvas,{width:bn.width!=null?bn.width:bb.width,height:bn.height!=null?bn.height:bb.height,top:bb.top,left:bb.left,x:bj.pageXOffset,y:bj.pageYOffset})}}P(be,bn);return bo})}function P(bb,bc){if(bc.removeContainer){bb.parentNode.removeChild(bb);h("Cleaned up container")}}function T(bd,bh){var bg=ab.createElement("canvas");var bc=Math.min(bd.width-1,Math.max(0,bh.left));var bb=Math.min(bd.width,Math.max(1,bh.left+bh.width));var bf=Math.min(bd.height-1,Math.max(0,bh.top));var be=Math.min(bd.height,Math.max(1,bh.top+bh.height));bg.width=bh.width;bg.height=bh.height;h("Cropping canvas at:","left:",bh.left,"top:",bh.top,"width:",(bb-bc),"height:",(be-bf));h("Resulting crop with width",bh.width,"and height",bh.height," with x",bc,"and y",bf);bg.getContext("2d").drawImage(bd,bc,bf,bb-bc,be-bf,bh.x,bh.y,bb-bc,be-bf);return bg}function U(bb){return Math.max(Math.max(bb.body.scrollWidth,bb.documentElement.scrollWidth),Math.max(bb.body.offsetWidth,bb.documentElement.offsetWidth),Math.max(bb.body.clientWidth,bb.documentElement.clientWidth))}function a5(bb){return Math.max(Math.max(bb.body.scrollHeight,bb.documentElement.scrollHeight),Math.max(bb.body.offsetHeight,bb.documentElement.offsetHeight),Math.max(bb.body.clientHeight,bb.documentElement.clientHeight))}function aj(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}function V(){return ab.documentMode&&ab.documentMode<=9}function p(bc,bb){var be=bc.nodeType===3?ab.createTextNode(bc.nodeValue):bc.cloneNode(false);var bd=bc.firstChild;while(bd){if(bb===true||bd.nodeType!==1||bd.nodeName!=="SCRIPT"){be.appendChild(p(bd,bb))}bd=bd.nextSibling}return be}function H(bi,bg,bc,bh,bj,be,bd){y(bi);var bf=V()?p(bi.documentElement,bj.javascriptEnabled):bi.documentElement.cloneNode(true);var bb=bg.createElement("iframe");bb.className="html2canvas-container";bb.style.visibility="hidden";bb.style.position="fixed";bb.style.left="-10000px";bb.style.top="0px";bb.style.border="0";bb.width=bc;bb.height=bh;bb.scrolling="no";bg.body.appendChild(bb);return new Promise(function(bl){var bk=bb.contentWindow.document;aH(bi.documentElement,bf,"textarea");aH(bi.documentElement,bf,"select");bb.contentWindow.onload=bb.onload=function(){var bm=setInterval(function(){if(bk.body.childNodes.length>0){aG(bi,bk);clearInterval(bm);if(bj.type==="view"){bb.contentWindow.scrollTo(be,bd)}bl(bb)}},50)};bk.open();bk.write("<!DOCTYPE html><html></html>");au(bi,be,bd);bk.replaceChild(bj.javascriptEnabled===true?bk.adoptNode(bf):q(bk.adoptNode(bf)),bk.documentElement);bk.close()})}function aH(bb,bh,bg){var bf=bb.getElementsByTagName(bg);var bc=bh.getElementsByTagName(bg);var be=bf.length;for(var bd=0;bd<be;bd++){bc[bd].value=bf[bd].value}}function au(bc,bb,bd){if(bc.defaultView&&(bb!==bc.defaultView.pageXOffset||bd!==bc.defaultView.pageYOffset)){bc.defaultView.scrollTo(bb,bd)}}function ah(bg,be,bc,bf,bb,bd){return new L(bg,be,aU.document).then(aT(bg)).then(function(bh){return H(bh,bc,bf,bb,bd,0,0)})}function aT(bb){return function(be){var bi=new DOMParser(),bh;try{bh=bi.parseFromString(be,"text/html")}catch(bg){h("DOMParser not supported, falling back to createHTMLDocument");bh=ab.implementation.createHTMLDocument("");try{bh.open();bh.write(be);bh.close()}catch(bd){h("createHTMLDocument write not supported, falling back to document.body.innerHTML");bh.body.innerHTML=be}}var bc=bh.querySelector("base");if(!bc||!bc.href.host){var bf=bh.createElement("base");bf.href=bb;bh.head.insertBefore(bf,bh.head.firstChild)}return bh}}function y(bb){[].slice.call(bb.querySelectorAll("canvas"),0).forEach(function(bc){bc.setAttribute(a4,"canvas-"+s++)})}function aG(bb,bc){[].slice.call(bb.querySelectorAll("["+a4+"]"),0).forEach(function(bd){try{var be=bc.querySelector("["+a4+'="'+bd.getAttribute(a4)+'"]');if(be){be.width=bd.width;be.height=bd.height;be.getContext("2d").putImageData(bd.getContext("2d").getImageData(0,0,bd.width,bd.height),0,0)}}catch(bf){h("Unable to copy canvas content from",bd,bf)}bd.removeAttribute(a4)})}function q(bb){[].slice.call(bb.childNodes,0).filter(ao).forEach(function(bc){if(bc.tagName==="SCRIPT"){bb.removeChild(bc)}else{q(bc)}});return bb}function ao(bb){return bb.nodeType===Node.ELEMENT_NODE}function aP(bb){var bc=ab.createElement("a");bc.href=bb;bc.href=bc.href;return bc}function I(bc){this.r=0;this.g=0;this.b=0;this.a=null;var bb=this.fromArray(bc)||this.namedColor(bc)||this.rgb(bc)||this.rgba(bc)||this.hex6(bc)||this.hex3(bc)}I.prototype.darken=function(bc){var bb=1-bc;return new I([Math.round(this.r*bb),Math.round(this.g*bb),Math.round(this.b*bb),this.a])};I.prototype.isTransparent=function(){return this.a===0};I.prototype.isBlack=function(){return this.r===0&&this.g===0&&this.b===0};I.prototype.fromArray=function(bb){if(Array.isArray(bb)){this.r=Math.min(bb[0],255);this.g=Math.min(bb[1],255);this.b=Math.min(bb[2],255);if(bb.length>3){this.a=bb[3]}}return(Array.isArray(bb))};var aY=/^#([a-f0-9]{3})$/i;I.prototype.hex3=function(bc){var bb=null;if((bb=bc.match(aY))!==null){this.r=parseInt(bb[1][0]+bb[1][0],16);this.g=parseInt(bb[1][1]+bb[1][1],16);this.b=parseInt(bb[1][2]+bb[1][2],16)}return bb!==null};var aW=/^#([a-f0-9]{6})$/i;I.prototype.hex6=function(bc){var bb=null;if((bb=bc.match(aW))!==null){this.r=parseInt(bb[1].substring(0,2),16);this.g=parseInt(bb[1].substring(2,4),16);this.b=parseInt(bb[1].substring(4,6),16)}return bb!==null};var az=/^rgb\((\d{1,3}) *, *(\d{1,3}) *, *(\d{1,3})\)$/;I.prototype.rgb=function(bc){var bb=null;if((bb=bc.match(az))!==null){this.r=Number(bb[1]);this.g=Number(bb[2]);this.b=Number(bb[3])}return bb!==null};var W=/^rgba\((\d{1,3}) *, *(\d{1,3}) *, *(\d{1,3}) *, *(\d+\.?\d*)\)$/;I.prototype.rgba=function(bc){var bb=null;if((bb=bc.match(W))!==null){this.r=Number(bb[1]);this.g=Number(bb[2]);this.b=Number(bb[3]);this.a=Number(bb[4])}return bb!==null};I.prototype.toString=function(){return this.a!==null&&this.a!==1?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"};I.prototype.namedColor=function(bc){var bb=aF[bc.toLowerCase()];if(bb){this.r=bb[0];this.g=bb[1];this.b=bb[2]}else{if(bc.toLowerCase()==="transparent"){this.r=this.g=this.b=this.a=0;return true}}return !!bb};I.prototype.isColor=true;var aF={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function n(bc){this.src=bc;h("DummyImageContainer for",bc);if(!this.promise||!this.image){h("Initiating DummyImageContainer");n.prototype.image=new Image();var bb=this.image;n.prototype.promise=new Promise(function(be,bd){bb.onload=be;bb.onerror=bd;bb.src=aj();if(bb.complete===true){be(bb)}})}}function aV(bg,be){var bb=ab.createElement("div"),bc=ab.createElement("img"),bf=ab.createElement("span"),bi="Hidden Text",bh,bd;bb.style.visibility="hidden";bb.style.fontFamily=bg;bb.style.fontSize=be;bb.style.margin=0;bb.style.padding=0;ab.body.appendChild(bb);bc.src=aj();bc.width=1;bc.height=1;bc.style.margin=0;bc.style.padding=0;bc.style.verticalAlign="baseline";bf.style.fontFamily=bg;bf.style.fontSize=be;bf.style.margin=0;bf.style.padding=0;bf.appendChild(ab.createTextNode(bi));bb.appendChild(bf);bb.appendChild(bc);bh=(bc.offsetTop-bf.offsetTop)+1;bb.removeChild(bf);bb.appendChild(ab.createTextNode(bi));bb.style.lineHeight="normal";bc.style.verticalAlign="super";bd=(bc.offsetTop-bb.offsetTop)+1;ab.body.removeChild(bb);this.baseline=bh;this.lineWidth=1;this.middle=bd}function u(){this.data={}}u.prototype.getMetrics=function(bc,bb){if(this.data[bc+"-"+bb]===G){this.data[bc+"-"+bb]=new aV(bc,bb)}return this.data[bc+"-"+bb]};function g(bb,bf,bd){this.image=null;this.src=bb;var bc=this;var be=aR(bb);this.promise=(!bf?this.proxyLoad(bd.proxy,be,bd):new Promise(function(bg){if(bb.contentWindow.document.URL==="about:blank"||bb.contentWindow.document.documentElement==null){bb.contentWindow.onload=bb.onload=function(){bg(bb)}}else{bg(bb)}})).then(function(bg){return html2canvas(bg.contentWindow.document.documentElement,{type:"view",width:bg.width,height:bg.height,proxy:bd.proxy,javascriptEnabled:bd.javascriptEnabled,removeContainer:bd.removeContainer,allowTaint:bd.allowTaint,imageTimeout:bd.imageTimeout/2})}).then(function(bg){return bc.image=bg})}g.prototype.proxyLoad=function(bd,be,bc){var bb=this.src;return ah(bb.src,bd,bb.ownerDocument,be.width,be.height,bc)};function aI(bb){this.src=bb.value;this.colorStops=[];this.type=null;this.x0=0.5;this.y0=0.5;this.x1=0.5;this.y1=0.5;this.promise=Promise.resolve(true)}aI.prototype.TYPES={LINEAR:1,RADIAL:2};function i(bd,bc){this.src=bd;this.image=new Image();var bb=this;this.tainted=null;this.promise=new Promise(function(bf,be){bb.image.onload=bf;bb.image.onerror=be;if(bc){bb.image.crossOrigin="anonymous"}bb.image.src=bd;if(bb.image.complete===true){bf(bb.image)}})}function Q(bb,bc){this.link=null;this.options=bb;this.support=bc;this.origin=this.getOrigin(aU.location.href)}Q.prototype.findImages=function(bc){var bb=[];bc.reduce(function(be,bd){switch(bd.node.nodeName){case"IMG":return be.concat([{args:[bd.node.src],method:"url"}]);case"svg":case"IFRAME":return be.concat([{args:[bd.node],method:bd.node.nodeName}])}return be},[]).forEach(this.addImage(bb,this.loadImage),this);return bb};Q.prototype.findBackgroundImage=function(bb,bc){bc.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(bb,this.loadImage),this);return bb};Q.prototype.addImage=function(bb,bc){return function(bd){bd.args.forEach(function(be){if(!this.imageExists(bb,be)){bb.splice(0,0,bc.call(this,bd));h("Added image #"+(bb.length),typeof(be)==="string"?be.substring(0,100):be)}},this)}};Q.prototype.hasImageBackground=function(bb){return bb.method!=="none"};Q.prototype.loadImage=function(bc){if(bc.method==="url"){var bb=bc.args[0];if(this.isSVG(bb)&&!this.support.svg&&!this.options.allowTaint){return new b(bb)}else{if(bb.match(/data:image\/.*;base64,/i)){return new i(bb.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,""),false)}else{if(this.isSameOrigin(bb)||this.options.allowTaint===true||this.isSVG(bb)){return new i(bb,false)}else{if(this.support.cors&&!this.options.allowTaint&&this.options.useCORS){return new i(bb,true)}else{if(this.options.proxy){return new N(bb,this.options.proxy)}else{return new n(bb)}}}}}}else{if(bc.method==="linear-gradient"){return new a0(bc)}else{if(bc.method==="gradient"){return new an(bc)}else{if(bc.method==="svg"){return new a8(bc.args[0],this.support.svg)}else{if(bc.method==="IFRAME"){return new g(bc.args[0],this.isSameOrigin(bc.args[0].src),this.options)}else{return new n(bc)}}}}}};Q.prototype.isSVG=function(bb){return bb.substring(bb.length-3).toLowerCase()==="svg"||b.prototype.isInline(bb)};Q.prototype.imageExists=function(bb,bc){return bb.some(function(bd){return bd.src===bc})};Q.prototype.isSameOrigin=function(bb){return(this.getOrigin(bb)===this.origin)};Q.prototype.getOrigin=function(bb){var bc=this.link||(this.link=ab.createElement("a"));bc.href=bb;bc.href=bc.href;return bc.protocol+bc.hostname+bc.port};Q.prototype.getPromise=function(bb){return this.timeout(bb,this.options.imageTimeout)["catch"](function(){var bc=new n(bb.src);return bc.promise.then(function(bd){bb.image=bd})})};Q.prototype.get=function(bc){var bb=null;return this.images.some(function(bd){return(bb=bd).src===bc})?bb:null};Q.prototype.fetch=function(bb){this.images=bb.reduce(aX(this.findBackgroundImage,this),this.findImages(bb));this.images.forEach(function(bd,bc){bd.promise.then(function(){h("Succesfully loaded image #"+(bc+1),bd)},function(be){h("Failed loading image #"+(bc+1),bd,be)})});this.ready=Promise.all(this.images.map(this.getPromise,this));h("Finished searching images");return this};Q.prototype.timeout=function(bb,bc){var be;var bd=Promise.race([bb.promise,new Promise(function(bf,bg){be=setTimeout(function(){h("Timed out loading image",bb);bg(bb)},bc)})]).then(function(bf){clearTimeout(be);return bf});bd["catch"](function(){clearTimeout(be)});return bd};function a0(bc){aI.apply(this,arguments);this.type=this.TYPES.LINEAR;var bb=bc.args[0].match(this.stepRegExp)===null;if(bb){bc.args[0].split(" ").reverse().forEach(function(bd){switch(bd){case"left":this.x0=0;this.x1=1;break;case"top":this.y0=0;this.y1=1;break;case"right":this.x0=1;this.x1=0;break;case"bottom":this.y0=1;this.y1=0;break;case"to":var bf=this.y0;var be=this.x0;this.y0=this.y1;this.x0=this.x1;this.x1=be;this.y1=bf;break}},this)}else{this.y0=0;this.y1=1}this.colorStops=bc.args.slice(bb?1:0).map(function(bd){var be=bd.match(this.stepRegExp);return{color:new I(be[1]),stop:be[3]==="%"?be[2]/100:null}},this);if(this.colorStops[0].stop===null){this.colorStops[0].stop=0}if(this.colorStops[this.colorStops.length-1].stop===null){this.colorStops[this.colorStops.length-1].stop=1}this.colorStops.forEach(function(bd,be){if(bd.stop===null){this.colorStops.slice(be).some(function(bg,bf){if(bg.stop!==null){bd.stop=((bg.stop-this.colorStops[be-1].stop)/(bf+1))+this.colorStops[be-1].stop;return true}else{return false}},this)}},this)}a0.prototype=Object.create(aI.prototype);a0.prototype.stepRegExp=/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/;function h(){if(aU.html2canvas.logging&&aU.console&&aU.console.log){Function.prototype.bind.call(aU.console.log,(aU.console)).apply(aU.console,[(Date.now()-aU.html2canvas.start)+"ms","html2canvas:"].concat([].slice.call(arguments,0)))}}function X(bc,bb){this.node=bc;this.parent=bb;this.stack=null;this.bounds=null;this.borders=null;this.clip=[];this.backgroundClip=[];this.offsetBounds=null;this.visible=null;this.computedStyles=null;this.colors={};this.styles={};this.backgroundImages=null;this.transformData=null;this.transformMatrix=null;this.isPseudoElement=false;this.opacity=null}X.prototype.cloneTo=function(bb){bb.visible=this.visible;bb.borders=this.borders;bb.bounds=this.bounds;bb.clip=this.clip;bb.backgroundClip=this.backgroundClip;bb.computedStyles=this.computedStyles;bb.styles=this.styles;bb.backgroundImages=this.backgroundImages;bb.opacity=this.opacity};X.prototype.getOpacity=function(){return this.opacity===null?(this.opacity=this.cssFloat("opacity")):this.opacity};X.prototype.assignStack=function(bb){this.stack=bb;bb.children.push(this)};X.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:(this.css("display")!=="none"&&this.css("visibility")!=="hidden"&&!this.node.hasAttribute("data-html2canvas-ignore")&&(this.node.nodeName!=="INPUT"||this.node.getAttribute("type")!=="hidden"))};X.prototype.css=function(bb){if(!this.computedStyles){this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)}return this.styles[bb]||(this.styles[bb]=this.computedStyles[bb])};X.prototype.prefixedCss=function(bb){var bd=["webkit","moz","ms","o"];var bc=this.css(bb);if(bc===G){bd.some(function(be){bc=this.css(be+bb.substr(0,1).toUpperCase()+bb.substr(1));return bc!==G},this)}return bc===G?null:bc};X.prototype.computedStyle=function(bb){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,bb)};X.prototype.cssInt=function(bb){var bc=parseInt(this.css(bb),10);return(isNaN(bc))?0:bc};X.prototype.color=function(bb){return this.colors[bb]||(this.colors[bb]=new I(this.css(bb)))};X.prototype.cssFloat=function(bb){var bc=parseFloat(this.css(bb));return(isNaN(bc))?0:bc};X.prototype.fontWeight=function(){var bb=this.css("fontWeight");switch(parseInt(bb,10)){case 401:bb="bold";break;case 400:bb="normal";break}return bb};X.prototype.parseClip=function(){var bb=this.css("clip").match(this.CLIP);if(bb){return{top:parseInt(bb[1],10),right:parseInt(bb[2],10),bottom:parseInt(bb[3],10),left:parseInt(bb[4],10)}}return null};X.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=S(this.css("backgroundImage")))};X.prototype.cssList=function(bd,bb){var bc=(this.css(bd)||"").split(",");bc=bc[bb||0]||bc[0]||"auto";bc=bc.trim().split(" ");if(bc.length===1){bc=[bc[0],bc[0]]}return bc};X.prototype.parseBackgroundSize=function(bh,bi,bd){var bf=this.cssList("backgroundSize",bd);var bg,bb;if(ac(bf[0])){bg=bh.width*parseFloat(bf[0])/100}else{if(/contain|cover/.test(bf[0])){var be=bh.width/bh.height,bc=bi.width/bi.height;return(be<bc^bf[0]==="contain")?{width:bh.height*bc,height:bh.height}:{width:bh.width,height:bh.width/bc}}else{bg=parseInt(bf[0],10)}}if(bf[0]==="auto"&&bf[1]==="auto"){bb=bi.height}else{if(bf[1]==="auto"){bb=bg/bi.width*bi.height}else{if(ac(bf[1])){bb=bh.height*parseFloat(bf[1])/100}else{bb=parseInt(bf[1],10)}}}if(bf[0]==="auto"){bg=bb/bi.height*bi.width}return{width:bg,height:bb}};X.prototype.parseBackgroundPosition=function(be,bh,bd,bc){var bb=this.cssList("backgroundPosition",bd);var bg,bf;if(ac(bb[0])){bg=(be.width-(bc||bh).width)*(parseFloat(bb[0])/100)}else{bg=parseInt(bb[0],10)}if(bb[1]==="auto"){bf=bg/bh.width*bh.height}else{if(ac(bb[1])){bf=(be.height-(bc||bh).height)*parseFloat(bb[1])/100}else{bf=parseInt(bb[1],10)}}if(bb[0]==="auto"){bg=bf/bh.height*bh.width}return{left:bg,top:bf}};X.prototype.parseBackgroundRepeat=function(bb){return this.cssList("backgroundRepeat",bb)[0]};X.prototype.parseTextShadows=function(){var bf=this.css("textShadow");var bc=[];if(bf&&bf!=="none"){var be=bf.match(this.TEXT_SHADOW_PROPERTY);for(var bb=0;be&&(bb<be.length);bb++){var bd=be[bb].match(this.TEXT_SHADOW_VALUES);bc.push({color:new I(bd[0]),offsetX:bd[1]?parseFloat(bd[1].replace("px","")):0,offsetY:bd[2]?parseFloat(bd[2].replace("px","")):0,blur:bd[3]?bd[3].replace("px",""):0})}}return bc};X.prototype.parseTransform=function(){if(!this.transformData){if(this.hasTransform()){var bc=this.parseBounds();var bb=this.prefixedCss("transformOrigin").split(" ").map(ap).map(Y);bb[0]+=bc.left;bb[1]+=bc.top;this.transformData={origin:bb,matrix:this.parseTransformMatrix()}}else{this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]}}}return this.transformData};X.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var bc=this.prefixedCss("transform");var bb=bc?r(bc.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=bb?bb:[1,0,0,1,0,0]}return this.transformMatrix};X.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?B(this.node):aR(this.node))};X.prototype.hasTransform=function(){return this.parseTransformMatrix().join(",")!=="1,0,0,1,0,0"||(this.parent&&this.parent.hasTransform())};X.prototype.getValue=function(){var bb=this.node.value||"";if(this.node.tagName==="SELECT"){bb=ak(this.node)}else{if(this.node.type==="password"){bb=Array(bb.length+1).join("\u2022")}}return bb.length===0?(this.node.placeholder||""):bb};X.prototype.MATRIX_PROPERTY=/(matrix)\((.+)\)/;X.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g;X.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;X.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/;function ak(bc){var bb=bc.options[bc.selectedIndex||0];return bb?(bb.text||""):""}function r(bb){if(bb&&bb[1]==="matrix"){return bb[2].split(",").map(function(bc){return parseFloat(bc.trim())})}}function ac(bb){return bb.toString().indexOf("%")!==-1}function S(bk){var bd=" \r\n\t",bc,be,bi,bn,bf,bg=[],bh=0,bl=0,bb,bj;var bm=function(){if(bc){if(be.substr(0,1)==='"'){be=be.substr(1,be.length-2)}if(be){bj.push(be)}if(bc.substr(0,1)==="-"&&(bn=bc.indexOf("-",1)+1)>0){bi=bc.substr(0,bn);bc=bc.substr(bn)}bg.push({prefix:bi,method:bc.toLowerCase(),value:bf,args:bj,image:null})}bj=[];bc=bi=be=bf=""};bj=[];bc=bi=be=bf="";bk.split("").forEach(function(bo){if(bh===0&&bd.indexOf(bo)>-1){return}switch(bo){case'"':if(!bb){bb=bo}else{if(bb===bo){bb=null}}break;case"(":if(bb){break}else{if(bh===0){bh=1;bf+=bo;return}else{bl++}}break;case")":if(bb){break}else{if(bh===1){if(bl===0){bh=0;bf+=bo;bm();return}else{bl--}}}break;case",":if(bb){break}else{if(bh===0){bm();return}else{if(bh===1){if(bl===0&&!bc.match(/^url$/i)){bj.push(be);be="";bf+=bo;return}}}}break}bf+=bo;if(bh===0){bc+=bo}else{be+=bo}});bm();return bg}function ap(bb){return bb.replace("px","")}function Y(bb){return parseFloat(bb)}function aR(bc){if(bc.getBoundingClientRect){var bd=bc.getBoundingClientRect();var bb=bc.offsetWidth==null?bd.width:bc.offsetWidth;return{top:bd.top,bottom:bd.bottom||(bd.top+bd.height),right:bd.left+bb,left:bd.left,width:bb,height:bc.offsetHeight==null?bd.height:bc.offsetHeight}}return{}}function B(bc){var bb=bc.offsetParent?B(bc.offsetParent):{top:0,left:0};return{top:bc.offsetTop+bb.top,bottom:bc.offsetTop+bc.offsetHeight+bb.top,right:bc.offsetLeft+bb.left+bc.offsetWidth,left:bc.offsetLeft+bb.left,width:bc.offsetWidth,height:bc.offsetHeight}}function af(bd,bh,bf,bb,bc){h("Starting NodeParser");this.renderer=bh;this.options=bc;this.range=null;this.support=bf;this.renderQueue=[];this.stack=new ad(true,1,bd.ownerDocument,null);var be=new X(bd,null);if(bc.background){bh.rectangle(0,0,bh.width,bh.height,new I(bc.background))}if(bd===bd.ownerDocument.documentElement){var bg=new X(be.color("backgroundColor").isTransparent()?bd.ownerDocument.body:bd.ownerDocument.documentElement,null);bh.rectangle(0,0,bh.width,bh.height,bg.color("backgroundColor"))}be.visibile=be.isElementVisible();this.createPseudoHideStyles(bd.ownerDocument);this.disableAnimations(bd.ownerDocument);this.nodes=aN([be].concat(this.getChildren(be)).filter(function(bi){return bi.visible=bi.isElementVisible()}).map(this.getPseudoElements,this));this.fontMetrics=new u();h("Fetched nodes, total:",this.nodes.length);h("Calculate overflow clips");this.calculateOverflowClips();h("Start fetching images");this.images=bb.fetch(this.nodes.filter(ax));this.ready=this.images.ready.then(aX(function(){h("Images loaded, starting parsing");h("Creating stacking contexts");this.createStackingContexts();h("Sorting stacking contexts");this.sortStackingContexts(this.stack);this.parse(this.stack);h("Render queue created with "+this.renderQueue.length+" items");return new Promise(aX(function(bi){if(!bc.async){this.renderQueue.forEach(this.paint,this);bi()}else{if(typeof(bc.async)==="function"){bc.async.call(this,this.renderQueue,bi)}else{if(this.renderQueue.length>0){this.renderIndex=0;this.asyncRenderer(this.renderQueue,bi)}else{bi()}}}},this))},this))}af.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(bb){if(ax(bb)){if(ba(bb)){bb.appendToDOM()}bb.borders=this.parseBorders(bb);var bd=(bb.css("overflow")==="hidden")?[bb.borders.clip]:[];var bc=bb.parseClip();if(bc&&["absolute","fixed"].indexOf(bb.css("position"))!==-1){bd.push([["rect",bb.bounds.left+bc.left,bb.bounds.top+bc.top,bc.right-bc.left,bc.bottom-bc.top]])}bb.clip=am(bb)?bb.parent.clip.concat(bd):bd;bb.backgroundClip=(bb.css("overflow")!=="hidden")?bb.clip.concat([bb.borders.clip]):bb.clip;if(ba(bb)){bb.cleanDOM()}}else{if(C(bb)){bb.clip=am(bb)?bb.parent.clip:[]}}if(!ba(bb)){bb.bounds=null}},this)};function am(bb){return bb.parent&&bb.parent.clip.length}af.prototype.asyncRenderer=function(bb,bc,bd){bd=bd||Date.now();this.paint(bb[this.renderIndex++]);if(bb.length===this.renderIndex){bc()}else{if(bd+20>Date.now()){this.asyncRenderer(bb,bc,bd)}else{setTimeout(aX(function(){this.asyncRenderer(bb,bc)},this),0)}}};af.prototype.createPseudoHideStyles=function(bb){this.createStyles(bb,"."+x.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+x.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')};af.prototype.disableAnimations=function(bb){this.createStyles(bb,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")};af.prototype.createStyles=function(bb,bc){var bd=bb.createElement("style");bd.innerHTML=bc;bb.body.appendChild(bd)};af.prototype.getPseudoElements=function(bb){var bc=[[bb]];if(bb.node.nodeType===Node.ELEMENT_NODE){var bd=this.getPseudoElement(bb,":before");var be=this.getPseudoElement(bb,":after");if(bd){bc.push(bd)}if(be){bc.push(be)}}return aN(bc)};function av(bb){return bb.replace(/(\-[a-z])/g,function(bc){return bc.toUpperCase().replace("-","")})}af.prototype.getPseudoElement=function(bc,bh){var bb=bc.computedStyle(bh);if(!bb||!bb.content||bb.content==="none"||bb.content==="-moz-alt-content"||bb.display==="none"){return null}var bf=l(bb.content);var bd=bf.substr(0,3)==="url";var bg=ab.createElement(bd?"img":"html2canvaspseudoelement");var bk=new x(bg,bc,bh);for(var be=bb.length-1;be>=0;be--){var bi=av(bb.item(be));bg.style[bi]=bb[bi]}bg.className=x.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+x.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER;if(bd){bg.src=S(bf)[0].args[0];return[bk]}else{var bj=ab.createTextNode(bf);bg.appendChild(bj);return[bk,new K(bj,bk)]}};af.prototype.getChildren=function(bb){return aN([].filter.call(bb.node.childNodes,aw).map(function(bd){var bc=[bd.nodeType===Node.TEXT_NODE?new K(bd,bb):new X(bd,bb)].filter(O);return bd.nodeType===Node.ELEMENT_NODE&&bc.length&&bd.tagName!=="TEXTAREA"?(bc[0].isElementVisible()?bc.concat(this.getChildren(bc[0])):[]):bc},this))};af.prototype.newStackingContext=function(bd,be){var bc=new ad(be,bd.getOpacity(),bd.node,bd.parent);bd.cloneTo(bc);var bb=be?bc.getParentStack(this):bc.parent.stack;bb.contexts.push(bc);bd.stack=bc};af.prototype.createStackingContexts=function(){this.nodes.forEach(function(bb){if(ax(bb)&&(this.isRootElement(bb)||f(bb)||z(bb)||this.isBodyWithTransparentRoot(bb)||bb.hasTransform())){this.newStackingContext(bb,true)}else{if(ax(bb)&&((at(bb)&&aq(bb))||a7(bb)||A(bb))){this.newStackingContext(bb,false)}else{bb.assignStack(bb.parent.stack)}}},this)};af.prototype.isBodyWithTransparentRoot=function(bb){return bb.node.nodeName==="BODY"&&bb.parent.color("backgroundColor").isTransparent()};af.prototype.isRootElement=function(bb){return bb.parent===null};af.prototype.sortStackingContexts=function(bb){bb.contexts.sort(a3(bb.contexts.slice(0)));bb.contexts.forEach(this.sortStackingContexts,this)};af.prototype.parseTextBounds=function(bb){return function(bg,bc,bh){if(bb.parent.css("textDecoration").substr(0,4)!=="none"||bg.trim().length!==0){if(this.support.rangeBounds&&!bb.parent.hasTransform()){var bf=bh.slice(0,bc).join("").length;return this.getRangeBounds(bb.node,bf,bg.length)}else{if(bb.node&&typeof(bb.node.data)==="string"){var be=bb.node.splitText(bg.length);var bd=this.getWrapperBounds(bb.node,bb.parent.hasTransform());bb.node=be;return bd}}}else{if(!this.support.rangeBounds||bb.parent.hasTransform()){bb.node=bb.node.splitText(bg.length)}}return{}}};af.prototype.getWrapperBounds=function(bf,bb){var bg=bf.ownerDocument.createElement("html2canvaswrapper");var bc=bf.parentNode,be=bf.cloneNode(true);bg.appendChild(bf.cloneNode(true));bc.replaceChild(bg,bf);var bd=bb?B(bg):aR(bg);bc.replaceChild(be,bg);return bd};af.prototype.getRangeBounds=function(bd,be,bc){var bb=this.range||(this.range=bd.ownerDocument.createRange());bb.setStart(bd,be);bb.setEnd(bd,be+bc);return bb.getBoundingClientRect()};function R(){}af.prototype.parse=function(bg){var bh=bg.contexts.filter(aL);var bd=bg.children.filter(ax);var be=bd.filter(aZ(A));var bi=be.filter(aZ(at)).filter(aZ(a));var bf=bd.filter(aZ(at)).filter(A);var bb=be.filter(aZ(at)).filter(a);var bk=bg.contexts.concat(be.filter(at)).filter(aq);var bj=bg.children.filter(C).filter(aO);var bc=bg.contexts.filter(ar);bh.concat(bi).concat(bf).concat(bb).concat(bk).concat(bj).concat(bc).forEach(function(bl){this.renderQueue.push(bl);if(a1(bl)){this.parse(bl);this.renderQueue.push(new R())}},this)};af.prototype.paint=function(bb){try{if(bb instanceof R){this.renderer.ctx.restore()}else{if(C(bb)){if(ba(bb.parent)){bb.parent.appendToDOM()}this.paintText(bb);if(ba(bb.parent)){bb.parent.cleanDOM()}}else{this.paintNode(bb)}}}catch(bc){h(bc);if(this.options.strict){throw bc}}};af.prototype.paintNode=function(bb){if(a1(bb)){this.renderer.setOpacity(bb.opacity);this.renderer.ctx.save();if(bb.hasTransform()){this.renderer.setTransform(bb.parseTransform())}}if(bb.node.nodeName==="INPUT"&&bb.node.type==="checkbox"){this.paintCheckbox(bb)}else{if(bb.node.nodeName==="INPUT"&&bb.node.type==="radio"){this.paintRadio(bb)}else{this.paintElement(bb)}}};af.prototype.paintElement=function(bb){var bc=bb.parseBounds();this.renderer.clip(bb.backgroundClip,function(){this.renderer.renderBackground(bb,bc,bb.borders.borders.map(d))},this);this.renderer.clip(bb.clip,function(){this.renderer.renderBorders(bb.borders.borders)},this);this.renderer.clip(bb.backgroundClip,function(){switch(bb.node.nodeName){case"svg":case"IFRAME":var bd=this.images.get(bb.node);if(bd){this.renderer.renderImage(bb,bc,bb.borders,bd)}else{h("Error loading <"+bb.node.nodeName+">",bb.node)}break;case"IMG":var be=this.images.get(bb.node.src);if(be){this.renderer.renderImage(bb,bc,bb.borders,be)}else{h("Error loading <img>",bb.node.src)}break;case"CANVAS":this.renderer.renderImage(bb,bc,bb.borders,{image:bb.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(bb);break}},this)};af.prototype.paintCheckbox=function(bd){var bc=bd.parseBounds();var be=Math.min(bc.width,bc.height);var bg={width:be-1,height:be-1,top:bc.top,left:bc.left};var bf=[3,3];var bb=[bf,bf,bf,bf];var bi=[1,1,1,1].map(function(bj){return{color:new I("#A5A5A5"),width:bj}});var bh=a6(bg,bb,bi);this.renderer.clip(bd.backgroundClip,function(){this.renderer.rectangle(bg.left+1,bg.top+1,bg.width-2,bg.height-2,new I("#DEDEDE"));this.renderer.renderBorders(aE(bi,bg,bh,bb));if(bd.node.checked){this.renderer.font(new I("#424242"),"normal","normal","bold",(be-3)+"px","arial");this.renderer.text("\u2714",bg.left+be/6,bg.top+be-1)}},this)};af.prototype.paintRadio=function(bb){var bd=bb.parseBounds();var bc=Math.min(bd.width,bd.height)-2;this.renderer.clip(bb.backgroundClip,function(){this.renderer.circleStroke(bd.left+1,bd.top+1,bc,new I("#DEDEDE"),1,new I("#A5A5A5"));if(bb.node.checked){this.renderer.circle(Math.ceil(bd.left+bc/4)+1,Math.ceil(bd.top+bc/4)+1,Math.floor(bc/2),new I("#424242"))}},this)};af.prototype.paintFormValue=function(bc){var bf=bc.getValue();if(bf.length>0){var bb=bc.node.ownerDocument;var bg=bb.createElement("html2canvaswrapper");var bd=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"];bd.forEach(function(bh){try{bg.style[bh]=bc.css(bh)}catch(bi){h("html2canvas: Parse: Exception caught in renderFormValue: "+bi.message)}});var be=bc.parseBounds();bg.style.position="fixed";bg.style.left=be.left+"px";bg.style.top=be.top+"px";bg.textContent=bf;bb.body.appendChild(bg);this.paintText(new K(bg.firstChild,bc));bb.body.removeChild(bg)}};af.prototype.paintText=function(bc){bc.applyTextTransform();var bb=aU.html2canvas.punycode.ucs2.decode(bc.node.data);var bh=(!this.options.letterRendering||j(bc))&&!aD(bc.node.data)?J(bb):bb.map(function(bi){return aU.html2canvas.punycode.ucs2.encode([bi])});var bg=bc.parent.fontWeight();var bd=bc.parent.css("fontSize");var be=bc.parent.css("fontFamily");var bf=bc.parent.parseTextShadows();this.renderer.font(bc.parent.color("color"),bc.parent.css("fontStyle"),bc.parent.css("fontVariant"),bg,bd,be);if(bf.length){this.renderer.fontShadow(bf[0].color,bf[0].offsetX,bf[0].offsetY,bf[0].blur)}else{this.renderer.clearShadow()}this.renderer.clip(bc.parent.clip,function(){bh.map(this.parseTextBounds(bc),this).forEach(function(bj,bi){if(bj){this.renderer.text(bh[bi],bj.left,bj.bottom);this.renderTextDecoration(bc.parent,bj,this.fontMetrics.getMetrics(be,bd))}},this)},this)};af.prototype.renderTextDecoration=function(bb,bd,bc){switch(bb.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(bd.left,Math.round(bd.top+bc.baseline+bc.lineWidth),bd.width,1,bb.color("color"));break;case"overline":this.renderer.rectangle(bd.left,Math.round(bd.top),bd.width,1,bb.color("color"));break;case"line-through":this.renderer.rectangle(bd.left,Math.ceil(bd.top+bc.middle+bc.lineWidth),bd.width,1,bb.color("color"));break}};var F={inset:[["darken",0.6],["darken",0.1],["darken",0.1],["darken",0.6]]};af.prototype.parseBorders=function(bc){var bd=bc.parseBounds();var bb=Z(bc);var bf=["Top","Right","Bottom","Left"].map(function(bi,bh){var bk=bc.css("border"+bi+"Style");var bg=bc.color("border"+bi+"Color");if(bk==="inset"&&bg.isBlack()){bg=new I([255,255,255,bg.a])}var bj=F[bk]?F[bk][bh]:null;return{width:bc.cssInt("border"+bi+"Width"),color:bj?bg[bj[0]](bj[1]):bg,args:null}});var be=a6(bd,bb,bf);return{clip:this.parseBackgroundClip(bc,be,bf,bb,bd),borders:aE(bf,bd,be,bb)}};function aE(be,bc,bd,bb){return be.map(function(bg,bi){if(bg.width>0){var bk=bc.left;var bj=bc.top;var bl=bc.width;var bf=bc.height-(be[2].width);switch(bi){case 0:bf=be[0].width;bg.args=w({c1:[bk,bj],c2:[bk+bl,bj],c3:[bk+bl-be[1].width,bj+bf],c4:[bk+be[3].width,bj+bf]},bb[0],bb[1],bd.topLeftOuter,bd.topLeftInner,bd.topRightOuter,bd.topRightInner);break;case 1:bk=bc.left+bc.width-(be[1].width);bl=be[1].width;bg.args=w({c1:[bk+bl,bj],c2:[bk+bl,bj+bf+be[2].width],c3:[bk,bj+bf],c4:[bk,bj+be[0].width]},bb[1],bb[2],bd.topRightOuter,bd.topRightInner,bd.bottomRightOuter,bd.bottomRightInner);break;case 2:bj=(bj+bc.height)-(be[2].width);bf=be[2].width;bg.args=w({c1:[bk+bl,bj+bf],c2:[bk,bj+bf],c3:[bk+be[3].width,bj],c4:[bk+bl-be[3].width,bj]},bb[2],bb[3],bd.bottomRightOuter,bd.bottomRightInner,bd.bottomLeftOuter,bd.bottomLeftInner);break;case 3:bl=be[3].width;bg.args=w({c1:[bk,bj+bf+be[2].width],c2:[bk,bj],c3:[bk+bl,bj+be[0].width],c4:[bk+bl,bj+bf]},bb[3],bb[0],bd.bottomLeftOuter,bd.bottomLeftInner,bd.topLeftOuter,bd.topLeftInner);break}}return bg})}af.prototype.parseBackgroundClip=function(bc,bg,bh,bb,bf){var be=bc.css("backgroundClip"),bd=[];switch(be){case"content-box":case"padding-box":aA(bd,bb[0],bb[1],bg.topLeftInner,bg.topRightInner,bf.left+bh[3].width,bf.top+bh[0].width);aA(bd,bb[1],bb[2],bg.topRightInner,bg.bottomRightInner,bf.left+bf.width-bh[1].width,bf.top+bh[0].width);aA(bd,bb[2],bb[3],bg.bottomRightInner,bg.bottomLeftInner,bf.left+bf.width-bh[1].width,bf.top+bf.height-bh[2].width);aA(bd,bb[3],bb[0],bg.bottomLeftInner,bg.topLeftInner,bf.left+bh[3].width,bf.top+bf.height-bh[2].width);break;default:aA(bd,bb[0],bb[1],bg.topLeftOuter,bg.topRightOuter,bf.left,bf.top);aA(bd,bb[1],bb[2],bg.topRightOuter,bg.bottomRightOuter,bf.left+bf.width,bf.top);aA(bd,bb[2],bb[3],bg.bottomRightOuter,bg.bottomLeftOuter,bf.left+bf.width,bf.top+bf.height);aA(bd,bb[3],bb[0],bg.bottomLeftOuter,bg.topLeftOuter,bf.left,bf.top+bf.height);break}return bd};function al(bj,bi,bf,be){var bh=4*((Math.sqrt(2)-1)/3);var bd=(bf)*bh,bb=(be)*bh,bg=bj+bf,bc=bi+be;return{topLeft:E({x:bj,y:bc},{x:bj,y:bc-bb},{x:bg-bd,y:bi},{x:bg,y:bi}),topRight:E({x:bj,y:bi},{x:bj+bd,y:bi},{x:bg,y:bc-bb},{x:bg,y:bc}),bottomRight:E({x:bg,y:bi},{x:bg,y:bi+bb},{x:bj+bd,y:bc},{x:bj,y:bc}),bottomLeft:E({x:bg,y:bc},{x:bg-bd,y:bc},{x:bj,y:bi+bb},{x:bj,y:bi})}}function a6(be,bb,bd){var bi=be.left,bf=be.top,bn=be.width,bm=be.height,bo=bb[0][0],bh=bb[0][1],br=bb[1][0],bk=bb[1][1],bs=bb[2][0],bl=bb[2][1],bq=bb[3][0],bj=bb[3][1];var bg=bn-br,bt=bm-bl,bc=bn-bs,bp=bm-bj;return{topLeftOuter:al(bi,bf,bo,bh).topLeft.subdivide(0.5),topLeftInner:al(bi+bd[3].width,bf+bd[0].width,Math.max(0,bo-bd[3].width),Math.max(0,bh-bd[0].width)).topLeft.subdivide(0.5),topRightOuter:al(bi+bg,bf,br,bk).topRight.subdivide(0.5),topRightInner:al(bi+Math.min(bg,bn+bd[3].width),bf+bd[0].width,(bg>bn+bd[3].width)?0:br-bd[3].width,bk-bd[0].width).topRight.subdivide(0.5),bottomRightOuter:al(bi+bc,bf+bt,bs,bl).bottomRight.subdivide(0.5),bottomRightInner:al(bi+Math.min(bc,bn-bd[3].width),bf+Math.min(bt,bm+bd[0].width),Math.max(0,bs-bd[1].width),bl-bd[2].width).bottomRight.subdivide(0.5),bottomLeftOuter:al(bi,bf+bp,bq,bj).bottomLeft.subdivide(0.5),bottomLeftInner:al(bi+bd[3].width,bf+bp,Math.max(0,bq-bd[3].width),bj-bd[2].width).bottomLeft.subdivide(0.5)}}function E(bf,be,bd,bb){var bc=function(bh,bg,bi){return{x:bh.x+(bg.x-bh.x)*bi,y:bh.y+(bg.y-bh.y)*bi}};return{start:bf,startControl:be,endControl:bd,end:bb,subdivide:function(bi){var bk=bc(bf,be,bi),bl=bc(be,bd,bi),bm=bc(bd,bb,bi),bj=bc(bk,bl,bi),bg=bc(bl,bm,bi),bh=bc(bj,bg,bi);return[E(bf,bk,bj,bh),E(bh,bg,bm,bb)]},curveTo:function(bg){bg.push(["bezierCurve",be.x,be.y,bd.x,bd.y,bb.x,bb.y])},curveToReversed:function(bg){bg.push(["bezierCurve",bd.x,bd.y,be.x,be.y,bf.x,bf.y])}}}function w(bh,bf,be,bi,bc,bg,bb){var bd=[];if(bf[0]>0||bf[1]>0){bd.push(["line",bi[1].start.x,bi[1].start.y]);bi[1].curveTo(bd)}else{bd.push(["line",bh.c1[0],bh.c1[1]])}if(be[0]>0||be[1]>0){bd.push(["line",bg[0].start.x,bg[0].start.y]);bg[0].curveTo(bd);bd.push(["line",bb[0].end.x,bb[0].end.y]);bb[0].curveToReversed(bd)}else{bd.push(["line",bh.c2[0],bh.c2[1]]);bd.push(["line",bh.c3[0],bh.c3[1]])}if(bf[0]>0||bf[1]>0){bd.push(["line",bc[1].end.x,bc[1].end.y]);bc[1].curveToReversed(bd)}else{bd.push(["line",bh.c4[0],bh.c4[1]])}return bd}function aA(bf,bg,be,bd,bc,bb,bh){if(bg[0]>0||bg[1]>0){bf.push(["line",bd[0].start.x,bd[0].start.y]);bd[0].curveTo(bf);bd[1].curveTo(bf)}else{bf.push(["line",bb,bh])}if(be[0]>0||be[1]>0){bf.push(["line",bc[0].start.x,bc[0].start.y])}}function aL(bb){return bb.cssInt("zIndex")<0}function ar(bb){return bb.cssInt("zIndex")>0}function aq(bb){return bb.cssInt("zIndex")===0}function a(bb){return["inline","inline-block","inline-table"].indexOf(bb.css("display"))!==-1}function a1(bb){return(bb instanceof ad)}function aO(bb){return bb.node.data.trim().length>0}function j(bb){return(/^(normal|none|0px)$/.test(bb.parent.css("letterSpacing")))}function Z(bb){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(bd){var be=bb.css("border"+bd+"Radius");var bc=be.split(" ");if(bc.length<=1){bc[1]=bc[0]}return bc.map(a9)})}function aw(bb){return(bb.nodeType===Node.TEXT_NODE||bb.nodeType===Node.ELEMENT_NODE)}function z(bc){var bb=bc.css("position");var bd=(["absolute","relative","fixed"].indexOf(bb)!==-1)?bc.css("zIndex"):"auto";return bd!=="auto"}function at(bb){return bb.css("position")!=="static"}function A(bb){return bb.css("float")!=="none"}function a7(bb){return["inline-block","inline-table"].indexOf(bb.css("display"))!==-1}function aZ(bc){var bb=this;return function(){return !bc.apply(bb,arguments)}}function ax(bb){return bb.node.nodeType===Node.ELEMENT_NODE}function ba(bb){return bb.isPseudoElement===true}function C(bb){return bb.node.nodeType===Node.TEXT_NODE}function a3(bb){return function(bd,bc){return(bd.cssInt("zIndex")+(bb.indexOf(bd)/bb.length))-(bc.cssInt("zIndex")+(bb.indexOf(bc)/bb.length))}}function f(bb){return bb.getOpacity()<1}function aX(bc,bb){return function(){return bc.apply(bb,arguments)}}function a9(bb){return parseInt(bb,10)}function d(bb){return bb.width}function O(bb){return(bb.node.nodeType!==Node.ELEMENT_NODE||["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(bb.node.nodeName)===-1)}function aN(bb){return[].concat.apply([],bb)}function l(bb){var bc=bb.substr(0,1);return(bc===bb.substr(bb.length-1)&&bc.match(/'|"/))?bb.substr(1,bb.length-2):bb}function J(bb){var bf=[],bc=0,be=false,bd;while(bb.length){if(aB(bb[bc])===be){bd=bb.splice(0,bc);if(bd.length){bf.push(aU.html2canvas.punycode.ucs2.encode(bd))}be=!be;bc=0}else{bc++}if(bc>=bb.length){bd=bb.splice(0,bc);if(bd.length){bf.push(aU.html2canvas.punycode.ucs2.encode(bd))}}}return bf}function aB(bb){return[32,13,10,9,45].indexOf(bb)!==-1}function aD(bb){return(/[^\u0000-\u00ff]/).test(bb)}function L(bd,bf,bb){if(!bf){return Promise.reject("No proxy configured")}var be=k(aM);var bc=a2(bf,bd,be);return aM?o(bc):(m(bb,bc,be).then(function(bg){return ai(bg.content)}))}var c=0;var aM=("withCredentials" in new XMLHttpRequest());var v=("crossOrigin" in new Image());function ae(bd,bf,bb){var be=k(v);var bc=a2(bf,bd,be);return(v?Promise.resolve(bc):m(bb,bc,be).then(function(bg){return"data:"+bg.type+";base64,"+bg.content}))}function m(bb,bc,bd){return new Promise(function(bh,bg){var bf=bb.createElement("script");var be=function(){delete aU.html2canvas.proxy[bd];bb.body.removeChild(bf)};aU.html2canvas.proxy[bd]=function(bi){be();bh(bi)};bf.src=bc;bf.onerror=function(bi){be();bg(bi)};bb.body.appendChild(bf)})}function k(bb){return !bb?"html2canvas_"+Date.now()+"_"+(++c)+"_"+Math.round(Math.random()*100000):""}function a2(bd,bb,bc){return bd+"?url="+encodeURIComponent(bb)+(bc.length?"&callback=html2canvas.proxy."+bc:"")}function N(bf,bd){var bc=ab.createElement("script");var be=ab.createElement("a");be.href=bf;bf=be.href;this.src=bf;this.image=new Image();var bb=this;this.promise=new Promise(function(bh,bg){bb.image.crossOrigin="Anonymous";bb.image.onload=bh;bb.image.onerror=bg;new ae(bf,bd,ab).then(function(bi){bb.image.src=bi})["catch"](bg)})}function x(bd,bc,bb){X.call(this,bd,bc);this.isPseudoElement=true;this.before=bb===":before"}x.prototype.cloneTo=function(bb){x.prototype.cloneTo.call(this,bb);bb.isPseudoElement=true;bb.before=this.before};x.prototype=Object.create(X.prototype);x.prototype.appendToDOM=function(){if(this.before){this.parent.node.insertBefore(this.node,this.parent.node.firstChild)}else{this.parent.node.appendChild(this.node)}this.parent.node.className+=" "+this.getHideClass()};x.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node);this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")};x.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]};x.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before";x.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after";function ay(bf,bd,bc,be,bb){this.width=bf;this.height=bd;this.images=bc;this.options=be;this.document=bb}ay.prototype.renderImage=function(bc,bb,bj,bi){var bg=bc.cssInt("paddingLeft"),bl=bc.cssInt("paddingTop"),bf=bc.cssInt("paddingRight"),be=bc.cssInt("paddingBottom"),bh=bj.borders;var bd=bb.width-(bh[1].width+bh[3].width+bg+bf);var bk=bb.height-(bh[0].width+bh[2].width+bl+be);this.drawImage(bi,0,0,bi.image.width||bd,bi.image.height||bk,bb.left+bg+bh[3].width,bb.top+bl+bh[0].width,bd,bk)};ay.prototype.renderBackground=function(bb,bc,bd){if(bc.height>0&&bc.width>0){this.renderBackgroundColor(bb,bc);this.renderBackgroundImage(bb,bc,bd)}};ay.prototype.renderBackgroundColor=function(bb,bd){var bc=bb.color("backgroundColor");if(!bc.isTransparent()){this.rectangle(bd.left,bd.top,bd.width,bd.height,bc)}};ay.prototype.renderBorders=function(bb){bb.forEach(this.renderBorder,this)};ay.prototype.renderBorder=function(bb){if(!bb.color.isTransparent()&&bb.args!==null){this.drawShape(bb.args,bb.color)}};ay.prototype.renderBackgroundImage=function(bc,bd,be){var bb=bc.parseBackgroundImages();bb.reverse().forEach(function(bj,bg,bf){switch(bj.method){case"url":var bi=this.images.get(bj.args[0]);if(bi){this.renderBackgroundRepeating(bc,bd,bi,bf.length-(bg+1),be)}else{h("Error loading background-image",bj.args[0])}break;case"linear-gradient":case"gradient":var bh=this.images.get(bj.value);if(bh){this.renderBackgroundGradient(bh,bd,be)}else{h("Error loading background-image",bj.args[0])}break;case"none":break;default:h("Unknown background-image type",bj.args[0])}},this)};ay.prototype.renderBackgroundRepeating=function(bc,bg,be,bd,bi){var bf=bc.parseBackgroundSize(bg,be.image,bd);var bb=bc.parseBackgroundPosition(bg,be.image,bd,bf);var bh=bc.parseBackgroundRepeat(bd);switch(bh){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(be,bb,bf,bg,bg.left+bi[3],bg.top+bb.top+bi[0],99999,bf.height,bi);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(be,bb,bf,bg,bg.left+bb.left+bi[3],bg.top+bi[0],bf.width,99999,bi);break;case"no-repeat":this.backgroundRepeatShape(be,bb,bf,bg,bg.left+bb.left+bi[3],bg.top+bb.top+bi[0],bf.width,bf.height,bi);break;default:this.renderBackgroundRepeat(be,bb,bf,{top:bg.top,left:bg.left},bi[3],bi[0]);break}};function ad(bd,bb,bc,be){X.call(this,bc,be);this.ownStacking=bd;this.contexts=[];this.children=[];this.opacity=(this.parent?(this.parent.stack?this.parent.stack.opacity:1):1)*bb}ad.prototype=Object.create(X.prototype);ad.prototype.getParentStack=function(bc){var bb=(this.parent)?this.parent.stack:null;return bb?(bb.ownStacking?bb:bb.getParentStack(bc)):bc.stack};function aC(bb){this.rangeBounds=this.testRangeBounds(bb);this.cors=this.testCORS();this.svg=this.testSVG()}aC.prototype.testRangeBounds=function(bb){var bd,bg,bf,bc,be=false;if(bb.createRange){bd=bb.createRange();if(bd.getBoundingClientRect){bg=bb.createElement("boundtest");bg.style.height="123px";bg.style.display="block";bb.body.appendChild(bg);bd.selectNode(bg);bf=bd.getBoundingClientRect();bc=bf.height;if(bc===123){be=true}bb.body.removeChild(bg)}}return be};aC.prototype.testCORS=function(){return typeof((new Image()).crossOrigin)!=="undefined"};aC.prototype.testSVG=function(){var bc=new Image();var bd=ab.createElement("canvas");var bb=bd.getContext("2d");bc.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{bb.drawImage(bc,0,0);bd.toDataURL()}catch(be){return false}return true};function b(bc){this.src=bc;this.image=null;var bb=this;this.promise=this.hasFabric().then(function(){return(bb.isInline(bc)?Promise.resolve(bb.inlineFormatting(bc)):o(bc))}).then(function(bd){return new Promise(function(be){html2canvas.fabric.loadSVGFromString(bd,bb.createCanvas.call(bb,be))})})}b.prototype.hasFabric=function(){return !html2canvas.fabric?Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg")):Promise.resolve()};b.prototype.inlineFormatting=function(bb){return(/^data:image\/svg\+xml;base64,/.test(bb))?this.decode64(this.removeContentType(bb)):this.removeContentType(bb)};b.prototype.removeContentType=function(bb){return bb.replace(/^data:image\/svg\+xml(;base64)?,/,"")};b.prototype.isInline=function(bb){return(/^data:image\/svg\+xml/i.test(bb))};b.prototype.createCanvas=function(bc){var bb=this;return function(bf,be){var bd=new html2canvas.fabric.StaticCanvas("c");bb.image=bd.lowerCanvasEl;bd.setWidth(be.width).setHeight(be.height).add(html2canvas.fabric.util.groupSVGElements(bf,be)).renderAll();bc(bd.lowerCanvasEl)}};b.prototype.decode64=function(bb){return(typeof(aU.atob)==="function")?aU.atob(bb):ai(bb)};function ai(bg){var bi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var bh=bg.length,bf,bd,bc,bb,bm,bl,bk,bj;var be="";for(bf=0;bf<bh;bf+=4){bd=bi.indexOf(bg[bf]);bc=bi.indexOf(bg[bf+1]);bb=bi.indexOf(bg[bf+2]);bm=bi.indexOf(bg[bf+3]);bl=(bd<<2)|(bc>>4);bk=((bc&15)<<4)|(bb>>2);bj=((bb&3)<<6)|bm;if(bb===64){be+=String.fromCharCode(bl)}else{if(bm===64||bm===-1){be+=String.fromCharCode(bl,bk)}else{be+=String.fromCharCode(bl,bk,bj)}}}return be}function a8(bc,bd){this["src"]=bc;this["image"]=null;var bb=this;this.promise=bd?new Promise(function(bf,be){bb.image=new Image();bb.image.onload=bf;bb.image.onerror=be;bb.image.src="data:image/svg+xml,"+(new XMLSerializer()).serializeToString(bc);if(bb.image.complete===true){bf(bb.image)}}):this.hasFabric().then(function(){return new Promise(function(be){html2canvas.fabric.parseSVGDocument(bc,bb.createCanvas.call(bb,be))})})}a8.prototype=Object.create(b.prototype);function K(bc,bb){X.call(this,bc,bb)}K.prototype=Object.create(X.prototype);K.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))};K.prototype.transform=function(bb){var bc=this.node.data;switch(bb){case"lowercase":return bc.toLowerCase();case"capitalize":return bc.replace(/(^|\s|:|-|\(|\))([a-z])/g,M);case"uppercase":return bc.toUpperCase();default:return bc}};function M(bb,bd,bc){if(bb.length>0){return bd+bc.toUpperCase()}}function an(bb){aI.apply(this,arguments);this.type=(bb.args[0]==="linear")?this.TYPES.LINEAR:this.TYPES.RADIAL}an.prototype=Object.create(aI.prototype);function o(bb){return new Promise(function(bd,bc){var be=new XMLHttpRequest();be.open("GET",bb);be.onload=function(){if(be.status===200){bd(be.responseText)}else{bc(new Error(be.statusText))}};be.onerror=function(){bc(new Error("Network Error"))};be.send()})}function e(bc,bb){ay.apply(this,arguments);this.canvas=this.options.canvas||this.document.createElement("canvas");if(!this.options.canvas){this.canvas.width=bc;this.canvas.height=bb}this.ctx=this.canvas.getContext("2d");this.taintCtx=this.document.createElement("canvas").getContext("2d");this.ctx.textBaseline="bottom";this.variables={};h("Initialized CanvasRenderer with size",bc,"x",bb)}e.prototype=Object.create(ay.prototype);e.prototype.setFillStyle=function(bb){this.ctx.fillStyle=typeof(bb)==="object"&&!!bb.isColor?bb.toString():bb;return this.ctx};e.prototype.rectangle=function(bf,be,bd,bb,bc){this.setFillStyle(bc).fillRect(bf,be,bd,bb)};e.prototype.circle=function(be,bd,bc,bb){this.setFillStyle(bb);this.ctx.beginPath();this.ctx.arc(be+bc/2,bd+bc/2,bc/2,0,Math.PI*2,true);this.ctx.closePath();this.ctx.fill()};e.prototype.circleStroke=function(bg,bf,bc,bb,be,bd){this.circle(bg,bf,bc,bb);this.ctx.strokeStyle=bd.toString();this.ctx.stroke()};e.prototype.drawShape=function(bc,bb){this.shape(bc);this.setFillStyle(bb).fill()};e.prototype.taints=function(bb){if(bb.tainted===null){this.taintCtx.drawImage(bb.image,0,0);try{this.taintCtx.getImageData(0,0,1,1);bb.tainted=false}catch(bc){this.taintCtx=ab.createElement("canvas").getContext("2d");bb.tainted=true}}return bb.tainted};e.prototype.drawImage=function(be,bg,bf,bh,bc,bj,bi,bb,bd){if(!this.taints(be)||this.options.allowTaint){this.ctx.drawImage(be.image,bg,bf,bh,bc,bj,bi,bb,bd)}};e.prototype.clip=function(bb,bd,bc){this.ctx.save();bb.filter(aK).forEach(function(be){this.shape(be).clip()},this);bd.call(bc);this.ctx.restore()};e.prototype.shape=function(bb){this.ctx.beginPath();bb.forEach(function(bc,bd){if(bc[0]==="rect"){this.ctx.rect.apply(this.ctx,bc.slice(1))}else{this.ctx[(bd===0)?"moveTo":bc[0]+"To"].apply(this.ctx,bc.slice(1))}},this);this.ctx.closePath();return this.ctx};e.prototype.font=function(bb,bf,bd,bg,bc,be){this.setFillStyle(bb).font=[bf,bd,bg,bc,be].join(" ").split(",")[0]};e.prototype.fontShadow=function(bc,bb,be,bd){this.setVariable("shadowColor",bc.toString()).setVariable("shadowOffsetY",bb).setVariable("shadowOffsetX",be).setVariable("shadowBlur",bd)};e.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")};e.prototype.setOpacity=function(bb){this.ctx.globalAlpha=bb};e.prototype.setTransform=function(bb){this.ctx.translate(bb.origin[0],bb.origin[1]);this.ctx.transform.apply(this.ctx,bb.matrix);this.ctx.translate(-bb.origin[0],-bb.origin[1])};e.prototype.setVariable=function(bc,bb){if(this.variables[bc]!==bb){this.variables[bc]=this.ctx[bc]=bb}return this};e.prototype.text=function(bd,bc,bb){this.ctx.fillText(bd,bc,bb)};e.prototype.backgroundRepeatShape=function(bg,bd,bk,bb,be,bh,bc,bj,bi){var bf=[["line",Math.round(be),Math.round(bh)],["line",Math.round(be+bc),Math.round(bh)],["line",Math.round(be+bc),Math.round(bj+bh)],["line",Math.round(be),Math.round(bj+bh)]];this.clip([bf],function(){this.renderBackgroundRepeat(bg,bd,bk,bb,bi[3],bi[0])},this)};e.prototype.renderBackgroundRepeat=function(bd,bc,be,bf,bg,bi){var bb=Math.round(bf.left+bc.left+bg),bh=Math.round(bf.top+bc.top+bi);this.setFillStyle(this.ctx.createPattern(this.resizeImage(bd,be),"repeat"));this.ctx.translate(bb,bh);this.ctx.fill();this.ctx.translate(-bb,-bh)};e.prototype.renderBackgroundGradient=function(bd,bb){if(bd instanceof a0){var bc=this.ctx.createLinearGradient(bb.left+bb.width*bd.x0,bb.top+bb.height*bd.y0,bb.left+bb.width*bd.x1,bb.top+bb.height*bd.y1);bd.colorStops.forEach(function(be){bc.addColorStop(be.stop,be.color.toString())});this.rectangle(bb.left,bb.top,bb.width,bb.height,bc)}};e.prototype.resizeImage=function(bd,be){var bf=bd.image;if(bf.width===be.width&&bf.height===be.height){return bf}var bb,bc=ab.createElement("canvas");bc.width=be.width;bc.height=be.height;bb=bc.getContext("2d");bb.drawImage(bf,0,0,bf.width,bf.height,0,0,be.width,be.height);return bc};function aK(bb){return bb.length>0}}).call({},typeof(window)!=="undefined"?window:undefined,typeof(document)!=="undefined"?document:undefined);