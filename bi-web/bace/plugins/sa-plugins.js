;/*!jquery/jquery-1.11.2.min.js*/
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=it.type(e);return"function"===n||it.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(it.isFunction(t))return it.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return it.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ft.test(t))return it.filter(t,e,n);t=it.filter(t,e)}return it.grep(e,function(e){return it.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=xt[e]={};return it.each(e.match(bt)||[],function(e,n){t[n]=!0}),t}function a(){ht.addEventListener?(ht.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(ht.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(ht.addEventListener||"load"===event.type||"complete"===ht.readyState)&&(a(),it.ready())}function u(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Et,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Nt.test(n)?it.parseJSON(n):n}catch(i){}it.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!it.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(it.acceptData(e)){var i,o,a=it.expando,s=e.nodeType,u=s?it.cache:e,l=s?e[a]:e[a]&&a;if(l&&u[l]&&(r||u[l].data)||void 0!==n||"string"!=typeof t)return l||(l=s?e[a]=J.pop()||it.guid++:a),u[l]||(u[l]=s?{}:{toJSON:it.noop}),("object"==typeof t||"function"==typeof t)&&(r?u[l]=it.extend(u[l],t):u[l].data=it.extend(u[l].data,t)),o=u[l],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[it.camelCase(t)]=n),"string"==typeof t?(i=o[t],null==i&&(i=o[it.camelCase(t)])):i=o,i}}function d(e,t,n){if(it.acceptData(e)){var r,i,o=e.nodeType,a=o?it.cache:e,s=o?e[it.expando]:it.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){it.isArray(t)?t=t.concat(it.map(t,it.camelCase)):t in r?t=[t]:(t=it.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!l(r):!it.isEmptyObject(r))return}(n||(delete a[s].data,l(a[s])))&&(o?it.cleanData([e],!0):nt.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function f(){return!0}function p(){return!1}function h(){try{return ht.activeElement}catch(e){}}function m(e){var t=Ft.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==Ct?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ct?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||it.nodeName(r,t)?o.push(r):it.merge(o,g(r,t));return void 0===t||t&&it.nodeName(e,t)?it.merge([e],o):o}function v(e){jt.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return it.nodeName(e,"table")&&it.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==it.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=Vt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++)it._data(n,"globalEval",!t||it._data(t[r],"globalEval"))}function T(e,t){if(1===t.nodeType&&it.hasData(e)){var n,r,i,o=it._data(e),a=it._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)it.event.add(t,n,s[n][r])}a.data&&(a.data=it.extend({},a.data))}}function C(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!nt.noCloneEvent&&t[it.expando]){i=it._data(t);for(r in i.events)it.removeEvent(t,r,i.handle);t.removeAttribute(it.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),nt.html5Clone&&e.innerHTML&&!it.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&jt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function N(t,n){var r,i=it(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:it.css(i[0],"display");return i.detach(),o}function E(e){var t=ht,n=Zt[e];return n||(n=N(e,t),"none"!==n&&n||(Kt=(Kt||it("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Kt[0].contentWindow||Kt[0].contentDocument).document,t.write(),t.close(),n=N(e,t),Kt.detach()),Zt[e]=n),n}function k(e,t){return{get:function(){var n=e();return null!=n?n?void delete this.get:(this.get=t).apply(this,arguments):void 0}}}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=pn.length;i--;)if(t=pn[i]+n,t in e)return t;return r}function A(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=it._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&At(r)&&(o[a]=it._data(r,"olddisplay",E(r.nodeName)))):(i=At(r),(n&&"none"!==n||!i)&&it._data(r,"olddisplay",i?n:it.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function D(e,t,n){var r=ln.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function j(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=it.css(e,n+St[o],!0,i)),r?("content"===n&&(a-=it.css(e,"padding"+St[o],!0,i)),"margin"!==n&&(a-=it.css(e,"border"+St[o]+"Width",!0,i))):(a+=it.css(e,"padding"+St[o],!0,i),"padding"!==n&&(a+=it.css(e,"border"+St[o]+"Width",!0,i)));return a}function L(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=en(e),a=nt.boxSizing&&"border-box"===it.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=tn(e,t,o),(0>i||null==i)&&(i=e.style[t]),rn.test(i))return i;r=a&&(nt.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+j(e,t,n||(a?"border":"content"),r,o)+"px"}function H(e,t,n,r,i){return new H.prototype.init(e,t,n,r,i)}function q(){return setTimeout(function(){hn=void 0}),hn=it.now()}function _(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=St[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function M(e,t,n){for(var r,i=(xn[t]||[]).concat(xn["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function F(e,t,n){var r,i,o,a,s,u,l,c,d=this,f={},p=e.style,h=e.nodeType&&At(e),m=it._data(e,"fxshow");n.queue||(s=it._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,it.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=it.css(e,"display"),c="none"===l?it._data(e,"olddisplay")||E(e.nodeName):l,"inline"===c&&"none"===it.css(e,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",nt.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],gn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}f[r]=m&&m[r]||it.style(e,r)}else l=void 0;if(it.isEmptyObject(f))"inline"===("none"===l?E(e.nodeName):l)&&(p.display=l);else{m?"hidden"in m&&(h=m.hidden):m=it._data(e,"fxshow",{}),o&&(m.hidden=!h),h?it(e).show():d.done(function(){it(e).hide()}),d.done(function(){var t;it._removeData(e,"fxshow");for(t in f)it.style(e,t,f[t])});for(r in f)a=M(h?m[r]:0,r,d),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function O(e,t){var n,r,i,o,a;for(n in e)if(r=it.camelCase(n),i=t[r],o=e[n],it.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=it.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function B(e,t,n){var r,i,o=0,a=bn.length,s=it.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=hn||q(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:it.extend({},t),opts:it.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:hn||q(),duration:n.duration,tweens:[],createTween:function(t,n){var r=it.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(O(c,l.opts.specialEasing);a>o;o++)if(r=bn[o].call(l,e,c,l.opts))return r;return it.map(c,M,l),it.isFunction(l.opts.start)&&l.opts.start.call(e,l),it.fx.timer(it.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function P(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(bt)||[];if(it.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function R(e,t,n,r){function i(s){var u;return o[s]=!0,it.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===In;return i(t.dataTypes[0])||!o["*"]&&i("*")}function W(e,t){var n,r,i=it.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&it.extend(!0,e,n),e}function $(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function z(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function I(e,t,n,r){var i;if(it.isArray(t))it.each(t,function(t,i){n||Jn.test(e)?r(e,i):I(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==it.type(t))r(e,t);else for(i in t)I(e+"["+i+"]",t[i],n,r)}function X(){try{return new e.XMLHttpRequest}catch(t){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function V(e){return it.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var J=[],Y=J.slice,G=J.concat,Q=J.push,K=J.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,nt={},rt="1.11.2",it=function(e,t){return new it.fn.init(e,t)},ot=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,st=/-([\da-z])/gi,ut=function(e,t){return t.toUpperCase()};it.fn=it.prototype={jquery:rt,constructor:it,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=it.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return it.each(this,e,t)},map:function(e){return this.pushStack(it.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:J.sort,splice:J.splice},it.extend=it.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||it.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(l&&n&&(it.isPlainObject(n)||(t=it.isArray(n)))?(t?(t=!1,o=e&&it.isArray(e)?e:[]):o=e&&it.isPlainObject(e)?e:{},a[r]=it.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},it.extend({expando:"jQuery"+(rt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===it.type(e)},isArray:Array.isArray||function(e){return"array"===it.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!it.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==it.type(e)||e.nodeType||it.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(nt.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&it.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(at,"ms-").replace(st,ut)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ot,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?it.merge(r,"string"==typeof e?[e]:e):Q.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(K)return K.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),u=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return G.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),it.isFunction(e)?(n=Y.call(arguments,2),r=function(){return e.apply(t||this,n.concat(Y.call(arguments)))},r.guid=e.guid=e.guid||it.guid++,r):void 0},now:function(){return+new Date},support:nt}),it.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var lt=function(e){function t(e,t,n,r){var i,o,a,s,u,l,d,p,h,m;if((t?t.ownerDocument||t:R)!==H&&L(t),t=t||H,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&_){if(11!==s&&(i=yt.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&B(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return K.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&w.getElementsByClassName)return K.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!M||!M.test(e))){if(p=d=P,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=E(e),(d=t.getAttribute("id"))?p=d.replace(xt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",u=l.length;u--;)l[u]=p+f(l[u]);h=bt.test(e)&&c(t.parentNode)||t,m=l.join(",")}if(m)try{return K.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return S(e.replace(ut,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[P]=!0,e}function i(e){var t=H.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l=[W,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[P]||(t[P]={}),(s=u[r])&&s[0]===W&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[P]&&(i=v(i)),o&&!o[P]&&(o=v(o,a)),r(function(r,a,s,u){var l,c,d,f=[],p=[],h=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,f,e,s,u),b=n?o||(r?e:h||i)?[]:a:y;if(n&&n(y,b,s,u),i)for(l=g(b,p),i(l,[],s,u),c=l.length;c--;)(d=l[c])&&(b[p[c]]=!(y[p[c]]=d));if(r){if(o||e){if(o){for(l=[],c=b.length;c--;)(d=b[c])&&l.push(y[c]=d);o(null,b=[],l,u)}for(c=b.length;c--;)(d=b[c])&&(l=o?et(r,d):f[c])>-1&&(r[l]=!(a[l]=d))}}else b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,u):K.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return et(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==A)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];i>s;s++)if(n=T.relative[e[s].type])c=[p(h(c),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[P]){for(r=++s;i>r&&!T.relative[e[r].type];r++);return v(s>1&&h(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ut,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&f(e))}c.push(n)}return h(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,d,f,p=0,h="0",m=r&&[],v=[],y=A,b=r||o&&T.find.TAG("*",l),x=W+=null==y?1:Math.random()||.1,w=b.length;for(l&&(A=a!==H&&a);h!==w&&null!=(c=b[h]);h++){if(o&&c){for(d=0;f=e[d++];)if(f(c,a,s)){u.push(c);break}l&&(W=x)}i&&((c=!f&&c)&&p--,r&&m.push(c))}if(p+=h,i&&h!==p){for(d=0;f=n[d++];)f(m,v,a,s);if(r){if(p>0)for(;h--;)m[h]||v[h]||(v[h]=G.call(u));v=g(v)}K.apply(u,v),l&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(u)}return l&&(W=x,A=y),m};return i?r(a):a}var x,w,T,C,N,E,k,S,A,D,j,L,H,q,_,M,F,O,B,P="sizzle"+1*new Date,R=e.document,W=0,$=0,z=n(),I=n(),X=n(),U=function(e,t){return e===t&&(j=!0),0},V=1<<31,J={}.hasOwnProperty,Y=[],G=Y.pop,Q=Y.push,K=Y.push,Z=Y.slice,et=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=rt.replace("w","w#"),ot="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",at=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),ut=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),dt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ft=new RegExp(at),pt=new RegExp("^"+it+"$"),ht={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,xt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Tt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ct=function(){L()};try{K.apply(Y=Z.call(R.childNodes),R.childNodes),Y[R.childNodes.length].nodeType}catch(Nt){K={apply:Y.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:R;return r!==H&&9===r.nodeType&&r.documentElement?(H=r,q=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),_=!N(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=vt.test(r.getElementsByClassName),w.getById=i(function(e){return q.appendChild(e).id=P,!r.getElementsByName||!r.getElementsByName(P).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&_){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(wt,Tt);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(wt,Tt);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){return _?t.getElementsByClassName(e):void 0},F=[],M=[],(w.qsa=vt.test(r.querySelectorAll))&&(i(function(e){q.appendChild(e).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+nt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+P+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+P+"+*").length||M.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(w.matchesSelector=vt.test(O=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&i(function(e){w.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),F.push("!=",at)}),M=M.length&&new RegExp(M.join("|")),F=F.length&&new RegExp(F.join("|")),t=vt.test(q.compareDocumentPosition),B=t||vt.test(q.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return j=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===R&&B(R,e)?-1:t===r||t.ownerDocument===R&&B(R,t)?1:D?et(D,e)-et(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return j=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:D?et(D,e)-et(D,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===R?-1:l[i]===R?1:0},r):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&L(e),n=n.replace(dt,"='$1']"),!(!w.matchesSelector||!_||F&&F.test(n)||M&&M.test(n)))try{var r=O.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&J.call(T.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==r?r:w.attributes||!_?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(j=!w.detectDuplicates,D=!w.sortStable&&e.slice(0),e.sort(U),j){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,Tt),e[3]=(e[3]||e[4]||e[5]||"").replace(wt,Tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ht.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ft.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(wt,Tt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(st," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(c=g[P]||(g[P]={}),l=c[e]||[],p=l[0]===W&&l[1],f=l[0]===W&&l[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[W,p,f];break}}else if(y&&(l=(t[P]||(t[P]={}))[e])&&l[0]===W)f=l[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[P]||(d[P]={}))[e]=[W,f]),d!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[P]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=et(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(ut,"$1"));return i[P]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(wt,Tt),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(wt,Tt).toLowerCase(),function(t){var n;do if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=u(x);return d.prototype=T.filters=T.pseudos,T.setFilters=new d,E=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=I[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=T.preFilter;s;){(!r||(i=lt.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ct.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ut," ")}),s=s.slice(r.length));for(a in T.filter)!(i=ht[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));
if(!r)break}return n?s.length:s?t.error(e):I(e,u).slice(0)},k=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=y(t[n]),o[P]?r.push(o):i.push(o);o=X(e,b(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,d=!r&&E(e=l.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&_&&T.relative[o[1].type]){if(t=(T.find.ID(a.matches[0].replace(wt,Tt),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=ht.needsContext.test(e)?0:o.length;i--&&(a=o[i],!T.relative[s=a.type]);)if((u=T.find[s])&&(r=u(a.matches[0].replace(wt,Tt),bt.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return K.apply(n,r),n;break}}return(l||k(e,d))(r,t,!_,n,bt.test(e)&&c(t.parentNode)||t),n},w.sortStable=P.split("").sort(U).join("")===P,w.detectDuplicates=!!j,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(tt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);it.find=lt,it.expr=lt.selectors,it.expr[":"]=it.expr.pseudos,it.unique=lt.uniqueSort,it.text=lt.getText,it.isXMLDoc=lt.isXML,it.contains=lt.contains;var ct=it.expr.match.needsContext,dt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ft=/^.[^:#\[\.,]*$/;it.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?it.find.matchesSelector(r,e)?[r]:[]:it.find.matches(e,it.grep(t,function(e){return 1===e.nodeType}))},it.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(it(e).filter(function(){for(t=0;i>t;t++)if(it.contains(r[t],this))return!0}));for(t=0;i>t;t++)it.find(e,r[t],n);return n=this.pushStack(i>1?it.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ct.test(e)?it(e):e||[],!1).length}});var pt,ht=e.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gt=it.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:mt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pt).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof it?t[0]:t,it.merge(this,it.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ht,!0)),dt.test(n[1])&&it.isPlainObject(t))for(n in t)it.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=ht.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return pt.find(e);this.length=1,this[0]=r}return this.context=ht,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):it.isFunction(e)?"undefined"!=typeof pt.ready?pt.ready(e):e(it):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),it.makeArray(e,this))};gt.prototype=it.fn,pt=it(ht);var vt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};it.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!it(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),it.fn.extend({has:function(e){var t,n=it(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(it.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ct.test(e)||"string"!=typeof e?it(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&it.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?it.unique(o):o)},index:function(e){return e?"string"==typeof e?it.inArray(this[0],it(e)):it.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(it.unique(it.merge(this.get(),it(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),it.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return it.dir(e,"parentNode")},parentsUntil:function(e,t,n){return it.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return it.dir(e,"nextSibling")},prevAll:function(e){return it.dir(e,"previousSibling")},nextUntil:function(e,t,n){return it.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return it.dir(e,"previousSibling",n)},siblings:function(e){return it.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return it.sibling(e.firstChild)},contents:function(e){return it.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:it.merge([],e.childNodes)}},function(e,t){it.fn[e]=function(n,r){var i=it.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=it.filter(r,i)),this.length>1&&(yt[e]||(i=it.unique(i)),vt.test(e)&&(i=i.reverse())),this.pushStack(i)}});var bt=/\S+/g,xt={};it.Callbacks=function(e){e="string"==typeof e?xt[e]||o(e):it.extend({},e);var t,n,r,i,a,s,u=[],l=!e.once&&[],c=function(o){for(n=e.memory&&o,r=!0,a=s||0,s=0,i=u.length,t=!0;u&&i>a;a++)if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,u&&(l?l.length&&c(l.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var r=u.length;!function o(t){it.each(t,function(t,n){var r=it.type(n);"function"===r?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),t?i=u.length:n&&(s=r,c(n))}return this},remove:function(){return u&&it.each(arguments,function(e,n){for(var r;(r=it.inArray(n,u,r))>-1;)u.splice(r,1),t&&(i>=r&&i--,a>=r&&a--)}),this},has:function(e){return e?it.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],i=0,this},disable:function(){return u=l=n=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,n||d.disable(),this},locked:function(){return!l},fireWith:function(e,n){return!u||r&&!l||(n=n||[],n=[e,n.slice?n.slice():n],t?l.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},it.extend({Deferred:function(e){var t=[["resolve","done",it.Callbacks("once memory"),"resolved"],["reject","fail",it.Callbacks("once memory"),"rejected"],["notify","progress",it.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return it.Deferred(function(n){it.each(t,function(t,o){var a=it.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&it.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?it.extend(e,r):r}},i={};return r.pipe=r.then,it.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=Y.call(arguments),a=o.length,s=1!==a||e&&it.isFunction(e.promise)?a:0,u=1===s?e:it.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?Y.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&it.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--s;return s||u.resolveWith(r,o),u.promise()}});var wt;it.fn.ready=function(e){return it.ready.promise().done(e),this},it.extend({isReady:!1,readyWait:1,holdReady:function(e){e?it.readyWait++:it.ready(!0)},ready:function(e){if(e===!0?!--it.readyWait:!it.isReady){if(!ht.body)return setTimeout(it.ready);it.isReady=!0,e!==!0&&--it.readyWait>0||(wt.resolveWith(ht,[it]),it.fn.triggerHandler&&(it(ht).triggerHandler("ready"),it(ht).off("ready")))}}}),it.ready.promise=function(t){if(!wt)if(wt=it.Deferred(),"complete"===ht.readyState)setTimeout(it.ready);else if(ht.addEventListener)ht.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{ht.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&ht.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!it.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}a(),it.ready()}}()}return wt.promise(t)};var Tt,Ct="undefined";for(Tt in it(nt))break;nt.ownLast="0"!==Tt,nt.inlineBlockNeedsLayout=!1,it(function(){var e,t,n,r;n=ht.getElementsByTagName("body")[0],n&&n.style&&(t=ht.createElement("div"),r=ht.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Ct&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=ht.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(t){nt.deleteExpando=!1}}e=null}(),it.acceptData=function(e){var t=it.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Nt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Et=/([A-Z])/g;it.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?it.cache[e[it.expando]]:e[it.expando],!!e&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),it.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=it.data(o),1===o.nodeType&&!it._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=it.camelCase(r.slice(5)),u(o,r,i[r])));it._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){it.data(this,e)}):arguments.length>1?this.each(function(){it.data(this,e,t)}):o?u(o,e,it.data(o,e)):void 0},removeData:function(e){return this.each(function(){it.removeData(this,e)})}}),it.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=it._data(e,t),n&&(!r||it.isArray(n)?r=it._data(e,t,it.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=it.queue(e,t),r=n.length,i=n.shift(),o=it._queueHooks(e,t),a=function(){it.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return it._data(e,n)||it._data(e,n,{empty:it.Callbacks("once memory").add(function(){it._removeData(e,t+"queue"),it._removeData(e,n)})})}}),it.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?it.queue(this[0],e):void 0===t?this:this.each(function(){var n=it.queue(this,e,t);it._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&it.dequeue(this,e)})},dequeue:function(e){return this.each(function(){it.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=it.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=it._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var kt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,St=["Top","Right","Bottom","Left"],At=function(e,t){return e=t||e,"none"===it.css(e,"display")||!it.contains(e.ownerDocument,e)},Dt=it.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===it.type(n)){i=!0;for(s in n)it.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,it.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(it(e),n)})),t))for(;u>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},jt=/^(?:checkbox|radio)$/i;!function(){var e=ht.createElement("input"),t=ht.createElement("div"),n=ht.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===t.firstChild.nodeType,nt.tbody=!t.getElementsByTagName("tbody").length,nt.htmlSerialize=!!t.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==ht.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),nt.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){nt.noCloneEvent=!1}),t.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(r){nt.deleteExpando=!1}}}(),function(){var t,n,r=ht.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(nt[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),nt[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var Lt=/^(?:input|select|textarea)$/i,Ht=/^key/,qt=/^(?:mouse|pointer|contextmenu)|click/,_t=/^(?:focusinfocus|focusoutblur)$/,Mt=/^([^.]*)(?:\.(.+)|)$/;it.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=it._data(e);if(g){for(n.handler&&(u=n,n=u.handler,i=u.selector),n.guid||(n.guid=it.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof it===Ct||e&&it.event.triggered===e.type?void 0:it.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(bt)||[""],s=t.length;s--;)o=Mt.exec(t[s])||[],p=m=o[1],h=(o[2]||"").split(".").sort(),p&&(l=it.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=it.event.special[p]||{},d=it.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&it.expr.match.needsContext.test(i),namespace:h.join(".")},u),(f=a[p])||(f=a[p]=[],f.delegateCount=0,l.setup&&l.setup.call(e,r,h,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),it.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=it.hasData(e)&&it._data(e);if(g&&(c=g.events)){for(t=(t||"").match(bt)||[""],l=t.length;l--;)if(s=Mt.exec(t[l])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(d=it.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)a=f[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));u&&!f.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||it.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)it.event.remove(e,p+t[l],n,r,!0);it.isEmptyObject(c)&&(delete g.handle,it._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,c,d,f=[r||ht],p=tt.call(t,"type")?t.type:t,h=tt.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||ht,3!==r.nodeType&&8!==r.nodeType&&!_t.test(p+it.event.triggered)&&(p.indexOf(".")>=0&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[it.expando]?t:new it.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:it.makeArray(n,[t]),l=it.event.special[p]||{},i||!l.trigger||l.trigger.apply(r,n)!==!1)){if(!i&&!l.noBubble&&!it.isWindow(r)){for(u=l.delegateType||p,_t.test(u+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),c=s;c===(r.ownerDocument||ht)&&f.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=f[d++])&&!t.isPropagationStopped();)t.type=d>1?u:l.bindType||p,o=(it._data(s,"events")||{})[t.type]&&it._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&it.acceptData(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(f.pop(),n)===!1)&&it.acceptData(r)&&a&&r[p]&&!it.isWindow(r)){c=r[a],c&&(r[a]=null),it.event.triggered=p;try{r[p]()}catch(m){}it.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=it.event.fix(e);var t,n,r,i,o,a=[],s=Y.call(arguments),u=(it._data(this,"events")||{})[e.type]||[],l=it.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=it.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((it.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(i=[],o=0;s>o;o++)r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?it(n,this).index(u)>=0:it.find(n,this,null,[u]).length),i[n]&&i.push(r);i.length&&a.push({elem:u,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[it.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=qt.test(i)?this.mouseHooks:Ht.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new it.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||ht),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||ht,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return it.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return it.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=it.extend(new it.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?it.event.trigger(i,null,t):it.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},it.removeEvent=ht.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Ct&&(e[r]=null),e.detachEvent(r,n))},it.Event=function(e,t){return this instanceof it.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:p):this.type=e,t&&it.extend(this,t),this.timeStamp=e&&e.timeStamp||it.now(),void(this[it.expando]=!0)):new it.Event(e,t)},it.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},it.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){it.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!it.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),nt.submitBubbles||(it.event.special.submit={setup:function(){return it.nodeName(this,"form")?!1:void it.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=it.nodeName(t,"input")||it.nodeName(t,"button")?t.form:void 0;n&&!it._data(n,"submitBubbles")&&(it.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),it._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&it.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return it.nodeName(this,"form")?!1:void it.event.remove(this,"._submit")}}),nt.changeBubbles||(it.event.special.change={setup:function(){return Lt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(it.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),it.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),it.event.simulate("change",this,e,!0)})),!1):void it.event.add(this,"beforeactivate._change",function(e){var t=e.target;Lt.test(t.nodeName)&&!it._data(t,"changeBubbles")&&(it.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||it.event.simulate("change",this.parentNode,e,!0)}),it._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return it.event.remove(this,"._change"),!Lt.test(this.nodeName)}}),nt.focusinBubbles||it.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){it.event.simulate(t,e.target,it.event.fix(e),!0)};it.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=it._data(r,t);i||r.addEventListener(e,n,!0),it._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=it._data(r,t)-1;i?it._data(r,t,i):(r.removeEventListener(e,n,!0),it._removeData(r,t))}}}),it.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=p;else if(!r)return this;return 1===i&&(a=r,r=function(e){return it().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=it.guid++)),this.each(function(){it.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,it(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){it.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){it.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?it.event.trigger(e,t,n,!0):void 0}});var Ft="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ot=/ jQuery\d+="(?:null|\d+)"/g,Bt=new RegExp("<(?:"+Ft+")[\\s/>]","i"),Pt=/^\s+/,Rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Wt=/<([\w:]+)/,$t=/<tbody/i,zt=/<|&#?\w+;/,It=/<(?:script|style|link)/i,Xt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^$|\/(?:java|ecma)script/i,Vt=/^true\/(.*)/,Jt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Yt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Gt=m(ht),Qt=Gt.appendChild(ht.createElement("div"));Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td,it.extend({clone:function(e,t,n){var r,i,o,a,s,u=it.contains(e.ownerDocument,e);if(nt.html5Clone||it.isXMLDoc(e)||!Bt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Qt.innerHTML=e.outerHTML,Qt.removeChild(o=Qt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||it.isXMLDoc(e)))for(r=g(o),s=g(e),a=0;null!=(i=s[a]);++a)r[a]&&C(i,r[a]);if(t)if(n)for(s=s||g(e),r=r||g(o),a=0;null!=(i=s[a]);a++)T(i,r[a]);else T(e,o);return r=g(o,"script"),r.length>0&&w(r,!u&&g(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c,d=e.length,f=m(t),p=[],h=0;d>h;h++)if(o=e[h],o||0===o)if("object"===it.type(o))it.merge(p,o.nodeType?[o]:o);else if(zt.test(o)){for(s=s||f.appendChild(t.createElement("div")),u=(Wt.exec(o)||["",""])[1].toLowerCase(),c=Yt[u]||Yt._default,s.innerHTML=c[1]+o.replace(Rt,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!nt.leadingWhitespace&&Pt.test(o)&&p.push(t.createTextNode(Pt.exec(o)[0])),!nt.tbody)for(o="table"!==u||$t.test(o)?"<table>"!==c[1]||$t.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)it.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(it.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else p.push(t.createTextNode(o));for(s&&f.removeChild(s),nt.appendChecked||it.grep(g(p,"input"),v),h=0;o=p[h++];)if((!r||-1===it.inArray(o,r))&&(a=it.contains(o.ownerDocument,o),s=g(f.appendChild(o),"script"),a&&w(s),n))for(i=0;o=s[i++];)Ut.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,r,i,o,a=0,s=it.expando,u=it.cache,l=nt.deleteExpando,c=it.event.special;null!=(n=e[a]);a++)if((t||it.acceptData(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)c[r]?it.event.remove(n,r):it.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l?delete n[s]:typeof n.removeAttribute!==Ct?n.removeAttribute(s):n[s]=null,J.push(i))}}}),it.fn.extend({text:function(e){return Dt(this,function(e){return void 0===e?it.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ht).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?it.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||it.cleanData(g(n)),n.parentNode&&(t&&it.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&it.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&it.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return it.clone(this,e,t)})},html:function(e){return Dt(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ot,""):void 0;if(!("string"!=typeof e||It.test(e)||!nt.htmlSerialize&&Bt.test(e)||!nt.leadingWhitespace&&Pt.test(e)||Yt[(Wt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Rt,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(it.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,it.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=G.apply([],e);var n,r,i,o,a,s,u=0,l=this.length,c=this,d=l-1,f=e[0],p=it.isFunction(f);if(p||l>1&&"string"==typeof f&&!nt.checkClone&&Xt.test(f))return this.each(function(n){var r=c.eq(n);p&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(l&&(s=it.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=it.map(g(s,"script"),b),i=o.length;l>u;u++)r=s,u!==d&&(r=it.clone(r,!0,!0),i&&it.merge(o,g(r,"script"))),t.call(this[u],r,u);if(i)for(a=o[o.length-1].ownerDocument,it.map(o,x),u=0;i>u;u++)r=o[u],Ut.test(r.type||"")&&!it._data(r,"globalEval")&&it.contains(a,r)&&(r.src?it._evalUrl&&it._evalUrl(r.src):it.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Jt,"")));s=n=null}return this}}),it.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){it.fn[e]=function(e){for(var n,r=0,i=[],o=it(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),it(o[r])[t](n),Q.apply(i,n.get());return this.pushStack(i)}});var Kt,Zt={};!function(){var e;nt.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=ht.getElementsByTagName("body")[0],n&&n.style?(t=ht.createElement("div"),r=ht.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Ct&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(ht.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var en,tn,nn=/^margin/,rn=new RegExp("^("+kt+")(?!px)[a-z%]+$","i"),on=/^(top|right|bottom|left)$/;e.getComputedStyle?(en=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},tn=function(e,t,n){var r,i,o,a,s=e.style;return n=n||en(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||it.contains(e.ownerDocument,e)||(a=it.style(e,t)),rn.test(a)&&nn.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""
}):ht.documentElement.currentStyle&&(en=function(e){return e.currentStyle},tn=function(e,t,n){var r,i,o,a,s=e.style;return n=n||en(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),rn.test(a)&&!on.test(t)&&(r=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),!function(){function t(){var t,n,r,i;n=ht.getElementsByTagName("body")[0],n&&n.style&&(t=ht.createElement("div"),r=ht.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,u=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(ht.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",u=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,o,a,s,u;n=ht.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],(r=i&&i.style)&&(r.cssText="float:left;opacity:.5",nt.opacity="0.5"===r.opacity,nt.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===n.style.backgroundClip,nt.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,it.extend(nt,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==u&&t(),u}}))}(),it.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var an=/alpha\([^)]*\)/i,sn=/opacity\s*=\s*([^)]*)/,un=/^(none|table(?!-c[ea]).+)/,ln=new RegExp("^("+kt+")(.*)$","i"),cn=new RegExp("^([+-])=("+kt+")","i"),dn={position:"absolute",visibility:"hidden",display:"block"},fn={letterSpacing:"0",fontWeight:"400"},pn=["Webkit","O","Moz","ms"];it.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":nt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=it.camelCase(t),u=e.style;if(t=it.cssProps[s]||(it.cssProps[s]=S(u,s)),a=it.cssHooks[t]||it.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];if(o=typeof n,"string"===o&&(i=cn.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(it.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||it.cssNumber[s]||(n+="px"),nt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{u[t]=n}catch(l){}}},css:function(e,t,n,r){var i,o,a,s=it.camelCase(t);return t=it.cssProps[s]||(it.cssProps[s]=S(e.style,s)),a=it.cssHooks[t]||it.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=tn(e,t,r)),"normal"===o&&t in fn&&(o=fn[t]),""===n||n?(i=parseFloat(o),n===!0||it.isNumeric(i)?i||0:o):o}}),it.each(["height","width"],function(e,t){it.cssHooks[t]={get:function(e,n,r){return n?un.test(it.css(e,"display"))&&0===e.offsetWidth?it.swap(e,dn,function(){return L(e,t,r)}):L(e,t,r):void 0},set:function(e,n,r){var i=r&&en(e);return D(e,n,r?j(e,t,r,nt.boxSizing&&"border-box"===it.css(e,"boxSizing",!1,i),i):0)}}}),nt.opacity||(it.cssHooks.opacity={get:function(e,t){return sn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=it.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===it.trim(o.replace(an,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=an.test(o)?o.replace(an,i):o+" "+i)}}),it.cssHooks.marginRight=k(nt.reliableMarginRight,function(e,t){return t?it.swap(e,{display:"inline-block"},tn,[e,"marginRight"]):void 0}),it.each({margin:"",padding:"",border:"Width"},function(e,t){it.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+St[r]+t]=o[r]||o[r-2]||o[0];return i}},nn.test(e)||(it.cssHooks[e+t].set=D)}),it.fn.extend({css:function(e,t){return Dt(this,function(e,t,n){var r,i,o={},a=0;if(it.isArray(t)){for(r=en(e),i=t.length;i>a;a++)o[t[a]]=it.css(e,t[a],!1,r);return o}return void 0!==n?it.style(e,t,n):it.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){At(this)?it(this).show():it(this).hide()})}}),it.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(it.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.pos=t=this.options.duration?it.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=it.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){it.fx.step[e.prop]?it.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[it.cssProps[e.prop]]||it.cssHooks[e.prop])?it.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},it.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},it.fx=H.prototype.init,it.fx.step={};var hn,mn,gn=/^(?:toggle|show|hide)$/,vn=new RegExp("^(?:([+-])=|)("+kt+")([a-z%]*)$","i"),yn=/queueHooks$/,bn=[F],xn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=vn.exec(t),o=i&&i[3]||(it.cssNumber[e]?"":"px"),a=(it.cssNumber[e]||"px"!==o&&+r)&&vn.exec(it.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,it.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};it.Animation=it.extend(B,{tweener:function(e,t){it.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],xn[n]=xn[n]||[],xn[n].unshift(t)},prefilter:function(e,t){t?bn.unshift(e):bn.push(e)}}),it.speed=function(e,t,n){var r=e&&"object"==typeof e?it.extend({},e):{complete:n||!n&&t||it.isFunction(e)&&e,duration:e,easing:n&&t||t&&!it.isFunction(t)&&t};return r.duration=it.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in it.fx.speeds?it.fx.speeds[r.duration]:it.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){it.isFunction(r.old)&&r.old.call(this),r.queue&&it.dequeue(this,r.queue)},r},it.fn.extend({fadeTo:function(e,t,n,r){return this.filter(At).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=it.isEmptyObject(e),o=it.speed(t,n,r),a=function(){var t=B(this,it.extend({},e),o);(i||it._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=it.timers,a=it._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&yn.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&it.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=it._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=it.timers,a=r?r.length:0;for(n.finish=!0,it.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),it.each(["toggle","show","hide"],function(e,t){var n=it.fn[t];it.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(_(t,!0),e,r,i)}}),it.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){it.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),it.timers=[],it.fx.tick=function(){var e,t=it.timers,n=0;for(hn=it.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||it.fx.stop(),hn=void 0},it.fx.timer=function(e){it.timers.push(e),e()?it.fx.start():it.timers.pop()},it.fx.interval=13,it.fx.start=function(){mn||(mn=setInterval(it.fx.tick,it.fx.interval))},it.fx.stop=function(){clearInterval(mn),mn=null},it.fx.speeds={slow:600,fast:200,_default:400},it.fn.delay=function(e,t){return e=it.fx?it.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=ht.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=ht.createElement("select"),i=n.appendChild(ht.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",nt.getSetAttribute="t"!==t.className,nt.style=/top/.test(r.getAttribute("style")),nt.hrefNormalized="/a"===r.getAttribute("href"),nt.checkOn=!!e.value,nt.optSelected=i.selected,nt.enctype=!!ht.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!i.disabled,e=ht.createElement("input"),e.setAttribute("value",""),nt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),nt.radioValue="t"===e.value}();var wn=/\r/g;it.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=it.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,it(this).val()):e,null==i?i="":"number"==typeof i?i+="":it.isArray(i)&&(i=it.map(i,function(e){return null==e?"":e+""})),t=it.valHooks[this.type]||it.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=it.valHooks[i.type]||it.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(wn,""):null==n?"":n)):void 0}}),it.extend({valHooks:{option:{get:function(e){var t=it.find.attr(e,"value");return null!=t?t:it.trim(it.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(nt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&it.nodeName(n.parentNode,"optgroup"))){if(t=it(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=it.makeArray(t),a=i.length;a--;)if(r=i[a],it.inArray(it.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),it.each(["radio","checkbox"],function(){it.valHooks[this]={set:function(e,t){return it.isArray(t)?e.checked=it.inArray(it(e).val(),t)>=0:void 0}},nt.checkOn||(it.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Tn,Cn,Nn=it.expr.attrHandle,En=/^(?:checked|selected)$/i,kn=nt.getSetAttribute,Sn=nt.input;it.fn.extend({attr:function(e,t){return Dt(this,it.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){it.removeAttr(this,e)})}}),it.extend({attr:function(e,t,n){var r,i,o=e.nodeType;return e&&3!==o&&8!==o&&2!==o?typeof e.getAttribute===Ct?it.prop(e,t,n):(1===o&&it.isXMLDoc(e)||(t=t.toLowerCase(),r=it.attrHooks[t]||(it.expr.match.bool.test(t)?Cn:Tn)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=it.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void it.removeAttr(e,t)):void 0},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(bt);if(o&&1===e.nodeType)for(;n=o[i++];)r=it.propFix[n]||n,it.expr.match.bool.test(n)?Sn&&kn||!En.test(n)?e[r]=!1:e[it.camelCase("default-"+n)]=e[r]=!1:it.attr(e,n,""),e.removeAttribute(kn?n:r)},attrHooks:{type:{set:function(e,t){if(!nt.radioValue&&"radio"===t&&it.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Cn={set:function(e,t,n){return t===!1?it.removeAttr(e,n):Sn&&kn||!En.test(n)?e.setAttribute(!kn&&it.propFix[n]||n,n):e[it.camelCase("default-"+n)]=e[n]=!0,n}},it.each(it.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Nn[t]||it.find.attr;Nn[t]=Sn&&kn||!En.test(t)?function(e,t,r){var i,o;return r||(o=Nn[t],Nn[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Nn[t]=o),i}:function(e,t,n){return n?void 0:e[it.camelCase("default-"+t)]?t.toLowerCase():null}}),Sn&&kn||(it.attrHooks.value={set:function(e,t,n){return it.nodeName(e,"input")?void(e.defaultValue=t):Tn&&Tn.set(e,t,n)}}),kn||(Tn={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Nn.id=Nn.name=Nn.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},it.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:Tn.set},it.attrHooks.contenteditable={set:function(e,t,n){Tn.set(e,""===t?!1:t,n)}},it.each(["width","height"],function(e,t){it.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),nt.style||(it.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var An=/^(?:input|select|textarea|button|object)$/i,Dn=/^(?:a|area)$/i;it.fn.extend({prop:function(e,t){return Dt(this,it.prop,e,t,arguments.length>1)},removeProp:function(e){return e=it.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),it.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?(o=1!==a||!it.isXMLDoc(e),o&&(t=it.propFix[t]||t,i=it.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]):void 0},propHooks:{tabIndex:{get:function(e){var t=it.find.attr(e,"tabindex");return t?parseInt(t,10):An.test(e.nodeName)||Dn.test(e.nodeName)&&e.href?0:-1}}}}),nt.hrefNormalized||it.each(["href","src"],function(e,t){it.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),nt.optSelected||(it.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),it.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){it.propFix[this.toLowerCase()]=this}),nt.enctype||(it.propFix.enctype="encoding");var jn=/[\t\r\n\f]/g;it.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l="string"==typeof e&&e;if(it.isFunction(e))return this.each(function(t){it(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(bt)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(jn," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=it.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l=0===arguments.length||"string"==typeof e&&e;if(it.isFunction(e))return this.each(function(t){it(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(bt)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(jn," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?it.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(it.isFunction(e)?function(n){it(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=it(this),o=e.match(bt)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Ct||"boolean"===n)&&(this.className&&it._data(this,"__className__",this.className),this.className=this.className||e===!1?"":it._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(jn," ").indexOf(t)>=0)return!0;return!1}}),it.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){it.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),it.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Ln=it.now(),Hn=/\?/,qn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;it.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=it.trim(t+"");return i&&!it.trim(i.replace(qn,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():it.error("Invalid JSON: "+t)},it.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||it.error("Invalid XML: "+t),n};var _n,Mn,Fn=/#.*$/,On=/([?&])_=[^&]*/,Bn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Pn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Rn=/^(?:GET|HEAD)$/,Wn=/^\/\//,$n=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,zn={},In={},Xn="*/".concat("*");try{Mn=location.href}catch(Un){Mn=ht.createElement("a"),Mn.href="",Mn=Mn.href}_n=$n.exec(Mn.toLowerCase())||[],it.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mn,type:"GET",isLocal:Pn.test(_n[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":it.parseJSON,"text xml":it.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,it.ajaxSettings),t):W(it.ajaxSettings,e)},ajaxPrefilter:P(zn),ajaxTransport:P(In),ajax:function(e,t){function n(e,t,n,r){var i,c,v,y,x,T=t;2!==b&&(b=2,s&&clearTimeout(s),l=void 0,a=r||"",w.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(y=$(d,w,n)),y=z(d,y,w,i),i?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(it.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(it.etag[o]=x)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,i=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",i?h.resolveWith(f,[c,T,w]):h.rejectWith(f,[w,T,v]),w.statusCode(g),g=void 0,u&&p.trigger(i?"ajaxSuccess":"ajaxError",[w,d,i?c:v]),m.fireWith(f,[w,T]),u&&(p.trigger("ajaxComplete",[w,d]),--it.active||it.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,u,l,c,d=it.ajaxSetup({},t),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?it(f):it.event,h=it.Deferred(),m=it.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Bn.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return l&&l.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||Mn)+"").replace(Fn,"").replace(Wn,_n[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=it.trim(d.dataType||"*").toLowerCase().match(bt)||[""],null==d.crossDomain&&(r=$n.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===_n[1]&&r[2]===_n[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(_n[3]||("http:"===_n[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=it.param(d.data,d.traditional)),R(zn,d,t,w),2===b)return w;u=it.event&&d.global,u&&0===it.active++&&it.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Rn.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Hn.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=On.test(o)?o.replace(On,"$1_="+Ln++):o+(Hn.test(o)?"&":"?")+"_="+Ln++)),d.ifModified&&(it.lastModified[o]&&w.setRequestHeader("If-Modified-Since",it.lastModified[o]),it.etag[o]&&w.setRequestHeader("If-None-Match",it.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Xn+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)w.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(d.beforeSend.call(f,w,d)===!1||2===b))return w.abort();x="abort";for(i in{success:1,error:1,complete:1})w[i](d[i]);if(l=R(In,d,t,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,l.send(v,n)}catch(T){if(!(2>b))throw T;n(-1,T)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return it.get(e,t,n,"json")},getScript:function(e,t){return it.get(e,void 0,t,"script")}}),it.each(["get","post"],function(e,t){it[t]=function(e,n,r,i){return it.isFunction(n)&&(i=i||r,r=n,n=void 0),it.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),it._evalUrl=function(e){return it.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},it.fn.extend({wrapAll:function(e){if(it.isFunction(e))return this.each(function(t){it(this).wrapAll(e.call(this,t))});if(this[0]){var t=it(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(it.isFunction(e)?function(t){it(this).wrapInner(e.call(this,t))}:function(){var t=it(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=it.isFunction(e);return this.each(function(n){it(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){it.nodeName(this,"body")||it(this).replaceWith(this.childNodes)}).end()}}),it.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||it.css(e,"display"))},it.expr.filters.visible=function(e){return!it.expr.filters.hidden(e)};var Vn=/%20/g,Jn=/\[\]$/,Yn=/\r?\n/g,Gn=/^(?:submit|button|image|reset|file)$/i,Qn=/^(?:input|select|textarea|keygen)/i;it.param=function(e,t){var n,r=[],i=function(e,t){t=it.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=it.ajaxSettings&&it.ajaxSettings.traditional),it.isArray(e)||e.jquery&&!it.isPlainObject(e))it.each(e,function(){i(this.name,this.value)});else for(n in e)I(n,e[n],t,i);return r.join("&").replace(Vn,"+")},it.fn.extend({serialize:function(){return it.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=it.prop(this,"elements");return e?it.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!it(this).is(":disabled")&&Qn.test(this.nodeName)&&!Gn.test(e)&&(this.checked||!jt.test(e))}).map(function(e,t){var n=it(this).val();return null==n?null:it.isArray(n)?it.map(n,function(e){return{name:t.name,value:e.replace(Yn,"\r\n")}}):{name:t.name,value:n.replace(Yn,"\r\n")}}).get()}}),it.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&X()||U()}:X;var Kn=0,Zn={},er=it.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Zn)Zn[e](void 0,!0)}),nt.cors=!!er&&"withCredentials"in er,er=nt.ajax=!!er,er&&it.ajaxTransport(function(e){if(!e.crossDomain||nt.cors){var t;return{send:function(n,r){var i,o=e.xhr(),a=++Kn;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var s,u,l;if(t&&(i||4===o.readyState))if(delete Zn[a],t=void 0,o.onreadystatechange=it.noop,i)4!==o.readyState&&o.abort();else{l={},s=o.status,"string"==typeof o.responseText&&(l.text=o.responseText);try{u=o.statusText}catch(c){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&r(s,u,l,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Zn[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),it.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return it.globalEval(e),e}}}),it.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),it.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=ht.head||it("head")[0]||ht.documentElement;return{send:function(r,i){t=ht.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var tr=[],nr=/(=)\?(?=&|$)|\?\?/;it.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tr.pop()||it.expando+"_"+Ln++;return this[e]=!0,e}}),it.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(nr.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&nr.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=it.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(nr,"$1"+i):t.jsonp!==!1&&(t.url+=(Hn.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||it.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,tr.push(i)),a&&it.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),it.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||ht;var r=dt.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=it.buildFragment([e],t,i),i&&i.length&&it(i).remove(),it.merge([],r.childNodes))};var rr=it.fn.load;it.fn.load=function(e,t,n){if("string"!=typeof e&&rr)return rr.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=it.trim(e.slice(s,e.length)),e=e.slice(0,s)),it.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&it.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?it("<div>").append(it.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},it.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){it.fn[t]=function(e){return this.on(t,e)}}),it.expr.filters.animated=function(e){return it.grep(it.timers,function(t){return e===t.elem}).length};var ir=e.document.documentElement;it.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=it.css(e,"position"),d=it(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=it.css(e,"top"),u=it.css(e,"left"),l=("absolute"===c||"fixed"===c)&&it.inArray("auto",[o,u])>-1,l?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),it.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):d.css(f)}},it.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){it.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;return o?(t=o.documentElement,it.contains(t,i)?(typeof i.getBoundingClientRect!==Ct&&(r=i.getBoundingClientRect()),n=V(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===it.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),it.nodeName(e[0],"html")||(n=e.offset()),n.top+=it.css(e[0],"borderTopWidth",!0),n.left+=it.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-it.css(r,"marginTop",!0),left:t.left-n.left-it.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ir;e&&!it.nodeName(e,"html")&&"static"===it.css(e,"position");)e=e.offsetParent;return e||ir})}}),it.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);it.fn[e]=function(r){return Dt(this,function(e,r,i){var o=V(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?it(o).scrollLeft():i,n?i:it(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),it.each(["top","left"],function(e,t){it.cssHooks[t]=k(nt.pixelPosition,function(e,n){return n?(n=tn(e,t),rn.test(n)?it(e).position()[t]+"px":n):void 0})}),it.each({Height:"height",Width:"width"},function(e,t){it.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){it.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return Dt(this,function(t,n,r){var i;return it.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?it.css(t,n,a):it.style(t,n,r,a)
},t,o?r:void 0,o,null)}})}),it.fn.size=function(){return this.length},it.fn.andSelf=it.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return it});var or=e.jQuery,ar=e.$;return it.noConflict=function(t){return e.$===it&&(e.$=ar),t&&e.jQuery===it&&(e.jQuery=or),it},typeof t===Ct&&(e.jQuery=e.$=it),it});
;/*!jquery-ui/jquery-ui.js*/
!function(t){"function"==typeof define&&define.amd?jQuery?t(jQuery):define(["jquery"],t):t(jQuery)}(function(t){function e(e,s){var n,o,a,r=e.nodeName.toLowerCase();return"area"===r?(n=e.parentNode,o=n.name,e.href&&o&&"map"===n.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']")[0],!!a&&i(a)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!e.disabled:"a"===r?e.href||s:s)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}function s(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=o(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function o(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",a)}function a(){t.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function r(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}function h(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var s=t.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&e(i,!n)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,s){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),s&&s.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,s,n=t(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;n<o.length;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}};var l=0,u=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r,h={},l=e.split(".")[0];return e=e.split(".")[1],n=l+"-"+e,s||(s=i,i=t.Widget),t.expr[":"][n.toLowerCase()]=function(e){return!!t.data(e,n)},t[l]=t[l]||{},o=t[l][e],a=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new a(t,e)},t.extend(a,o,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),r=new i,r.options=t.widget.extend({},r.options),t.each(s,function(e,s){return t.isFunction(s)?void(h[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},n=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(h[e]=s)}),a.prototype=t.widget.extend(r,{widgetEventPrefix:o?r.widgetEventPrefix||e:e},h,{constructor:a,namespace:l,widgetName:e,widgetFullName:n}),o?(t.each(o._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,a,i._proto)}),delete o._childConstructors):i._childConstructors.push(a),t.widget.bridge(e,a),a},t.widget.extend=function(e){for(var i,s,n=u.call(arguments,1),o=0,a=n.length;a>o;o++)for(i in n[o])s=n[o][i],n[o].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(n){var o="string"==typeof n,a=u.call(arguments,1),r=this;return o?this.each(function(){var i,o=t.data(this,s);return"instance"===n?(r=o,!1):o?t.isFunction(o[n])&&"_"!==n.charAt(0)?(i=o[n].apply(o,a),i!==o&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+n+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+n+"'")}):(a.length&&(n=t.widget.extend.apply(null,[n].concat(a))),this.each(function(){var e=t.data(this,s);e?(e.option(n||{}),e._init&&e._init()):t.data(this,s,new i(n,this))})),r}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;o<s.length-1;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+o.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}});var c=(t.widget,!1);t(document).mouseup(function(){c=!1});t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!c){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),c=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),c=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){function e(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var n,o,a=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return t("body").append(s),e=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s||n?i.width():i.outerWidth(),height:s||n?i.height():i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=t.extend({},n);var p,m,g,v,_,b,y=t(n.of),w=t.position.getWithinInfo(n.within),x=t.position.getScrollInfo(w),k=(n.collision||"flip").split(" "),C={};return b=s(y),y[0].preventDefault&&(n.at="left top"),m=b.width,g=b.height,v=b.offset,_=t.extend({},v),t.each(["my","at"],function(){var t,e,i=(n[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",t=c.exec(i[0]),e=c.exec(i[1]),C[this]=[t?t[0]:0,e?e[0]:0],n[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===n.at[0]?_.left+=m:"center"===n.at[0]&&(_.left+=m/2),"bottom"===n.at[1]?_.top+=g:"center"===n.at[1]&&(_.top+=g/2),p=e(C.at,m,g),_.left+=p[0],_.top+=p[1],this.each(function(){var s,l,u=t(this),c=u.outerWidth(),d=u.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),D=c+f+i(this,"marginRight")+x.width,I=d+b+i(this,"marginBottom")+x.height,T=t.extend({},_),P=e(C.my,u.outerWidth(),u.outerHeight());"right"===n.my[0]?T.left-=c:"center"===n.my[0]&&(T.left-=c/2),"bottom"===n.my[1]?T.top-=d:"center"===n.my[1]&&(T.top-=d/2),T.left+=P[0],T.top+=P[1],o||(T.left=h(T.left),T.top=h(T.top)),s={marginLeft:f,marginTop:b},t.each(["left","top"],function(e,i){t.ui.position[k[e]]&&t.ui.position[k[e]][i](T,{targetWidth:m,targetHeight:g,elemWidth:c,elemHeight:d,collisionPosition:s,collisionWidth:D,collisionHeight:I,offset:[p[0]+P[0],p[1]+P[1]],my:n.my,at:n.at,within:w,elem:u})}),n.using&&(l=function(t){var e=v.left-T.left,i=e+m-c,s=v.top-T.top,o=s+g-d,h={target:{element:y,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:T.left,top:T.top,width:c,height:d},horizontal:0>i?"left":e>0?"right":"center",vertical:0>o?"top":s>0?"bottom":"middle"};c>m&&r(e+i)<m&&(h.horizontal="center"),d>g&&r(s+o)<g&&(h.vertical="middle"),h.important=a(r(e),r(i))>a(r(s),r(o))?"horizontal":"vertical",n.using.call(this,t,h)}),u.offset(t.extend(T,{using:l}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,o=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-o-n;e.collisionWidth>o?h>0&&0>=l?(i=t.left+h+e.collisionWidth-o-n,t.left+=h-i):t.left=l>0&&0>=h?n:h>l?n+o-e.collisionWidth:n:h>0?t.left+=h:l>0?t.left-=l:t.left=a(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,o=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-o-n;e.collisionHeight>o?h>0&&0>=l?(i=t.top+h+e.collisionHeight-o-n,t.top+=h-i):t.top=l>0&&0>=h?n:h>l?n+o-e.collisionHeight:n:h>0?t.top+=h:l>0?t.top-=l:t.top=a(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,a=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,u=l-h,c=l+e.collisionWidth-a-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>u?(i=t.left+d+p+f+e.collisionWidth-a-o,(0>i||i<r(u))&&(t.left+=d+p+f)):c>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-h,(s>0||r(s)<c)&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,a=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,u=l-h,c=l+e.collisionHeight-a-h,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>u?(s=t.top+p+f+m+e.collisionHeight-a-o,(0>s||s<r(u))&&(t.top+=p+f+m)):c>0&&(i=t.top-e.collisionPosition.marginTop+p+f+m-h,(i>0||r(i)<c)&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,n,a,r=document.getElementsByTagName("body")[0],h=document.createElement("div");e=document.createElement(r?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&t.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in s)e.style[a]=s[a];e.appendChild(h),i=r||document.documentElement,i.insertBefore(e,i.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",n=t(h).offset().left,o=n>10&&11>n,e.innerHTML="",i.removeChild(e)}()}();t.ui.position;t.widget("ui.draggable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return this._blurActiveElement(e),this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=this.document[0];if(this.handleElement.is(e.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&t(i.activeElement).blur()}catch(s){}},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===n.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],void(s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,h=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(h=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}
},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,o,a,r,h,l,u,c,d,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,_=i.offset.top,b=_+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)h=s.snapElements[d].left-s.margins.left,l=h+s.snapElements[d].width,u=s.snapElements[d].top-s.margins.top,c=u+s.snapElements[d].height,h-m>v||g>l+m||u-m>b||_>c+m||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=Math.abs(u-b)<=m,o=Math.abs(c-_)<=m,a=Math.abs(h-v)<=m,r=Math.abs(l-g)<=m,n&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=Math.abs(u-_)<=m,o=Math.abs(c-b)<=m,a=Math.abs(h-g)<=m,r=Math.abs(l-v)<=m,n&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}});t.ui.draggable;t.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&t.ui.intersect(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,s,n){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,r=o+e.helperProportions.width,h=a+e.helperProportions.height,l=i.offset.left,u=i.offset.top,c=l+i.proportions().width,d=u+i.proportions().height;switch(s){case"fit":return o>=l&&c>=r&&a>=u&&d>=h;case"intersect":return l<o+e.helperProportions.width/2&&r-e.helperProportions.width/2<c&&u<a+e.helperProportions.height/2&&h-e.helperProportions.height/2<d;case"pointer":return t(n.pageY,u,i.proportions().height)&&t(n.pageX,l,i.proportions().width);case"touch":return(a>=u&&d>=a||h>=u&&d>=h||u>a&&h>d)&&(o>=l&&c>=o||r>=l&&c>=r||l>o&&r>c);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;s<o.length;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;n<r.length;n++)if(r[n]===o[s].element[0]){o[s].proportions().height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,o,a=t.ui.intersect(e,this,this.options.tolerance,i),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===n}),o.length&&(s=t(o[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}};t.ui.droppable;t.widget("ui.resizable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)},_create:function(){var e,i,s,n,o,a=this,r=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)s=t.trim(e[i]),o="ui-resizable-"+s,n=t("<div class='ui-resizable-handle "+o+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(t(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){r.disabled||a.resizing||(t(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,s,n,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,s+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),a.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s,n=this.originalMousePosition,o=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,h=this._change[o];return this._updatePrevProperties(),h?(i=h.apply(this,[e,a,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,o=s?0:u.sizeDiff.width,a={width:u.helper.width()-o,height:u.helper.height()-n},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:h,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),i<o.maxWidth&&(o.maxWidth=i),n<o.maxHeight&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&l&&(t.left=r-e.minWidth),s&&l&&(t.left=r-e.maxWidth),a&&u&&(t.top=h-e.minHeight),n&&u&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseInt(s[e],10)||0,i[e]+=parseInt(n[e],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-a},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,n,o,a,r,h=t(this).resizable("instance"),l=h.options,u=h.element,c=l.containment,d=c instanceof t?c.get(0):/parent/.test(c)?u.parent().get(0):c;d&&(h.containerElement=t(d),/document/.test(c)||c===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=h._num(e.css("padding"+s))}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,o=h.containerSize.width,a=h._hasScroll(d,"left")?d.scrollWidth:o,r=h._hasScroll(d)?d.scrollHeight:n,h.parentData={element:d,left:s.left,top:s.top,width:a,height:r}))},resize:function(e){var i,s,n,o,a=t(this).resizable("instance"),r=a.options,h=a.containerOffset,l=a.position,u=a._aspectRatio||e.shiftKey,c={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(c=h),l.left<(a._helper?h.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-h.left:a.position.left-c.left),u&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=r.helper?h.left:0),l.top<(a._helper?h.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-h.top:a.position.top),u&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?h.top:0),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-c.left:a.offset.left-h.left)),s=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-c.top:a.offset.top-h.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,u&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,u&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),h=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})},resize:function(e,i){var s=t(this).resizable("instance"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0};t(n.alsoResize).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),n={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),s=i.options,n=i.size,o=i.originalSize,a=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,u=h[1]||1,c=Math.round((n.width-o.width)/l)*l,d=Math.round((n.height-o.height)/u)*u,p=o.width+c,f=o.height+d,m=s.maxWidth&&s.maxWidth<p,g=s.maxHeight&&s.maxHeight<f,v=s.minWidth&&s.minWidth>p,_=s.minHeight&&s.minHeight>f;s.grid=h,v&&(p+=l),_&&(f+=u),m&&(p-=l),g&&(f-=u),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=a.left-c):((0>=f-u||0>=p-l)&&(e=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=a.top-d):(f=u-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-l>0?(i.size.width=p,i.position.left=a.left-c):(p=l-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}});t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;
this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,h=e.pageY;return o>r&&(i=r,r=o,o=i),a>h&&(i=h,h=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:h-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),l=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?l=!(i.left>r||i.right<o||i.top>h||i.bottom<a):"fit"===n.tolerance&&(l=i.left>o&&i.right<r&&i.top>a&&i.bottom<h),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s&&(!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n))?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,u=this.offset.click.left,c="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||e+u>o&&a>e+u,p=c&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&r<s+this.helperProportions.height/2&&n-this.helperProportions.height/2<h},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),s=e&&i,n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return s?this.floating?o&&"right"===o||"down"===n?2:1:n&&("down"===n?2:1):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(o=t(l[s],this.document[0]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,u=this.items,c=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i],this.document[0]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(c.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=c.length-1;i>=0;i--)for(a=c[i][1],r=c[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+"-item",a),u.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(n)):"tr"===s?e._createTrPlaceholder(e.currentItem,n):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,n,o,a,r,h,l,u,c,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,u=d.floating||this._isFloating(this.currentItem),a=u?"left":"top",r=u?"width":"height",c=u?"clientX":"clientY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[a],l=!1,e[c]-h>this.items[s][r]/2&&(l=!0),Math.abs(e[c]-h)<n&&(n=Math.abs(e[c]-h),o=this.items[s],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;s<n.length;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void("disabled"===t&&(this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e))))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:o=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[s-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),o.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))
},_refresh:function(){var e,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),s=e.next(),n=s.uniqueId().attr("id");e.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(e=n.height(),this.element.siblings(":visible").each(function(){var i=t(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===s&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n[0]===s[0],a=o&&i.collapsible,r=a?t():n.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:a?t():n,newPanel:r};e.preventDefault(),o&&!i.collapsible||this._trigger("beforeActivate",e,l)===!1||(i.active=a?!1:this.headers.index(n),this.active=o?t():n,this._toggle(l),s.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),o||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var s,n,o,a=this,r=0,h=t.css("box-sizing"),l=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},c=l&&u.down||u,d=function(){a._toggleComplete(i)};return"number"==typeof c&&(o=c),"string"==typeof c&&(n=c),n=n||c.easing||u.easing,o=o||c.duration||u.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:n,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:n,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-r),r=0)}})):e.animate(this.hideProps,o,n,d):t.animate(this.showProps,o,n,d)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){var i,s,n,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,s=this.previousFilter||"",n=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),n===s?o=!0:n=s+n,i=this._filterMenuItems(n),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(t):this.select(t))},refresh:function(){var e,i,s=this,n=this.options.icons.submenu,o=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),o.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.parent(),s=t("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"))}),e=o.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);s._isDivider(e)&&e.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},focus:function(t,e){var i,s;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?void(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s-n<0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,s,n;return this.active?void(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(t.trim(t(this).text()))})}});t.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;this.isMultiLine=o?!0:a?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,void(i=!0);e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault());if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(s){s.target===e.element[0]||s.target===i||t.contains(i,s.target)||e.close()})})},menufocus:function(e,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,void(s&&t.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion))))},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!s)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").text(i.label).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}});var d,p=(t.ui.autocomplete,"ui-button ui-widget ui-state-default ui-corner-all"),f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},g=function(e){var i=e.name,s=e.form,n=t([]);return i&&(i=i.replace(/'/g,"\\'"),n=s?t(s).find("[name='"+i+"'][type=radio]"):t("[name='"+i+"'][type=radio]",e.ownerDocument).filter(function(){return!this.form})),n};t.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,i=this.options,s="checkbox"===this.type||"radio"===this.type,n=s?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===d&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||t(this).removeClass(n)}).bind("click"+this.eventNamespace,function(t){i.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),s&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var s=e.element[0];g(s).not(s).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?!1:(t(this).addClass("ui-state-active"),d=this,void e.document.one("mouseup",function(){d=null}))}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:void t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){return i.disabled?!1:void((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),void(e&&this.buttonElement.removeClass("checkbox"===this.type||"radio"===this.type?"ui-state-focus":"ui-state-focus ui-state-active"))):void this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?g(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(f),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,o=[];s.primary||s.secondary?(this.options.text&&o.push("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(o.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):o.push("ui-button-text-only"),e.addClass(o.join(" "))}}),t.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),s=i.filter(":ui-button");i.not(":ui-button").button(),s.button("refresh"),this.buttons=i.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});t.ui.button;t.extend(t.ui,{datepicker:{version:"1.11.4"}});var v;t.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return r(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,o;s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),n),o.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?o(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&e.focus(this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;n<t.length;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,n,o){var a,h,l,u,c,d=this._dialogInst;return d||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),r(d.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,l/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this
},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),v===n&&(v=null))},_enableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,s){var n,o,a,h,l=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):l?"all"===i?t.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),void(l&&(this._curInst===l&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),a=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),r(l.settings,n),null!==a&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,a)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,o),this._updateAlternate(l),this._updateDatepicker(l))))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),n[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),i=t.datepicker._get(o,"onSelect"),i?(s=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[s,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,s,n=t.datepicker._getInst(e.target);return t.datepicker._get(n,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,n,o,a,h,l,u;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(i,"beforeShow"),o=n?n.apply(e,[e,i]):{},o!==!1&&(r(i.settings,o),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),a=!1,t(e).parents().each(function(){return a|="fixed"===t(this).css("position"),!a}),h={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),h=t.datepicker._checkOffset(i,h,a),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),i.inline||(l=t.datepicker._get(i,"showAnim"),u=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",s(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,v=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,s=this._getNumberOfMonths(e),n=s[1],o=17,r=e.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&a.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",o*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-a:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+o>l&&l>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),s=this._get(a,"duration"),n=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),s,n):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+("M"===s?this._get(o,"showCurrentAtPos"):0),s),this._updateDatepicker(o))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===s?"Month":"Year")]=o["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,i,s,n){var o,a=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=s,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),s=this._get(o,"onSelect"),s?s.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(o).each(function(){t(this).val(n)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var n,o,a,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),c=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,_=-1,b=!1,y=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},w=function(t){var e=y(t),s="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n="y"===t?s:1,o=new RegExp("^\\d{"+n+","+s+"}"),a=i.substring(h).match(o);if(!a)throw"Missing number at position "+h;return h+=a[0].length,parseInt(a[0],10)},x=function(e,s,n){var o=-1,a=t.map(y(e)?n:s,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var s=e[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(o=e[0],h+=s.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+h},k=function(){if(i.charAt(h)!==e.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;n<e.length;n++)if(b)"'"!==e.charAt(n)||y("'")?k():b=!1;else switch(e.charAt(n)){case"d":v=w("d");break;case"D":x("D",c,d);break;case"o":_=w("o");break;case"m":g=w("m");break;case"M":g=x("M",p,f);break;case"y":m=w("y");break;case"@":r=new Date(w("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((w("!")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":y("'")?k():b=!0;break;default:k()}if(h<i.length&&(a=i.substr(h),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),_>-1)for(g=1,v=_;;){if(o=this._getDaysInMonth(m,g-1),o>=v)break;g++,v-=o}if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=s+1<t.length&&t.charAt(s+1)===e;return i&&s++,i},l=function(t,e,i){var s=""+e;if(h(t))for(;s.length<i;)s="0"+s;return s},u=function(t,e,i,s){return h(t)?s[e]:i[e]},c="",d=!1;if(e)for(s=0;s<t.length;s++)if(d)"'"!==t.charAt(s)||h("'")?c+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":c+=l("d",e.getDate(),2);break;case"D":c+=u("D",e.getDay(),n,o);break;case"o":c+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=l("m",e.getMonth()+1,2);break;case"M":c+=u("M",e.getMonth(),a,r);break;case"y":c+=h("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":c+=e.getTime();break;case"!":c+=1e4*e.getTime()+this._ticksTo1970;break;case"'":h("'")?c+="'":d=!0;break;default:c+=t.charAt(s)}return c},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=e+1<t.length&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;e<t.length;e++)if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(r){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=n.getFullYear(),a=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a))}l=h.exec(i)}return new Date(o,a,r)},a=null==i||""===i?s:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return a=a&&"Invalid Date"===a.toString()?s:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,h,l,u,c,d,p,f,m,g,v,_,b,y,w,x,k,C,D,I,T,P,M,S,z,H,A,N,E,W,O,F,R,L=new Date,Y=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),B=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),$=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,te=t.drawYear;if(0>Z&&(Z+=12,te--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=Q&&Q>e?Q:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-X,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Z+X,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:Y,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,h=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?h:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(B?"":h)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,c=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),_=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",x=0;x<U[0];x++){for(k="",this.maxRows=4,C=0;C<U[1];C++){if(D=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),I=" ui-corner-all",T="",$){if(T+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:T+=" ui-datepicker-group-first",I=" ui-corner-"+(B?"right":"left");break;case U[1]-1:T+=" ui-datepicker-group-last",I=" ui-corner-"+(B?"left":"right");break;default:T+=" ui-datepicker-group-middle",I=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===x?B?o:s:"")+(/all|right/.test(I)&&0===x?B?s:o:"")+this._generateMonthYearHeader(t,Z,te,Q,J,x>0||C>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",P=c?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)M=(w+u)%7,P+="<th scope='col'"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[M]+"'>"+p[M]+"</span></th>";for(T+=P+"</tr></thead><tbody>",S=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),z=(this._getFirstDayOfMonth(te,Z)-u+7)%7,H=Math.ceil((z+S)/7),A=$&&this.maxRows>H?this.maxRows:H,this.maxRows=A,N=this._daylightSavingAdjust(new Date(te,Z,1-z)),E=0;A>E;E++){for(T+="<tr>",W=c?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</td>":"",w=0;7>w;w++)O=g?g.apply(t.input?t.input[0]:null,[N]):[!0,""],F=N.getMonth()!==Z,R=F&&!_||!O[0]||Q&&Q>N||J&&N>J,W+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(N.getTime()===D.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===N.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+O[1]+(N.getTime()===G.getTime()?" "+this._currentClass:"")+(N.getTime()===Y.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":R?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===Y.getTime()?" ui-state-highlight":"")+(N.getTime()===G.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);T+=W+"</tr>"}Z++,Z>11&&(Z=0,te++),T+="</tbody></table>"+($?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=T}y+=k}return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var h,l,u,c,d,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),_=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!g)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!h||u>=s.getMonth())&&(!l||u<=n.getMonth())&&(y+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+r[u]+"</option>");y+="</select>"}if(_||(b+=y+(!o&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(c=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(c[0]),m=Math.max(f,p(c[1]||"")),f=s?Math.max(f,s.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),_&&(b+=(!o&&g&&v?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.drawYear+("Y"===i?e:0),n=t.drawMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,h=this._get(t,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||e.getFullYear()<=r)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new n,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.11.4";var _=(t.datepicker,t.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i,s=this;if(this._isOpen&&this._trigger("beforeClose",e)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&t(i).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){s._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),s=!0),s&&!i&&this._trigger("focus",e),s
},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.focus()}),e.preventDefault()):(this._delay(function(){s.focus()}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(i,function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,s.click=function(){n.apply(e.element[0],arguments)},o={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,t("<button></button>",s).button(o).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,o){var a=o.offset.left-i.document.scrollLeft(),r=o.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(r>=0?"+":"")+r,of:i.window},t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,o=this.uiDialog.css("position"),a="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function(s,n){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(n,o){var a=i.uiDialog.offset(),r=a.left-i.document.scrollLeft(),h=a.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" top"+(h>=0?"+":"")+h,of:i.window},t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,s=!1,n={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(t,e){var i,s,n=this.uiDialog;"dialogClass"===t&&n.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=n.is(":data(ui-draggable)"),i&&!e&&n.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(s=n.is(":data(ui-resizable)"),s&&!e&&n.resizable("destroy"),s&&"string"==typeof e&&n.resizable("option","handles",e),s||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),t.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var e=this;this.label=t("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),t("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=t("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e.menuItems||e._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var s=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&s.index!==e.focusIndex&&(e._trigger("focus",t,{item:s}),e.isOpen||e._select(s,t)),e.focusIndex=s.index,e.button.attr("aria-activedescendant",e.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var t,e=this.element.find("option");e.length&&(this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(e,i){var s=this,n="";t.each(i,function(i,o){o.optgroup!==n&&(t("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:o.optgroup}).appendTo(e),n=o.optgroup),s._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var s=t("<li>");return i.disabled&&s.addClass("ui-state-disabled"),this._setText(s,i.label),s.appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),n+=":not(.ui-state-disabled)"),s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](n).eq(-1):i[t+"All"](n).eq(0),s.length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex);e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this._setText(this.buttonText,t.label),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){"icons"===t&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(e.button),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"disabled"===t&&(this.menuInstance.option("disabled",e),this.button.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===t&&this._resizeButton()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;t||(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(e){var i=[];e.each(function(e,s){var n=t(s),o=n.parent("optgroup");i.push({element:n,index:e,value:n.val(),label:n.text(),optgroup:o.attr("label")||"",disabled:o.prop("disabled")||n.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),t.widget("ui.slider",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",a=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)a.push(o);this.handles=n.add(t(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,o,a,r,h,l,u=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-u.values(e));(n>i||n===i&&(e===u._lastChangedValue||u.values(e)===c.min))&&(n=i,o=t(this),a=e)}),r=this._start(e,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),h=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-h.left-o.width()/2,top:e.pageY-h.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var s,n,o;this.options.values&&this.options.values.length?(s=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>s||1===e&&s>i)&&(i=s),i!==this.values(e)&&(n=this.values(),n[e]=i,o=this._trigger("slide",t,{handle:this.handles[e],value:i,values:n}),s=this.values(e?0:1),o!==!1&&this.values(e,i))):i!==this.value()&&(o=this._trigger("slide",t,{handle:this.handles[e],value:i}),o!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;o<s.length;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!i),this._super(e,i),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;s<i.length;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,s=Math.floor(+(t-e).toFixed(this._precision())/i)*i;t=s+e,this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var e,i,s,n,o,a=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=(h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())*100,u["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](u,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?(s-n)/(o-n)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(e){var i,s,n,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),i=this._start(e,a),i===!1))return}switch(o=this.options.step,s=n=this.options.values&&this.options.values.length?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-o)}this._slide(e,a,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}}),t.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);void 0!==n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()
},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&t<s.min?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(i))}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable"))},_setOptions:h(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:h(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:h(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:h(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:h(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void h(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,s;e=e.cloneNode(!1),i=e.href.replace(t,""),s=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return e.hash.length>1&&i===s}}(),_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each(function(i,n){return t(n).attr("aria-controls")===s?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(this.document[0].activeElement).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(s);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(s===this.options.active?!1:s);default:return}e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?void this._activate(e):"disabled"===t?void this._setupDisabled(e):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,s){var n,o,a,r=t(s).uniqueId().attr("id"),h=t(s).closest("li"),l=h.attr("aria-controls");e._isLocal(s)?(n=s.hash,a=n.substring(1),o=e.element.find(e._sanitizeSelector(n))):(a=h.attr("aria-controls")||t({}).uniqueId()[0].id,n="#"+a,o=e.element.find(n),o.length||(o=e._createPanel(a),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":a,"aria-labelledby":r}),o.attr("aria-labelledby",r)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,s=0;i=this.tabs[s];s++)e===!0||-1!==t.inArray(s,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n.closest("li"),a=o[0]===s[0],r=a&&i.collapsible,h=r?t():this._getPanelForTab(o),l=s.length?this._getPanelForTab(s):t(),u={oldTab:s,oldPanel:l,newTab:r?t():o,newPanel:h};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,u)===!1||(i.active=r?!1:this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(o),e),this._toggle(e,u))},_toggle:function(e,i){function s(){o.running=!1,o._trigger("activate",e,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,s):(a.show(),s())}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setupDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setupDisabled(i)}},load:function(e,i){e=this._getIndex(e);var s=this,n=this.tabs.eq(e),o=n.find(".ui-tabs-anchor"),a=this._getPanelForTab(n),r={tab:n,panel:a},h=function(t,e){"abort"===e&&s.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,n){setTimeout(function(){a.html(t),s._trigger("load",i,r),h(n,e)},1)}).fail(function(t,e){setTimeout(function(){h(t,e)},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href"),beforeSend:function(e,o){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),"ui-effects-"),b=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var s=c[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:s.max<t?s.max:t)}function s(e){var i=l(),s=i._rgba=[];return e=e.toLowerCase(),f(h,function(t,n){var o,a=n.re.exec(e),r=a&&n.parse(a),h=n.space||"rgba";return r?(o=i[h](r),i[u[h].cache]=o[u[h].cache],s=i._rgba=o._rgba,!1):void 0}),s.length?("0,0,0,0"===s.join()&&t.extend(s,o.transparent),i):o[e]}function n(t,e,i){return i=(i+1)%1,1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(n,a,r,h){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(a),a=e);var c=this,d=t.type(n),p=this._rgba=[];return a!==e&&(n=[n,a,r,h],d="array"),"string"===d?this.parse(s(n)||o._default):"array"===d?(f(u.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof l?f(u,function(t,e){n[e.cache]&&(c[e.cache]=n[e.cache].slice())}):f(u,function(e,s){var o=s.cache;f(s.props,function(t,e){if(!c[o]&&s.to){if("alpha"===t||null==n[t])return;c[o]=s.to(c._rgba)}c[o][e.idx]=i(n[t],e,!0)}),c[o]&&t.inArray(null,c[o].slice(0,3))<0&&(c[o][3]=1,s.from&&(c._rgba=s.from(c[o])))}),this):void 0},is:function(t){var e=l(t),i=!0,s=this;return f(u,function(t,n){var o,a=e[n.cache];return a&&(o=s[n.cache]||n.to&&n.to(s._rgba)||[],f(n.props,function(t,e){return null!=a[e.idx]?i=a[e.idx]===o[e.idx]:void 0})),i}),i},_space:function(){var t=[],e=this;return f(u,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=l(t),n=s._space(),o=u[n],a=0===this.alpha()?l("transparent"):this,r=a[o.cache]||o.to(a._rgba),h=r.slice();return s=s[o.cache],f(o.props,function(t,n){var o=n.idx,a=r[o],l=s[o],u=c[n.type]||{};null!==l&&(null===a?h[o]=l:(u.mod&&(l-a>u.mod/2?a+=u.mod:a-l>u.mod/2&&(a-=u.mod)),h[o]=i((l-a)*e+a,n)))}),this[n](h)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(e)._rgba;return l(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),h=Math.min(s,n,o),l=r-h,u=r+h,c=.5*u;return e=h===r?0:s===r?60*(n-o)/l+360:n===r?60*(o-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=c?l/u:l/(2-u),[Math.round(e)%360,i,c,null==a?1:a]},u.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],o=t[3],a=.5>=s?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*n(r,a,e+1/3)),Math.round(255*n(r,a,e)),Math.round(255*n(r,a,e-1/3)),o]},f(u,function(s,n){var o=n.props,a=n.cache,h=n.to,u=n.from;l.fn[s]=function(s){if(h&&!this[a]&&(this[a]=h(this._rgba)),s===e)return this[a].slice();var n,r=t.type(s),c="array"===r||"object"===r?s:arguments,d=this[a].slice();return f(o,function(t,e){var s=c["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),u?(n=l(u(d)),n[a]=d,n):l(d)},f(o,function(e,i){l.fn[e]||(l.fn[e]=function(n){var o,a=t.type(n),h="alpha"===e?this._hsla?"hsla":"rgba":s,l=this[h](),u=l[i.idx];return"undefined"===a?u:("function"===a&&(n=n.call(this,u),a=t.type(n)),null==n&&i.empty?this:("string"===a&&(o=r.exec(n),o&&(n=u+parseFloat(o[2])*("+"===o[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var o,a,r="";if("transparent"!==n&&("string"!==t.type(n)||(o=s(n)))){if(n=l(o||n),!d.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(h){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(b),function(){function e(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(o[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(o[i]=n[i]);return o}function i(e,i){var s,o,a={};for(s in i)o=i[s],e[s]!==o&&(n[s]||(t.fx.step[s]||!isNaN(parseFloat(o)))&&(a[s]=o));return a}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(b.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(n,o,a,r){var h=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr("class")||"",l=h.children?a.find("*").addBack():a;l=l.map(function(){var i=t(this);return{el:i,start:e(this)}}),o=function(){t.each(s,function(t,e){n[e]&&a[e+"Class"](n[e])})},o(),l=l.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",r),l=l.map(function(){var e=this,i=t.Deferred(),s=t.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),h.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,o){return s?t.effects.animateClass.call(this,{add:i},s,n,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,s,n,o,a){return"boolean"==typeof s||void 0===s?n?t.effects.animateClass.call(this,s?{add:i}:{remove:i},n,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},s,n,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o)}})}(),function(){function e(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function i(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.11.4",save:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.data(_+e[i],t[0].style[e[i]])},restore:function(t,e){var i,s;for(s=0;s<e.length;s++)null!==e[s]&&(i=t.data(_+e[s]),void 0===i&&(i=""),t.css(e[s],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1])}),n}}),t.fn.extend({effect:function(){function i(e){function i(){t.isFunction(o)&&o.call(n[0]),t.isFunction(e)&&e()}var n=t(this),o=s.complete,r=s.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),i()):a.call(n[0],s,i)}var s=e.apply(this,arguments),n=s.mode,o=s.queue,a=t.effects.effect[s.effect];return t.fx.off||!a?n?this[n](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):o===!1?this.each(i):this.queue(o||"fx",i)},show:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(t.fn.show),hide:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(s){if(i(s)||"boolean"==typeof s)return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}();t.effects,t.effects.effect.blind=function(e,i){var s,n,o,a=t(this),r=/up|down|vertical/,h=/up|left|vertical|horizontal/,l=["position","top","bottom","left","right","height","width"],u=t.effects.setMode(a,e.mode||"hide"),c=e.direction||"up",d=r.test(c),p=d?"height":"width",f=d?"top":"left",m=h.test(c),g={},v="show"===u;a.parent().is(".ui-effects-wrapper")?t.effects.save(a.parent(),l):t.effects.save(a,l),a.show(),s=t.effects.createWrapper(a).css({overflow:"hidden"}),n=s[p](),o=parseFloat(s.css(f))||0,g[p]=v?n:0,m||(a.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),g[f]=v?o:n+o),v&&(s.css(p,0),m||s.css(f,o+n)),s.animate(g,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===u&&a.hide(),t.effects.restore(a,l),t.effects.removeWrapper(a),i()}})},t.effects.effect.bounce=function(e,i){var s,n,o,a=t(this),r=["position","top","bottom","left","right","height","width"],h=t.effects.setMode(a,e.mode||"effect"),l="hide"===h,u="show"===h,c=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(u||l?1:0),m=e.duration/f,g=e.easing,v="up"===c||"down"===c?"top":"left",_="up"===c||"left"===c,b=a.queue(),y=b.length;for((u||l)&&r.push("opacity"),t.effects.save(a,r),a.show(),t.effects.createWrapper(a),d||(d=a["top"===v?"outerHeight":"outerWidth"]()/3),u&&(o={opacity:1},o[v]=0,a.css("opacity",0).css(v,_?2*-d:2*d).animate(o,m,g)),l&&(d/=Math.pow(2,p-1)),o={},o[v]=0,s=0;p>s;s++)n={},n[v]=(_?"-=":"+=")+d,a.animate(n,m,g).animate(o,m,g),d=l?2*d:d/2;l&&(n={opacity:0},n[v]=(_?"-=":"+=")+d,a.animate(n,m,g)),a.queue(function(){l&&a.hide(),t.effects.restore(a,r),t.effects.removeWrapper(a),i()}),y>1&&b.splice.apply(b,[1,0].concat(b.splice(y,f+1))),a.dequeue()},t.effects.effect.clip=function(e,i){var s,n,o,a=t(this),r=["position","top","bottom","left","right","height","width"],h=t.effects.setMode(a,e.mode||"hide"),l="show"===h,u=e.direction||"vertical",c="vertical"===u,d=c?"height":"width",p=c?"top":"left",f={};t.effects.save(a,r),a.show(),s=t.effects.createWrapper(a).css({overflow:"hidden"}),n="IMG"===a[0].tagName?s:a,o=n[d](),l&&(n.css(d,0),n.css(p,o/2)),f[d]=l?o:0,f[p]=l?0:o/2,n.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){l||a.hide(),t.effects.restore(a,r),t.effects.removeWrapper(a),i()}})},t.effects.effect.drop=function(e,i){var s,n=t(this),o=["position","top","bottom","left","right","opacity","height","width"],a=t.effects.setMode(n,e.mode||"hide"),r="show"===a,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h?"pos":"neg",c={opacity:r?1:0};t.effects.save(n,o),n.show(),t.effects.createWrapper(n),s=e.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(l,"pos"===u?-s:s),c[l]=(r?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+s,n.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&n.hide(),t.effects.restore(n,o),t.effects.removeWrapper(n),i()}})},t.effects.effect.explode=function(e,i){function s(){b.push(this),b.length===c*d&&n()}function n(){p.css({visibility:"visible"}),t(b).remove(),m||p.hide(),i()}var o,a,r,h,l,u,c=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=c,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),_=Math.ceil(p.outerHeight()/c),b=[];for(o=0;c>o;o++)for(h=g.top+o*_,u=o-(c-1)/2,a=0;d>a;a++)r=g.left+a*v,l=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*v,top:-o*_}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:_,left:r+(m?l*v:0),top:h+(m?u*_:0),opacity:m?0:1}).animate({left:r+(m?0:l*v),top:h+(m?0:u*_),opacity:m?1:0},e.duration||500,e.easing,s)
},t.effects.effect.fade=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"toggle");s.animate({opacity:n},{queue:!1,duration:e.duration,easing:e.easing,complete:i})},t.effects.effect.fold=function(e,i){var s,n,o=t(this),a=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(o,e.mode||"hide"),h="show"===r,l="hide"===r,u=e.size||15,c=/([0-9]+)%/.exec(u),d=!!e.horizFirst,p=h!==d,f=p?["width","height"]:["height","width"],m=e.duration/2,g={},v={};t.effects.save(o,a),o.show(),s=t.effects.createWrapper(o).css({overflow:"hidden"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],c&&(u=parseInt(c[1],10)/100*n[l?0:1]),h&&s.css(d?{height:0,width:u}:{height:u,width:0}),g[f[0]]=h?n[0]:u,v[f[1]]=h?n[1]:0,s.animate(g,m,e.easing).animate(v,m,e.easing,function(){l&&o.hide(),t.effects.restore(o,a),t.effects.removeWrapper(o),i()})},t.effects.effect.highlight=function(e,i){var s=t(this),n=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(s,e.mode||"show"),a={backgroundColor:s.css("backgroundColor")};"hide"===o&&(a.opacity=0),t.effects.save(s,n),s.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&s.hide(),t.effects.restore(s,n),i()}})},t.effects.effect.size=function(e,i){var s,n,o,a=t(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],u=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(a,e.mode||"effect"),f=e.restore||"effect"!==p,m=e.scale||"both",g=e.origin||["middle","center"],v=a.css("position"),_=f?r:h,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&a.show(),s={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===e.mode&&"show"===p?(a.from=e.to||b,a.to=e.from||s):(a.from=e.from||("show"===p?b:s),a.to=e.to||("hide"===p?b:s)),o={from:{y:a.from.height/s.height,x:a.from.width/s.width},to:{y:a.to.height/s.height,x:a.to.width/s.width}},("box"===m||"both"===m)&&(o.from.y!==o.to.y&&(_=_.concat(c),a.from=t.effects.setTransition(a,c,o.from.y,a.from),a.to=t.effects.setTransition(a,c,o.to.y,a.to)),o.from.x!==o.to.x&&(_=_.concat(d),a.from=t.effects.setTransition(a,d,o.from.x,a.from),a.to=t.effects.setTransition(a,d,o.to.x,a.to))),("content"===m||"both"===m)&&o.from.y!==o.to.y&&(_=_.concat(u).concat(l),a.from=t.effects.setTransition(a,u,o.from.y,a.from),a.to=t.effects.setTransition(a,u,o.to.y,a.to)),t.effects.save(a,_),a.show(),t.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),g&&(n=t.effects.getBaseline(g,s),a.from.top=(s.outerHeight-a.outerHeight())*n.y,a.from.left=(s.outerWidth-a.outerWidth())*n.x,a.to.top=(s.outerHeight-a.to.outerHeight)*n.y,a.to.left=(s.outerWidth-a.to.outerWidth)*n.x),a.css(a.from),("content"===m||"both"===m)&&(c=c.concat(["marginTop","marginBottom"]).concat(u),d=d.concat(["marginLeft","marginRight"]),l=r.concat(c).concat(d),a.find("*[width]").each(function(){var i=t(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,l),i.from={height:s.height*o.from.y,width:s.width*o.from.x,outerHeight:s.outerHeight*o.from.y,outerWidth:s.outerWidth*o.from.x},i.to={height:s.height*o.to.y,width:s.width*o.to.x,outerHeight:s.height*o.to.y,outerWidth:s.width*o.to.x},o.from.y!==o.to.y&&(i.from=t.effects.setTransition(i,c,o.from.y,i.from),i.to=t.effects.setTransition(i,c,o.to.y,i.to)),o.from.x!==o.to.x&&(i.from=t.effects.setTransition(i,d,o.from.x,i.from),i.to=t.effects.setTransition(i,d,o.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,l)})})),a.animate(a.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===p&&a.hide(),t.effects.restore(a,_),f||("static"===v?a.css({position:"relative",top:a.to.top,left:a.to.left}):t.each(["top","left"],function(t,e){a.css(e,function(e,i){var s=parseInt(i,10),n=t?a.to.left:a.to.top;return"auto"===i?n+"px":s+n+"px"})})),t.effects.removeWrapper(a),i()}})},t.effects.effect.scale=function(e,i){var s=t(this),n=t.extend(!0,{},e),o=t.effects.setMode(s,e.mode||"effect"),a=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),r=e.direction||"both",h=e.origin,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},u={y:"horizontal"!==r?a/100:1,x:"vertical"!==r?a/100:1};n.effect="size",n.queue=!1,n.complete=i,"effect"!==o&&(n.origin=h||["middle","center"],n.restore=!0),n.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*u.y,width:l.width*u.x,outerHeight:l.outerHeight*u.y,outerWidth:l.outerWidth*u.x},n.fade&&("show"===o&&(n.from.opacity=0,n.to.opacity=1),"hide"===o&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n)},t.effects.effect.puff=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"hide"),o="hide"===n,a=parseInt(e.percent,10)||150,r=a/100,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:n,complete:i,percent:o?a:100,from:o?h:{height:h.height*r,width:h.width*r,outerHeight:h.outerHeight*r,outerWidth:h.outerWidth*r}}),s.effect(e)},t.effects.effect.pulsate=function(e,i){var s,n=t(this),o=t.effects.setMode(n,e.mode||"show"),a="show"===o,r="hide"===o,h=a||"hide"===o,l=2*(e.times||5)+(h?1:0),u=e.duration/l,c=0,d=n.queue(),p=d.length;for((a||!n.is(":visible"))&&(n.css("opacity",0).show(),c=1),s=1;l>s;s++)n.animate({opacity:c},u,e.easing),c=1-c;n.animate({opacity:c},u,e.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,l+1))),n.dequeue()},t.effects.effect.shake=function(e,i){var s,n=t(this),o=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(n,e.mode||"effect"),r=e.direction||"left",h=e.distance||20,l=e.times||3,u=2*l+1,c=Math.round(e.duration/u),d="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},m={},g={},v=n.queue(),_=v.length;for(t.effects.save(n,o),n.show(),t.effects.createWrapper(n),f[d]=(p?"-=":"+=")+h,m[d]=(p?"+=":"-=")+2*h,g[d]=(p?"-=":"+=")+2*h,n.animate(f,c,e.easing),s=1;l>s;s++)n.animate(m,c,e.easing).animate(g,c,e.easing);n.animate(m,c,e.easing).animate(f,c/2,e.easing).queue(function(){"hide"===a&&n.hide(),t.effects.restore(n,o),t.effects.removeWrapper(n),i()}),_>1&&v.splice.apply(v,[1,0].concat(v.splice(_,u+1))),n.dequeue()},t.effects.effect.slide=function(e,i){var s,n=t(this),o=["position","top","bottom","left","right","width","height"],a=t.effects.setMode(n,e.mode||"show"),r="show"===a,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h,c={};t.effects.save(n,o),n.show(),s=e.distance||n["top"===l?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(l,u?isNaN(s)?"-"+s:-s:s),c[l]=(r?u?"+=":"-=":u?"-=":"+=")+s,n.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&n.hide(),t.effects.restore(n,o),t.effects.removeWrapper(n),i()}})},t.effects.effect.transfer=function(e,i){var s=t(this),n=t(e.to),o="fixed"===n.css("position"),a=t("body"),r=o?a.scrollTop():0,h=o?a.scrollLeft():0,l=n.offset(),u={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},c=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:c.top-r,left:c.left-h,height:s.innerHeight(),width:s.innerWidth(),position:o?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){d.remove(),i()})}});
;/*!flat-ui/flat-ui.js*/
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one("bsTransitionEnd",function(){i=!0});var s=function(){i||t(o).trigger(t.support.transition.end)};return setTimeout(s,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),s=i.data("bs.alert");s||i.data("bs.alert",s=new o(this)),"string"==typeof e&&s[e].call(i)})}var i='[data-dismiss="alert"]',o=function(e){t(e).on("click",i,this.close)};o.VERSION="3.2.0",o.prototype.close=function(e){function i(){n.detach().trigger("closed.bs.alert").remove()}var o=t(this),s=o.attr("data-target");s||(s=o.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var n=t(s);e&&e.preventDefault(),n.length||(n=o.hasClass("alert")?o:o.parent()),n.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(n.removeClass("in"),t.support.transition&&n.hasClass("fade")?n.one("bsTransitionEnd",i).emulateTransitionEnd(150):i())};var s=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=s,this},t(document).on("click.bs.alert.data-api",i,o.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.button"),n="object"==typeof e&&e;s||o.data("bs.button",s=new i(this,n)),"toggle"==e?s.toggle():e&&s.setState(e)})}var i=function(e,o){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,o),this.isLoading=!1};i.VERSION="3.2.0",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",o=this.$element,s=o.is("input")?"val":"html",n=o.data();e+="Text",null==n.resetText&&o.data("resetText",o[s]()),o[s](null==n[e]?this.options[e]:n[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,o.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,o.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var o=t(i.target);o.hasClass("btn")||(o=o.closest(".btn")),e.call(o,"toggle"),i.preventDefault()})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.carousel"),n=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e),r="string"==typeof e?e:n.slide;s||o.data("bs.carousel",s=new i(this,n)),"number"==typeof e?s.to(e):r?s[r]():n.interval&&s.pause().cycle()})}var i=function(e,i){this.$element=t(e).on("keydown.bs.carousel",t.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.2.0",i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},i.prototype.keydown=function(t){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.to=function(e){var i=this,o=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(e)}):o==e?this.pause().cycle():this.slide(e>o?"next":"prev",t(this.$items[e]))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,i){var o=this.$element.find(".item.active"),s=i||o[e](),n=this.interval,r="next"==e?"left":"right",a="next"==e?"first":"last",l=this;if(!s.length){if(!this.options.wrap)return;s=this.$element.find(".item")[a]()}if(s.hasClass("active"))return this.sliding=!1;var h=s[0],p=t.Event("slide.bs.carousel",{relatedTarget:h,direction:r});if(this.$element.trigger(p),!p.isDefaultPrevented()){if(this.sliding=!0,n&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(s)]);d&&d.addClass("active")}var c=t.Event("slid.bs.carousel",{relatedTarget:h,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,o.addClass(r),s.addClass(r),o.one("bsTransitionEnd",function(){s.removeClass([e,r].join(" ")).addClass("active"),o.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(c)},0)}).emulateTransitionEnd(1e3*o.css("transition-duration").slice(0,-1))):(o.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(c)),n&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(i){var o,s=t(this),n=t(s.attr("data-target")||(o=s.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""));if(n.hasClass("carousel")){var r=t.extend({},n.data(),s.data()),a=s.attr("data-slide-to");a&&(r.interval=!1),e.call(n,r),a&&n.data("bs.carousel").to(a),i.preventDefault()}}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.collapse"),n=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e);!s&&n.toggle&&"show"==e&&(e=!e),s||o.data("bs.collapse",s=new i(this,n)),"string"==typeof e&&s[e]()})}var i=function(e,o){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,o),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};i.VERSION="3.2.0",i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var i=t.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){var o=this.$parent&&this.$parent.find("> .panel > .in");if(o&&o.length){var s=o.data("bs.collapse");if(s&&s.transitioning)return;e.call(o,"hide"),s||o.data("bs.collapse",null)}var n=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[n](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[n](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var a=t.camelCase(["scroll",n].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(350)[n](this.$element[0][a])}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(350):o.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var o=t.fn.collapse;t.fn.collapse=e,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var o,s=t(this),n=s.attr("data-target")||i.preventDefault()||(o=s.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""),r=t(n),a=r.data("bs.collapse"),l=a?"toggle":s.data(),h=s.attr("data-parent"),p=h&&t(h);a&&a.transitioning||(p&&p.find('[data-toggle="collapse"][data-parent="'+h+'"]').not(s).addClass("collapsed"),s[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),e.call(r,l)})}(jQuery),+function(t){"use strict";function e(e){e&&3===e.which||(t(s).remove(),t(n).each(function(){var o=i(t(this)),s={relatedTarget:this};o.hasClass("open")&&(o.trigger(e=t.Event("hide.bs.dropdown",s)),e.isDefaultPrevented()||o.removeClass("open").trigger("hidden.bs.dropdown",s))}))}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var o=i&&t(i);return o&&o.length?o:e.parent()}function o(e){return this.each(function(){var i=t(this),o=i.data("bs.dropdown");o||i.data("bs.dropdown",o=new r(this)),"string"==typeof e&&o[e].call(i)})}var s=".dropdown-backdrop",n='[data-toggle="dropdown"]',r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.VERSION="3.2.0",r.prototype.toggle=function(o){var s=t(this);if(!s.is(".disabled, :disabled")){var n=i(s),r=n.hasClass("open");if(e(),!r){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var a={relatedTarget:this};if(n.trigger(o=t.Event("show.bs.dropdown",a)),o.isDefaultPrevented())return;s.trigger("focus"),n.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},r.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var o=t(this);if(e.preventDefault(),e.stopPropagation(),!o.is(".disabled, :disabled")){var s=i(o),r=s.hasClass("open");if(!r||r&&27==e.keyCode)return 27==e.which&&s.find(n).trigger("focus"),o.trigger("click");var a=" li:not(.divider):visible a",l=s.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var h=l.index(l.filter(":focus"));38==e.keyCode&&h>0&&h--,40==e.keyCode&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",n,r.prototype.toggle).on("keydown.bs.dropdown.data-api",n+', [role="menu"], [role="listbox"]',r.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,o){return this.each(function(){var s=t(this),n=s.data("bs.modal"),r=t.extend({},i.DEFAULTS,s.data(),"object"==typeof e&&e);n||s.data("bs.modal",n=new i(this,r)),"string"==typeof e?n[e](o):r.show&&n.show(o)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.2.0",i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var i=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var o=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),o&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});o?i.$element.find(".modal-dialog").one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(300):i.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&o;if(this.$backdrop=t('<div class="modal-backdrop '+o+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var n=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(150):n()}else e&&e()},i.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var o=t(this),s=o.attr("href"),n=t(o.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),r=n.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},n.data(),o.data());o.is("a")&&i.preventDefault(),n.one("show.bs.modal",function(t){t.isDefaultPrevented()||n.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),e.call(n,r,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.tooltip"),n="object"==typeof e&&e;(s||"destroy"!=e)&&(s||o.data("bs.tooltip",s=new i(this,n)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};i.VERSION="3.2.0",i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,o){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var s=this.options.trigger.split(" "),n=s.length;n--;){var r=s[n];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(document.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var o=this,s=this.tip(),n=this.getUID(this.type);this.setContent(),s.attr("id",n),this.$element.attr("aria-describedby",n),this.options.animation&&s.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,l=a.test(r);l&&(r=r.replace(a,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element);var h=this.getPosition(),p=s[0].offsetWidth,d=s[0].offsetHeight;if(l){var c=r,f=this.$element.parent(),u=this.getPosition(f);r="bottom"==r&&h.top+h.height+d-u.scroll>u.height?"top":"top"==r&&h.top-u.scroll-d<0?"bottom":"right"==r&&h.right+p>u.width?"left":"left"==r&&h.left-p<u.left?"right":r,s.removeClass(c).addClass(r)}var g=this.getCalculatedOffset(r,h,p,d);this.applyPlacement(g,r);var v=function(){o.$element.trigger("shown.bs."+o.type),o.hoverState=null};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",v).emulateTransitionEnd(150):v()}},i.prototype.applyPlacement=function(e,i){var o=this.tip(),s=o[0].offsetWidth,n=o[0].offsetHeight,r=parseInt(o.css("margin-top"),10),a=parseInt(o.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),e.top=e.top+r,e.left=e.left+a,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var l=o[0].offsetWidth,h=o[0].offsetHeight;"top"==i&&h!=n&&(e.top=e.top+n-h);var p=this.getViewportAdjustedDelta(i,e,l,h);p.left?e.left+=p.left:e.top+=p.top;var d=p.left?2*p.left-s+l:2*p.top-n+h,c=p.left?"left":"top",f=p.left?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(d,o[0][f],c)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(){function e(){"in"!=i.hoverState&&o.detach(),i.$element.trigger("hidden.bs."+i.type)}var i=this,o=this.tip(),s=t.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(s),s.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],o="BODY"==i.tagName;return t.extend({},"function"==typeof i.getBoundingClientRect?i.getBoundingClientRect():null,{scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop(),width:o?t(window).width():e.outerWidth(),height:o?t(window).height():e.outerHeight()},o?{top:0,left:0}:e.offset())},i.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,o){var s={top:0,left:0};if(!this.$viewport)return s;var n=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-n-r.scroll,l=e.top+n-r.scroll+o;a<r.top?s.top=r.top-a:l>r.top+r.height&&(s.top=r.top+r.height-l)}else{var h=e.left-n,p=e.left+n+i;h<r.left?s.left=r.left-h:p>r.width&&(s.left=r.left+r.width-p)}return s},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var o=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=o,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.popover"),n="object"==typeof e&&e;(s||"destroy"!=e)&&(s||o.data("bs.popover",s=new i(this,n)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.2.0",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").empty()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},i.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var o=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(jQuery),+function(t){"use strict";function e(i,o){var s=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(t(i).is("body")?window:i),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",s),this.refresh(),this.process()}function i(i){return this.each(function(){var o=t(this),s=o.data("bs.scrollspy"),n="object"==typeof i&&i;s||o.data("bs.scrollspy",s=new e(this,n)),"string"==typeof i&&s[i]()})}e.VERSION="3.2.0",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",i=0;t.isWindow(this.$scrollElement[0])||(e="position",i=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var o=this;this.$body.find(this.selector).map(function(){var o=t(this),s=o.data("target")||o.attr("href"),n=/^#./.test(s)&&t(s);return n&&n.length&&n.is(":visible")&&[[n[e]().top+i,s]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){o.offsets.push(this[0]),o.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),o=this.options.offset+i-this.$scrollElement.height(),s=this.offsets,n=this.targets,r=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=o)return r!=(t=n[n.length-1])&&this.activate(t);if(r&&e<=s[0])return r!=(t=n[0])&&this.activate(t);for(t=s.length;t--;)r!=n[t]&&e>=s[t]&&(!s[t+1]||e<=s[t+1])&&this.activate(n[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(i).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate.bs.scrollspy")};var o=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.tab");s||o.data("bs.tab",s=new i(this)),"string"==typeof e&&s[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.2.0",i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var s=i.find(".active:last a")[0],n=t.Event("show.bs.tab",{relatedTarget:s});if(e.trigger(n),!n.isDefaultPrevented()){var r=t(o);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:s})})}}},i.prototype.activate=function(e,i,o){function s(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),o&&o()}var n=i.find("> .active"),r=o&&t.support.transition&&n.hasClass("fade");r?n.one("bsTransitionEnd",s).emulateTransitionEnd(150):s(),n.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=o,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(i){i.preventDefault(),e.call(t(this),"show")})}(jQuery);
;/*!bootstrap-tagsinput/bootstrap-tagsinput.min.js*/
!function(t){"use strict";function e(e,n){this.itemsArray=[],this.$element=t(e),this.$element.hide(),this.isSelect="SELECT"===e.tagName,this.multiple=this.isSelect&&e.hasAttribute("multiple"),this.objectItems=n&&n.itemValue,this.placeholderText=e.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=t('<div class="bootstrap-tagsinput"></div>'),this.$input=t('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.before(this.$container),this.build(n)}function n(t,e){if("function"!=typeof t[e]){var n=t[e];t[e]=function(t){return t[n]}}}function i(t,e){if("function"!=typeof t[e]){var n=t[e];t[e]=function(){return n}}}function a(t){return t?l.text(t).html():""}function r(t){var e=0;if(document.selection){t.focus();var n=document.selection.createRange();n.moveStart("character",-t.value.length),e=n.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e}function o(e,n){var i=!1;return t.each(n,function(t,n){if("number"==typeof n&&e.which===n)return i=!0,!1;if(e.which===n.which){var a=!n.hasOwnProperty("altKey")||e.altKey===n.altKey,r=!n.hasOwnProperty("shiftKey")||e.shiftKey===n.shiftKey,o=!n.hasOwnProperty("ctrlKey")||e.ctrlKey===n.ctrlKey;if(a&&r&&o)return i=!0,!1}}),i}var s={tagClass:function(){return"label label-info"},itemValue:function(t){return t?t.toString():t},itemText:function(t){return this.itemValue(t)},itemTitle:function(){return null},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],delimiter:",",delimiterRegex:null,cancelConfirmKeysOnEmpty:!0,onTagExists:function(t,e){e.hide().fadeIn()},trimValue:!1,allowDuplicates:!1};e.prototype={constructor:e,add:function(e,n,i){var r=this;if(!(r.options.maxTags&&r.itemsArray.length>=r.options.maxTags||e!==!1&&!e)){if("string"==typeof e&&r.options.trimValue&&(e=t.trim(e)),"object"==typeof e&&!r.objectItems)throw"Can't add objects when itemValue option is not set";if(!e.toString().match(/^\s*$/)){if(r.isSelect&&!r.multiple&&r.itemsArray.length>0&&r.remove(r.itemsArray[0]),"string"==typeof e&&"INPUT"===this.$element[0].tagName){var o=r.options.delimiterRegex?r.options.delimiterRegex:r.options.delimiter,s=e.split(o);if(s.length>1){for(var l=0;l<s.length;l++)this.add(s[l],!0);return void(n||r.pushVal())}}var u=r.options.itemValue(e),p=r.options.itemText(e),c=r.options.tagClass(e),h=r.options.itemTitle(e),m=t.grep(r.itemsArray,function(t){return r.options.itemValue(t)===u})[0];if(!m||r.options.allowDuplicates){if(!(r.items().toString().length+e.length+1>r.options.maxInputLength)){var f=t.Event("beforeItemAdd",{item:e,cancel:!1,options:i});if(r.$element.trigger(f),!f.cancel){r.itemsArray.push(e);var d=t('<span class="tag '+a(c)+(null!==h?'" title="'+h:"")+'">'+a(p)+'<span data-role="remove"></span></span>');if(d.data("item",e),r.findInputWrapper().before(d),d.after(" "),r.isSelect&&!t('option[value="'+encodeURIComponent(u)+'"]',r.$element)[0]){var v=t("<option selected>"+a(p)+"</option>");v.data("item",e),v.attr("value",u),r.$element.append(v)}n||r.pushVal(),(r.options.maxTags===r.itemsArray.length||r.items().toString().length===r.options.maxInputLength)&&r.$container.addClass("bootstrap-tagsinput-max"),r.$element.trigger(t.Event("itemAdded",{item:e,options:i}))}}}else if(r.options.onTagExists){var g=t(".tag",r.$container).filter(function(){return t(this).data("item")===m});r.options.onTagExists(e,g)}}}},remove:function(e,n,i){var a=this;if(a.objectItems&&(e="object"==typeof e?t.grep(a.itemsArray,function(t){return a.options.itemValue(t)==a.options.itemValue(e)}):t.grep(a.itemsArray,function(t){return a.options.itemValue(t)==e}),e=e[e.length-1]),e){var r=t.Event("beforeItemRemove",{item:e,cancel:!1,options:i});if(a.$element.trigger(r),r.cancel)return;t(".tag",a.$container).filter(function(){return t(this).data("item")===e}).remove(),t("option",a.$element).filter(function(){return t(this).data("item")===e}).remove(),-1!==t.inArray(e,a.itemsArray)&&a.itemsArray.splice(t.inArray(e,a.itemsArray),1)}n||a.pushVal(),a.options.maxTags>a.itemsArray.length&&a.$container.removeClass("bootstrap-tagsinput-max"),a.$element.trigger(t.Event("itemRemoved",{item:e,options:i}))},removeAll:function(){var e=this;for(t(".tag",e.$container).remove(),t("option",e.$element).remove();e.itemsArray.length>0;)e.itemsArray.pop();e.pushVal()},refresh:function(){var e=this;t(".tag",e.$container).each(function(){var n=t(this),i=n.data("item"),r=e.options.itemValue(i),o=e.options.itemText(i),s=e.options.tagClass(i);if(n.attr("class",null),n.addClass("tag "+a(s)),n.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=a(o),e.isSelect){var l=t("option",e.$element).filter(function(){return t(this).data("item")===i});l.attr("value",r)}})},items:function(){return this.itemsArray},pushVal:function(){var e=this,n=t.map(e.items(),function(t){return e.options.itemValue(t).toString()});e.$element.val(n,!0).trigger("change")},build:function(e){var a=this;if(a.options=t.extend({},s,e),a.objectItems&&(a.options.freeInput=!1),n(a.options,"itemValue"),n(a.options,"itemText"),i(a.options,"tagClass"),a.options.typeahead){var l=a.options.typeahead||{};i(l,"source"),a.$input.typeahead(t.extend({},l,{source:function(e,n){function i(t){for(var e=[],i=0;i<t.length;i++){var o=a.options.itemText(t[i]);r[o]=t[i],e.push(o)}n(e)}this.map={};var r=this.map,o=l.source(e);t.isFunction(o.success)?o.success(i):t.isFunction(o.then)?o.then(i):t.when(o).then(i)},updater:function(t){return a.add(this.map[t]),this.map[t]},matcher:function(t){return-1!==t.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(t){return t.sort()},highlighter:function(t){var e=new RegExp("("+this.query+")","gi");return t.replace(e,"<strong>$1</strong>")}}))}if(a.options.typeaheadjs){var u=null,p={},c=a.options.typeaheadjs;t.isArray(c)?(u=c[0],p=c[1]):p=c,a.$input.typeahead(u,p).on("typeahead:selected",t.proxy(function(t,e){a.add(p.valueKey?e[p.valueKey]:e),a.$input.typeahead("val","")},a))}a.$container.on("click",t.proxy(function(){a.$element.attr("disabled")||a.$input.removeAttr("disabled"),a.$input.focus()},a)),a.options.addOnBlur&&a.options.freeInput&&a.$input.on("focusout",t.proxy(function(){0===t(".typeahead, .twitter-typeahead",a.$container).length&&(a.add(a.$input.val()),a.$input.val(""))},a)),a.$container.on("keydown","input",t.proxy(function(e){var n=t(e.target),i=a.findInputWrapper();if(a.$element.attr("disabled"))return void a.$input.attr("disabled","disabled");switch(e.which){case 8:if(0===r(n[0])){var o=i.prev();o.length&&a.remove(o.data("item"))}break;case 46:if(0===r(n[0])){var s=i.next();s.length&&a.remove(s.data("item"))}break;case 37:var l=i.prev();0===n.val().length&&l[0]&&(l.before(i),n.focus());break;case 39:var u=i.next();0===n.val().length&&u[0]&&(u.after(i),n.focus())}var p=n.val().length;Math.ceil(p/5),n.attr("size",Math.max(this.inputSize,n.val().length))},a)),a.$container.on("keypress","input",t.proxy(function(e){var n=t(e.target);if(a.$element.attr("disabled"))return void a.$input.attr("disabled","disabled");var i=n.val(),r=a.options.maxChars&&i.length>=a.options.maxChars;a.options.freeInput&&(o(e,a.options.confirmKeys)||r)&&(0!==i.length&&(a.add(r?i.substr(0,a.options.maxChars):i),n.val("")),a.options.cancelConfirmKeysOnEmpty===!1&&e.preventDefault());var s=n.val().length;Math.ceil(s/5),n.attr("size",Math.max(this.inputSize,n.val().length))},a)),a.$container.on("click","[data-role=remove]",t.proxy(function(e){a.$element.attr("disabled")||a.remove(t(e.target).closest(".tag").data("item"))},a)),a.options.itemValue===s.itemValue&&("INPUT"===a.$element[0].tagName?a.add(a.$element.val()):t("option",a.$element).each(function(){a.add(t(this).attr("value"),!0)}))},destroy:function(){var t=this;t.$container.off("keypress","input"),t.$container.off("click","[role=remove]"),t.$container.remove(),t.$element.removeData("tagsinput"),t.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var e=this.$input[0],n=this.$container[0];e&&e.parentNode!==n;)e=e.parentNode;return t(e)}},t.fn.tagsinput=function(n,i,a){var r=[];return this.each(function(){var o=t(this).data("tagsinput");if(o)if(n||i){if(void 0!==o[n]){if(3===o[n].length&&void 0!==a)var s=o[n](i,null,a);else var s=o[n](i);void 0!==s&&r.push(s)}}else r.push(o);else o=new e(this,n),t(this).data("tagsinput",o),r.push(o),"SELECT"===this.tagName&&t("option",t(this)).attr("selected","selected"),t(this).val(t(this).val())}),"string"==typeof n?r.length>1?r:r[0]:r},t.fn.tagsinput.Constructor=e;var l=t("<div />");t(function(){t("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery);
;/*!datetimepicker/js/bootstrap-datetimepicker.js*/
!function(e,t){e.moment=t()}(this,function(){"use strict";function e(){return La.apply(null,arguments)}function t(e){La=e}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function r(e,t){var n,a=[];for(n=0;n<e.length;++n)a.push(t(e[n],n));return a}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o(e,t){for(var n in t)i(t,n)&&(e[n]=t[n]);return i(t,"toString")&&(e.toString=t.toString),i(t,"valueOf")&&(e.valueOf=t.valueOf),e}function s(e,t,n,a){return St(e,t,n,a,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function l(e){return null==e._pf&&(e._pf=d()),e._pf}function u(e){if(null==e._isValid){var t=l(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function c(e){var t=s(0/0);return null!=e?o(l(t),e):l(t).userInvalidated=!0,t}function f(e,t){var n,a,r;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=l(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),Ea.length>0)for(n in Ea)a=Ea[n],r=t[a],"undefined"!=typeof r&&(e[a]=r);return e}function p(t){f(this,t),this._d=new Date(null!=t._d?t._d.getTime():0/0),Fa===!1&&(Fa=!0,e.updateOffset(this),Fa=!1)}function h(e){return e instanceof p||null!=e&&null!=e._isAMomentObject}function m(e){return 0>e?Math.ceil(e):Math.floor(e)}function y(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=m(t)),n}function g(e,t,n){var a,r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0;for(a=0;r>a;a++)(n&&e[a]!==t[a]||!n&&y(e[a])!==y(t[a]))&&o++;return o+i}function w(){}function _(e){return e?e.toLowerCase().replace("_","-"):e}function v(e){for(var t,n,a,r,i=0;i<e.length;){for(r=_(e[i]).split("-"),t=r.length,n=_(e[i+1]),n=n?n.split("-"):null;t>0;){if(a=b(r.slice(0,t).join("-")))return a;if(n&&n.length>=t&&g(r,n,!0)>=t-1)break;t--}i++}return null}function b(e){var t=null;if(!Ua[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Wa._abbr,require("./locale/"+e),D(t)}catch(n){}return Ua[e]}function D(e,t){var n;return e&&(n="undefined"==typeof t?M(e):k(e,t),n&&(Wa=n)),Wa._abbr}function k(e,t){return null!==t?(t.abbr=e,Ua[e]=Ua[e]||new w,Ua[e].set(t),D(e),Ua[e]):(delete Ua[e],null)}function M(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Wa;if(!n(e)){if(t=b(e))return t;e=[e]}return v(e)}function Y(e,t){var n=e.toLowerCase();Aa[n]=Aa[n+"s"]=Aa[t]=e}function T(e){return"string"==typeof e?Aa[e]||Aa[e.toLowerCase()]:void 0}function C(e){var t,n,a={};for(n in e)i(e,n)&&(t=T(n),t&&(a[t]=e[n]));return a}function S(t,n){return function(a){return null!=a?(O(this,t,a),e.updateOffset(this,n),this):x(this,t)}}function x(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function O(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function P(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=T(e),"function"==typeof this[e])return this[e](t);return this}function H(e,t,n){var a=""+Math.abs(e),r=t-a.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+a}function I(e,t,n,a){var r=a;"string"==typeof a&&(r=function(){return this[a]()}),e&&(qa[e]=r),t&&(qa[t[0]]=function(){return H(r.apply(this,arguments),t[1],t[2])}),n&&(qa[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function L(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function W(e){var t,n,a=e.match(Ga);for(t=0,n=a.length;n>t;t++)a[t]=qa[a[t]]?qa[a[t]]:L(a[t]);return function(r){var i="";for(t=0;n>t;t++)i+=a[t]instanceof Function?a[t].call(r,e):a[t];return i}}function E(e,t){return e.isValid()?(t=F(t,e.localeData()),za[t]=za[t]||W(t),za[t](e)):e.localeData().invalidDate()}function F(e,t){function n(e){return t.longDateFormat(e)||e}var a=5;for(ja.lastIndex=0;a>=0&&ja.test(e);)e=e.replace(ja,n),ja.lastIndex=0,a-=1;return e}function U(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function A(e,t,n){rr[e]=U(t)?t:function(e){return e&&n?n:t}}function G(e,t){return i(rr,e)?rr[e](t._strict,t._locale):new RegExp(j(e))}function j(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,a,r){return t||n||a||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function z(e,t){var n,a=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(a=function(e,n){n[t]=y(e)}),n=0;n<e.length;n++)ir[e[n]]=a}function q(e,t){z(e,function(e,n,a,r){a._w=a._w||{},t(e,a._w,a,r)})}function B(e,t,n){null!=t&&i(ir,e)&&ir[e](t,n._a,n,e)}function N(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function V(e){return this._months[e.month()]}function Z(e){return this._monthsShort[e.month()]}function R(e,t,n){var a,r,i;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;12>a;a++){if(r=s([2e3,a]),n&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[a]||(i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[a]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[a].test(e))return a;if(n&&"MMM"===t&&this._shortMonthsParse[a].test(e))return a;if(!n&&this._monthsParse[a].test(e))return a}}function Q(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),N(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function J(t){return null!=t?(Q(this,t),e.updateOffset(this,!0),this):x(this,"Month")}function $(){return N(this.year(),this.month())}function X(e){var t,n=e._a;return n&&-2===l(e).overflow&&(t=n[sr]<0||n[sr]>11?sr:n[dr]<1||n[dr]>N(n[or],n[sr])?dr:n[lr]<0||n[lr]>24||24===n[lr]&&(0!==n[ur]||0!==n[cr]||0!==n[fr])?lr:n[ur]<0||n[ur]>59?ur:n[cr]<0||n[cr]>59?cr:n[fr]<0||n[fr]>999?fr:-1,l(e)._overflowDayOfYear&&(or>t||t>dr)&&(t=dr),l(e).overflow=t),e}function K(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function et(e,t){var n=!0;return o(function(){return n&&(K(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function tt(e,t){mr[e]||(K(t),mr[e]=!0)}function nt(e){var t,n,a=e._i,r=yr.exec(a);if(r){for(l(e).iso=!0,t=0,n=gr.length;n>t;t++)if(gr[t][1].exec(a)){e._f=gr[t][0];break}for(t=0,n=wr.length;n>t;t++)if(wr[t][1].exec(a)){e._f+=(r[6]||" ")+wr[t][0];break}a.match(tr)&&(e._f+="Z"),bt(e)}else e._isValid=!1}function at(t){var n=_r.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(nt(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function rt(e,t,n,a,r,i,o){var s=new Date(e,t,n,a,r,i,o);return 1970>e&&s.setFullYear(e),s}function it(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function ot(e){return st(e)?366:365}function st(e){return e%4===0&&e%100!==0||e%400===0}function dt(){return st(this.year())}function lt(e,t,n){var a,r=n-t,i=n-e.day();return i>r&&(i-=7),r-7>i&&(i+=7),a=xt(e).add(i,"d"),{week:Math.ceil(a.dayOfYear()/7),year:a.year()}}function ut(e){return lt(e,this._week.dow,this._week.doy).week}function ct(){return this._week.dow}function ft(){return this._week.doy}function pt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function ht(e){var t=lt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function mt(e,t,n,a,r){var i,o=6+r-a,s=it(e,0,1+o),d=s.getUTCDay();return r>d&&(d+=7),n=null!=n?1*n:r,i=1+o+7*(t-1)-d+n,{year:i>0?e:e-1,dayOfYear:i>0?i:ot(e-1)+i}}function yt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function gt(e,t,n){return null!=e?e:null!=t?t:n}function wt(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function _t(e){var t,n,a,r,i=[];if(!e._d){for(a=wt(e),e._w&&null==e._a[dr]&&null==e._a[sr]&&vt(e),e._dayOfYear&&(r=gt(e._a[or],a[or]),e._dayOfYear>ot(r)&&(l(e)._overflowDayOfYear=!0),n=it(r,0,e._dayOfYear),e._a[sr]=n.getUTCMonth(),e._a[dr]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=i[t]=a[t];for(;7>t;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[lr]&&0===e._a[ur]&&0===e._a[cr]&&0===e._a[fr]&&(e._nextDay=!0,e._a[lr]=0),e._d=(e._useUTC?it:rt).apply(null,i),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[lr]=24)}}function vt(e){var t,n,a,r,i,o,s;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(i=1,o=4,n=gt(t.GG,e._a[or],lt(xt(),1,4).year),a=gt(t.W,1),r=gt(t.E,1)):(i=e._locale._week.dow,o=e._locale._week.doy,n=gt(t.gg,e._a[or],lt(xt(),i,o).year),a=gt(t.w,1),null!=t.d?(r=t.d,i>r&&++a):r=null!=t.e?t.e+i:i),s=mt(n,a,r,o,i),e._a[or]=s.year,e._dayOfYear=s.dayOfYear}function bt(t){if(t._f===e.ISO_8601)return void nt(t);t._a=[],l(t).empty=!0;var n,a,r,i,o,s=""+t._i,d=s.length,u=0;for(r=F(t._f,t._locale).match(Ga)||[],n=0;n<r.length;n++)i=r[n],a=(s.match(G(i,t))||[])[0],a&&(o=s.substr(0,s.indexOf(a)),o.length>0&&l(t).unusedInput.push(o),s=s.slice(s.indexOf(a)+a.length),u+=a.length),qa[i]?(a?l(t).empty=!1:l(t).unusedTokens.push(i),B(i,a,t)):t._strict&&!a&&l(t).unusedTokens.push(i);l(t).charsLeftOver=d-u,s.length>0&&l(t).unusedInput.push(s),l(t).bigHour===!0&&t._a[lr]<=12&&t._a[lr]>0&&(l(t).bigHour=void 0),t._a[lr]=Dt(t._locale,t._a[lr],t._meridiem),_t(t),X(t)}function Dt(e,t,n){var a;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(a=e.isPM(n),a&&12>t&&(t+=12),a||12!==t||(t=0),t):t}function kt(e){var t,n,a,r,i;if(0===e._f.length)return l(e).invalidFormat=!0,void(e._d=new Date(0/0));for(r=0;r<e._f.length;r++)i=0,t=f({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],bt(t),u(t)&&(i+=l(t).charsLeftOver,i+=10*l(t).unusedTokens.length,l(t).score=i,(null==a||a>i)&&(a=i,n=t));o(e,n||t)}function Mt(e){if(!e._d){var t=C(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],_t(e)}}function Yt(e){var t=new p(X(Tt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Tt(e){var t=e._i,r=e._f;return e._locale=e._locale||M(e._l),null===t||void 0===r&&""===t?c({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),h(t)?new p(X(t)):(n(r)?kt(e):r?bt(e):a(t)?e._d=t:Ct(e),e))}function Ct(t){var i=t._i;void 0===i?t._d=new Date:a(i)?t._d=new Date(+i):"string"==typeof i?at(t):n(i)?(t._a=r(i.slice(0),function(e){return parseInt(e,10)}),_t(t)):"object"==typeof i?Mt(t):"number"==typeof i?t._d=new Date(i):e.createFromInputFallback(t)}function St(e,t,n,a,r){var i={};return"boolean"==typeof n&&(a=n,n=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=r,i._l=n,i._i=e,i._f=t,i._strict=a,Yt(i)}function xt(e,t,n,a){return St(e,t,n,a,!1)}function Ot(e,t){var a,r;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return xt();for(a=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](a))&&(a=t[r]);return a}function Pt(){var e=[].slice.call(arguments,0);return Ot("isBefore",e)}function Ht(){var e=[].slice.call(arguments,0);return Ot("isAfter",e)}function It(e){var t=C(e),n=t.year||0,a=t.quarter||0,r=t.month||0,i=t.week||0,o=t.day||0,s=t.hour||0,d=t.minute||0,l=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*l+6e4*d+36e5*s,this._days=+o+7*i,this._months=+r+3*a+12*n,this._data={},this._locale=M(),this._bubble()}function Lt(e){return e instanceof It}function Wt(e,t){I(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+H(~~(e/60),2)+t+H(~~e%60,2)})}function Et(e){var t=(e||"").match(tr)||[],n=t[t.length-1]||[],a=(n+"").match(Mr)||["-",0,0],r=+(60*a[1])+y(a[2]);return"+"===a[0]?r:-r}function Ft(t,n){var r,i;return n._isUTC?(r=n.clone(),i=(h(t)||a(t)?+t:+xt(t))-+r,r._d.setTime(+r._d+i),e.updateOffset(r,!1),r):xt(t).local()}function Ut(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function At(t,n){var a,r=this._offset||0;return null!=t?("string"==typeof t&&(t=Et(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(a=Ut(this)),this._offset=t,this._isUTC=!0,null!=a&&this.add(a,"m"),r!==t&&(!n||this._changeInProgress?tn(this,Jt(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Ut(this)}function Gt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function jt(e){return this.utcOffset(0,e)}function zt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ut(this),"m")),this}function qt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Et(this._i)),this}function Bt(e){return e=e?xt(e).utcOffset():0,(this.utcOffset()-e)%60===0}function Nt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Vt(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var e={};if(f(e,this),e=Tt(e),e._a){var t=e._isUTC?s(e._a):xt(e._a);this._isDSTShifted=this.isValid()&&g(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Zt(){return!this._isUTC}function Rt(){return this._isUTC}function Qt(){return this._isUTC&&0===this._offset}function Jt(e,t){var n,a,r,o=e,s=null;return Lt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(s=Yr.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:y(s[dr])*n,h:y(s[lr])*n,m:y(s[ur])*n,s:y(s[cr])*n,ms:y(s[fr])*n}):(s=Tr.exec(e))?(n="-"===s[1]?-1:1,o={y:$t(s[2],n),M:$t(s[3],n),d:$t(s[4],n),h:$t(s[5],n),m:$t(s[6],n),s:$t(s[7],n),w:$t(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=Kt(xt(o.from),xt(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),a=new It(o),Lt(e)&&i(e,"_locale")&&(a._locale=e._locale),a}function $t(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Xt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Kt(e,t){var n;return t=Ft(t,e),e.isBefore(t)?n=Xt(e,t):(n=Xt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function en(e,t){return function(n,a){var r,i;return null===a||isNaN(+a)||(tt(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),i=n,n=a,a=i),n="string"==typeof n?+n:n,r=Jt(n,a),tn(this,r,e),this}}function tn(t,n,a,r){var i=n._milliseconds,o=n._days,s=n._months;r=null==r?!0:r,i&&t._d.setTime(+t._d+i*a),o&&O(t,"Date",x(t,"Date")+o*a),s&&Q(t,x(t,"Month")+s*a),r&&e.updateOffset(t,o||s)}function nn(e,t){var n=e||xt(),a=Ft(n,this).startOf("day"),r=this.diff(a,"days",!0),i=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(t&&t[i]||this.localeData().calendar(i,this,xt(n)))}function an(){return new p(this)}function rn(e,t){var n;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=h(e)?e:xt(e),+this>+e):(n=h(e)?+e:+xt(e),n<+this.clone().startOf(t))}function on(e,t){var n;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=h(e)?e:xt(e),+e>+this):(n=h(e)?+e:+xt(e),+this.clone().endOf(t)<n)}function sn(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function dn(e,t){var n;return t=T(t||"millisecond"),"millisecond"===t?(e=h(e)?e:xt(e),+this===+e):(n=+xt(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function ln(e,t,n){var a,r,i=Ft(e,this),o=6e4*(i.utcOffset()-this.utcOffset());return t=T(t),"year"===t||"month"===t||"quarter"===t?(r=un(this,i),"quarter"===t?r/=3:"year"===t&&(r/=12)):(a=this-i,r="second"===t?a/1e3:"minute"===t?a/6e4:"hour"===t?a/36e5:"day"===t?(a-o)/864e5:"week"===t?(a-o)/6048e5:a),n?r:m(r)}function un(e,t){var n,a,r=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(r,"months");return 0>t-i?(n=e.clone().add(r-1,"months"),a=(t-i)/(i-n)):(n=e.clone().add(r+1,"months"),a=(t-i)/(n-i)),-(r+a)}function cn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function fn(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():E(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):E(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function pn(t){var n=E(this,t||e.defaultFormat);return this.localeData().postformat(n)}function hn(e,t){return this.isValid()?Jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mn(e){return this.from(xt(),e)}function yn(e,t){return this.isValid()?Jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function gn(e){return this.to(xt(),e)}function wn(e){var t;return void 0===e?this._locale._abbr:(t=M(e),null!=t&&(this._locale=t),this)}function _n(){return this._locale}function vn(e){switch(e=T(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function bn(e){return e=T(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function Dn(){return+this._d-6e4*(this._offset||0)}function kn(){return Math.floor(+this/1e3)}function Mn(){return this._offset?new Date(+this):this._d}function Yn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Tn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Cn(){return u(this)}function Sn(){return o({},l(this))}function xn(){return l(this).overflow}function On(e,t){I(0,[e,e.length],0,t)}function Pn(e,t,n){return lt(xt([e,11,31+t-n]),t,n).week}function Hn(e){var t=lt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function In(e){var t=lt(this,1,4).year;return null==e?t:this.add(e-t,"y")}function Ln(){return Pn(this.year(),1,4)}function Wn(){var e=this.localeData()._week;return Pn(this.year(),e.dow,e.doy)}function En(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Fn(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Un(e){return this._weekdays[e.day()]}function An(e){return this._weekdaysShort[e.day()]}function Gn(e){return this._weekdaysMin[e.day()]}function jn(e){var t,n,a;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(n=xt([2e3,1]).day(t),a="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(a.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function zn(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Fn(e,this.localeData()),this.add(e-t,"d")):t}function qn(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Bn(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Nn(e,t){I(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Vn(e,t){return t._meridiemParse}function Zn(e){return"p"===(e+"").toLowerCase().charAt(0)}function Rn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Qn(e,t){t[fr]=y(1e3*("0."+e))}function Jn(){return this._isUTC?"UTC":""}function $n(){return this._isUTC?"Coordinated Universal Time":""}function Xn(e){return xt(1e3*e)}function Kn(){return xt.apply(null,arguments).parseZone()}function ea(e,t,n){var a=this._calendar[e];return"function"==typeof a?a.call(t,n):a}function ta(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function na(){return this._invalidDate}function aa(e){return this._ordinal.replace("%d",e)}function ra(e){return e}function ia(e,t,n,a){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,a):r.replace(/%d/i,e)}function oa(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function sa(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function da(e,t,n,a){var r=M(),i=s().set(a,t);return r[n](i,e)}function la(e,t,n,a,r){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return da(e,t,n,r);var i,o=[];for(i=0;a>i;i++)o[i]=da(e,i,n,r);return o}function ua(e,t){return la(e,t,"months",12,"month")}function ca(e,t){return la(e,t,"monthsShort",12,"month")}function fa(e,t){return la(e,t,"weekdays",7,"day")}function pa(e,t){return la(e,t,"weekdaysShort",7,"day")}function ha(e,t){return la(e,t,"weekdaysMin",7,"day")}function ma(){var e=this._data;return this._milliseconds=Qr(this._milliseconds),this._days=Qr(this._days),this._months=Qr(this._months),e.milliseconds=Qr(e.milliseconds),e.seconds=Qr(e.seconds),e.minutes=Qr(e.minutes),e.hours=Qr(e.hours),e.months=Qr(e.months),e.years=Qr(e.years),this}function ya(e,t,n,a){var r=Jt(t,n);return e._milliseconds+=a*r._milliseconds,e._days+=a*r._days,e._months+=a*r._months,e._bubble()}function ga(e,t){return ya(this,e,t,1)}function wa(e,t){return ya(this,e,t,-1)}function _a(e){return 0>e?Math.floor(e):Math.ceil(e)}function va(){var e,t,n,a,r,i=this._milliseconds,o=this._days,s=this._months,d=this._data;return i>=0&&o>=0&&s>=0||0>=i&&0>=o&&0>=s||(i+=864e5*_a(Da(s)+o),o=0,s=0),d.milliseconds=i%1e3,e=m(i/1e3),d.seconds=e%60,t=m(e/60),d.minutes=t%60,n=m(t/60),d.hours=n%24,o+=m(n/24),r=m(ba(o)),s+=r,o-=_a(Da(r)),a=m(s/12),s%=12,d.days=o,d.months=s,d.years=a,this}function ba(e){return 4800*e/146097}function Da(e){return 146097*e/4800}function ka(e){var t,n,a=this._milliseconds;if(e=T(e),"month"===e||"year"===e)return t=this._days+a/864e5,n=this._months+ba(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Da(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return 24*t+a/36e5;case"minute":return 1440*t+a/6e4;case"second":return 86400*t+a/1e3;case"millisecond":return Math.floor(864e5*t)+a;default:throw new Error("Unknown unit "+e)}}function Ma(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)}function Ya(e){return function(){return this.as(e)}}function Ta(e){return e=T(e),this[e+"s"]()}function Ca(e){return function(){return this._data[e]}}function Sa(){return m(this.days()/7)}function xa(e,t,n,a,r){return r.relativeTime(t||1,!!n,e,a)}function Oa(e,t,n){var a=Jt(e).abs(),r=ci(a.as("s")),i=ci(a.as("m")),o=ci(a.as("h")),s=ci(a.as("d")),d=ci(a.as("M")),l=ci(a.as("y")),u=r<fi.s&&["s",r]||1===i&&["m"]||i<fi.m&&["mm",i]||1===o&&["h"]||o<fi.h&&["hh",o]||1===s&&["d"]||s<fi.d&&["dd",s]||1===d&&["M"]||d<fi.M&&["MM",d]||1===l&&["y"]||["yy",l];return u[2]=t,u[3]=+e>0,u[4]=n,xa.apply(null,u)}function Pa(e,t){return void 0===fi[e]?!1:void 0===t?fi[e]:(fi[e]=t,!0)}function Ha(e){var t=this.localeData(),n=Oa(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Ia(){var e,t,n,a=pi(this._milliseconds)/1e3,r=pi(this._days),i=pi(this._months);e=m(a/60),t=m(e/60),a%=60,e%=60,n=m(i/12),i%=12;var o=n,s=i,d=r,l=t,u=e,c=a,f=this.asSeconds();return f?(0>f?"-":"")+"P"+(o?o+"Y":"")+(s?s+"M":"")+(d?d+"D":"")+(l||u||c?"T":"")+(l?l+"H":"")+(u?u+"M":"")+(c?c+"S":""):"P0D"}var La,Wa,Ea=e.momentProperties=[],Fa=!1,Ua={},Aa={},Ga=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ja=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,za={},qa={},Ba=/\d/,Na=/\d\d/,Va=/\d{3}/,Za=/\d{4}/,Ra=/[+-]?\d{6}/,Qa=/\d\d?/,Ja=/\d{1,3}/,$a=/\d{1,4}/,Xa=/[+-]?\d{1,6}/,Ka=/\d+/,er=/[+-]?\d+/,tr=/Z|[+-]\d\d:?\d\d/gi,nr=/[+-]?\d+(\.\d{1,3})?/,ar=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,rr={},ir={},or=0,sr=1,dr=2,lr=3,ur=4,cr=5,fr=6;I("M",["MM",2],"Mo",function(){return this.month()+1}),I("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),I("MMMM",0,0,function(e){return this.localeData().months(this,e)}),Y("month","M"),A("M",Qa),A("MM",Qa,Na),A("MMM",ar),A("MMMM",ar),z(["M","MM"],function(e,t){t[sr]=y(e)-1}),z(["MMM","MMMM"],function(e,t,n,a){var r=n._locale.monthsParse(e,a,n._strict);null!=r?t[sr]=r:l(n).invalidMonth=e});var pr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),hr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mr={};e.suppressDeprecationWarnings=!1;var yr=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],wr=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],_r=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=et("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),I(0,["YY",2],0,function(){return this.year()%100}),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),Y("year","y"),A("Y",er),A("YY",Qa,Na),A("YYYY",$a,Za),A("YYYYY",Xa,Ra),A("YYYYYY",Xa,Ra),z(["YYYYY","YYYYYY"],or),z("YYYY",function(t,n){n[or]=2===t.length?e.parseTwoDigitYear(t):y(t)}),z("YY",function(t,n){n[or]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return y(e)+(y(e)>68?1900:2e3)};var vr=S("FullYear",!1);I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),Y("week","w"),Y("isoWeek","W"),A("w",Qa),A("ww",Qa,Na),A("W",Qa),A("WW",Qa,Na),q(["w","ww","W","WW"],function(e,t,n,a){t[a.substr(0,1)]=y(e)});var br={dow:0,doy:6};I("DDD",["DDDD",3],"DDDo","dayOfYear"),Y("dayOfYear","DDD"),A("DDD",Ja),A("DDDD",Va),z(["DDD","DDDD"],function(e,t,n){n._dayOfYear=y(e)}),e.ISO_8601=function(){};var Dr=et("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=xt.apply(null,arguments);return this>e?this:e}),kr=et("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=xt.apply(null,arguments);return e>this?this:e});Wt("Z",":"),Wt("ZZ",""),A("Z",tr),A("ZZ",tr),z(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Et(e)});var Mr=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Yr=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Tr=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Jt.fn=It.prototype;var Cr=en(1,"add"),Sr=en(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var xr=et("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});I(0,["gg",2],0,function(){return this.weekYear()%100}),I(0,["GG",2],0,function(){return this.isoWeekYear()%100}),On("gggg","weekYear"),On("ggggg","weekYear"),On("GGGG","isoWeekYear"),On("GGGGG","isoWeekYear"),Y("weekYear","gg"),Y("isoWeekYear","GG"),A("G",er),A("g",er),A("GG",Qa,Na),A("gg",Qa,Na),A("GGGG",$a,Za),A("gggg",$a,Za),A("GGGGG",Xa,Ra),A("ggggg",Xa,Ra),q(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,a){t[a.substr(0,2)]=y(e)}),q(["gg","GG"],function(t,n,a,r){n[r]=e.parseTwoDigitYear(t)}),I("Q",0,0,"quarter"),Y("quarter","Q"),A("Q",Ba),z("Q",function(e,t){t[sr]=3*(y(e)-1)}),I("D",["DD",2],"Do","date"),Y("date","D"),A("D",Qa),A("DD",Qa,Na),A("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),z(["D","DD"],dr),z("Do",function(e,t){t[dr]=y(e.match(Qa)[0],10)});var Or=S("Date",!0);I("d",0,"do","day"),I("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),I("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),I("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),Y("day","d"),Y("weekday","e"),Y("isoWeekday","E"),A("d",Qa),A("e",Qa),A("E",Qa),A("dd",ar),A("ddd",ar),A("dddd",ar),q(["dd","ddd","dddd"],function(e,t,n){var a=n._locale.weekdaysParse(e);null!=a?t.d=a:l(n).invalidWeekday=e}),q(["d","e","E"],function(e,t,n,a){t[a]=y(e)});var Pr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Hr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ir="Su_Mo_Tu_We_Th_Fr_Sa".split("_");I("H",["HH",2],0,"hour"),I("h",["hh",2],0,function(){return this.hours()%12||12}),Nn("a",!0),Nn("A",!1),Y("hour","h"),A("a",Vn),A("A",Vn),A("H",Qa),A("h",Qa),A("HH",Qa,Na),A("hh",Qa,Na),z(["H","HH"],lr),z(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),z(["h","hh"],function(e,t,n){t[lr]=y(e),l(n).bigHour=!0});var Lr=/[ap]\.?m?\.?/i,Wr=S("Hours",!0);I("m",["mm",2],0,"minute"),Y("minute","m"),A("m",Qa),A("mm",Qa,Na),z(["m","mm"],ur);var Er=S("Minutes",!1);I("s",["ss",2],0,"second"),Y("second","s"),A("s",Qa),A("ss",Qa,Na),z(["s","ss"],cr);var Fr=S("Seconds",!1);I("S",0,0,function(){return~~(this.millisecond()/100)}),I(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),I(0,["SSS",3],0,"millisecond"),I(0,["SSSS",4],0,function(){return 10*this.millisecond()}),I(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),I(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),I(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),I(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),I(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Y("millisecond","ms"),A("S",Ja,Ba),A("SS",Ja,Na),A("SSS",Ja,Va);var Ur;for(Ur="SSSS";Ur.length<=9;Ur+="S")A(Ur,Ka);for(Ur="S";Ur.length<=9;Ur+="S")z(Ur,Qn);var Ar=S("Milliseconds",!1);I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName");var Gr=p.prototype;Gr.add=Cr,Gr.calendar=nn,Gr.clone=an,Gr.diff=ln,Gr.endOf=bn,Gr.format=pn,Gr.from=hn,Gr.fromNow=mn,Gr.to=yn,Gr.toNow=gn,Gr.get=P,Gr.invalidAt=xn,Gr.isAfter=rn,Gr.isBefore=on,Gr.isBetween=sn,Gr.isSame=dn,Gr.isValid=Cn,Gr.lang=xr,Gr.locale=wn,Gr.localeData=_n,Gr.max=kr,Gr.min=Dr,Gr.parsingFlags=Sn,Gr.set=P,Gr.startOf=vn,Gr.subtract=Sr,Gr.toArray=Yn,Gr.toObject=Tn,Gr.toDate=Mn,Gr.toISOString=fn,Gr.toJSON=fn,Gr.toString=cn,Gr.unix=kn,Gr.valueOf=Dn,Gr.year=vr,Gr.isLeapYear=dt,Gr.weekYear=Hn,Gr.isoWeekYear=In,Gr.quarter=Gr.quarters=En,Gr.month=J,Gr.daysInMonth=$,Gr.week=Gr.weeks=pt,Gr.isoWeek=Gr.isoWeeks=ht,Gr.weeksInYear=Wn,Gr.isoWeeksInYear=Ln,Gr.date=Or,Gr.day=Gr.days=zn,Gr.weekday=qn,Gr.isoWeekday=Bn,Gr.dayOfYear=yt,Gr.hour=Gr.hours=Wr,Gr.minute=Gr.minutes=Er,Gr.second=Gr.seconds=Fr,Gr.millisecond=Gr.milliseconds=Ar,Gr.utcOffset=At,Gr.utc=jt,Gr.local=zt,Gr.parseZone=qt,Gr.hasAlignedHourOffset=Bt,Gr.isDST=Nt,Gr.isDSTShifted=Vt,Gr.isLocal=Zt,Gr.isUtcOffset=Rt,Gr.isUtc=Qt,Gr.isUTC=Qt,Gr.zoneAbbr=Jn,Gr.zoneName=$n,Gr.dates=et("dates accessor is deprecated. Use date instead.",Or),Gr.months=et("months accessor is deprecated. Use month instead",J),Gr.years=et("years accessor is deprecated. Use year instead",vr),Gr.zone=et("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Gt);
var jr=Gr,zr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},qr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Br="Invalid date",Nr="%d",Vr=/\d{1,2}/,Zr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Rr=w.prototype;Rr._calendar=zr,Rr.calendar=ea,Rr._longDateFormat=qr,Rr.longDateFormat=ta,Rr._invalidDate=Br,Rr.invalidDate=na,Rr._ordinal=Nr,Rr.ordinal=aa,Rr._ordinalParse=Vr,Rr.preparse=ra,Rr.postformat=ra,Rr._relativeTime=Zr,Rr.relativeTime=ia,Rr.pastFuture=oa,Rr.set=sa,Rr.months=V,Rr._months=pr,Rr.monthsShort=Z,Rr._monthsShort=hr,Rr.monthsParse=R,Rr.week=ut,Rr._week=br,Rr.firstDayOfYear=ft,Rr.firstDayOfWeek=ct,Rr.weekdays=Un,Rr._weekdays=Pr,Rr.weekdaysMin=Gn,Rr._weekdaysMin=Ir,Rr.weekdaysShort=An,Rr._weekdaysShort=Hr,Rr.weekdaysParse=jn,Rr.isPM=Zn,Rr._meridiemParse=Lr,Rr.meridiem=Rn,D("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===y(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=et("moment.lang is deprecated. Use moment.locale instead.",D),e.langData=et("moment.langData is deprecated. Use moment.localeData instead.",M);var Qr=Math.abs,Jr=Ya("ms"),$r=Ya("s"),Xr=Ya("m"),Kr=Ya("h"),ei=Ya("d"),ti=Ya("w"),ni=Ya("M"),ai=Ya("y"),ri=Ca("milliseconds"),ii=Ca("seconds"),oi=Ca("minutes"),si=Ca("hours"),di=Ca("days"),li=Ca("months"),ui=Ca("years"),ci=Math.round,fi={s:45,m:45,h:22,d:26,M:11},pi=Math.abs,hi=It.prototype;hi.abs=ma,hi.add=ga,hi.subtract=wa,hi.as=ka,hi.asMilliseconds=Jr,hi.asSeconds=$r,hi.asMinutes=Xr,hi.asHours=Kr,hi.asDays=ei,hi.asWeeks=ti,hi.asMonths=ni,hi.asYears=ai,hi.valueOf=Ma,hi._bubble=va,hi.get=Ta,hi.milliseconds=ri,hi.seconds=ii,hi.minutes=oi,hi.hours=si,hi.days=di,hi.weeks=Sa,hi.months=li,hi.years=ui,hi.humanize=Ha,hi.toISOString=Ia,hi.toString=Ia,hi.toJSON=Ia,hi.locale=wn,hi.localeData=_n,hi.toIsoString=et("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ia),hi.lang=xr,I("X",0,0,"unix"),I("x",0,0,"valueOf"),A("x",er),A("X",nr),z("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),z("x",function(e,t,n){n._d=new Date(y(e))}),e.version="2.10.6",t(xt),e.fn=jr,e.min=Pt,e.max=Ht,e.utc=s,e.unix=Xn,e.months=ua,e.isDate=a,e.locale=D,e.invalid=c,e.duration=Jt,e.isMoment=h,e.weekdays=fa,e.parseZone=Kn,e.localeData=M,e.isDuration=Lt,e.monthsShort=ca,e.weekdaysMin=ha,e.defineLocale=k,e.weekdaysShort=pa,e.normalizeUnits=T,e.relativeTimeThreshold=Pa;var mi=e;return mi}),function(e){e(moment)}(function(e){return e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYY-MM-DD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYY-MM-DD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t){var n=100*e+t;return 600>n?"":900>n?"":1130>n?"":1230>n?"":1800>n?"":""},calendar:{sameDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},lastDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextWeek:function(){var t,n;return t=e().startOf("week"),n=this.unix()-t.unix()>=604800?"[]":"[]",0===this.minutes()?n+"dddAh":n+"dddAhmm"},lastWeek:function(){var t,n;return t=e().startOf("week"),n=this.unix()<t.unix()?"[]":"[]",0===this.minutes()?n+"dddAh":n+"dddAhmm"},sameElse:"LL"},ordinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"},week:{dow:1,doy:4}})}),function(e){"use strict";if("function"==typeof define&&define.amd)jQuery?e(jQuery,moment):define(["jquery","moment"],e);else if("object"==typeof exports)e(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";e(jQuery,moment)}}(function(e,t){"use strict";if(!t)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var n=function(n,a){var r,i,o,s,d,l={},u=t().startOf("d"),c=u.clone(),f=!0,p=!1,h=!1,m=0,y=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],g=["days","months","years","decades"],w=["top","bottom","auto"],_=["left","right","auto"],v=["default","top","bottom"],b={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},D={},k=function(e){if("string"!=typeof e||e.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return-1!==o.indexOf("Y");case"M":return-1!==o.indexOf("M");case"d":return-1!==o.toLowerCase().indexOf("d");case"h":case"H":return-1!==o.toLowerCase().indexOf("h");case"m":return-1!==o.indexOf("m");case"s":return-1!==o.indexOf("s");default:return!1}},M=function(){return k("h")||k("m")||k("s")},Y=function(){return k("y")||k("M")||k("d")},T=function(){var t=e("<thead>").append(e("<tr>").append(e("<th>").addClass("prev").attr("data-action","previous").append(e("<span>").addClass(a.icons.previous))).append(e("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",a.calendarWeeks?"6":"5")).append(e("<th>").addClass("next").attr("data-action","next").append(e("<span>").addClass(a.icons.next)))),n=e("<tbody>").append(e("<tr>").append(e("<td>").attr("colspan",a.calendarWeeks?"8":"7")));return[e("<div>").addClass("datepicker-days").append(e("<table>").addClass("table-condensed").append(t).append(e("<tbody>"))),e("<div>").addClass("datepicker-months").append(e("<table>").addClass("table-condensed").append(t.clone()).append(n.clone())),e("<div>").addClass("datepicker-years").append(e("<table>").addClass("table-condensed").append(t.clone()).append(n.clone())),e("<div>").addClass("datepicker-decades").append(e("<table>").addClass("table-condensed").append(t.clone()).append(n.clone()))]},C=function(){var t=e("<tr>"),n=e("<tr>"),r=e("<tr>");return k("h")&&(t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:"Increment Hour"}).addClass("btn").attr("data-action","incrementHours").append(e("<span>").addClass(a.icons.up)))),n.append(e("<td>").append(e("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:"Pick Hour"}).attr("data-action","showHours"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:"Decrement Hour"}).addClass("btn").attr("data-action","decrementHours").append(e("<span>").addClass(a.icons.down))))),k("m")&&(k("h")&&(t.append(e("<td>").addClass("separator")),n.append(e("<td>").addClass("separator").html(":")),r.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:"Increment Minute"}).addClass("btn").attr("data-action","incrementMinutes").append(e("<span>").addClass(a.icons.up)))),n.append(e("<td>").append(e("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:"Pick Minute"}).attr("data-action","showMinutes"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:"Decrement Minute"}).addClass("btn").attr("data-action","decrementMinutes").append(e("<span>").addClass(a.icons.down))))),k("s")&&(k("m")&&(t.append(e("<td>").addClass("separator")),n.append(e("<td>").addClass("separator").html(":")),r.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:"Increment Second"}).addClass("btn").attr("data-action","incrementSeconds").append(e("<span>").addClass(a.icons.up)))),n.append(e("<td>").append(e("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:"Pick Second"}).attr("data-action","showSeconds"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:"Decrement Second"}).addClass("btn").attr("data-action","decrementSeconds").append(e("<span>").addClass(a.icons.down))))),i||(t.append(e("<td>").addClass("separator")),n.append(e("<td>").append(e("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:"Toggle Period"}))),r.append(e("<td>").addClass("separator"))),e("<div>").addClass("timepicker-picker").append(e("<table>").addClass("table-condensed").append([t,n,r]))},S=function(){var t=e("<div>").addClass("timepicker-hours").append(e("<table>").addClass("table-condensed")),n=e("<div>").addClass("timepicker-minutes").append(e("<table>").addClass("table-condensed")),a=e("<div>").addClass("timepicker-seconds").append(e("<table>").addClass("table-condensed")),r=[C()];return k("h")&&r.push(t),k("m")&&r.push(n),k("s")&&r.push(a),r},x=function(){var t=[];return a.showTodayButton&&t.push(e("<td>").append(e("<a>").attr({"data-action":"today",title:a.tooltips.today}).append(e("<span>").addClass(a.icons.today)))),!a.sideBySide&&Y()&&M()&&t.push(e("<td>").append(e("<a>").attr({"data-action":"togglePicker",title:"Select Time"}).append(e("<span>").addClass(a.icons.time)))),a.showClear&&t.push(e("<td>").append(e("<a>").attr({"data-action":"clear",title:a.tooltips.clear}).append(e("<span>").addClass(a.icons.clear)))),a.showClose&&t.push(e("<td>").append(e("<a>").attr({"data-action":"close",title:a.tooltips.close}).append(e("<span>").addClass(a.icons.close)))),e("<table>").addClass("table-condensed").append(e("<tbody>").append(e("<tr>").append(t)))},O=function(){var t=e("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),n=e("<div>").addClass("datepicker").append(T()),r=e("<div>").addClass("timepicker").append(S()),o=e("<ul>").addClass("list-unstyled"),s=e("<li>").addClass("picker-switch"+(a.collapse?" accordion-toggle":"")).append(x());return a.inline&&t.removeClass("dropdown-menu"),i&&t.addClass("usetwentyfour"),k("s")&&!i&&t.addClass("wider"),a.sideBySide&&Y()&&M()?(t.addClass("timepicker-sbs"),"top"===a.toolbarPlacement&&t.append(s),t.append(e("<div>").addClass("row").append(n.addClass("col-md-6")).append(r.addClass("col-md-6"))),"bottom"===a.toolbarPlacement&&t.append(s),t):("top"===a.toolbarPlacement&&o.append(s),Y()&&o.append(e("<li>").addClass(a.collapse&&M()?"collapse in":"").append(n)),"default"===a.toolbarPlacement&&o.append(s),M()&&o.append(e("<li>").addClass(a.collapse&&Y()?"collapse":"").append(r)),"bottom"===a.toolbarPlacement&&o.append(s),t.append(o))},P=function(){var t,r={};return t=n.is("input")||a.inline?n.data():n.find("input").data(),t.dateOptions&&t.dateOptions instanceof Object&&(r=e.extend(!0,r,t.dateOptions)),e.each(a,function(e){var n="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==t[n]&&(r[e]=t[n])}),r},H=function(){var t,r=(p||n).position(),i=(p||n).offset(),o=a.widgetPositioning.vertical,s=a.widgetPositioning.horizontal;if(a.widgetParent)t=a.widgetParent.append(h);else if(n.is("input"))t=n.after(h).parent();else{if(a.inline)return void(t=n.append(h));t=n,n.children().first().after(h)}if("auto"===o&&(o=i.top+1.5*h.height()>=e(window).height()+e(window).scrollTop()&&h.height()+n.outerHeight()<i.top?"top":"bottom"),"auto"===s&&(s=t.width()<i.left+h.outerWidth()/2&&i.left+h.outerWidth()>e(window).width()?"right":"left"),"top"===o?h.addClass("top").removeClass("bottom"):h.addClass("bottom").removeClass("top"),"right"===s?h.addClass("pull-right"):h.removeClass("pull-right"),"relative"!==t.css("position")&&(t=t.parents().filter(function(){return"relative"===e(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a relative positioned container");h.css({top:"top"===o?"auto":r.top+n.outerHeight(),bottom:"top"===o?r.top+n.outerHeight():"auto",left:"left"===s?t===n?0:r.left:"auto",right:"left"===s?"auto":t.outerWidth()-n.outerWidth()-(t===n?0:r.left)})},I=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||n.trigger(e)},L=function(e){"y"===e&&(e="YYYY"),I({type:"dp.update",change:e,viewDate:c.clone()})},W=function(e){h&&(e&&(d=Math.max(m,Math.min(3,d+e))),h.find(".datepicker > div").hide().filter(".datepicker-"+y[d].clsName).show())},E=function(){var t=e("<tr>"),n=c.clone().startOf("w").startOf("d");for(a.calendarWeeks===!0&&t.append(e("<th>").addClass("cw").text("#"));n.isBefore(c.clone().endOf("w"));)t.append(e("<th>").addClass("dow").text(n.format("dd"))),n.add(1,"d");h.find(".datepicker-days thead").append(t)},F=function(e){return a.disabledDates[e.format("YYYY-MM-DD")]===!0},U=function(e){return a.enabledDates[e.format("YYYY-MM-DD")]===!0},A=function(e){return a.disabledHours[e.format("H")]===!0},G=function(e){return a.enabledHours[e.format("H")]===!0},j=function(t,n){if(!t.isValid())return!1;if(a.disabledDates&&"d"===n&&F(t))return!1;if(a.enabledDates&&"d"===n&&!U(t))return!1;if(a.minDate&&t.isBefore(a.minDate,n))return!1;if(a.maxDate&&t.isAfter(a.maxDate,n))return!1;if(a.daysOfWeekDisabled&&"d"===n&&-1!==a.daysOfWeekDisabled.indexOf(t.day()))return!1;if(a.disabledHours&&("h"===n||"m"===n||"s"===n)&&A(t))return!1;if(a.enabledHours&&("h"===n||"m"===n||"s"===n)&&!G(t))return!1;if(a.disabledTimeIntervals&&("h"===n||"m"===n||"s"===n)){var r=!1;if(e.each(a.disabledTimeIntervals,function(){return t.isBetween(this[0],this[1])?(r=!0,!1):void 0}),r)return!1}return!0},z=function(){for(var t=[],n=c.clone().startOf("y").startOf("d");n.isSame(c,"y");)t.push(e("<span>").attr("data-action","selectMonth").addClass("month").text(n.format("MMM"))),n.add(1,"M");h.find(".datepicker-months td").empty().append(t)},q=function(){var t=h.find(".datepicker-months"),n=t.find("th"),r=t.find("tbody").find("span");n.eq(0).find("span").attr("title",a.tooltips.prevYear),n.eq(1).attr("title",a.tooltips.selectYear),n.eq(2).find("span").attr("title",a.tooltips.nextYear),t.find(".disabled").removeClass("disabled"),j(c.clone().subtract(1,"y"),"y")||n.eq(0).addClass("disabled"),n.eq(1).text(c.year()),j(c.clone().add(1,"y"),"y")||n.eq(2).addClass("disabled"),r.removeClass("active"),u.isSame(c,"y")&&!f&&r.eq(u.month()).addClass("active"),r.each(function(t){j(c.clone().month(t),"M")||e(this).addClass("disabled")})},B=function(){var e=h.find(".datepicker-years"),t=e.find("th"),n=c.clone().subtract(5,"y"),r=c.clone().add(6,"y"),i="";for(t.eq(0).find("span").attr("title",a.tooltips.nextDecade),t.eq(1).attr("title",a.tooltips.selectDecade),t.eq(2).find("span").attr("title",a.tooltips.prevDecade),e.find(".disabled").removeClass("disabled"),a.minDate&&a.minDate.isAfter(n,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(n.year()+"-"+r.year()),a.maxDate&&a.maxDate.isBefore(r,"y")&&t.eq(2).addClass("disabled");!n.isAfter(r,"y");)i+='<span data-action="selectYear" class="year'+(n.isSame(u,"y")&&!f?" active":"")+(j(n,"y")?"":" disabled")+'">'+n.year()+"</span>",n.add(1,"y");e.find("td").html(i)},N=function(){var e=h.find(".datepicker-decades"),n=e.find("th"),r=t(c.isBefore(t({y:1999}))?{y:1899}:{y:1999}),i=r.clone().add(100,"y"),o="";for(n.eq(0).find("span").attr("title",a.tooltips.prevCentury),n.eq(2).find("span").attr("title",a.tooltips.nextCentury),e.find(".disabled").removeClass("disabled"),(r.isSame(t({y:1900}))||a.minDate&&a.minDate.isAfter(r,"y"))&&n.eq(0).addClass("disabled"),n.eq(1).text(r.year()+"-"+i.year()),(r.isSame(t({y:2e3}))||a.maxDate&&a.maxDate.isBefore(i,"y"))&&n.eq(2).addClass("disabled");!r.isAfter(i,"y");)o+='<span data-action="selectDecade" class="decade'+(r.isSame(u,"y")?" active":"")+(j(r,"y")?"":" disabled")+'" data-selection="'+(r.year()+6)+'">'+(r.year()+1)+" - "+(r.year()+12)+"</span>",r.add(12,"y");o+="<span></span><span></span><span></span>",e.find("td").html(o)},V=function(){var n,r,i,o,s=h.find(".datepicker-days"),d=s.find("th"),l=[];if(Y()){for(d.eq(0).find("span").attr("title",a.tooltips.prevMonth),d.eq(1).attr("title",a.tooltips.selectMonth),d.eq(2).find("span").attr("title",a.tooltips.nextMonth),s.find(".disabled").removeClass("disabled"),d.eq(1).text(c.format(a.dayViewHeaderFormat)),j(c.clone().subtract(1,"M"),"M")||d.eq(0).addClass("disabled"),j(c.clone().add(1,"M"),"M")||d.eq(2).addClass("disabled"),n=c.clone().startOf("M").startOf("w").startOf("d"),o=0;42>o;o++)0===n.weekday()&&(r=e("<tr>"),a.calendarWeeks&&r.append('<td class="cw">'+n.week()+"</td>"),l.push(r)),i="",n.isBefore(c,"M")&&(i+=" old"),n.isAfter(c,"M")&&(i+=" new"),n.isSame(u,"d")&&!f&&(i+=" active"),j(n,"d")||(i+=" disabled"),n.isSame(t(),"d")&&(i+=" today"),(0===n.day()||6===n.day())&&(i+=" weekend"),r.append('<td data-action="selectDay" data-day="'+n.format("L")+'" class="day'+i+'">'+n.date()+"</td>"),n.add(1,"d");s.find("tbody").empty().append(l),q(),B(),N()}},Z=function(){var t=h.find(".timepicker-hours table"),n=c.clone().startOf("d"),a=[],r=e("<tr>");for(c.hour()>11&&!i&&n.hour(12);n.isSame(c,"d")&&(i||c.hour()<12&&n.hour()<12||c.hour()>11);)n.hour()%4===0&&(r=e("<tr>"),a.push(r)),r.append('<td data-action="selectHour" class="hour'+(j(n,"h")?"":" disabled")+'">'+n.format(i?"HH":"hh")+"</td>"),n.add(1,"h");t.empty().append(a)},R=function(){for(var t=h.find(".timepicker-minutes table"),n=c.clone().startOf("h"),r=[],i=e("<tr>"),o=1===a.stepping?5:a.stepping;c.isSame(n,"h");)n.minute()%(4*o)===0&&(i=e("<tr>"),r.push(i)),i.append('<td data-action="selectMinute" class="minute'+(j(n,"m")?"":" disabled")+'">'+n.format("mm")+"</td>"),n.add(o,"m");t.empty().append(r)},Q=function(){for(var t=h.find(".timepicker-seconds table"),n=c.clone().startOf("m"),a=[],r=e("<tr>");c.isSame(n,"m");)n.second()%20===0&&(r=e("<tr>"),a.push(r)),r.append('<td data-action="selectSecond" class="second'+(j(n,"s")?"":" disabled")+'">'+n.format("ss")+"</td>"),n.add(5,"s");t.empty().append(a)},J=function(){var e,t,n=h.find(".timepicker span[data-time-component]");i||(e=h.find(".timepicker [data-action=togglePeriod]"),t=u.clone().add(u.hours()>=12?-12:12,"h"),e.text(u.format("A")),j(t,"h")?e.removeClass("disabled"):e.addClass("disabled")),n.filter("[data-time-component=hours]").text(u.format(i?"HH":"hh")),n.filter("[data-time-component=minutes]").text(u.format("mm")),n.filter("[data-time-component=seconds]").text(u.format("ss")),Z(),R(),Q()},$=function(){h&&(V(),J())},X=function(e){var t=f?null:u;return e?(e=e.clone().locale(a.locale),1!==a.stepping&&e.minutes(Math.round(e.minutes()/a.stepping)*a.stepping%60).seconds(0),void(j(e)?(u=e,c=u.clone(),r.val(u.format(o)),n.data("date",u.format(o)),f=!1,$(),I({type:"dp.change",date:u.clone(),oldDate:t})):(a.keepInvalid||r.val(f?"":u.format(o)),I({type:"dp.error",date:e})))):(f=!0,r.val(""),n.data("date",""),I({type:"dp.change",date:!1,oldDate:t}),void $())},K=function(){var t=!1;return h?(h.find(".collapse").each(function(){var n=e(this).data("collapse");return n&&n.transitioning?(t=!0,!1):!0}),t?l:(p&&p.hasClass("btn")&&p.toggleClass("active"),h.hide(),e(window).off("resize",H),h.off("click","[data-action]"),h.off("mousedown",!1),h.remove(),h=!1,I({type:"dp.hide",date:u.clone()}),r.blur(),l)):l},et=function(){X(null)},tt={next:function(){var e=y[d].navFnc;c.add(y[d].navStep,e),V(),L(e)},previous:function(){var e=y[d].navFnc;c.subtract(y[d].navStep,e),V(),L(e)},pickerSwitch:function(){W(1)},selectMonth:function(t){var n=e(t.target).closest("tbody").find("span").index(e(t.target));c.month(n),d===m?(X(u.clone().year(c.year()).month(c.month())),a.inline||K()):(W(-1),V()),L("M")},selectYear:function(t){var n=parseInt(e(t.target).text(),10)||0;c.year(n),d===m?(X(u.clone().year(c.year())),a.inline||K()):(W(-1),V()),L("YYYY")},selectDecade:function(t){var n=parseInt(e(t.target).data("selection"),10)||0;c.year(n),d===m?(X(u.clone().year(c.year())),a.inline||K()):(W(-1),V()),L("YYYY")},selectDay:function(t){var n=c.clone();e(t.target).is(".old")&&n.subtract(1,"M"),e(t.target).is(".new")&&n.add(1,"M"),X(n.date(parseInt(e(t.target).text(),10))),M()||a.keepOpen||a.inline||K()},incrementHours:function(){var e=u.clone().add(1,"h");j(e,"h")&&X(e)},incrementMinutes:function(){var e=u.clone().add(a.stepping,"m");j(e,"m")&&X(e)},incrementSeconds:function(){var e=u.clone().add(1,"s");j(e,"s")&&X(e)},decrementHours:function(){var e=u.clone().subtract(1,"h");j(e,"h")&&X(e)},decrementMinutes:function(){var e=u.clone().subtract(a.stepping,"m");j(e,"m")&&X(e)},decrementSeconds:function(){var e=u.clone().subtract(1,"s");j(e,"s")&&X(e)},togglePeriod:function(){X(u.clone().add(u.hours()>=12?-12:12,"h"))},togglePicker:function(t){var n,r=e(t.target),i=r.closest("ul"),o=i.find(".in"),s=i.find(".collapse:not(.in)");if(o&&o.length){if(n=o.data("collapse"),n&&n.transitioning)return;o.collapse?(o.collapse("hide"),s.collapse("show")):(o.removeClass("in"),s.addClass("in")),r.is("span")?r.toggleClass(a.icons.time+" "+a.icons.date):r.find("span").toggleClass(a.icons.time+" "+a.icons.date)}},showPicker:function(){h.find(".timepicker > div:not(.timepicker-picker)").hide(),h.find(".timepicker .timepicker-picker").show()},showHours:function(){h.find(".timepicker .timepicker-picker").hide(),h.find(".timepicker .timepicker-hours").show()},showMinutes:function(){h.find(".timepicker .timepicker-picker").hide(),h.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){h.find(".timepicker .timepicker-picker").hide(),h.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var n=parseInt(e(t.target).text(),10);i||(u.hours()>=12?12!==n&&(n+=12):12===n&&(n=0)),X(u.clone().hours(n)),tt.showPicker.call(l)},selectMinute:function(t){X(u.clone().minutes(parseInt(e(t.target).text(),10))),tt.showPicker.call(l)},selectSecond:function(t){X(u.clone().seconds(parseInt(e(t.target).text(),10))),tt.showPicker.call(l)},clear:et,today:function(){j(t(),"d")&&X(t())},close:K},nt=function(t){return e(t.currentTarget).is(".disabled")?!1:(tt[e(t.currentTarget).data("action")].apply(l,arguments),!1)},at=function(){var n,i={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}};return r.prop("disabled")||!a.ignoreReadonly&&r.prop("readonly")||h?l:(void 0!==r.val()&&0!==r.val().trim().length?X(it(r.val().trim())):a.useCurrent&&f&&(r.is("input")&&0===r.val().trim().length||a.inline)&&(n=t(),"string"==typeof a.useCurrent&&(n=i[a.useCurrent](n)),X(n)),h=O(),E(),z(),h.find(".timepicker-hours").hide(),h.find(".timepicker-minutes").hide(),h.find(".timepicker-seconds").hide(),$(),W(),e(window).on("resize",H),h.on("click","[data-action]",nt),h.on("mousedown",!1),p&&p.hasClass("btn")&&p.toggleClass("active"),h.show(),H(),a.focusOnShow&&!r.is(":focus")&&r.focus(),I({type:"dp.show"}),l)},rt=function(){return h?K():at()},it=function(e){return e=void 0===a.parseInputDate?t.isMoment(e)||e instanceof Date?t(e):t(e,s,a.useStrict):a.parseInputDate(e),e.locale(a.locale),e},ot=function(e){var t,n,r,i,o=null,s=[],d={},u=e.which,c="p";D[u]=c;for(t in D)D.hasOwnProperty(t)&&D[t]===c&&(s.push(t),parseInt(t,10)!==u&&(d[t]=!0));for(t in a.keyBinds)if(a.keyBinds.hasOwnProperty(t)&&"function"==typeof a.keyBinds[t]&&(r=t.split(" "),r.length===s.length&&b[u]===r[r.length-1])){for(i=!0,n=r.length-2;n>=0;n--)if(!(b[r[n]]in d)){i=!1;break}if(i){o=a.keyBinds[t];break}}o&&(o.call(l,h),e.stopPropagation(),e.preventDefault())},st=function(e){D[e.which]="r",e.stopPropagation(),e.preventDefault()},dt=function(t){var n=e(t.target).val().trim(),a=n?it(n):null;return X(a),t.stopImmediatePropagation(),!1},lt=function(){r.on({change:dt,blur:a.debug?"":K,keydown:ot,keyup:st,focus:a.allowInputToggle?at:""}),n.is("input")?r.on({focus:at}):p&&(p.on("click",rt),p.on("mousedown",!1))},ut=function(){r.off({change:dt,blur:blur,keydown:ot,keyup:st,focus:a.allowInputToggle?K:""}),n.is("input")?r.off({focus:at}):p&&(p.off("click",rt),p.off("mousedown",!1))},ct=function(t){var n={};return e.each(t,function(){var e=it(this);e.isValid()&&(n[e.format("YYYY-MM-DD")]=!0)}),Object.keys(n).length?n:!1},ft=function(t){var n={};return e.each(t,function(){n[this]=!0}),Object.keys(n).length?n:!1},pt=function(){var e=a.format||"L LT";o=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){var t=u.localeData().longDateFormat(e)||e;return t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return u.localeData().longDateFormat(e)||e})}),s=a.extraFormats?a.extraFormats.slice():[],s.indexOf(e)<0&&s.indexOf(o)<0&&s.push(o),i=o.toLowerCase().indexOf("a")<1&&o.replace(/\[.*?\]/g,"").indexOf("h")<1,k("y")&&(m=2),k("M")&&(m=1),k("d")&&(m=0),d=Math.max(m,d),f||X(u)};if(l.destroy=function(){K(),ut(),n.removeData("DateTimePicker"),n.removeData("date")},l.toggle=rt,l.show=at,l.hide=K,l.disable=function(){return K(),p&&p.hasClass("btn")&&p.addClass("disabled"),r.prop("disabled",!0),l},l.enable=function(){return p&&p.hasClass("btn")&&p.removeClass("disabled"),r.prop("disabled",!1),l},l.ignoreReadonly=function(e){if(0===arguments.length)return a.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return a.ignoreReadonly=e,l},l.options=function(t){if(0===arguments.length)return e.extend(!0,{},a);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,a,t),e.each(a,function(e,t){if(void 0===l[e])throw new TypeError("option "+e+" is not recognized!");l[e](t)}),l},l.date=function(e){if(0===arguments.length)return f?null:u.clone();if(!(null===e||"string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return X(null===e?null:it(e)),l},l.format=function(e){if(0===arguments.length)return a.format;if("string"!=typeof e&&("boolean"!=typeof e||e!==!1))throw new TypeError("format() expects a sting or boolean:false parameter "+e);return a.format=e,o&&pt(),l},l.dayViewHeaderFormat=function(e){if(0===arguments.length)return a.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return a.dayViewHeaderFormat=e,l},l.extraFormats=function(e){if(0===arguments.length)return a.extraFormats;if(e!==!1&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return a.extraFormats=e,s&&pt(),l},l.disabledDates=function(t){if(0===arguments.length)return a.disabledDates?e.extend({},a.disabledDates):a.disabledDates;if(!t)return a.disabledDates=!1,$(),l;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return a.disabledDates=ct(t),a.enabledDates=!1,$(),l},l.enabledDates=function(t){if(0===arguments.length)return a.enabledDates?e.extend({},a.enabledDates):a.enabledDates;if(!t)return a.enabledDates=!1,$(),l;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return a.enabledDates=ct(t),a.disabledDates=!1,$(),l},l.daysOfWeekDisabled=function(e){if(0===arguments.length)return a.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return a.daysOfWeekDisabled=!1,$(),l;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(a.daysOfWeekDisabled=e.reduce(function(e,t){return t=parseInt(t,10),t>6||0>t||isNaN(t)?e:(-1===e.indexOf(t)&&e.push(t),e)},[]).sort(),a.useCurrent&&!a.keepInvalid){for(var t=0;!j(u,"d");){if(u.add(1,"d"),7===t)throw"Tried 7 times to find a valid date";t++}X(u)}return $(),l},l.maxDate=function(e){if(0===arguments.length)return a.maxDate?a.maxDate.clone():a.maxDate;if("boolean"==typeof e&&e===!1)return a.maxDate=!1,$(),l;"string"==typeof e&&("now"===e||"moment"===e)&&(e=t());var n=it(e);if(!n.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(a.minDate&&n.isBefore(a.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+n.format(o));return a.maxDate=n,a.useCurrent&&!a.keepInvalid&&u.isAfter(e)&&X(a.maxDate),c.isAfter(n)&&(c=n.clone().subtract(a.stepping,"m")),$(),l},l.minDate=function(e){if(0===arguments.length)return a.minDate?a.minDate.clone():a.minDate;if("boolean"==typeof e&&e===!1)return a.minDate=!1,$(),l;"string"==typeof e&&("now"===e||"moment"===e)&&(e=t());var n=it(e);if(!n.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(a.maxDate&&n.isAfter(a.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+n.format(o));return a.minDate=n,a.useCurrent&&!a.keepInvalid&&u.isBefore(e)&&X(a.minDate),c.isBefore(n)&&(c=n.clone().add(a.stepping,"m")),$(),l},l.defaultDate=function(e){if(0===arguments.length)return a.defaultDate?a.defaultDate.clone():a.defaultDate;if(!e)return a.defaultDate=!1,l;"string"==typeof e&&("now"===e||"moment"===e)&&(e=t());var n=it(e);if(!n.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!j(n))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return a.defaultDate=n,(a.defaultDate&&a.inline||""===r.val().trim()&&void 0===r.attr("placeholder"))&&X(a.defaultDate),l},l.locale=function(e){if(0===arguments.length)return a.locale;if(!t.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return a.locale=e,u.locale(a.locale),c.locale(a.locale),o&&pt(),h&&(K(),at()),l},l.stepping=function(e){return 0===arguments.length?a.stepping:(e=parseInt(e,10),(isNaN(e)||1>e)&&(e=1),a.stepping=e,l)},l.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return a.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&-1===t.indexOf(e.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return a.useCurrent=e,l},l.collapse=function(e){if(0===arguments.length)return a.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return a.collapse===e?l:(a.collapse=e,h&&(K(),at()),l)},l.icons=function(t){if(0===arguments.length)return e.extend({},a.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return e.extend(a.icons,t),h&&(K(),at()),l},l.tooltips=function(t){if(0===arguments.length)return e.extend({},a.tooltips);if(!(t instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return e.extend(a.tooltips,t),h&&(K(),at()),l},l.useStrict=function(e){if(0===arguments.length)return a.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return a.useStrict=e,l},l.sideBySide=function(e){if(0===arguments.length)return a.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return a.sideBySide=e,h&&(K(),at()),l},l.viewMode=function(e){if(0===arguments.length)return a.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(-1===g.indexOf(e))throw new TypeError("viewMode() parameter must be one of ("+g.join(", ")+") value");return a.viewMode=e,d=Math.max(g.indexOf(e),m),W(),l
},l.toolbarPlacement=function(e){if(0===arguments.length)return a.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===v.indexOf(e))throw new TypeError("toolbarPlacement() parameter must be one of ("+v.join(", ")+") value");return a.toolbarPlacement=e,h&&(K(),at()),l},l.widgetPositioning=function(t){if(0===arguments.length)return e.extend({},a.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),-1===_.indexOf(t.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+_.join(", ")+")");a.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),-1===w.indexOf(t.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+w.join(", ")+")");a.widgetPositioning.vertical=t.vertical}return $(),l},l.calendarWeeks=function(e){if(0===arguments.length)return a.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return a.calendarWeeks=e,$(),l},l.showTodayButton=function(e){if(0===arguments.length)return a.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return a.showTodayButton=e,h&&(K(),at()),l},l.showClear=function(e){if(0===arguments.length)return a.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return a.showClear=e,h&&(K(),at()),l},l.widgetParent=function(t){if(0===arguments.length)return a.widgetParent;if("string"==typeof t&&(t=e(t)),null!==t&&"string"!=typeof t&&!(t instanceof e))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return a.widgetParent=t,h&&(K(),at()),l},l.keepOpen=function(e){if(0===arguments.length)return a.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return a.keepOpen=e,l},l.focusOnShow=function(e){if(0===arguments.length)return a.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return a.focusOnShow=e,l},l.inline=function(e){if(0===arguments.length)return a.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return a.inline=e,l},l.clear=function(){return et(),l},l.keyBinds=function(e){return a.keyBinds=e,l},l.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return a.debug=e,l},l.allowInputToggle=function(e){if(0===arguments.length)return a.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return a.allowInputToggle=e,l},l.showClose=function(e){if(0===arguments.length)return a.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return a.showClose=e,l},l.keepInvalid=function(e){if(0===arguments.length)return a.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");return a.keepInvalid=e,l},l.datepickerInput=function(e){if(0===arguments.length)return a.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return a.datepickerInput=e,l},l.parseInputDate=function(e){if(0===arguments.length)return a.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return a.parseInputDate=e,l},l.disabledTimeIntervals=function(t){if(0===arguments.length)return a.disabledTimeIntervals?e.extend({},a.disabledTimeIntervals):a.disabledTimeIntervals;if(!t)return a.disabledTimeIntervals=!1,$(),l;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return a.disabledTimeIntervals=t,$(),l},l.disabledHours=function(t){if(0===arguments.length)return a.disabledHours?e.extend({},a.disabledHours):a.disabledHours;if(!t)return a.disabledHours=!1,$(),l;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(a.disabledHours=ft(t),a.enabledHours=!1,a.useCurrent&&!a.keepInvalid){for(var n=0;!j(u,"h");){if(u.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}X(u)}return $(),l},l.enabledHours=function(t){if(0===arguments.length)return a.enabledHours?e.extend({},a.enabledHours):a.enabledHours;if(!t)return a.enabledHours=!1,$(),l;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(a.enabledHours=ft(t),a.disabledHours=!1,a.useCurrent&&!a.keepInvalid){for(var n=0;!j(u,"h");){if(u.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}X(u)}return $(),l},l.viewDate=function(e){if(0===arguments.length)return c.clone();if(!e)return c=u.clone(),l;if(!("string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return c=it(e),L(),l},n.is("input"))r=n;else if(r=n.find(a.datepickerInput),0===r.size())r=n.find("input");else if(!r.is("input"))throw new Error('CSS class "'+a.datepickerInput+'" cannot be applied to non input element');if(n.hasClass("input-group")&&(p=n.find(0===n.find(".datepickerbutton").size()?".input-group-addon":".datepickerbutton")),!a.inline&&!r.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return e.extend(!0,a,P()),l.options(a),pt(),lt(),r.prop("disabled")&&l.disable(),r.is("input")&&0!==r.val().trim().length?X(it(r.val().trim())):a.defaultDate&&void 0===r.attr("placeholder")&&X(a.defaultDate),a.inline&&at(),l};e.fn.datetimepicker=function(t){return this.each(function(){var a=e(this);a.data("DateTimePicker")||(t=e.extend(!0,{},e.fn.datetimepicker.defaults,t),a.data("DateTimePicker",n(a,t)))})},e.fn.datetimepicker.defaults={format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:t.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(e){if(e){var n=this.date()||t();this.date(e.find(".datepicker").is(":visible")?n.clone().subtract(7,"d"):n.clone().add(this.stepping(),"m"))}},down:function(e){if(!e)return void this.show();var n=this.date()||t();this.date(e.find(".datepicker").is(":visible")?n.clone().add(7,"d"):n.clone().subtract(this.stepping(),"m"))},"control up":function(e){if(e){var n=this.date()||t();this.date(e.find(".datepicker").is(":visible")?n.clone().subtract(1,"y"):n.clone().add(1,"h"))}},"control down":function(e){if(e){var n=this.date()||t();this.date(e.find(".datepicker").is(":visible")?n.clone().add(1,"y"):n.clone().subtract(1,"h"))}},left:function(e){if(e){var n=this.date()||t();e.find(".datepicker").is(":visible")&&this.date(n.clone().subtract(1,"d"))}},right:function(e){if(e){var n=this.date()||t();e.find(".datepicker").is(":visible")&&this.date(n.clone().add(1,"d"))}},pageUp:function(e){if(e){var n=this.date()||t();e.find(".datepicker").is(":visible")&&this.date(n.clone().subtract(1,"M"))}},pageDown:function(e){if(e){var n=this.date()||t();e.find(".datepicker").is(":visible")&&this.date(n.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e.find(".timepicker").is(":visible")&&e.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(t())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1}});
;/*!dialog/js/bootstrap-dialog.js*/
!function(t,e){"use strict";t.bi={},"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery"),require("bootstrap")):"function"==typeof define&&define.amd?jQuery?t.bi.dialog=e(t.jQuery):define("bootstrap-dialog",["jquery","bootstrap"],function(t){return e(t)}):t.bi.dialog=e(t.jQuery)}(this,function(t){"use strict";var e=t.fn.modal.Constructor,n=function(t,n){e.call(this,t,n)};n.getModalVersion=function(){var e=null;return e="undefined"==typeof t.fn.modal.Constructor.VERSION?"v3.1":/3\.2\.\d+/.test(t.fn.modal.Constructor.VERSION)?"v3.2":/3\.3\.[1,2]/.test(t.fn.modal.Constructor.VERSION)?"v3.3":"v3.3.4"},n.ORIGINAL_BODY_PADDING=parseInt(t("body").css("padding-right")||0,10),n.METHODS_TO_OVERRIDE={},n.METHODS_TO_OVERRIDE["v3.1"]={},n.METHODS_TO_OVERRIDE["v3.2"]={hide:function(e){if(e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()){this.isShown=!1;var n=this.getGlobalOpenedDialogs();0===n.length&&this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()}}},n.METHODS_TO_OVERRIDE["v3.3"]={setScrollbar:function(){var t=n.ORIGINAL_BODY_PADDING;this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},resetScrollbar:function(){var t=this.getGlobalOpenedDialogs();0===t.length&&this.$body.css("padding-right",n.ORIGINAL_BODY_PADDING)},hideModal:function(){this.$element.hide(),this.backdrop(t.proxy(function(){var t=this.getGlobalOpenedDialogs();0===t.length&&this.$body.removeClass("modal-open"),this.resetAdjustments(),this.resetScrollbar(),this.$element.trigger("hidden.bs.modal")},this))}},n.METHODS_TO_OVERRIDE["v3.3.4"]=t.extend({},n.METHODS_TO_OVERRIDE["v3.3"]),n.prototype={constructor:n,getGlobalOpenedDialogs:function(){var e=[];return t.each(o.dialogs,function(t,n){n.isRealized()&&n.isOpened()&&e.push(n)}),e}},n.prototype=t.extend(n.prototype,e.prototype,n.METHODS_TO_OVERRIDE[n.getModalVersion()]);var o=function(e){this.defaultOptions=t.extend(!0,{id:o.newGuid(),buttons:[],data:{},onshow:null,onshown:null,onhide:null,onhidden:null},o.defaultOptions),this.indexedButtons={},this.registeredButtonHotkeys={},this.draggableData={isMouseDown:!1,mouseOffset:{}},this.realized=!1,this.opened=!1,this.initOptions(e),this.holdThisInstance()};return o.BootstrapDialogModal=n,o.NAMESPACE="bootstrap-dialog",o.TYPE_DEFAULT="type-default",o.TYPE_INFO="type-info",o.TYPE_PRIMARY="type-primary",o.TYPE_SUCCESS="type-success",o.TYPE_WARNING="type-warning",o.TYPE_DANGER="type-danger",o.DEFAULT_TEXTS={},o.DEFAULT_TEXTS[o.TYPE_DEFAULT]="Information",o.DEFAULT_TEXTS[o.TYPE_INFO]="Information",o.DEFAULT_TEXTS[o.TYPE_PRIMARY]="Information",o.DEFAULT_TEXTS[o.TYPE_SUCCESS]="Success",o.DEFAULT_TEXTS[o.TYPE_WARNING]="Warning",o.DEFAULT_TEXTS[o.TYPE_DANGER]="Danger",o.DEFAULT_TEXTS.OK="",o.DEFAULT_TEXTS.CANCEL="",o.DEFAULT_TEXTS.CONFIRM="Confirmation",o.SIZE_NORMAL="size-normal",o.SIZE_SMALL="size-small",o.SIZE_WIDE="size-wide",o.SIZE_LARGE="size-large",o.BUTTON_SIZES={},o.BUTTON_SIZES[o.SIZE_NORMAL]="",o.BUTTON_SIZES[o.SIZE_SMALL]="",o.BUTTON_SIZES[o.SIZE_WIDE]="",o.BUTTON_SIZES[o.SIZE_LARGE]="btn-lg",o.ICON_SPINNER="glyphicon glyphicon-asterisk",o.defaultOptions={type:o.TYPE_PRIMARY,size:o.SIZE_NORMAL,cssClass:"",title:null,message:null,nl2br:!0,closable:!0,closeByBackdrop:!0,closeByKeyboard:!0,spinicon:o.ICON_SPINNER,autodestroy:!0,draggable:!1,animate:!0,description:"",tabindex:null},o.configDefaultOptions=function(e){o.defaultOptions=t.extend(!0,o.defaultOptions,e)},o.dialogs={},o.openAll=function(){t.each(o.dialogs,function(t,e){e.open()})},o.closeAll=function(){t.each(o.dialogs,function(t,e){e.close()})},o.moveFocus=function(){var e=null;t.each(o.dialogs,function(t,n){e=n}),null!==e&&e.isRealized()&&e.getModal().focus()},o.METHODS_TO_OVERRIDE={},o.METHODS_TO_OVERRIDE["v3.1"]={handleModalBackdropEvent:function(){return this.getModal().on("click",{dialog:this},function(t){t.target===this&&t.data.dialog.isClosable()&&t.data.dialog.canCloseByBackdrop()&&t.data.dialog.close()}),this},updateZIndex:function(){var e=1040,n=1050,i=0;t.each(o.dialogs,function(){i++});var s=this.getModal(),a=s.data("bs.modal").$backdrop;return s.css("z-index",n+20*(i-1)),a.css("z-index",e+20*(i-1)),this},open:function(){return!this.isRealized()&&this.realize(),this.getModal().modal("show"),this.updateZIndex(),this}},o.METHODS_TO_OVERRIDE["v3.2"]={handleModalBackdropEvent:o.METHODS_TO_OVERRIDE["v3.1"].handleModalBackdropEvent,updateZIndex:o.METHODS_TO_OVERRIDE["v3.1"].updateZIndex,open:o.METHODS_TO_OVERRIDE["v3.1"].open},o.METHODS_TO_OVERRIDE["v3.3"]={},o.METHODS_TO_OVERRIDE["v3.3.4"]=t.extend({},o.METHODS_TO_OVERRIDE["v3.1"]),o.prototype={constructor:o,initOptions:function(e){return this.options=t.extend(!0,this.defaultOptions,e),this},holdThisInstance:function(){return o.dialogs[this.getId()]=this,this},initModalStuff:function(){return this.setModal(this.createModal()).setModalDialog(this.createModalDialog()).setModalContent(this.createModalContent()).setModalHeader(this.createModalHeader()).setModalBody(this.createModalBody()).setModalFooter(this.createModalFooter()),this.getModal().append(this.getModalDialog()),this.getModalDialog().append(this.getModalContent()),this.getModalContent().append(this.getModalHeader()).append(this.getModalBody()).append(this.getModalFooter()),this},createModal:function(){var e=t('<div class="modal" role="dialog" aria-hidden="true"></div>');return e.prop("id",this.getId()),e.attr("aria-labelledby",this.getId()+"_title"),e},getModal:function(){return this.$modal},setModal:function(t){return this.$modal=t,this},createModalDialog:function(){return t('<div class="modal-dialog"></div>')},getModalDialog:function(){return this.$modalDialog},setModalDialog:function(t){return this.$modalDialog=t,this},createModalContent:function(){return t('<div class="modal-content"></div>')},getModalContent:function(){return this.$modalContent},setModalContent:function(t){return this.$modalContent=t,this},createModalHeader:function(){return t('<div class="modal-header"></div>')},getModalHeader:function(){return this.$modalHeader},setModalHeader:function(t){return this.$modalHeader=t,this},createModalBody:function(){return t('<div class="modal-body"></div>')},getModalBody:function(){return this.$modalBody},setModalBody:function(t){return this.$modalBody=t,this},createModalFooter:function(){return t('<div class="modal-footer"></div>')},getModalFooter:function(){return this.$modalFooter},setModalFooter:function(t){return this.$modalFooter=t,this},createDynamicContent:function(t){var e=null;return e="function"==typeof t?t.call(t,this):t,"string"==typeof e&&(e=this.formatStringContent(e)),e},formatStringContent:function(t){return this.options.nl2br?t.replace(/\r\n/g,"<br />").replace(/[\r\n]/g,"<br />"):t},setData:function(t,e){return this.options.data[t]=e,this},getData:function(t){return this.options.data[t]},setId:function(t){return this.options.id=t,this},getId:function(){return this.options.id},getType:function(){return this.options.type},setType:function(t){return this.options.type=t,this.updateType(),this},updateType:function(){if(this.isRealized()){var t=[o.TYPE_DEFAULT,o.TYPE_INFO,o.TYPE_PRIMARY,o.TYPE_SUCCESS,o.TYPE_WARNING,o.TYPE_DANGER];this.getModal().removeClass(t.join(" ")).addClass(this.getType())}return this},getSize:function(){return this.options.size},setSize:function(t){return this.options.size=t,this.updateSize(),this},updateSize:function(){if(this.isRealized()){var e=this;this.getModal().removeClass(o.SIZE_NORMAL).removeClass(o.SIZE_SMALL).removeClass(o.SIZE_WIDE).removeClass(o.SIZE_LARGE),this.getModal().addClass(this.getSize()),this.getModalDialog().removeClass("modal-sm"),this.getSize()===o.SIZE_SMALL&&this.getModalDialog().addClass("modal-sm"),this.getModalDialog().removeClass("modal-lg"),this.getSize()===o.SIZE_WIDE&&this.getModalDialog().addClass("modal-lg"),t.each(this.options.buttons,function(n,o){var i=e.getButton(o.id),s=["btn-lg","btn-sm","btn-xs"],a=!1;if("string"==typeof o.cssClass){var d=o.cssClass.split(" ");t.each(d,function(e,n){-1!==t.inArray(n,s)&&(a=!0)})}a||(i.removeClass(s.join(" ")),i.addClass(e.getButtonSize()))})}return this},getCssClass:function(){return this.options.cssClass},setCssClass:function(t){return this.options.cssClass=t,this},getTitle:function(){return this.options.title},setTitle:function(t){return this.options.title=t,this.updateTitle(),this},updateTitle:function(){if(this.isRealized()){var t=null!==this.getTitle()?this.createDynamicContent(this.getTitle()):this.getDefaultText();this.getModalHeader().find("."+this.getNamespace("title")).html("").append(t).prop("id",this.getId()+"_title")}return this},getMessage:function(){return this.options.message},setMessage:function(t){return this.options.message=t,this.updateMessage(),this},updateMessage:function(){if(this.isRealized()){var t=this.createDynamicContent(this.getMessage());this.getModalBody().find("."+this.getNamespace("message")).html("").append(t)}return this},isClosable:function(){return this.options.closable},setClosable:function(t){return this.options.closable=t,this.updateClosable(),this},setCloseByBackdrop:function(t){return this.options.closeByBackdrop=t,this},canCloseByBackdrop:function(){return this.options.closeByBackdrop},setCloseByKeyboard:function(t){return this.options.closeByKeyboard=t,this},canCloseByKeyboard:function(){return this.options.closeByKeyboard},isAnimate:function(){return this.options.animate},setAnimate:function(t){return this.options.animate=t,this},updateAnimate:function(){return this.isRealized()&&this.getModal().toggleClass("fade",this.isAnimate()),this},getSpinicon:function(){return this.options.spinicon},setSpinicon:function(t){return this.options.spinicon=t,this},addButton:function(t){return this.options.buttons.push(t),this},addButtons:function(e){var n=this;return t.each(e,function(t,e){n.addButton(e)}),this},getButtons:function(){return this.options.buttons},setButtons:function(t){return this.options.buttons=t,this.updateButtons(),this},getButton:function(t){return"undefined"!=typeof this.indexedButtons[t]?this.indexedButtons[t]:null},getButtonSize:function(){return"undefined"!=typeof o.BUTTON_SIZES[this.getSize()]?o.BUTTON_SIZES[this.getSize()]:""},updateButtons:function(){return this.isRealized()&&(0===this.getButtons().length?this.getModalFooter().hide():this.getModalFooter().show().find("."+this.getNamespace("footer")).html("").append(this.createFooterButtons())),this},isAutodestroy:function(){return this.options.autodestroy},setAutodestroy:function(t){this.options.autodestroy=t},getDescription:function(){return this.options.description},setDescription:function(t){return this.options.description=t,this},setTabindex:function(t){return this.options.tabindex=t,this},getTabindex:function(){return this.options.tabindex},updateTabindex:function(){return this.isRealized()&&this.getModal().attr("tabindex",this.getTabindex()),this},getDefaultText:function(){return o.DEFAULT_TEXTS[this.getType()]},getNamespace:function(t){return o.NAMESPACE+"-"+t},createHeaderContent:function(){var e=t("<div></div>");return e.addClass(this.getNamespace("header")),e.append(this.createTitleContent()),e.prepend(this.createCloseButton()),e},createTitleContent:function(){var e=t("<div></div>");return e.addClass(this.getNamespace("title")),e},createCloseButton:function(){var e=t("<div></div>");e.addClass(this.getNamespace("close-button"));var n=t('<button class="close">&times;</button>');return e.append(n),e.on("click",{dialog:this},function(t){t.data.dialog.close()}),e},createBodyContent:function(){var e=t("<div></div>");return e.addClass(this.getNamespace("body")),e.append(this.createMessageContent()),e},createMessageContent:function(){var e=t("<div></div>");return e.addClass(this.getNamespace("message")),e},createFooterContent:function(){var e=t("<div></div>");return e.addClass(this.getNamespace("footer")),e},createFooterButtons:function(){var e=this,n=t("<div></div>");return n.addClass(this.getNamespace("footer-buttons")),this.indexedButtons={},t.each(this.options.buttons,function(t,i){i.id||(i.id=o.newGuid());var s=e.createButton(i);e.indexedButtons[i.id]=s,n.append(s)}),n},createButton:function(e){var n=t('<button class="btn"></button>');return n.prop("id",e.id),n.data("button",e),"undefined"!=typeof e.icon&&""!==t.trim(e.icon)&&n.append(this.createButtonIcon(e.icon)),"undefined"!=typeof e.label&&n.append(e.label),n.addClass("undefined"!=typeof e.cssClass&&""!==t.trim(e.cssClass)?e.cssClass:"btn-default"),"undefined"!=typeof e.hotkey&&(this.registeredButtonHotkeys[e.hotkey]=n),n.on("click",{dialog:this,$button:n,button:e},function(t){var e=t.data.dialog,n=t.data.$button,o=n.data("button");"function"==typeof o.action&&o.action.call(n,e,t),o.autospin&&n.toggleSpin(!0)}),this.enhanceButton(n),n},enhanceButton:function(t){return t.dialog=this,t.toggleEnable=function(t){var e=this;return"undefined"!=typeof t?e.prop("disabled",!t).toggleClass("disabled",!t):e.prop("disabled",!e.prop("disabled")),e},t.enable=function(){var t=this;return t.toggleEnable(!0),t},t.disable=function(){var t=this;return t.toggleEnable(!1),t},t.toggleSpin=function(e){var n=this,o=n.dialog,i=n.find("."+o.getNamespace("button-icon"));return"undefined"==typeof e&&(e=!(t.find(".icon-spin").length>0)),e?(i.hide(),t.prepend(o.createButtonIcon(o.getSpinicon()).addClass("icon-spin"))):(i.show(),t.find(".icon-spin").remove()),n},t.spin=function(){var t=this;return t.toggleSpin(!0),t},t.stopSpin=function(){var t=this;return t.toggleSpin(!1),t},this},createButtonIcon:function(e){var n=t("<span></span>");return n.addClass(this.getNamespace("button-icon")).addClass(e),n},enableButtons:function(e){return t.each(this.indexedButtons,function(t,n){n.toggleEnable(e)}),this},updateClosable:function(){return this.isRealized()&&this.getModalHeader().find("."+this.getNamespace("close-button")).toggle(this.isClosable()),this},onShow:function(t){return this.options.onshow=t,this},onShown:function(t){return this.options.onshown=t,this},onHide:function(t){return this.options.onhide=t,this},onHidden:function(t){return this.options.onhidden=t,this},isRealized:function(){return this.realized},setRealized:function(t){return this.realized=t,this},isOpened:function(){return this.opened},setOpened:function(t){return this.opened=t,this},handleModalEvents:function(){return this.getModal().on("show.bs.modal",{dialog:this},function(t){var e=t.data.dialog;if(e.setOpened(!0),e.isModalEvent(t)&&"function"==typeof e.options.onshow){var n=e.options.onshow(e);return n===!1&&e.setOpened(!1),n}}),this.getModal().on("shown.bs.modal",{dialog:this},function(t){var e=t.data.dialog;e.isModalEvent(t)&&"function"==typeof e.options.onshown&&e.options.onshown(e)}),this.getModal().on("hide.bs.modal",{dialog:this},function(t){var e=t.data.dialog;if(e.setOpened(!1),e.isModalEvent(t)&&"function"==typeof e.options.onhide){var n=e.options.onhide(e);return n===!1&&e.setOpened(!0),n}}),this.getModal().on("hidden.bs.modal",{dialog:this},function(e){var n=e.data.dialog;n.isModalEvent(e)&&"function"==typeof n.options.onhidden&&n.options.onhidden(n),n.isAutodestroy()&&(delete o.dialogs[n.getId()],t(this).remove()),o.moveFocus()}),this.handleModalBackdropEvent(),this.getModal().on("keyup",{dialog:this},function(t){27===t.which&&t.data.dialog.isClosable()&&t.data.dialog.canCloseByKeyboard()&&t.data.dialog.close()}),this.getModal().on("keyup",{dialog:this},function(e){var n=e.data.dialog;if("undefined"!=typeof n.registeredButtonHotkeys[e.which]){var o=t(n.registeredButtonHotkeys[e.which]);!o.prop("disabled")&&o.focus().trigger("click")}}),this},handleModalBackdropEvent:function(){return this.getModal().on("click",{dialog:this},function(e){t(e.target).hasClass("modal-backdrop")&&e.data.dialog.isClosable()&&e.data.dialog.canCloseByBackdrop()&&e.data.dialog.close()}),this},isModalEvent:function(t){return"undefined"!=typeof t.namespace&&"bs.modal"===t.namespace},makeModalDraggable:function(){return this.options.draggable&&(this.getModalHeader().addClass(this.getNamespace("draggable")).on("mousedown",{dialog:this},function(t){var e=t.data.dialog;e.draggableData.isMouseDown=!0;var n=e.getModalDialog().offset();e.draggableData.mouseOffset={top:t.clientY-n.top,left:t.clientX-n.left}}),this.getModal().on("mouseup mouseleave",{dialog:this},function(t){t.data.dialog.draggableData.isMouseDown=!1}),t("body").on("mousemove",{dialog:this},function(t){var e=t.data.dialog;e.draggableData.isMouseDown&&e.getModalDialog().offset({top:t.clientY-e.draggableData.mouseOffset.top,left:t.clientX-e.draggableData.mouseOffset.left})})),this},realize:function(){return this.initModalStuff(),this.getModal().addClass(o.NAMESPACE).addClass(this.getCssClass()),this.updateSize(),this.getDescription()&&this.getModal().attr("aria-describedby",this.getDescription()),this.getModalFooter().append(this.createFooterContent()),this.getModalHeader().append(this.createHeaderContent()),this.getModalBody().append(this.createBodyContent()),this.getModal().data("bs.modal",new n(this.getModal(),{backdrop:"static",keyboard:!1,show:!1})),this.makeModalDraggable(),this.handleModalEvents(),this.setRealized(!0),this.updateButtons(),this.updateType(),this.updateTitle(),this.updateMessage(),this.updateClosable(),this.updateAnimate(),this.updateSize(),this.updateTabindex(),this},open:function(){return!this.isRealized()&&this.realize(),this.getModal().modal("show"),this},close:function(){return this.getModal().modal("hide"),this}},o.prototype=t.extend(o.prototype,o.METHODS_TO_OVERRIDE[n.getModalVersion()]),o.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)})},o.show=function(t){return new o(t).open()},o.alert=function(){var e={},n={type:o.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,buttonLabel:o.DEFAULT_TEXTS.OK,callback:null};return e="object"==typeof arguments[0]&&arguments[0].constructor==={}.constructor?t.extend(!0,n,arguments[0]):t.extend(!0,n,{message:arguments[0],callback:"undefined"!=typeof arguments[1]?arguments[1]:null}),new o({type:e.type,title:e.title,message:e.message,closable:e.closable,draggable:e.draggable,data:{callback:e.callback},onhide:function(t){!t.getData("btnClicked")&&t.isClosable()&&"function"==typeof t.getData("callback")&&t.getData("callback")(!1)},buttons:[{label:e.buttonLabel,action:function(t){t.setData("btnClicked",!0),"function"==typeof t.getData("callback")&&t.getData("callback")(!0),t.close()}}]}).open()},o.confirm=function(){var e={},n={type:o.TYPE_INFO,title:null,message:null,closable:!1,draggable:!1,btnCancelLabel:o.DEFAULT_TEXTS.CANCEL,btnCancelClass:null,btnOKLabel:o.DEFAULT_TEXTS.OK,btnOKClass:null,callback:null};return e="object"==typeof arguments[0]&&arguments[0].constructor==={}.constructor?t.extend(!0,n,arguments[0]):t.extend(!0,n,{message:arguments[0],closable:!1,buttonLabel:o.DEFAULT_TEXTS.OK,callback:"undefined"!=typeof arguments[1]?arguments[1]:null}),null===e.btnOKClass&&(e.btnOKClass=["btn",e.type.split("-")[1]].join("-")),new o({type:e.type,title:e.title,message:e.message,closable:e.closable,draggable:e.draggable,data:{callback:e.callback},buttons:[{label:e.btnCancelLabel,cssClass:e.btnCancelClass,action:function(t){"function"==typeof t.getData("callback")&&t.getData("callback")(!1),t.close()}},{label:e.btnOKLabel,cssClass:e.btnOKClass,action:function(t){"function"==typeof t.getData("callback")&&t.getData("callback")(!0),t.close()}}]}).open()},o.warning=function(t){return new o({type:o.TYPE_WARNING,message:t}).open()},o.danger=function(t){return new o({type:o.TYPE_DANGER,message:t}).open()},o.success=function(t){return new o({type:o.TYPE_SUCCESS,message:t}).open()},o});
;/*!bootstrap-switch/bootstrap-switch.js*/
(function(){var t=[].slice;!function(e,i){"use strict";var n;return n=function(){function t(t,i){null==i&&(i={}),this.$element=e(t),this.options=e.extend({},e.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},i),this.prevOptions={},this.$wrapper=e("<div>",{"class":function(t){return function(){var e;return e=[""+t.options.baseClass].concat(t._getClasses(t.options.wrapperClass)),e.push(t.options.state?t.options.baseClass+"-on":t.options.baseClass+"-off"),null!=t.options.size&&e.push(t.options.baseClass+"-"+t.options.size),t.options.disabled&&e.push(t.options.baseClass+"-disabled"),t.options.readonly&&e.push(t.options.baseClass+"-readonly"),t.options.indeterminate&&e.push(t.options.baseClass+"-indeterminate"),t.options.inverse&&e.push(t.options.baseClass+"-inverse"),t.$element.attr("id")&&e.push(t.options.baseClass+"-id-"+t.$element.attr("id")),e.join(" ")}}(this)()}),this.$container=e("<div>",{"class":this.options.baseClass+"-container"}),this.$on=e("<span>",{html:this.options.onText,"class":this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=e("<span>",{html:this.options.offText,"class":this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=e("<span>",{html:this.options.labelText,"class":this.options.baseClass+"-label"}),this.$element.on("init.bootstrapSwitch",function(e){return function(){return e.options.onInit.apply(t,arguments)}}(this)),this.$element.on("switchChange.bootstrapSwitch",function(i){return function(){return!1===i.options.onSwitchChange.apply(t,arguments)?i.$element.is(":radio")?e("[name='"+i.$element.attr("name")+"']").trigger("previousState.bootstrapSwitch",!0):i.$element.trigger("previousState.bootstrapSwitch",!0):void 0}}(this)),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch",this.options.state)}return t.prototype._constructor=t,t.prototype.setPrevOptions=function(){return this.prevOptions=e.extend(!0,{},this.options)},t.prototype.state=function(t,i){return"undefined"==typeof t?this.options.state:this.options.disabled||this.options.readonly?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.$element.is(":radio")?e("[name='"+this.$element.attr("name")+"']").trigger("setPreviousOptions.bootstrapSwitch"):this.$element.trigger("setPreviousOptions.bootstrapSwitch"),this.options.indeterminate&&this.indeterminate(!1),t=!!t,this.$element.prop("checked",t).trigger("change.bootstrapSwitch",i),this.$element)},t.prototype.toggleState=function(t){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",t)},t.prototype.size=function(t){return"undefined"==typeof t?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(this.options.baseClass+"-"+this.options.size),t&&this.$wrapper.addClass(this.options.baseClass+"-"+t),this._width(),this._containerPosition(),this.options.size=t,this.$element)},t.prototype.animate=function(t){return"undefined"==typeof t?this.options.animate:(t=!!t,t===this.options.animate?this.$element:this.toggleAnimate())},t.prototype.toggleAnimate=function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(this.options.baseClass+"-animate"),this.$element},t.prototype.disabled=function(t){return"undefined"==typeof t?this.options.disabled:(t=!!t,t===this.options.disabled?this.$element:this.toggleDisabled())},t.prototype.toggleDisabled=function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(this.options.baseClass+"-disabled"),this.$element},t.prototype.readonly=function(t){return"undefined"==typeof t?this.options.readonly:(t=!!t,t===this.options.readonly?this.$element:this.toggleReadonly())},t.prototype.toggleReadonly=function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(this.options.baseClass+"-readonly"),this.$element},t.prototype.indeterminate=function(t){return"undefined"==typeof t?this.options.indeterminate:(t=!!t,t===this.options.indeterminate?this.$element:this.toggleIndeterminate())},t.prototype.toggleIndeterminate=function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(this.options.baseClass+"-indeterminate"),this._containerPosition(),this.$element},t.prototype.inverse=function(t){return"undefined"==typeof t?this.options.inverse:(t=!!t,t===this.options.inverse?this.$element:this.toggleInverse())},t.prototype.toggleInverse=function(){var t,e;return this.$wrapper.toggleClass(this.options.baseClass+"-inverse"),e=this.$on.clone(!0),t=this.$off.clone(!0),this.$on.replaceWith(t),this.$off.replaceWith(e),this.$on=t,this.$off=e,this.options.inverse=!this.options.inverse,this.$element},t.prototype.onColor=function(t){var e;return e=this.options.onColor,"undefined"==typeof t?e:(null!=e&&this.$on.removeClass(this.options.baseClass+"-"+e),this.$on.addClass(this.options.baseClass+"-"+t),this.options.onColor=t,this.$element)},t.prototype.offColor=function(t){var e;return e=this.options.offColor,"undefined"==typeof t?e:(null!=e&&this.$off.removeClass(this.options.baseClass+"-"+e),this.$off.addClass(this.options.baseClass+"-"+t),this.options.offColor=t,this.$element)},t.prototype.onText=function(t){return"undefined"==typeof t?this.options.onText:(this.$on.html(t),this._width(),this._containerPosition(),this.options.onText=t,this.$element)},t.prototype.offText=function(t){return"undefined"==typeof t?this.options.offText:(this.$off.html(t),this._width(),this._containerPosition(),this.options.offText=t,this.$element)},t.prototype.labelText=function(t){return"undefined"==typeof t?this.options.labelText:(this.$label.html(t),this._width(),this.options.labelText=t,this.$element)},t.prototype.handleWidth=function(t){return"undefined"==typeof t?this.options.handleWidth:(this.options.handleWidth=t,this._width(),this._containerPosition(),this.$element)},t.prototype.labelWidth=function(t){return"undefined"==typeof t?this.options.labelWidth:(this.options.labelWidth=t,this._width(),this._containerPosition(),this.$element)},t.prototype.baseClass=function(){return this.options.baseClass},t.prototype.wrapperClass=function(t){return"undefined"==typeof t?this.options.wrapperClass:(t||(t=e.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(t).join(" ")),this.options.wrapperClass=t,this.$element)},t.prototype.radioAllOff=function(t){return"undefined"==typeof t?this.options.radioAllOff:(t=!!t,t===this.options.radioAllOff?this.$element:(this.options.radioAllOff=t,this.$element))},t.prototype.onInit=function(t){return"undefined"==typeof t?this.options.onInit:(t||(t=e.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=t,this.$element)},t.prototype.onSwitchChange=function(t){return"undefined"==typeof t?this.options.onSwitchChange:(t||(t=e.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=t,this.$element)},t.prototype.destroy=function(){var t;return t=this.$element.closest("form"),t.length&&t.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},t.prototype._width=function(){var t,e;return t=this.$on.add(this.$off),t.add(this.$label).css("width",""),e="auto"===this.options.handleWidth?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth,t.width(e),this.$label.width(function(t){return function(i,n){return"auto"!==t.options.labelWidth?t.options.labelWidth:e>n?e:n}}(this)),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)},t.prototype._containerPosition=function(t,e){return null==t&&(t=this.options.state),this.$container.css("margin-left",function(e){return function(){var i;return i=[0,"-"+e._handleWidth+"px"],e.options.indeterminate?"-"+e._handleWidth/2+"px":t?e.options.inverse?i[1]:i[0]:e.options.inverse?i[0]:i[1]}}(this)),e?setTimeout(function(){return e()},50):void 0},t.prototype._init=function(){var t,e;return t=function(t){return function(){return t.setPrevOptions(),t._width(),t._containerPosition(null,function(){return t.options.animate?t.$wrapper.addClass(t.options.baseClass+"-animate"):void 0})}}(this),this.$wrapper.is(":visible")?t():e=i.setInterval(function(n){return function(){return n.$wrapper.is(":visible")?(t(),i.clearInterval(e)):void 0}}(this),50)},t.prototype._elementHandlers=function(){return this.$element.on({"setPreviousOptions.bootstrapSwitch":function(t){return function(){return t.setPrevOptions()}}(this),"previousState.bootstrapSwitch":function(t){return function(){return t.options=t.prevOptions,t.options.indeterminate&&t.$wrapper.addClass(t.options.baseClass+"-indeterminate"),t.$element.prop("checked",t.options.state).trigger("change.bootstrapSwitch",!0)}}(this),"change.bootstrapSwitch":function(t){return function(i,n){var o;return i.preventDefault(),i.stopImmediatePropagation(),o=t.$element.is(":checked"),t._containerPosition(o),o!==t.options.state?(t.options.state=o,t.$wrapper.toggleClass(t.options.baseClass+"-off").toggleClass(t.options.baseClass+"-on"),n?void 0:(t.$element.is(":radio")&&e("[name='"+t.$element.attr("name")+"']").not(t.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),t.$element.trigger("switchChange.bootstrapSwitch",[o]))):void 0}}(this),"focus.bootstrapSwitch":function(t){return function(e){return e.preventDefault(),t.$wrapper.addClass(t.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(t){return function(e){return e.preventDefault(),t.$wrapper.removeClass(t.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(t){return function(e){if(e.which&&!t.options.disabled&&!t.options.readonly)switch(e.which){case 37:return e.preventDefault(),e.stopImmediatePropagation(),t.state(!1);case 39:return e.preventDefault(),e.stopImmediatePropagation(),t.state(!0)}}}(this)})},t.prototype._handleHandlers=function(){return this.$on.on("click.bootstrapSwitch",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),t.state(!1),t.$element.trigger("focus.bootstrapSwitch")}}(this)),this.$off.on("click.bootstrapSwitch",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),t.state(!0),t.$element.trigger("focus.bootstrapSwitch")}}(this))},t.prototype._labelHandlers=function(){return this.$label.on({click:function(t){return t.stopPropagation()},"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(t){return function(e){return t._dragStart||t.options.disabled||t.options.readonly?void 0:(e.preventDefault(),e.stopPropagation(),t._dragStart=(e.pageX||e.originalEvent.touches[0].pageX)-parseInt(t.$container.css("margin-left"),10),t.options.animate&&t.$wrapper.removeClass(t.options.baseClass+"-animate"),t.$element.trigger("focus.bootstrapSwitch"))}}(this),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(t){return function(e){var i;if(null!=t._dragStart&&(e.preventDefault(),i=(e.pageX||e.originalEvent.touches[0].pageX)-t._dragStart,!(i<-t._handleWidth||i>0)))return t._dragEnd=i,t.$container.css("margin-left",t._dragEnd+"px")}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(t){return function(e){var i;if(t._dragStart)return e.preventDefault(),t.options.animate&&t.$wrapper.addClass(t.options.baseClass+"-animate"),t._dragEnd?(i=t._dragEnd>-(t._handleWidth/2),t._dragEnd=!1,t.state(t.options.inverse?!i:i)):t.state(!t.options.state),t._dragStart=!1}}(this),"mouseleave.bootstrapSwitch":function(t){return function(){return t.$label.trigger("mouseup.bootstrapSwitch")}}(this)})},t.prototype._externalLabelHandler=function(){var t;return t=this.$element.closest("label"),t.on("click",function(e){return function(i){return i.preventDefault(),i.stopImmediatePropagation(),i.target===t[0]?e.toggleState():void 0}}(this))},t.prototype._formHandler=function(){var t;return t=this.$element.closest("form"),t.data("bootstrap-switch")?void 0:t.on("reset.bootstrapSwitch",function(){return i.setTimeout(function(){return t.find("input").filter(function(){return e(this).data("bootstrap-switch")}).each(function(){return e(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},t.prototype._getClasses=function(t){var i,n,o,s;if(!e.isArray(t))return[this.options.baseClass+"-"+t];for(n=[],o=0,s=t.length;s>o;o++)i=t[o],n.push(this.options.baseClass+"-"+i);return n},t}(),e.fn.bootstrapSwitch=function(){var i,o,s;return o=arguments[0],i=2<=arguments.length?t.call(arguments,1):[],s=this,this.each(function(){var t,a;return t=e(this),a=t.data("bootstrap-switch"),a||t.data("bootstrap-switch",a=new n(this,o)),"string"==typeof o?s=a[o].apply(a,i):void 0}),s},e.fn.bootstrapSwitch.Constructor=n,e.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}(window.jQuery,window)}).call(this);
;/*!chosen/chosen.ajax.jquery.js*/
(function(){var e,t,s,i,n,r={}.hasOwnProperty,o=function(e,t){function s(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};i=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,s,i,n,r,o;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),title:e.title?e.title:void 0,children:0,disabled:e.disabled,classes:e.className}),r=e.childNodes,o=[],i=0,n=r.length;n>i;i++)s=r[i],o.push(this.add_option(s,t,e.disabled));return o},e.prototype.add_option=function(e,t,s){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,title:e.title?e.title:void 0,selected:e.selected,disabled:s===!0?s:e.disabled,group_array_index:t,group_label:null!=t?this.parsed[t].label:null,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e.prototype.escapeExpression=function(e){var t,s;return null==e||e===!1?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},s=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(s,function(e){return t[e]||"&amp;"})):e},e}(),i.select_to_array=function(e){var t,s,n,r,o;for(s=new i,o=e.childNodes,n=0,r=o.length;r>n;n++)t=o[n],s.add_node(t);return s.parsed},t=function(){function e(t,s){this.form_field=t,this.options=null!=s?s:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1},e.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.choice_label=function(e){return this.include_group_label_in_selected&&null!=e.group_label?"<b class='group-name'>"+e.group_label+"</b>"+e.html:e.html},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},e.prototype.results_option_build=function(e){var t,s,i,n,r;for(t="",r=this.results_data,i=0,n=r.length;n>i;i++)s=r[i],t+=s.group?this.result_add_group(s):this.result_add_option(s),(null!=e?e.first:void 0)&&(s.selected&&this.is_multiple?this.choice_build(s):s.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(s)));return t},e.prototype.result_add_option=function(e){var t,s;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),s=document.createElement("li"),s.className=t.join(" "),s.style.cssText=e.style,s.setAttribute("data-option-array-index",e.array_index),s.innerHTML=e.search_text,e.title&&(s.title=e.title),this.outerHTML(s)):""},e.prototype.result_add_group=function(e){var t,s;return(e.search_match||e.group_match)&&e.active_options>0?(t=[],t.push("group-result"),e.classes&&t.push(e.classes),s=document.createElement("li"),s.className=t.join(" "),s.innerHTML=e.search_text,e.title&&(s.title=e.title),this.outerHTML(s)):""},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},e.prototype.reset_single_select_options=function(){var e,t,s,i,n;for(i=this.results_data,n=[],t=0,s=i.length;s>t;t++)e=i[t],n.push(e.selected?e.selected=!1:void 0);return n},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(){var e,t,s,i,n,r,o,l,h,a,c,u;for(i=0,r=this.get_search_text(),e=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),h=new RegExp(e,"i"),s=this.get_search_regex(e),u=this.results_data,a=0,c=u.length;c>a;a++)t=u[a],t.search_match=!1,n=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(n=this.results_data[t.group_array_index],0===n.active_options&&n.search_match&&(i+=1),n.active_options+=1),t.search_text=t.group?t.label:t.html,(!t.group||this.group_search)&&(t.search_match=this.search_string_match(t.search_text,s),t.search_match&&!t.group&&(i+=1),t.search_match?(r.length&&(o=t.search_text.search(h),l=t.search_text.substr(0,o+r.length)+"</em>"+t.search_text.substr(o+r.length),t.search_text=l.substr(0,o)+"<em>"+l.substr(o)),null!=n&&(n.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),1>i&&r.length?(this.update_results_content(""),this.no_results(r)):(this.results_option_build().length>0&&this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.get_search_regex=function(e){var t;return t=this.search_contains?"":"^",new RegExp(t+e,"i")},e.prototype.search_string_match=function(e,t){var s,i,n,r;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||0===e.indexOf("["))&&(i=e.replace(/\[|\]/g,"").split(" "),i.length))for(n=0,r=i.length;r>n;n++)if(s=i[n],t.test(s))return!0},e.prototype.choices_count=function(){var e,t,s,i;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,i=this.form_field.options,t=0,s=i.length;s>t;t++)e=i[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},e.prototype.keyup_checker=function(e){var t,s;switch(t=null!=(s=e.which)?s:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.clipboard_event_checker=function(){var e=this;return setTimeout(function(){return e.results_search()},50)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return this.is_multiple&&!this.display_selected_options&&e.selected?!1:!this.display_disabled_options&&e.disabled?!1:e.empty?!1:!0},e.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},e.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},e.prototype.search_results_touchend=function(e){return this.touch_started?this.search_results_mouseup(e):void 0},e.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:(t=document.createElement("div"),t.appendChild(e),t.innerHTML)},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},e.default_multiple_text="Select Some Options",e.default_single_text="",e.default_no_result_text="",e}(),e=jQuery;var l={width:"100%"};e.fn.extend({chosen:function(i){return t.browser_is_supported()?this.each(function(){var t,n;if(t=e(this),n=t.data("chosen"),"destroy"===i&&n instanceof s)n.destroy();else if(!(n instanceof s)){var r=e.extend(!0,{},l,i);t.data("chosen",new s(this,r))}}):this},setDisabled:function(t){var s=e(this).next().find("a.chosen-single:eq(0)");t?(s.addClass("chosen-single-disabled"),s.next().hide()):(s.removeClass("chosen-single-disabled"),s.next().show())}}),s=function(t){function s(){return n=s.__super__.constructor.apply(this,arguments)}return o(s,t),s.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},s.prototype.set_up_html=function(){var t,s;return t=["chosen-container"],t.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),s={"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(s.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",s),this.container.html(this.is_multiple?'<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>':'<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},s.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},s.prototype.register_observers=function(){var e=this;return this.container.bind("touchstart.chosen",function(t){return e.container_mousedown(t),t.preventDefault()}),this.container.bind("touchend.chosen",function(t){return e.container_mouseup(t),t.preventDefault()}),this.container.bind("mousedown.chosen",function(t){e.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){e.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){e.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){e.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){e.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){e.search_results_mousewheel(t)}),this.search_results.bind("touchstart.chosen",function(t){e.search_results_touchstart(t)}),this.search_results.bind("touchmove.chosen",function(t){e.search_results_touchmove(t)}),this.search_results.bind("touchend.chosen",function(t){e.search_results_touchend(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){e.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){e.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){e.container_mousedown(t)}),this.form_field_jq.bind("chosen:close.chosen",function(t){e.input_blur(t)}),this.search_field.bind("blur.chosen",function(t){e.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){e.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){e.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){e.input_focus(t)}),this.search_field.bind("cut.chosen",function(t){e.clipboard_event_checker(t)}),this.search_field.bind("paste.chosen",function(t){e.clipboard_event_checker(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){e.choices_click(t)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},s.prototype.destroy=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},s.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},s.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},s.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},s.prototype.search_results_mousewheel=function(e){var t;return e.originalEvent&&(t=e.originalEvent.deltaY||-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},s.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},s.prototype.close_field=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},s.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},s.prototype.test_active_click=function(t){var s;return s=e(t.target).closest(".chosen-container"),s.length&&this.container[0]===s[0]?this.active_field=!0:this.close_field()},s.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=i.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},s.prototype.result_do_highlight=function(e){var t,s,i,n,r;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),i=parseInt(this.search_results.css("maxHeight"),10),r=this.search_results.scrollTop(),n=i+r,s=this.result_highlight.position().top+this.search_results.scrollTop(),t=s+this.result_highlight.outerHeight(),t>=n)return this.search_results.scrollTop(t-i>0?t-i:0);if(r>s)return this.search_results.scrollTop(s)}},s.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},s.prototype.results_show=function(){return this.container.find("SPAN").hasClass("chosen-loading-text")||this.container.find("A").hasClass("chosen-single-disabled")?!1:this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},s.prototype.update_results_content=function(e){return this.search_results.html(e)},s.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},s.prototype.set_tab_index=function(){var e;return this.form_field.tabIndex?(e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e):void 0},s.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},s.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},s.prototype.search_results_mouseup=function(t){var s;return s=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),s.length?(this.result_highlight=s,this.result_select(t),this.search_field.focus()):void 0},s.prototype.search_results_mouseover=function(t){var s;return s=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),s?this.result_do_highlight(s):void 0},s.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},s.prototype.choice_build=function(t){var s,i,n=this;return s=e("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(t)+"</span>"),t.disabled?s.addClass("search-choice-disabled"):(i=e("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index}),i.bind("click.chosen",function(e){return n.choice_destroy_link_click(e)}),s.append(i)),this.search_container.before(s)},s.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(e(t.target))},s.prototype.choice_destroy=function(e){return this.result_deselect(e[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},s.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},s.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},s.prototype.result_select=function(e){var t,s;return this.result_highlight?(t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),t.addClass("result-selected"),s=this.results_data[t[0].getAttribute("data-option-array-index")],s.selected=!0,this.form_field.options[s.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(s):this.single_set_selected_text(this.choice_label(s)),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[s.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,e.preventDefault(),this.search_field_scale())):void 0},s.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(e)},s.prototype.result_deselect=function(e){var t;return t=this.results_data[e],this.form_field.options[t.options_index].disabled?!1:(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},s.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},s.prototype.get_search_text=function(){return e("<div/>").text(e.trim(this.search_field.val())).html()},s.prototype.winnow_results_set_highlight=function(){var e,t;return t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null!=e?this.result_do_highlight(e):void 0},s.prototype.no_results=function(t){var s;return s=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),s.find("span").first().html(t),this.search_results.append(s),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},s.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},s.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},s.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},s.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},s.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},s.prototype.keydown_checker=function(e){var t,s;switch(t=null!=(s=e.which)?s:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:this.results_showing&&e.preventDefault();break;case 32:this.disable_search&&e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},s.prototype.search_field_scale=function(){var t,s,i,n,r,o,l,h,a;if(this.is_multiple){for(i=0,l=0,r="position:absolute; left: -1000px; top: -1000px; display:none;",o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],h=0,a=o.length;a>h;h++)n=o[h],r+=n+":"+this.search_field.css(n)+";";return t=e("<div />",{style:r}),t.text(this.search_field.val()),e("body").append(t),l=t.width()+25,t.remove(),s=this.container.outerWidth(),l>s-10&&(l=s-10),this.search_field.css({width:l+"px"})}},s}(t)}).call(this),function(e){"use strict";function t(t,s,i){var n=e(this),r=n.val();if("paste"===t.type&&n.is(":not(:focus)")||t.which&&(9===t.which||13===t.which||16===t.which||17===t.which||18===t.which||19===t.which||20===t.which||27===t.which||33===t.which||34===t.which||35===t.which||36===t.which||37===t.which||38===t.which||39===t.which||40===t.which||44===t.which||45===t.which||144===t.which||145===t.which||91===t.which||93===t.which||224===t.which||t.which>=112&&t.which<=123))return!1;if("useAjax"in s&&e.isFunction(s.useAjax)&&!s.useAjax(t))return!1;var o=e("#"+s.id).next();e(".no-results",o).hide(),i.typing=!0,e.isArray(i.data)?("q"===i.data[i.data.length-1].name&&i.data.pop(),i.data=i.data.concat({name:"q",value:r})):("data"in i||(i.data={}),e.extend(i.data,{data:{q:r}})),"generateUrl"in s&&e.isFunction(s.generateUrl)&&(i.url=s.generateUrl(r));var l=e("input",o);e(".chosen-single",o).find("SPAN").addClass("chosen-loading-text").html(""),l.addClass("chosen-search-loading");var h=!1;h&&clearTimeout(h),h=setTimeout(function(){i.requestQueue.push(r),i.typing=!1,i.data.chosenMaxNum=i.chosenMaxNum,i.data[s.searchAjaxParam]=r,e.ajax(i)},700)}function s(s,i){for(var n=e("#"+s.id),l=[],h=[],a=0;a<r.length;a++)void 0!=r[a].upperChosenId&&r[a].upperChosenId==s.id&&(l[l.length]=r[a],h[h.length]=o[a]);for(var a=0;a<l.length;a++){var c=l[a],u=h[a];if(u.initFlag||void 0==i||n.val()!=i[0]){var _=e.Event("keyup");"data"in u||(u.data={}),u.initFlag=!1,u.data.upperValue=n.val(),t.call(e("#"+c.id),_,c,u)}}}function i(t,i,r,o,l){var h,a=t,c={},u=l.requestQueue.length,_=!1,d=!1,p="";if(l.typing)return l.requestQueue.shift(),!1;if(u>1){if(e.each(l.requestQueue,function(e,s){return t.q===s?(e!==u-1?(_=!0,n.call(l.requestQueue,e)):(d=!0,l.requestQueue.length=0),!1):void 0}),_||!d)return!1}else if("undefined"==typeof l.requestQueue.shift())return!1;var f=e("#"+l.id),g=f.next(),m=e("input",g);if(p=e.trim(m.val()),"processItems"in o&&e.isFunction(o.processItems))a=o.processItems(t);else{if(!("results"in a))return console.log("Expected results key in data, but was not found. Options could not be built"),!1;a=a.results}if(h=e.isArray(f.val())?f.val():[f.val()],e.each(h,function(e,t){c[t]=1}),e("option",f).remove(),e('<option value=""/>').appendTo(f),e.isArray(a)){var v="labelCode",b="labelName",y="parentCode";void 0!=o.fields&&(o.fields.length>=1&&(v=o.fields[0]),o.fields.length>=2&&(b=o.fields[1]),o.fields.length>=3&&(y=o.fields[2]));for(var x=[],w=[],k="",C=0;C<a.length;C++){var j=a[C],q="";if(q+=void 0==o||o.selectIndex!=C&&o.selectValue!=j[v]?'<option value="'+j[v]+'">'+j[b]+"</option>":'<option value="'+j[v]+'" selected>'+j[b]+"</option>",void 0!=j[y]){for(var T="",I="",A=0;A<x.length;A++)if(j[y]==x[A]){T=x[A];break}""==T&&(x[x.length]=j[y],T=j[y]),I=(w.length>0?w[A]:"")+q,w[A]=I}else k+=q}for(var N=0;N<x.length;N++)e('<optgroup label="'+x[N]+'">'+w[N]+"</optgroup>").appendTo(f);e(k).appendTo(f)}else e.each(a,function(t,s){"undefined"==typeof c[t]&&e('<option value="'+t+'">'+s+"</option>").appendTo(f)});if(s(o,h),f.trigger("chosen:updated"),p.length>0&&m.val(p),e(".chosen-default",f.next()).find("SPAN").removeClass("chosen-loading-text"),e(".chosen-single",f.next()).find("SPAN").removeClass("chosen-loading-text"),e("input",f.next()).removeClass("chosen-search-loading"),a.length>0)e(".no-results",g).hide();else{var D=e('<li class="no-results">'+(""==p?"":'<span>"'+p+'"</span>')+"</li>");e(".chosen-results",g).append(D),e(".no-results",g).show()}l.callback&&l.callback(t,i,r)}var n=function(e,t){var s=this.slice((t||e)+1||this.length);return this.length=0>e?this.length+e:e,this.push.apply(this,s)},r=[],o=[];e.fn.ajaxChosen=function(n){var l,h,a=e(this),c=!1,u=a.attr("id");if(void 0==u||""==u)return void console.log("Select id is undefined.");n.id=u,void 0==n.dataType&&(n.dataType="json"),n.type="POST",void 0==n.findPage&&(n.findPage=!1),r[r.length]=n;var _=new Object;if(_.id=u,_.url=n.url,_.type=n.type,_.requestQueue=[],_.typing=c,_.chosenMaxNum=void 0==n.chosenMaxNum?200:n.chosenMaxNum,void 0==n.processItems&&(n.processItems=function(e){return e}),void 0!=n.success&&(_.success=n.success),0===e("option",a).length&&a.append('<option value=""></option>'),n.findPage)a.chosen();else{void 0==n.searchAjaxParam&&(n.searchAjaxParam=void 0!=n.fields&&2==n.fields.length&&void 0!=n.fields[1]?n.fields[1]:"label");var d=new Object;d.ajaxChosen=!0,d.searchAjaxParam=n.searchAjaxParam,d.processItems=n.processItems,d.fields=n.fields,d.ajaxOptions=_,a.chosen(d)}return l=a.next(),"success"in _&&e.isFunction(_.success)&&(h=_.success.call(_)),_.callback=h,_.success=function(e,t,s){i(e,t,s,n,_)},_.initFlag=!0,o[o.length]=_,e(".chosen-search > input, .chosen-choices .search-field input",l).ready(function(e){var s=this;
setTimeout(function(){for(var i=0;i<r.length;i++)if(void 0!=n.upperChosenId&&r[i].id==n.upperChosenId)return;t.call(s,e,n,_)},50)}).bind("keyup",function(e){if(1!=n.findPage){var s=this;_.initFlag=!1,t.call(s,e,n,_)}}).bind("paste",function(e){if(1!=n.findPage){var s=this;setTimeout(function(){_.initFlag=!1,t.call(s,e,n,_)},50)}}),a.bind("change",function(){s(n)}),a}}(jQuery);
;/*!icheck/icheck.js*/
!function(e){function t(e,t,s){var n=e[0],r=/er/.test(s)?b:/bl/.test(s)?h:f,o=s==g?{checked:n[f],disabled:n[h],indeterminate:"true"==e.attr(b)||"false"==e.attr(v)}:n[r];if(/^(ch|di|in)/.test(s)&&!o)i(e,r);else if(/^(un|en|de)/.test(s)&&o)a(e,r);else if(s==g)for(var d in o)o[d]?i(e,d,!0):a(e,d,!0);else t&&"toggle"!=s||(t||e[x]("ifClicked"),o?n[y]!==u&&a(e,r):i(e,r))}function i(t,i,s){var l=t[0],g=t.parent(),m=i==f,k=i==b,x=i==h,A=k?v:m?p:"enabled",j=n(t,A+r(l[y])),D=n(t,i+r(l[y]));if(l[i]!==!0){if(!s&&i==f&&l[y]==u&&l.name){var P=t.closest("form"),T='input[name="'+l.name+'"]';T=P.length?P.find(T):e(T),T.each(function(){this!==l&&e(this).data(d)&&a(e(this),i)})}k?(l[i]=!0,l[f]&&a(t,f,"force")):(s||(l[i]=!0),m&&l[b]&&a(t,b,!1)),o(t,m,i,s)}l[h]&&n(t,H,!0)&&g.find("."+c).css(H,"default"),g[C](D||n(t,i)||""),g.attr("role")&&!k&&g.attr("aria-"+(x?h:f),"true"),g[w](j||n(t,A)||"")}function a(e,t,i){var a=e[0],s=e.parent(),d=t==f,l=t==b,u=t==h,g=l?v:d?p:"enabled",m=n(e,g+r(a[y])),k=n(e,t+r(a[y]));a[t]!==!1&&((l||!i||"force"==i)&&(a[t]=!1),o(e,d,g,i)),!a[h]&&n(e,H,!0)&&s.find("."+c).css(H,"pointer"),s[w](k||n(e,t)||""),s.attr("role")&&!l&&s.attr("aria-"+(u?h:f),"false"),s[C](m||n(e,g)||"")}function s(t,i){t.data(d)&&(t.parent().html(t.attr("style",t.data(d).s||"")),i&&t[x](i),t.off(".i").unwrap(),e(A+'[for="'+t[0].id+'"]').add(t.closest(A)).off(".i"))}function n(e,t,i){return e.data(d)?e.data(d).o[t+(i?"":"Class")]:void 0}function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(e,t,i,a){a||(t&&e[x]("ifToggled"),e[x]("ifChanged")[x]("if"+r(i)))}var d="iCheck",c=d+"-helper",l="checkbox",u="radio",f="checked",p="un"+f,h="disabled",v="determinate",b="in"+v,g="update",y="type",m="click",k="touchbegin.i touchend.i",C="addClass",w="removeClass",x="trigger",A="label",H="cursor",j=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);e.fn[d]=function(n,r){var o='input[type="'+l+'"], input[type="'+u+'"]',p=e(),v=function(t){t.each(function(){var t=e(this);p=p.add(t.is(o)?t:t.find(o))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(n))return n=n.toLowerCase(),v(this),p.each(function(){var i=e(this);"destroy"==n?s(i,"ifDestroyed"):t(i,!0,n),e.isFunction(r)&&r()});if("object"!=typeof n&&n)return this;var H=e.extend({checkedClass:f,disabledClass:h,indeterminateClass:b,labelHover:!0},n),D=H.handle,P=H.hoverClass||"hover",T=H.focusClass||"focus",F=H.activeClass||"active",I=!!H.labelHover,L=H.labelHoverClass||"hover",M=0|(""+H.increaseArea).replace("%","");return(D==l||D==u)&&(o='input[type="'+D+'"]'),-50>M&&(M=-50),v(this),p.each(function(){var n=e(this);s(n);var r,o=this,p=o.id,v=-M+"%",b=100+2*M+"%",D={position:"absolute",top:v,left:v,display:"block",width:b,height:b,margin:0,padding:0,background:"#fff",border:0,opacity:0},N=j?{position:"absolute",visibility:"hidden"}:M?D:{position:"absolute",opacity:0},Q=o[y]==l?H.checkboxClass||"i"+l:H.radioClass||"i"+u,S=e(A+'[for="'+p+'"]').add(n.closest(A)),U=!!H.aria,Z=d+"-"+Math.random().toString(36).substr(2,6),$='<div class="'+Q+'" '+(U?'role="'+o[y]+'" ':"");U&&S.each(function(){$+='aria-labelledby="',this.id?$+=this.id:(this.id=Z,$+=Z),$+='"'}),$=n.wrap($+"/>")[x]("ifCreated").parent().append(H.insert),r=e('<ins class="'+c+'"/>').css(D).appendTo($),n.data(d,{o:H,s:n.attr("style")}).css(N),!!H.inheritClass&&$[C](o.className||""),!!H.inheritID&&p&&$.attr("id",d+"-"+p),"static"==$.css("position")&&$.css("position","relative"),t(n,!0,g),S.length&&S.on(m+".i mouseover.i mouseout.i "+k,function(i){var a=i[y],s=e(this);if(!o[h]){if(a==m){if(e(i.target).is("a"))return;t(n,!1,!0)}else I&&(/ut|nd/.test(a)?($[w](P),s[w](L)):($[C](P),s[C](L)));if(!j)return!1;i.stopPropagation()}}),n.on(m+".i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var t=e[y],s=e.keyCode;return t==m?!1:"keydown"==t&&32==s?(o[y]==u&&o[f]||(o[f]?a(n,f):i(n,f)),!1):void("keyup"==t&&o[y]==u?!o[f]&&i(n,f):/us|ur/.test(t)&&$["blur"==t?w:C](T))}),r.on(m+" mousedown mouseup mouseover mouseout "+k,function(e){var i=e[y],a=/wn|up/.test(i)?F:P;if(!o[h]){if(i==m?t(n,!1,!0):(/wn|er|in/.test(i)?$[C](a):$[w](a+" "+F),S.length&&I&&a==P&&S[/ut|nd/.test(i)?w:C](L)),!j)return!1;e.stopPropagation()}})})}}(window.jQuery||window.Zepto);
;/*!jquery.daterange/jquery.daterange.js*/
!function(){var t={init:function(){function t(){var t=v.val(),a=D.val(),e="";e=t==a?t:t+"   ~   "+a,t&&a?(c.val(e),c.data("startDate",t),c.data("endDate",a)):c.val("")}function a(){u.show(),$("body").on("mousedown",n)}function e(){$("#"+s).is(":hidden")||(t(),$("#"+s).fadeOut("fast",function(){d.onhide.call(c)}))}function n(t){t.target.id==c.attr("id")||t.target.id==s||$(t.target).parents("#"+s).length>0||(e(),t.stopImmediatePropagation())}var d={startValue:"",endValue:"",start:{},end:{},changeStart:function(){},changeEnd:function(){},onhide:function(){}};d=$.extend(!0,{},d,arguments[0]);var i='<div class="inputGroup"><input class="data-input  date-start-input" readonly placeholder=""/><input class="data-input  date-end-input" readonly placeholder=""/><div class="date-button primary"><span></span></div> <div class="date-button rest"><span></span></div></div><div class="dataGroup"><div class="date-start"></div><div class="date-end"></div></div>',r=d.format||"YYYY-MM-DD",o=r.match(/hh|HH|mm|ms|ss/g)?"350px":"320px",s="range"+(new Date).getTime(),u=jQuery("<div></div>",{"class":"bi-daterange  bootstrap-datetimepicker-widget  dropdown-menu",style:"display:none;width:550px;height:"+o+";top:35px",id:s}).append(i),c=$(this);c.prop("readonly",!0).after(u);var m=u.find(".date-start"),f=u.find(".date-end"),l=$.extend(!0,{useCurrent:!1,inline:!0,format:r},d.start);m.datetimepicker(l);var p=$.extend(!0,{useCurrent:!1,inline:!0,format:r},d.end);f.datetimepicker(p);var v=u.find("input.date-start-input"),D=u.find("input.date-end-input"),h=d.startValue||moment().format(r),g=d.endValue||moment().format(r);return(r.indexOf("d")>-1||r.indexOf("D")>-1)&&(h=moment(h,r).add(-1,"month").format(r)),v.val(h),D.val(g),c.data("startDate",h),c.data("endDate",g),m.data("DateTimePicker").date(h),f.data("DateTimePicker").date(g),m.on("dp.change",function(t){var a=jQuery(this).data("DateTimePicker").format(),e=t.date.format("x"),n=moment(c.data("endDate"),a).format("x");d.changeStart(t,c.data("endDate"),f.data("DateTimePicker"),m.data("DateTimePicker")),e>n&&(f.data("DateTimePicker").date(t.date),c.data("endDate",t.date.format(a))),v.val(t.date.format(a)),c.data("startDate",t.date.format(a))}),f.on("dp.change",function(t){var a=jQuery(this).data("DateTimePicker").format(),e=t.date.format("x"),n=moment(c.data("startDate"),a).format("x");n>e&&(m.data("DateTimePicker").date(t.date),c.data("startDate",t.date.format(a))),D.val(t.date.format(a)),c.data("endDate",t.date.format(a)),d.changeEnd(m.data("DateTimePicker"),t)}),c.on("focus",function(){setTimeout(function(){a()},0)}),u.on("click",".primary",function(){e()}),u.on("click",".rest",function(){c.val(""),v.val(""),D.val(""),c.data("startDate",""),c.data("endDate","")}),this.data("rangeId",s),this},getDate:function(){var t=$(this).data();return{startDate:t.startDate||"",endDate:t.endDate||""}},destroy:function(){}};$.fn.dateRange=function(){var a=arguments[0];if(t[a])a=t[a],arguments=Array.prototype.slice.call(arguments,1);else{if("object"!=typeof a&&a)return console.error("Method "+a+" does not exist on jQuery.bzTree"),this;a=t.init}return a.apply(this,arguments)}}(jQuery);
;/*!jquery.dotdotdot/jquery.dotdotdot.js*/
!function(t,e){function n(t,e,n){var r=t.children(),o=!1;t.empty();for(var a=0,d=r.length;d>a;a++){var l=r.eq(a);if(t.append(l),n&&t.append(n),i(t,e)){l.remove(),o=!0;break}n&&n.detach()}return o}function r(e,n,a,d,l){if(d.line){var s=n.css("line-height").replace("px","");n.css({"line-height":s/d.line+"px"})}var c=!1,u="a table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",h="script, .dotdotdot-keep";return e.contents().detach().each(function(){var s=this,f=t(s);if(n.attr("title",s.data),"undefined"==typeof s||3==s.nodeType&&0==t.trim(s.data).length)return!0;if(f.is(h))e.append(f);else{if(c)return!0;e.append(f),!l||f.is(d.after)||f.find(d.after).length||e[e.is(u)?"after":"append"](l),i(a,d)&&(c=3==s.nodeType?o(f,n,a,d,l):r(f,n,a,d,l),c||(f.detach(),c=!0)),c||l&&l.detach()}}),c}function o(e,n,r,o,d){var c=e[0];if(!c)return!1;var h=s(c),f=-1!==h.indexOf(" ")?" ":"",p="letter"==o.wrap?"":f,g=h.split(p),v=-1,w=-1,y=0,b=g.length-1;for(o.fallbackToLetter&&0==y&&0==b&&(p="",g=h.split(p),b=g.length-1);b>=y&&(0!=y||0!=b);){var m=Math.floor((y+b)/2);if(m==w)break;w=m,l(c,g.slice(0,w+1).join(p)+o.ellipsis),i(r,o)?(b=w,o.fallbackToLetter&&0==y&&0==b&&(p="",g=g[0].split(p),v=-1,w=-1,y=0,b=g.length-1)):(v=w,y=w)}if(-1==v||1==g.length&&0==g[0].length){var x=e.parent();e.detach();var T=d&&d.closest(x).length?d.length:0;x.contents().length>T?c=u(x.contents().eq(-1-T),n):(c=u(x,n,!0),T||x.detach()),c&&(h=a(s(c),o),l(c,h),T&&d&&t(c).parent().append(d))}else h=a(g.slice(0,v+1).join(p),o),l(c,h);return!0}function i(t,e){return t.innerHeight()>e.maxHeight}function a(e,n){for(;t.inArray(e.slice(-1),n.lastCharacter.remove)>-1;)e=e.slice(0,-1);return t.inArray(e.slice(-1),n.lastCharacter.noEllipsis)<0&&(e+=n.ellipsis),e}function d(t){return{width:t.innerWidth(),height:t.innerHeight()}}function l(t,e){t.innerText?t.innerText=e:t.nodeValue?t.nodeValue=e:t.textContent&&(t.textContent=e)}function s(t){return t.innerText?t.innerText:t.nodeValue?t.nodeValue:t.textContent?t.textContent:""}function c(t){do t=t.previousSibling;while(t&&1!==t.nodeType&&3!==t.nodeType);return t}function u(e,n,r){var o,i=e&&e[0];if(i){if(!r){if(3===i.nodeType)return i;if(t.trim(e.text()))return u(e.contents().last(),n)}for(o=c(i);!o;){if(e=e.parent(),e.is(n)||!e.length)return!1;o=c(e[0])}if(o)return u(t(o),n)}return!1}function h(e,n){return e?"string"==typeof e?(e=t(e,n),e.length?e:!1):e.jquery?e:!1:!1}function f(t){for(var e=t.innerHeight(),n=["paddingTop","paddingBottom"],r=0,o=n.length;o>r;r++){var i=parseInt(t.css(n[r]),10);isNaN(i)&&(i=0),e-=i}return e}if(!t.fn.dotdotdot){t.fn.dotdotdot=function(e){if(0==this.length)return t.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){t(this).dotdotdot(e)});var o=this;o.data("dotdotdot")&&o.trigger("destroy.dot"),o.data("dotdotdot-style",o.attr("style")||""),o.css("word-wrap","break-word"),"nowrap"===o.css("white-space")&&o.css("white-space","normal"),o.bind_events=function(){return o.bind("update.dot",function(e,d){e.preventDefault(),e.stopPropagation(),l.maxHeight="number"==typeof l.height?l.height:f(o),l.maxHeight+=l.tolerance,"undefined"!=typeof d&&(("string"==typeof d||"nodeType"in d&&1===d.nodeType)&&(d=t("<div />").append(d).contents()),d instanceof t&&(a=d)),g=o.wrapInner('<div class="dotdotdot" />').children(),g.contents().detach().end().append(a.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var c=!1,u=!1;return s.afterElement&&(c=s.afterElement.clone(!0),c.show(),s.afterElement.detach()),i(g,l)&&(u="children"==l.wrap?n(g,l,c):r(g,o,g,l,c)),g.replaceWith(g.contents()),g=null,t.isFunction(l.callback)&&l.callback.call(o[0],u,a),s.isTruncated=u,u}).bind("isTruncated.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(o[0],s.isTruncated),s.isTruncated}).bind("originalContent.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(o[0],a),a}).bind("destroy.dot",function(t){t.preventDefault(),t.stopPropagation(),o.unwatch().unbind_events().contents().detach().end().append(a).attr("style",o.data("dotdotdot-style")||"").data("dotdotdot",!1)}),o},o.unbind_events=function(){return o.unbind(".dot"),o},o.watch=function(){if(o.unwatch(),"window"==l.watch){var e=t(window),n=e.width(),r=e.height();e.bind("resize.dot"+s.dotId,function(){n==e.width()&&r==e.height()&&l.windowResizeFix||(n=e.width(),r=e.height(),u&&clearInterval(u),u=setTimeout(function(){o.trigger("update.dot")},100))})}else c=d(o),u=setInterval(function(){if(o.is(":visible")){var t=d(o);(c.width!=t.width||c.height!=t.height)&&(o.trigger("update.dot"),c=t)}},500);return o},o.unwatch=function(){return t(window).unbind("resize.dot"+s.dotId),u&&clearInterval(u),o};var a=o.contents(),l=t.extend(!0,{},t.fn.dotdotdot.defaults,e),s={},c={},u=null,g=null;return l.lastCharacter.remove instanceof Array||(l.lastCharacter.remove=t.fn.dotdotdot.defaultArrays.lastCharacter.remove),l.lastCharacter.noEllipsis instanceof Array||(l.lastCharacter.noEllipsis=t.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),s.afterElement=h(l.after,o),s.isTruncated=!1,s.dotId=p++,o.data("dotdotdot",!0).bind_events().trigger("update.dot"),l.watch&&o.watch(),o},t.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0,line:null},t.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","",",",";",".","!","?"],noEllipsis:[]}},t.fn.dotdotdot.debug=function(){};var p=1,g=t.fn.html;t.fn.html=function(n){return n!=e&&!t.isFunction(n)&&this.data("dotdotdot")?this.trigger("update",[n]):g.apply(this,arguments)};var v=t.fn.text;t.fn.text=function(n){return n!=e&&!t.isFunction(n)&&this.data("dotdotdot")?(n=t("<div />").text(n).html(),this.trigger("update",[n])):v.apply(this,arguments)}}}(jQuery);
;/*!jCrop/jquery.Jcrop.js*/
!function(e){e.Jcrop=function(t,n){function o(e){return Math.round(e)+"px"}function r(e){return J.baseClass+"-"+e}function i(){return e.fx.step.hasOwnProperty("backgroundColor")}function a(t){var n=e(t).offset();return[n.left,n.top]}function s(e){return[e.pageX-P[0],e.pageY-P[1]]}function c(t){"object"!=typeof t&&(t={}),J=e.extend(J,t),e.each(["onChange","onSelect","onRelease","onDblClick"],function(e,t){"function"!=typeof J[t]&&(J[t]=function(){})})}function u(e,t,n){if(P=a(q),pt.setCursor("move"===e?e:e+"-resize"),"move"===e)return pt.activateHandlers(l(t),b,n);var o=lt.getFixed(),r=h(e),i=lt.getCorner(h(r));lt.setPressed(lt.getCorner(r)),lt.setCurrent(i),pt.activateHandlers(d(e,o),b,n)}function d(e,t){return function(n){if(J.aspectRatio)switch(e){case"e":n[1]=t.y+1;break;case"w":n[1]=t.y+1;break;case"n":n[0]=t.x+1;break;case"s":n[0]=t.x+1}else switch(e){case"e":n[1]=t.y2;break;case"w":n[1]=t.y2;break;case"n":n[0]=t.x2;break;case"s":n[0]=t.x2}lt.setCurrent(n),ft.update()}}function l(e){var t=e;return gt.watchKeys(),function(e){lt.moveOffset([e[0]-t[0],e[1]-t[1]]),t=e,ft.update()}}function h(e){switch(e){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function f(e){return function(t){return J.disabled?!1:"move"!==e||J.allowMove?(P=a(q),ot=!0,u(e,s(t)),t.stopPropagation(),t.preventDefault(),!1):!1}}function p(e,t,n){var o=e.width(),r=e.height();o>t&&t>0&&(o=t,r=t/e.width()*e.height()),r>n&&n>0&&(r=n,o=n/e.height()*e.width()),tt=e.width()/o,nt=e.height()/r,e.width(o).height(r)}function g(e){return{x:e.x*tt,y:e.y*nt,x2:e.x2*tt,y2:e.y2*nt,w:e.w*tt,h:e.h*nt}}function b(){var e=lt.getFixed();e.w>J.minSelect[0]&&e.h>J.minSelect[1]?(ft.enableHandles(),ft.done()):ft.release(),pt.setCursor(J.allowSelect?"crosshair":"default")}function w(e){if(J.disabled)return!1;if(!J.allowSelect)return!1;ot=!0,P=a(q),ft.disableHandles(),pt.setCursor("crosshair");var t=s(e);return lt.setPressed(t),ft.update(),pt.activateHandlers(v,b,"touch"===e.type.substring(0,5)),gt.watchKeys(),e.stopPropagation(),e.preventDefault(),!1}function v(e){lt.setCurrent(e),ft.update()}function y(){var t=e("<div></div>").addClass(r("tracker"));return R&&t.css({opacity:0,backgroundColor:"white"}),t}function m(e){G.removeClass().addClass(r("holder")).addClass(e)}function x(e,t){function n(){window.setTimeout(v,l)}var o=e[0]/tt,r=e[1]/nt,i=e[2]/tt,a=e[3]/nt;if(!rt){var s=lt.flipCoords(o,r,i,a),c=lt.getFixed(),u=[c.x,c.y,c.x2,c.y2],d=u,l=J.animationDelay,h=s[0]-u[0],f=s[1]-u[1],p=s[2]-u[2],g=s[3]-u[3],b=0,w=J.swingSpeed;o=d[0],r=d[1],i=d[2],a=d[3],ft.animMode(!0);var v=function(){return function(){b+=(100-b)/w,d[0]=Math.round(o+b/100*h),d[1]=Math.round(r+b/100*f),d[2]=Math.round(i+b/100*p),d[3]=Math.round(a+b/100*g),b>=99.8&&(b=100),100>b?(S(d),n()):(ft.done(),ft.animMode(!1),"function"==typeof t&&t.call(bt))}}();n()}}function C(e){S([e[0]/tt,e[1]/nt,e[2]/tt,e[3]/nt]),J.onSelect.call(bt,g(lt.getFixed())),ft.enableHandles()}function S(e){lt.setPressed([e[0],e[1]]),lt.setCurrent([e[2],e[3]]),ft.update()}function k(){return g(lt.getFixed())}function z(){return lt.getFixed()}function M(e){c(e),B()}function O(){J.disabled=!0,ft.disableHandles(),ft.setCursor("default"),pt.setCursor("default")}function j(){J.disabled=!1,B()}function F(){ft.done(),pt.activateHandlers(null,null)}function H(){G.remove(),E.show(),E.css("visibility","visible"),e(t).removeData("Jcrop")}function D(e,t){ft.release(),O();var n=new Image;n.onload=function(){var o=n.width,r=n.height,i=J.boxWidth,a=J.boxHeight;q.width(o).height(r),q.attr("src",e),N.attr("src",e),p(q,i,a),L=q.width(),X=q.height(),N.width(L).height(X),st.width(L+2*at).height(X+2*at),G.width(L).height(X),ht.resize(L,X),j(),"function"==typeof t&&t.call(bt)},n.src=e}function I(e,t,n){var o=t||J.bgColor;J.bgFade&&i()&&J.fadeTime&&!n?e.animate({backgroundColor:o},{queue:!1,duration:J.fadeTime}):e.css("backgroundColor",o)}function B(e){J.allowResize?e?ft.enableOnly():ft.enableHandles():ft.disableHandles(),pt.setCursor(J.allowSelect?"crosshair":"default"),ft.setCursor(J.allowMove?"move":"default"),J.hasOwnProperty("trueSize")&&(tt=J.trueSize[0]/L,nt=J.trueSize[1]/X),J.hasOwnProperty("setSelect")&&(C(J.setSelect),ft.done(),delete J.setSelect),ht.refresh(),J.bgColor!=ct&&(I(J.shade?ht.getShades():G,J.shade?J.shadeColor||J.bgColor:J.bgColor),ct=J.bgColor),ut!=J.bgOpacity&&(ut=J.bgOpacity,J.shade?ht.refresh():ft.setBgOpacity(ut)),Z=J.maxSize[0]||0,$=J.maxSize[1]||0,_=J.minSize[0]||0,et=J.minSize[1]||0,J.hasOwnProperty("outerImage")&&(q.attr("src",J.outerImage),delete J.outerImage),ft.refresh()}var P,J=e.extend({},e.Jcrop.defaults),A=navigator.userAgent.toLowerCase(),R=/msie/.test(A),T=/msie [1-6]\./.test(A);"object"!=typeof t&&(t=e(t)[0]),"object"!=typeof n&&(n={}),c(n);var K={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},E=e(t),W=!0;if("IMG"==t.tagName){if(0!=E[0].width&&0!=E[0].height)E.width(E[0].width),E.height(E[0].height);else{var Y=new Image;Y.src=E[0].src,E.width(Y.width),E.height(Y.height)}var q=E.clone().removeAttr("id").css(K).show();q.width(E.width()),q.height(E.height()),E.after(q).hide()}else q=E.css(K).show(),W=!1,null===J.shade&&(J.shade=!0);p(q,J.boxWidth,J.boxHeight);var L=q.width(),X=q.height(),G=e("<div />").width(L).height(X).addClass(r("holder")).css({position:"relative",backgroundColor:J.bgColor}).insertAfter(E).append(q);J.addClass&&G.addClass(J.addClass);var N=e("<div />"),V=e("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),Q=e("<div />").width("100%").height("100%").css("zIndex",320),U=e("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var e=lt.getFixed();J.onDblClick.call(bt,e)}).insertBefore(q).append(V,Q);W&&(N=e("<img />").attr("src",q.attr("src")).css(K).width(L).height(X),V.append(N)),T&&U.css({overflowY:"hidden"});var Z,$,_,et,tt,nt,ot,rt,it,at=J.boundary,st=y().width(L+2*at).height(X+2*at).css({position:"absolute",top:o(-at),left:o(-at),zIndex:290}).mousedown(w),ct=J.bgColor,ut=J.bgOpacity;P=a(q);var dt=function(){function e(){var e,t={},n=["touchstart","touchmove","touchend"],o=document.createElement("div");try{for(e=0;e<n.length;e++){var r=n[e];r="on"+r;var i=r in o;i||(o.setAttribute(r,"return;"),i="function"==typeof o[r]),t[n[e]]=i}return t.touchstart&&t.touchend&&t.touchmove}catch(a){return!1}}function t(){return J.touchSupport===!0||J.touchSupport===!1?J.touchSupport:e()}return{createDragger:function(e){return function(t){return J.disabled?!1:"move"!==e||J.allowMove?(P=a(q),ot=!0,u(e,s(dt.cfilter(t)),!0),t.stopPropagation(),t.preventDefault(),!1):!1}},newSelection:function(e){return w(dt.cfilter(e))},cfilter:function(e){return e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e},isSupported:e,support:t()}}(),lt=function(){function e(e){e=a(e),p=h=e[0],g=f=e[1]}function t(e){e=a(e),d=e[0]-p,l=e[1]-g,p=e[0],g=e[1]}function n(){return[d,l]}function o(e){var t=e[0],n=e[1];0>h+t&&(t-=t+h),0>f+n&&(n-=n+f),g+n>X&&(n+=X-(g+n)),p+t>L&&(t+=L-(p+t)),h+=t,p+=t,f+=n,g+=n}function r(e){var t=i();switch(e){case"ne":return[t.x2,t.y];case"nw":return[t.x,t.y];case"se":return[t.x2,t.y2];case"sw":return[t.x,t.y2]}}function i(){if(!J.aspectRatio)return c();var e,t,n,o,r=J.aspectRatio,i=J.minSize[0]/tt,a=J.maxSize[0]/tt,d=J.maxSize[1]/nt,l=p-h,b=g-f,w=Math.abs(l),v=Math.abs(b),y=w/v;return 0===a&&(a=10*L),0===d&&(d=10*X),r>y?(t=g,n=v*r,e=0>l?h-n:n+h,0>e?(e=0,o=Math.abs((e-h)/r),t=0>b?f-o:o+f):e>L&&(e=L,o=Math.abs((e-h)/r),t=0>b?f-o:o+f)):(e=p,o=w/r,t=0>b?f-o:f+o,0>t?(t=0,n=Math.abs((t-f)*r),e=0>l?h-n:n+h):t>X&&(t=X,n=Math.abs(t-f)*r,e=0>l?h-n:n+h)),e>h?(i>e-h?e=h+i:e-h>a&&(e=h+a),t=t>f?f+(e-h)/r:f-(e-h)/r):h>e&&(i>h-e?e=h-i:h-e>a&&(e=h-a),t=t>f?f+(h-e)/r:f-(h-e)/r),0>e?(h-=e,e=0):e>L&&(h-=e-L,e=L),0>t?(f-=t,t=0):t>X&&(f-=t-X,t=X),u(s(h,f,e,t))}function a(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e[0]>L&&(e[0]=L),e[1]>X&&(e[1]=X),[Math.round(e[0]),Math.round(e[1])]}function s(e,t,n,o){var r=e,i=n,a=t,s=o;return e>n&&(r=n,i=e),t>o&&(a=o,s=t),[r,a,i,s]}function c(){var e,t=p-h,n=g-f;return Z&&Math.abs(t)>Z&&(p=t>0?h+Z:h-Z),$&&Math.abs(n)>$&&(g=n>0?f+$:f-$),et/nt&&Math.abs(n)<et/nt&&(g=n>0?f+et/nt:f-et/nt),_/tt&&Math.abs(t)<_/tt&&(p=t>0?h+_/tt:h-_/tt),0>h&&(p-=h,h-=h),0>f&&(g-=f,f-=f),0>p&&(h-=p,p-=p),0>g&&(f-=g,g-=g),p>L&&(e=p-L,h-=e,p-=e),g>X&&(e=g-X,f-=e,g-=e),h>L&&(e=h-X,g-=e,f-=e),f>X&&(e=f-X,g-=e,f-=e),u(s(h,f,p,g))}function u(e){return{x:e[0],y:e[1],x2:e[2],y2:e[3],w:e[2]-e[0],h:e[3]-e[1]}}var d,l,h=0,f=0,p=0,g=0;return{flipCoords:s,setPressed:e,setCurrent:t,getOffset:n,moveOffset:o,getCorner:r,getFixed:i}}(),ht=function(){function t(e,t){p.left.css({height:o(t)}),p.right.css({height:o(t)})}function n(){return r(lt.getFixed())}function r(e){p.top.css({left:o(e.x),width:o(e.w),height:o(e.y)}),p.bottom.css({top:o(e.y2),left:o(e.x),width:o(e.w),height:o(X-e.y2)}),p.right.css({left:o(e.x2),width:o(L-e.x2)}),p.left.css({width:o(e.x)})}function i(){return e("<div />").css({position:"absolute",backgroundColor:J.shadeColor||J.bgColor}).appendTo(f)}function a(){h||(h=!0,f.insertBefore(q),n(),ft.setBgOpacity(1,0,1),N.hide(),s(J.shadeColor||J.bgColor,1),ft.isAwake()?u(J.bgOpacity,1):u(1,1))}function s(e,t){I(l(),e,t)}function c(){h&&(f.remove(),N.show(),h=!1,ft.isAwake()?ft.setBgOpacity(J.bgOpacity,1,1):(ft.setBgOpacity(1,1,1),ft.disableHandles()),I(G,0,1))}function u(e,t){h&&(J.bgFade&&!t?f.animate({opacity:1-e},{queue:!1,duration:J.fadeTime}):f.css({opacity:1-e}))}function d(){J.shade?a():c(),ft.isAwake()&&u(J.bgOpacity)}function l(){return f.children()}var h=!1,f=e("<div />").css({position:"absolute",zIndex:240,opacity:0}),p={top:i(),left:i().height(X),right:i().height(X),bottom:i()};return{update:n,updateRaw:r,getShades:l,setBgColor:s,enable:a,disable:c,resize:t,refresh:d,opacity:u}}(),ft=function(){function t(t){var n=e("<div />").css({position:"absolute",opacity:J.borderOpacity}).addClass(r(t));return V.append(n),n}function n(t,n){var o=e("<div />").mousedown(f(t)).css({cursor:t+"-resize",position:"absolute",zIndex:n}).addClass("ord-"+t);return dt.support&&o.bind("touchstart.jcrop",dt.createDragger(t)),Q.append(o),o}function i(e){var t=J.handleSize,o=n(e,O++).css({opacity:J.handleOpacity}).addClass(r("handle"));return t&&o.width(t).height(t),o}function a(e){return n(e,O++).addClass("jcrop-dragbar")}function s(e){var t;for(t=0;t<e.length;t++)H[e[t]]=a(e[t])}function c(e){var n,o;for(o=0;o<e.length;o++){switch(e[o]){case"n":n="hline";break;case"s":n="hline bottom";break;case"e":n="vline right";break;case"w":n="vline"}j[e[o]]=t(n)}}function u(e){var t;for(t=0;t<e.length;t++)F[e[t]]=i(e[t])}function d(e,t){J.shade||N.css({top:o(-t),left:o(-e)}),U.css({top:o(t),left:o(e)})}function l(e,t){U.width(Math.round(e)).height(Math.round(t))}function h(){var e=lt.getFixed();lt.setPressed([e.x,e.y]),lt.setCurrent([e.x2,e.y2]),p()}function p(e){return M?b(e):void 0}function b(e){var t=lt.getFixed();l(t.w,t.h),d(t.x,t.y),J.shade&&ht.updateRaw(t),M||v(),e?J.onSelect.call(bt,g(t)):J.onChange.call(bt,g(t))}function w(e,t,n){(M||t)&&(J.bgFade&&!n?q.animate({opacity:e},{queue:!1,duration:J.fadeTime}):q.css("opacity",e))}function v(){U.show(),J.shade?ht.opacity(ut):w(ut,!0),M=!0}function m(){S(),U.hide(),J.shade?ht.opacity(1):w(1),M=!1,J.onRelease.call(bt)}function x(){D&&Q.show()}function C(){return D=!0,J.allowResize?(Q.show(),!0):void 0}function S(){D=!1,Q.hide()}function k(e){e?(rt=!0,S()):(rt=!1,C())}function z(){k(!1),h()}var M,O=370,j={},F={},H={},D=!1;J.dragEdges&&e.isArray(J.createDragbars)&&s(J.createDragbars),e.isArray(J.createHandles)&&u(J.createHandles),J.drawBorders&&e.isArray(J.createBorders)&&c(J.createBorders),e(document).bind("touchstart.jcrop-ios",function(t){e(t.currentTarget).hasClass("jcrop-tracker")&&t.stopPropagation()});var I=y().mousedown(f("move")).css({cursor:"move",position:"absolute",zIndex:360});return dt.support&&I.bind("touchstart.jcrop",dt.createDragger("move")),V.append(I),S(),{updateVisible:p,update:b,release:m,refresh:h,isAwake:function(){return M},setCursor:function(e){I.css("cursor",e)},enableHandles:C,enableOnly:function(){D=!0},showHandles:x,disableHandles:S,animMode:k,setBgOpacity:w,done:z}}(),pt=function(){function t(t){st.css({zIndex:450}),t?e(document).bind("touchmove.jcrop",a).bind("touchend.jcrop",c):h&&e(document).bind("mousemove.jcrop",o).bind("mouseup.jcrop",r)}function n(){st.css({zIndex:290}),e(document).unbind(".jcrop")}function o(e){return d(s(e)),!1}function r(e){return e.preventDefault(),e.stopPropagation(),ot&&(ot=!1,l(s(e)),ft.isAwake()&&J.onSelect.call(bt,g(lt.getFixed())),n(),d=function(){},l=function(){}),!1}function i(e,n,o){return ot=!0,d=e,l=n,t(o),!1}function a(e){return d(s(dt.cfilter(e))),!1}function c(e){return r(dt.cfilter(e))}function u(e){st.css("cursor",e)}var d=function(){},l=function(){},h=J.trackDocument;return h||st.mousemove(o).mouseup(r).mouseout(r),q.before(st),{activateHandlers:i,setCursor:u}}(),gt=function(){function t(){J.keySupport&&(i.show(),i.focus())}function n(){i.hide()}function o(e,t,n){J.allowMove&&(lt.moveOffset([t,n]),ft.updateVisible(!0)),e.preventDefault(),e.stopPropagation()}function r(e){if(e.ctrlKey||e.metaKey)return!0;it=e.shiftKey?!0:!1;var t=it?10:1;switch(e.keyCode){case 37:o(e,-t,0);break;case 39:o(e,t,0);break;case 38:o(e,0,-t);break;case 40:o(e,0,t);break;case 27:J.allowSelect&&ft.release();break;case 9:return!0}return!1}var i=e('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),a=e("<div />").css({position:"absolute",overflow:"hidden"}).append(i);return J.keySupport&&(i.keydown(r).blur(n),T||!J.fixedSupport?(i.css({position:"absolute",left:"-20px"}),a.append(i).insertBefore(q)):i.insertBefore(q)),{watchKeys:t}}();dt.support&&st.bind("touchstart.jcrop",dt.newSelection),Q.hide(),B(!0);var bt={setImage:D,animateTo:x,setSelect:C,setOptions:M,tellSelect:k,tellScaled:z,setClass:m,disable:O,enable:j,cancel:F,release:ft.release,destroy:H,focus:gt.watchKeys,getBounds:function(){return[L*tt,X*nt]},getWidgetSize:function(){return[L,X]},getScaleFactor:function(){return[tt,nt]},getOptions:function(){return J},ui:{holder:G,selection:U}};return R&&G.bind("selectstart",function(){return!1}),E.data("Jcrop",bt),bt},e.fn.Jcrop=function(t,n){var o;return this.each(function(){if(e(this).data("Jcrop")){if("api"===t)return e(this).data("Jcrop");e(this).data("Jcrop").setOptions(t)}else"IMG"==this.tagName?e.Jcrop.Loader(this,function(){e(this).css({display:"block",visibility:"hidden"}),o=e.Jcrop(this,t),e.isFunction(n)&&n.call(o)}):(e(this).css({display:"block",visibility:"hidden"}),o=e.Jcrop(this,t),e.isFunction(n)&&n.call(o))}),this},e.Jcrop.Loader=function(t,n,o){function r(){a.complete?(i.unbind(".jcloader"),e.isFunction(n)&&n.call(a)):window.setTimeout(r,50)}var i=e(t),a=i[0];i.bind("load.jcloader",r).bind("error.jcloader",function(){i.unbind(".jcloader"),e.isFunction(o)&&o.call(a)}),a.complete&&e.isFunction(n)&&(i.unbind(".jcloader"),n.call(a))},e.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery);
;/*!jqGrid/js/jquery.jqGrid.js*/
!function(e){"use strict";"function"==typeof define&&define.amd?jQuery?e(jQuery):define(["jquery","../grid.base"],e):e(jQuery)}(function(e){e.jgrid=e.jgrid||{},e.jgrid.hasOwnProperty("regional")||(e.jgrid.regional=[]),e.jgrid.regional.cn={defaults:{recordtext:"{0} - {1} {2} ",emptyrecords:"",noresult:"",loadtext:"...",savetext:"...",pgtext:" {0}  {1} ",pgfirst:"",pglast:"",pgnext:"",pgprev:"",pgrecs:"",showhide:"Toggle Expand Collapse Grid",pagerCaption:"Grid::Page Settings",pageText:"Page:",recordPage:"",nomorerecs:"...",scrollPullup:"Pull up to load more...",scrollPulldown:"Pull down to refresh...",scrollRefresh:"Release to refresh..."},search:{caption:"...",Find:"",Reset:"",odata:[{oper:"eq",text:""},{oper:"ne",text:""},{oper:"lt",text:""},{oper:"le",text:""},{oper:"gt",text:""},{oper:"ge",text:""},{oper:"bw",text:""},{oper:"bn",text:""},{oper:"in",text:""},{oper:"ni",text:""},{oper:"ew",text:""},{oper:"en",text:""},{oper:"cn",text:""},{oper:"nc",text:""},{oper:"nu",text:""},{oper:"nn",text:""}],groupOps:[{op:"AND",text:""},{op:"OR",text:""}],operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"",editCaption:"",bSubmit:"",bCancel:"",bClose:"",saveData:"",bYes:"",bNo:"",bExit:"",msg:{required:"",number:"",minValue:" ",maxValue:" ",email:"e-mail",integer:"",date:"",url:" ('http://'  'https://')",nodefined:" ",novalue:" ",customarray:"",customfcheck:"!"}},view:{caption:"",bClose:""},del:{caption:"",msg:"",bSubmit:"",bCancel:""},nav:{edittext:"",edittitle:"",addtext:"",addtitle:"",deltext:"",deltitle:"",searchtext:"",searchtitle:"",refreshtext:"",refreshtitle:"",alertcap:"",alerttext:"",viewtext:"",viewtitle:"",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing",selectcaption:"Actions..."},col:{caption:"",bSubmit:"",bCancel:""},errors:{errcap:"",nourl:"url",norecords:"",model:"colNames  colModel "},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["","","","","","","","","","","","","",""],monthNames:["","","","","","","","","","","","","","","","","","","","","","","",""],AmPm:["am","pm","",""],S:function(e){return 11>e||e>13?["st","nd","rd","th"][Math.min((e-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"Y-m-d",parseRe:/[#%\\\/:_;.,\t\s-]/,masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO",YearMonth:"F, Y"},reformatAfterEdit:!1,userLocalTime:!1},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0},idName:"id"}}}),function(e){"use strict";"function"==typeof define&&define.amd?jQuery?e(jQuery):define(["jquery","../grid.base"],e):e(jQuery)}(function(e){e.jgrid=e.jgrid||{},e.jgrid.hasOwnProperty("regional")||(e.jgrid.regional=[]),e.jgrid.regional.en={defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",noresult:"no records",loadtext:"Loading...",savetext:"Saving...",pgtext:"Page {0} of {1}",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",pagerCaption:"Grid::Page Settings",pageText:"Page:",recordPage:"Records per Page",nomorerecs:"No more records...",scrollPullup:"Pull up to load more...",scrollPulldown:"Pull down to refresh...",scrollRefresh:"Release to refresh..."},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:[{oper:"eq",text:"equal"},{oper:"ne",text:"not equal"},{oper:"lt",text:"less"},{oper:"le",text:"less or equal"},{oper:"gt",text:"greater"},{oper:"ge",text:"greater or equal"},{oper:"bw",text:"begins with"},{oper:"bn",text:"does not begin with"},{oper:"in",text:"is in"},{oper:"ni",text:"is not in"},{oper:"ew",text:"ends with"},{oper:"en",text:"does not end with"},{oper:"cn",text:"contains"},{oper:"nc",text:"does not contain"},{oper:"nu",text:"is null"},{oper:"nn",text:"is not null"}],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing",selectcaption:"Actions..."},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(e){return 11>e||e>13?["st","nd","rd","th"][Math.min((e-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"n/j/Y",parseRe:/[#%\\\/:_;.,\t\s-]/,masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO",YearMonth:"F, Y"},reformatAfterEdit:!1,userLocalTime:!1},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0},idName:"id"}}}),function(e){"use strict";"function"==typeof define&&define.amd?jQuery?e(jQuery):define(["jquery"],e):e(jQuery)}(function($){"use strict";function _pivotfilter(e,t){var i,r,o,a=[];if(!this||"function"!=typeof e||e instanceof RegExp)throw new TypeError;for(o=this.length,i=0;o>i;i++)if(this.hasOwnProperty(i)&&(r=this[i],e.call(t,r,i,this))){a.push(r);break}return a}$.jgrid=$.jgrid||{},$.jgrid.hasOwnProperty("defaults")||($.jgrid.defaults={}),$.extend($.jgrid,{version:"5.0.0",htmlDecode:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},template:function(e){var t,i=$.makeArray(arguments).slice(1),r=i.length;return null==e&&(e=""),e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(e,o){if(!isNaN(parseInt(o,10)))return i[parseInt(o,10)];for(t=0;r>t;t++)if($.isArray(i[t]))for(var a=i[t],s=a.length;s--;)if(o===a[s].nm)return a[s].v})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var e=-1,t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");return null!=i.exec(t)&&(e=parseFloat(RegExp.$1)),e},getCellIndex:function(e){var t=$(e);return t.is("tr")?-1:(t=(t.is("td")||t.is("th")?t:t.closest("td,th"))[0],$.jgrid.msie?$.inArray(t,t.parentNode.cells):t.cellIndex)},stripHtml:function(e){e=String(e);var t=/<("[^"]*"|'[^']*'|[^'">])*>/gi;return e?(e=e.replace(t,""),e&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/\"/g,"'"):""):e},stripPref:function(e,t){var i=$.type(e);return("string"===i||"number"===i)&&(e=String(e),t=""!==e?String(t).replace(String(e),""):t),t},parse:function(jsonString){var js=jsonString;return"while(1);"===js.substr(0,9)&&(js=js.substr(9)),"/*"===js.substr(0,2)&&(js=js.substr(2,js.length-4)),js||(js="{}"),$.jgrid.useJSON===!0&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(js):eval("("+js+")")},parseDate:function(e,t,i,r){var o,a,s,n=/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,l=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,d=/[^-+\dA-Z]/g,p=new RegExp("^/Date\\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\\)/$"),c="string"==typeof t?t.match(p):null,u=function(e,t){for(e=String(e),t=parseInt(t,10)||2;e.length<t;)e="0"+e;return e},g={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},h=0,f=function(e,t){return 0===e?12===t&&(t=0):12!==t&&(t+=12),t},m=0;if(void 0===r&&(r=$.jgrid.getRegional(this,"formatter.date")),void 0===r.parseRe&&(r.parseRe=/[#%\\\/:_;.,\t\s-]/),r.masks.hasOwnProperty(e)&&(e=r.masks[e]),t&&null!=t)if(isNaN(t-0)||"u"!==String(e).toLowerCase())if(t.constructor===Date)h=t;else if(null!==c)h=new Date(parseInt(c[1],10)),c[3]&&(m=60*Number(c[5])+Number(c[6]),m*="-"===c[4]?1:-1,m-=h.getTimezoneOffset(),h.setTime(Number(Number(h)+60*m*1e3)));else{for("ISO8601Long"===r.srcformat&&"Z"===t.charAt(t.length-1)&&(m-=(new Date).getTimezoneOffset()),t=String(t).replace(/\T/g,"#").replace(/\t/,"%").split(r.parseRe),e=e.replace(/\T/g,"#").replace(/\t/,"%").split(r.parseRe),a=0,s=e.length;s>a;a++){switch(e[a]){case"M":o=$.inArray(t[a],r.monthNames),-1!==o&&12>o&&(t[a]=o+1,g.m=t[a]);break;case"F":o=$.inArray(t[a],r.monthNames,12),-1!==o&&o>11&&(t[a]=o+1-12,g.m=t[a]);break;case"n":e[a]="m";break;case"j":e[a]="d";break;case"a":o=$.inArray(t[a],r.AmPm),-1!==o&&2>o&&t[a]===r.AmPm[o]&&(t[a]=o,g.h=f(t[a],g.h));break;case"A":o=$.inArray(t[a],r.AmPm),-1!==o&&o>1&&t[a]===r.AmPm[o]&&(t[a]=o-2,g.h=f(t[a],g.h));break;case"g":g.h=parseInt(t[a],10)}void 0!==t[a]&&(g[e[a].toLowerCase()]=parseInt(t[a],10))}if(g.f&&(g.m=g.f),0===g.m&&0===g.y&&0===g.d)return"&#160;";g.m=parseInt(g.m,10)-1;var v=g.y;v>=70&&99>=v?g.y=1900+g.y:v>=0&&69>=v&&(g.y=2e3+g.y),h=new Date(g.y,g.m,g.d,g.h,g.i,g.s,g.u),m>0&&h.setTime(Number(Number(h)+60*m*1e3))}else h=new Date(1e3*parseFloat(t));else h=new Date(g.y,g.m,g.d,g.h,g.i,g.s,g.u);if(r.userLocalTime&&0===m&&(m-=(new Date).getTimezoneOffset(),m>0&&h.setTime(Number(Number(h)+60*m*1e3))),void 0===i)return h;r.masks.hasOwnProperty(i)?i=r.masks[i]:i||(i="Y-m-d");var j=h.getHours(),b=h.getMinutes(),w=h.getDate(),y=h.getMonth()+1,_=h.getTimezoneOffset(),x=h.getSeconds(),q=h.getMilliseconds(),D=h.getDay(),C=h.getFullYear(),I=(D+6)%7+1,G=(new Date(C,y-1,w)-new Date(C,0,1))/864e5,F={d:u(w),D:r.dayNames[D],j:w,l:r.dayNames[D+7],N:I,S:r.S(w),w:D,z:G,W:5>I?Math.floor((G+I-1)/7)+1:Math.floor((G+I-1)/7)||((new Date(C-1,0,1).getDay()+6)%7<4?53:52),F:r.monthNames[y-1+12],m:u(y),M:r.monthNames[y-1],n:y,t:"?",L:"?",o:"?",Y:C,y:String(C).substring(2),a:12>j?r.AmPm[0]:r.AmPm[1],A:12>j?r.AmPm[2]:r.AmPm[3],B:"?",g:j%12||12,G:j,h:u(j%12||12),H:u(j),i:u(b),s:u(x),u:q,e:"?",I:"?",O:(_>0?"-":"+")+u(100*Math.floor(Math.abs(_)/60)+Math.abs(_)%60,4),P:"?",T:(String(h).match(l)||[""]).pop().replace(d,""),Z:"?",c:"?",r:"?",U:Math.floor(h/1e3)};return i.replace(n,function(e){return F.hasOwnProperty(e)?F[e]:e.substring(1)})},jqID:function(e){return String(e).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(e){return(e||$.jgrid.uidPref)+$.jgrid.guid++},getAccessor:function(e,t){var i,r,o,a=[];if("function"==typeof t)return t(e);if(i=e[t],void 0===i)try{if("string"==typeof t&&(a=t.split(".")),o=a.length)for(i=e;i&&o--;)r=a.shift(),i=i[r]}catch(s){}return i},getXmlData:function(e,t,i){var r,o="string"==typeof t?t.match(/^(.*)\[(\w+)\]$/):null;return"function"==typeof t?t(e):o&&o[2]?o[1]?$(o[1],e).attr(o[2]):$(e).attr(o[2]):(r=$(t,e),i?r:r.length>0?$(r).text():void 0)},cellWidth:function(){var e=$("<div class='ui-jqgrid' style='left:10000px'><table class='ui-jqgrid-btable ui-common-table' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div>"),t=e.appendTo("body").find("td").width();return e.remove(),Math.abs(t-5)>.1},isLocalStorage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},getRegional:function(e,t,i){var r;return void 0!==i?i:(e.p&&e.p.regional&&$.jgrid.regional&&(r=$.jgrid.getAccessor($.jgrid.regional[e.p.regional]||{},t)),void 0===r&&(r=$.jgrid.getAccessor($.jgrid,t)),r)},isMobile:function(){try{return/Android|webOS|iPhone|iPad|iPod|pocket|psp|kindle|avantgo|blazer|midori|Tablet|Palm|maemo|plucker|phone|BlackBerry|symbian|IEMobile|mobile|ZuneWP7|Windows Phone|Opera Mini/i.test(navigator.userAgent)?!0:!1}catch(e){return!1}},cell_width:!0,ajaxOptions:{},from:function(source){var $t=this,QueryObject=function(d,q){"string"==typeof d&&(d=$.data(d));var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],_useProperties=!0;if("object"!=typeof d||!d.push)throw"data provides is not an array";return d.length>0&&(_useProperties="object"!=typeof d[0]?!1:!0),this._hasData=function(){return null===_data?!1:0===_data.length?!1:!0},this._getStr=function(e){var t=[];return _trim&&t.push("jQuery.trim("),t.push("String("+e+")"),_trim&&t.push(")"),_usecase||t.push(".toLowerCase()"),t.join("")},this._strComp=function(e){return"string"==typeof e?".toString()":""},this._group=function(e,t){return{field:e.toString(),unique:t,items:[]}},this._toStr=function(e){return _trim&&(e=$.trim(e)),e=e.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),_usecase?e:e.toLowerCase()},this._funcLoop=function(e){var t=[];return $.each(_data,function(i,r){t.push(e(r))}),t},this._append=function(e){var t;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,t=0;_orDepth>t;t++)_query+="(";_negate&&(_query+="!"),_query+="("+e+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(e,t){_lastCommand=e,_lastField=t},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(e,t){return null===_lastCommand?self:null!==e&&null!==t?_lastCommand(e,t):null===_lastField?_lastCommand(e):_useProperties?_lastCommand(_lastField,e):_lastCommand(e)},this._equals=function(e,t){return 0===self._compare(e,t,1)},this._compare=function(e,t,i){var r=Object.prototype.toString;return void 0===i&&(i=1),void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t?0:null===e&&null!==t?1:null!==e&&null===t?-1:"[object Date]"===r.call(e)&&"[object Date]"===r.call(t)?t>e?-i:e>t?i:0:(_usecase||"number"==typeof e||"number"==typeof t||(e=String(e),t=String(t)),t>e?-i:e>t?i:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(e,t){var i=_sorting[t].by,r=_sorting[t].dir,o=_sorting[t].type,a=_sorting[t].datefmt,s=_sorting[t].sfunc;if(t===_sorting.length-1)return self._getOrder(e,i,r,o,a,s);t++;var n,l,d,p=self._getGroup(e,i,r,o,a),c=[];for(n=0;n<p.length;n++)for(d=self._doSort(p[n].items,t),l=0;l<d.length;l++)c.push(d[l]);return c},this._getOrder=function(e,t,i,r,o,a){var s,n,l,d,p=[],c=[],u="a"===i?1:-1;void 0===r&&(r="text"),d="float"===r||"number"===r||"currency"===r||"numeric"===r?function(e){var t=parseFloat(String(e).replace(_stripNum,""));return isNaN(t)?Number.NEGATIVE_INFINITY:t}:"int"===r||"integer"===r?function(e){return e?parseFloat(String(e).replace(_stripNum,"")):Number.NEGATIVE_INFINITY}:"date"===r||"datetime"===r?function(e){return $.jgrid.parseDate.call($t,o,e).getTime()}:$.isFunction(r)?r:function(e){return e=e?$.trim(String(e)):"",_usecase?e:e.toLowerCase()},$.each(e,function(e,i){n=""!==t?$.jgrid.getAccessor(i,t):i,void 0===n&&(n=""),n=d(n,i),c.push({vSort:n,index:e})}),c.sort($.isFunction(a)?function(e,t){return e=e.vSort,t=t.vSort,a.call(this,e,t,u)}:function(e,t){return e=e.vSort,t=t.vSort,self._compare(e,t,u)}),l=0;for(var g=e.length;g>l;)s=c[l].index,p.push(e[s]),l++;return p},this._getGroup=function(e,t,i,r,o){var a,s=[],n=null,l=null;return $.each(self._getOrder(e,t,i,r,o),function(e,i){a=$.jgrid.getAccessor(i,t),null==a&&(a=""),self._equals(l,a)||(l=a,null!==n&&s.push(n),n=self._group(t,a)),n.items.push(i)}),null!==n&&s.push(n),s},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match?self:($.each(_data,function(){eval(match)&&results.push(this)}),_data=results,self)},this.data=function(){return _data},this.select=function(e){if(self._performSort(),!self._hasData())return[];if(self.execute(),$.isFunction(e)){var t=[];return $.each(_data,function(i,r){t.push(e(r))}),t}return _data},this.hasMatch=function(){return self._hasData()?(self.execute(),_data.length>0):!1},this.andNot=function(e,t,i){return _negate=!_negate,self.and(e,t,i)},this.orNot=function(e,t,i){return _negate=!_negate,self.or(e,t,i)},this.not=function(e,t,i){return self.andNot(e,t,i)},this.and=function(e,t,i){return _queuedOperator=" && ",void 0===e?self:self._repeatCommand(e,t,i)},this.or=function(e,t,i){return _queuedOperator=" || ",void 0===e?self:self._repeatCommand(e,t,i)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(e){return _negate=!_negate,self.is(e)},this.is=function(e){return self._append("this."+e),self._resetNegate(),self},this._compareValues=function(e,t,i,r,o){var a;a=_useProperties?"jQuery.jgrid.getAccessor(this,'"+t+"')":"this",void 0===i&&(i=null);var s=i,n=void 0===o.stype?"text":o.stype;if(null!==i)switch(n){case"int":case"integer":s=isNaN(Number(s))||""===s?"0":s,a="parseInt("+a+",10)",s="parseInt("+s+",10)";break;case"float":case"number":case"numeric":s=String(s).replace(_stripNum,""),s=isNaN(Number(s))||""===s?"0":s,a="parseFloat("+a+")",s="parseFloat("+s+")";break;case"date":case"datetime":s=String($.jgrid.parseDate.call($t,o.srcfmt||"Y-m-d",s).getTime()),a='jQuery.jgrid.parseDate.call(jQuery("#'+$.jgrid.jqID($t.p.id)+'")[0],"'+o.srcfmt+'",'+a+").getTime()";break;default:a=self._getStr(a),s=self._getStr('"'+self._toStr(s)+'"')}return self._append(a+" "+r+" "+s),self._setCommand(e,t),self._resetNegate(),self},this.equals=function(e,t,i){return self._compareValues(self.equals,e,t,"==",i)},this.notEquals=function(e,t,i){return self._compareValues(self.equals,e,t,"!==",i)},this.isNull=function(e,t,i){return self._compareValues(self.equals,e,null,"===",i)},this.greater=function(e,t,i){return self._compareValues(self.greater,e,t,">",i)},this.less=function(e,t,i){return self._compareValues(self.less,e,t,"<",i)},this.greaterOrEquals=function(e,t,i){return self._compareValues(self.greaterOrEquals,e,t,">=",i)},this.lessOrEquals=function(e,t,i){return self._compareValues(self.lessOrEquals,e,t,"<=",i)},this.startsWith=function(e,t){var i=null==t?e:t,r=_trim?$.trim(i.toString()).length:i.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".substr(0,"+r+") == "+self._getStr('"'+self._toStr(t)+'"')):(null!=t&&(r=_trim?$.trim(t.toString()).length:t.toString().length),self._append(self._getStr("this")+".substr(0,"+r+") == "+self._getStr('"'+self._toStr(e)+'"'))),self._setCommand(self.startsWith,e),self._resetNegate(),self},this.endsWith=function(e,t){var i=null==t?e:t,r=_trim?$.trim(i.toString()).length:i.toString().length;return self._append(_useProperties?self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".substr("+self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".length-"+r+","+r+') == "'+self._toStr(t)+'"':self._getStr("this")+".substr("+self._getStr("this")+'.length-"'+self._toStr(e)+'".length,"'+self._toStr(e)+'".length) == "'+self._toStr(e)+'"'),self._setCommand(self.endsWith,e),self._resetNegate(),self},this.contains=function(e,t){return self._append(_useProperties?self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+'.indexOf("'+self._toStr(t)+'",0) > -1':self._getStr("this")+'.indexOf("'+self._toStr(e)+'",0) > -1'),self._setCommand(self.contains,e),self._resetNegate(),self},this.groupBy=function(e,t,i,r){return self._hasData()?self._getGroup(_data,e,t,i,r):null},this.orderBy=function(e,t,i,r,o){return t=null==t?"a":$.trim(t.toString().toLowerCase()),null==i&&(i="text"),null==r&&(r="Y-m-d"),null==o&&(o=!1),("desc"===t||"descending"===t)&&(t="d"),("asc"===t||"ascending"===t)&&(t="a"),_sorting.push({by:e,dir:t,type:i,datefmt:r,sfunc:o}),self},self};return new QueryObject(source,null)},getMethod:function(e){return this.getAccessor($.fn.jqGrid,e)},extend:function(e){$.extend($.fn.jqGrid,e),this.no_legacy_api||$.fn.extend(e)},clearBeforeUnload:function(e){var t,i=$("#"+$.jgrid.jqID(e))[0];if(i.grid){t=i.grid,$.isFunction(t.emptyRows)&&t.emptyRows.call(i,!0,!0),$(document).unbind("mouseup.jqGrid"+i.p.id),$(t.hDiv).unbind("mousemove"),$(i).unbind();var r,o=t.headers.length,a=["formatCol","sortData","updatepager","refreshIndex","setHeadCheckBox","constructTr","formatter","addXmlData","addJSONData","grid","p"];for(r=0;o>r;r++)t.headers[r].el=null;for(r in t)t.hasOwnProperty(r)&&(t[r]=null);for(r in i.p)i.p.hasOwnProperty(r)&&(i.p[r]=$.isArray(i.p[r])?[]:null);for(o=a.length,r=0;o>r;r++)i.hasOwnProperty(a[r])&&(i[a[r]]=null,delete i[a[r]])}},gridUnload:function(e){if(e){e=$.trim(e),0===e.indexOf("#")&&(e=e.substring(1));var t=$("#"+$.jgrid.jqID(e))[0];if(t.grid){var i={id:$(t).attr("id"),cl:$(t).attr("class")};t.p.pager&&$(t.p.pager).unbind().empty().removeClass("ui-state-default ui-jqgrid-pager ui-corner-bottom");var r=document.createElement("table");r.className=i.cl;var o=$.jgrid.jqID(t.id);$(r).removeClass("ui-jqgrid-btable ui-common-table").insertBefore("#gbox_"+o),1===$(t.p.pager).parents("#gbox_"+o).length&&$(t.p.pager).insertBefore("#gbox_"+o),$.jgrid.clearBeforeUnload(e),$("#gbox_"+o).remove(),$(r).attr({id:i.id}),$("#alertmod_"+$.jgrid.jqID(e)).remove()}}},gridDestroy:function(e){if(e){e=$.trim(e),0===e.indexOf("#")&&(e=e.substring(1));var t=$("#"+$.jgrid.jqID(e))[0];if(t.grid){t.p.pager&&$(t.p.pager).remove();try{$.jgrid.clearBeforeUnload(e),$("#gbox_"+$.jgrid.jqID(e)).remove()}catch(i){}}}},styleUI:{jQueryUI:{common:{disabled:"ui-state-disabled",highlight:"ui-state-highlight",hover:"ui-state-hover",cornerall:"ui-corner-all",cornertop:"ui-corner-top",cornerbottom:"ui-corner-bottom",hidden:"ui-helper-hidden",icon_base:"ui-icon",overlay:"ui-widget-overlay",active:"ui-state-active",error:"ui-state-error",button:"ui-state-default ui-corner-all",content:"ui-widget-content"},base:{entrieBox:"ui-widget ui-widget-content ui-corner-all",viewBox:"",headerTable:"",headerBox:"ui-state-default",rowTable:"",rowBox:"ui-widget-content",footerTable:"",footerBox:"ui-widget-content",headerDiv:"ui-state-default",gridtitleBox:"ui-widget-header ui-corner-top ui-helper-clearfix",customtoolbarBox:"ui-state-default",loadingBox:"ui-state-default ui-state-active",rownumBox:"ui-state-default",scrollBox:"ui-widget-content",multiBox:"cbox",pagerBox:"ui-state-default ui-corner-bottom",pagerTable:"",toppagerBox:"ui-state-default",pgInput:"ui-corner-all",pgSelectBox:"ui-widget-content ui-corner-all",pgButtonBox:"ui-corner-all",icon_first:"ui-icon-seek-first",icon_prev:"ui-icon-seek-prev",icon_next:"ui-icon-seek-next",icon_end:"ui-icon-seek-end",icon_asc:"ui-icon-triangle-1-n",icon_desc:"ui-icon-triangle-1-s",icon_caption_open:"ui-icon-circle-triangle-n",icon_caption_close:"ui-icon-circle-triangle-s"},modal:{modal:"ui-widget ui-widget-content ui-corner-all",header:"ui-widget-header ui-corner-all ui-helper-clearfix",content:"ui-widget-content",resizable:"ui-resizable-handle ui-resizable-se",icon_close:"ui-icon-closethick",icon_resizable:"ui-icon-gripsmall-diagonal-se"},celledit:{inputClass:"ui-widget-content ui-corner-all"},inlinedit:{inputClass:"ui-widget-content ui-corner-all",icon_edit_nav:"ui-icon-pencil",icon_add_nav:"ui-icon-plus",icon_save_nav:"ui-icon-disk",icon_cancel_nav:"ui-icon-cancel"},formedit:{inputClass:"ui-widget-content ui-corner-all",icon_prev:"ui-icon-triangle-1-w",icon_next:"ui-icon-triangle-1-e",icon_save:"ui-icon-disk",icon_close:"ui-icon-close",icon_del:"ui-icon-scissors",icon_cancel:"ui-icon-cancel"},navigator:{icon_edit_nav:"ui-icon-pencil",icon_add_nav:"ui-icon-plus",icon_del_nav:"ui-icon-trash",icon_search_nav:"ui-icon-search",icon_refresh_nav:"ui-icon-refresh",icon_view_nav:"ui-icon-document",icon_newbutton_nav:"ui-icon-newwin"},grouping:{icon_plus:"ui-icon-circlesmall-plus",icon_minus:"ui-icon-circlesmall-minus"},filter:{table_widget:"ui-widget ui-widget-content",srSelect:"ui-widget-content ui-corner-all",srInput:"ui-widget-content ui-corner-all",menu_widget:"ui-widget ui-widget-content ui-corner-all",icon_search:"ui-icon-search",icon_reset:"ui-icon-arrowreturnthick-1-w",icon_query:"ui-icon-comment"},subgrid:{icon_plus:"ui-icon-plus",icon_minus:"ui-icon-minus",icon_open:"ui-icon-carat-1-sw"},treegrid:{icon_plus:"ui-icon-triangle-1-",icon_minus:"ui-icon-triangle-1-s",icon_leaf:"ui-icon-radio-off"},fmatter:{icon_edit:"ui-icon-pencil",icon_add:"ui-icon-plus",icon_save:"ui-icon-disk",icon_cancel:"ui-icon-cancel",icon_del:"ui-icon-trash"}},Bootstrap:{common:{disabled:"ui-disabled",highlight:"success",hover:"active",cornerall:"",cornertop:"",cornerbottom:"",hidden:"",icon_base:"glyphicon",overlay:"ui-overlay",active:"active",error:"bg-danger",button:"btn btn-default",content:""},base:{entrieBox:"",viewBox:"table-responsive",headerTable:"table table-bordered",headerBox:"",rowTable:"table table-bordered",rowBox:"",footerTable:"table table-bordered",footerBox:"",headerDiv:"",gridtitleBox:"",customtoolbarBox:"",loadingBox:"row",rownumBox:"active",scrollBox:"",multiBox:"checkbox",pagerBox:"",pagerTable:"table",toppagerBox:"",pgInput:"form-control",pgSelectBox:"form-control",pgButtonBox:"",icon_first:"glyphicon-step-backward",icon_prev:"glyphicon-backward",icon_next:"glyphicon-forward",icon_end:"glyphicon-step-forward",icon_asc:"glyphicon-triangle-top",icon_desc:"glyphicon-triangle-bottom",icon_caption_open:"glyphicon-circle-arrow-up",icon_caption_close:"glyphicon-circle-arrow-down"},modal:{modal:"modal-content",header:"modal-header",title:"modal-title",content:"modal-body",resizable:"ui-resizable-handle ui-resizable-se",icon_close:"glyphicon-remove-circle",icon_resizable:"glyphicon-import"},celledit:{inputClass:"form-control"},inlinedit:{inputClass:"form-control",icon_edit_nav:"glyphicon-edit",icon_add_nav:"glyphicon-plus",icon_save_nav:"glyphicon-save",icon_cancel_nav:"glyphicon-remove-circle"},formedit:{inputClass:"form-control",icon_prev:"glyphicon-step-backward",icon_next:"glyphicon-step-forward",icon_save:"glyphicon-save",icon_close:"glyphicon-remove-circle",icon_del:"glyphicon-trash",icon_cancel:"glyphicon-remove-circle"},navigator:{icon_edit_nav:"glyphicon-edit",icon_add_nav:"glyphicon-plus",icon_del_nav:"glyphicon-trash",icon_search_nav:"glyphicon-search",icon_refresh_nav:"glyphicon-refresh",icon_view_nav:"glyphicon-info-sign",icon_newbutton_nav:"glyphicon-new-window"},grouping:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom"},filter:{table_widget:"table table-condensed",srSelect:"form-control",srInput:"form-control",menu_widget:"",icon_search:"glyphicon-search",icon_reset:"glyphicon-refresh",icon_query:"glyphicon-comment"},subgrid:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom",icon_open:"glyphicon-indent-left"},treegrid:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom",icon_leaf:"glyphicon-unchecked"},fmatter:{icon_edit:"glyphicon-edit",icon_add:"glyphicon-plus",icon_save:"glyphicon-save",icon_cancel:"glyphicon-remove-circle",icon_del:"glyphicon-trash"}}}}),$.fn.jqGrid=function(e){if("string"==typeof e){var t=$.jgrid.getMethod(e);if(!t)throw"jqGrid - No such method: "+e;var i=$.makeArray(arguments).slice(1);return t.apply(this,i)}return this.each(function(){if(!this.grid){var t;null!=e&&void 0!==e.data&&(t=e.data,e.data=[]);var i=$.extend(!0,{url:"",height:150,page:1,rowNum:20,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],rowList:[],colNames:[],sortorder:"asc",sortname:"",datatype:"xml",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},jsonReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,multiselect:!1,multikey:!1,editurl:null,search:!1,caption:"",hidegrid:!0,hiddengrid:!1,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:30,gridview:!0,rownumWidth:35,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],ajaxGridOptions:{},direction:"ltr",toppager:!1,headertitles:!1,scrollTimeout:40,data:[],_index:{},grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],plusicon:"",minusicon:"",displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1},ignoreCase:!0,cmTemplate:{},idPrefix:"",multiSort:!1,minColWidth:33,scrollPopUp:!1,scrollTopOffset:0,scrollLeftOffset:"100%",storeNavOptions:!1,regional:"en",styleUI:"jQueryUI",noMsg:"",responsive:!1},$.jgrid.defaults,e);void 0!==t&&(i.data=t,e.data=t);var r=this,o={headers:[],cols:[],footers:[],dragStart:function(e,t,o){var a=$(this.bDiv).offset().left;this.resizing={idx:e,startX:t.pageX,sOL:t.pageX-a},this.hDiv.style.cursor="col-resize",this.curGbox=$("#rs_m"+$.jgrid.jqID(i.id),"#gbox_"+$.jgrid.jqID(i.id)),this.curGbox.css({display:"block",left:t.pageX-a,top:o[1],height:o[2]}),$(r).triggerHandler("jqGridResizeStart",[t,e]),$.isFunction(i.resizeStart)&&i.resizeStart.call(r,t,e),document.onselectstart=function(){return!1}},dragMove:function(e){if(this.resizing){var t,r,o=e.pageX-this.resizing.startX,a=this.headers[this.resizing.idx],s="ltr"===i.direction?a.width+o:a.width-o;
s>33&&(this.curGbox.css({left:this.resizing.sOL+o}),i.forceFit===!0?(t=this.headers[this.resizing.idx+i.nv],r="ltr"===i.direction?t.width-o:t.width+o,r>i.minColWidth&&(a.newWidth=s,t.newWidth=r)):(this.newWidth="ltr"===i.direction?i.tblwidth+o:i.tblwidth-o,a.newWidth=s))}},dragEnd:function(e){if(this.hDiv.style.cursor="default",this.resizing){var t=this.resizing.idx,o=this.headers[t].newWidth||this.headers[t].width;o=parseInt(o,10),this.resizing=!1,$("#rs_m"+$.jgrid.jqID(i.id)).css("display","none"),i.colModel[t].width=o,this.headers[t].width=o,this.headers[t].el.style.width=o+"px",this.cols[t].style.width=o+"px",this.footers.length>0&&(this.footers[t].style.width=o+"px"),i.forceFit===!0?(o=this.headers[t+i.nv].newWidth||this.headers[t+i.nv].width,this.headers[t+i.nv].width=o,this.headers[t+i.nv].el.style.width=o+"px",this.cols[t+i.nv].style.width=o+"px",this.footers.length>0&&(this.footers[t+i.nv].style.width=o+"px"),i.colModel[t+i.nv].width=o):(i.tblwidth=this.newWidth||i.tblwidth,$("table:first",this.bDiv).css("width",i.tblwidth+"px"),$("table:first",this.hDiv).css("width",i.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,i.footerrow&&($("table:first",this.sDiv).css("width",i.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft)),e&&($(r).triggerHandler("jqGridResizeStop",[o,t]),$.isFunction(i.resizeStop)&&i.resizeStop.call(r,o,t))}this.curGbox=null,document.onselectstart=function(){return!0}},populateVisible:function(){o.timer&&clearTimeout(o.timer),o.timer=null;var e=$(o.bDiv).height();if(e){var t,a,s=$("table:first",o.bDiv);if(s[0].rows.length)try{t=s[0].rows[1],a=t?$(t).outerHeight()||o.prevRowHeight:o.prevRowHeight}catch(n){a=o.prevRowHeight}if(a){o.prevRowHeight=a;var l,d,p,c=i.rowNum,u=o.scrollTop=o.bDiv.scrollTop,g=Math.round(s.position().top)-u,h=g+s.height(),f=a*c;if(e>h&&0>=g&&(void 0===i.lastpage||(parseInt((h+u+f-1)/f,10)||0)<=i.lastpage)&&(d=parseInt((e-h+f-1)/f,10)||1,h>=0||2>d||i.scroll===!0?(l=(Math.round((h+u)/f)||0)+1,g=-1):g=1),g>0&&(l=(parseInt(u/f,10)||0)+1,d=(parseInt((u+e)/f,10)||0)+2-l,p=!0),d){if(i.lastpage&&(l>i.lastpage||1===i.lastpage||l===i.page&&l===i.lastpage))return;o.hDiv.loading?o.timer=setTimeout(o.populateVisible,i.scrollTimeout):(i.page=l,p&&(o.selectionPreserver(s[0]),o.emptyRows.call(s[0],!1,!1)),o.populate(d)),i.scrollPopUp&&null!=i.lastpage&&($("#scroll_g"+i.id).show().html($.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",i.pgtext),i.page,i.lastpage)).css({top:i.scrollTopOffset+u*((parseInt(i.height,10)-45)/(parseInt(a,10)*parseInt(i.records,10)))+"px",left:i.scrollLeftOffset}),$(this).mouseout(function(){$("#scroll_g"+i.id).hide()}))}}}},scrollGrid:function(e){if(i.scroll){var t=o.bDiv.scrollTop;void 0===o.scrollTop&&(o.scrollTop=0),t!==o.scrollTop&&(o.scrollTop=t,o.timer&&clearTimeout(o.timer),o.timer=setTimeout(o.populateVisible,i.scrollTimeout))}o.hDiv.scrollLeft=o.bDiv.scrollLeft,i.footerrow&&(o.sDiv.scrollLeft=o.bDiv.scrollLeft),i.frozenColumns&&$(o.fbDiv).scrollTop(o.bDiv.scrollTop),e&&e.stopPropagation()},selectionPreserver:function(e){var t=e.p,i=t.selrow,r=t.selarrrow?$.makeArray(t.selarrrow):null,o=e.grid.bDiv.scrollLeft,a=function(){var s;if(t.selrow=null,t.selarrrow=[],t.multiselect&&r&&r.length>0)for(s=0;s<r.length;s++)r[s]!==i&&$(e).jqGrid("setSelection",r[s],!1,null);i&&$(e).jqGrid("setSelection",i,!1,null),e.grid.bDiv.scrollLeft=o,$(e).unbind(".selectionPreserver",a)};$(e).bind("jqGridGridComplete.selectionPreserver",a)}};if("TABLE"!==this.tagName.toUpperCase()||null==this.id)return void alert("Element is not a table or has no id!");if(void 0!==document.documentMode&&document.documentMode<=5)return void alert("Grid can not be used in this ('quirks') mode!");var a,s,n,l=0;for(s in $.jgrid.regional)$.jgrid.regional.hasOwnProperty(s)&&(0===l&&(a=s),l++);if(1===l&&a!==i.regional&&(i.regional=a),$(this).empty().attr("tabindex","0"),this.p=i,this.p.useProp=!!$.fn.prop,0===this.p.colNames.length)for(l=0;l<this.p.colModel.length;l++)this.p.colNames[l]=this.p.colModel[l].label||this.p.colModel[l].name;if(this.p.colNames.length!==this.p.colModel.length)return void alert($.jgrid.getRegional(this,"errors.model"));var d,p=$.jgrid.getMethod("getStyleUI"),c=r.p.styleUI+".common",u=p(c,"disabled",!0),g=p(c,"highlight",!0),h=p(c,"hover",!0),f=p(c,"cornerall",!0),m=p(c,"icon_base",!0),v=$.jgrid.msie,j=[],b=[],w=[];c=r.p.styleUI+".base",d=$("<div "+p(c,"viewBox",!1,"ui-jqgrid-view")+" role='grid'></div>"),r.p.direction=$.trim(r.p.direction.toLowerCase()),r.p._ald=!1,-1===$.inArray(r.p.direction,["ltr","rtl"])&&(r.p.direction="ltr"),n=r.p.direction,$(d).insertBefore(this),$(this).appendTo(d);var y=$("<div "+p(c,"entrieBox",!1,"ui-jqgrid")+"></div>");$(y).attr({id:"gbox_"+this.id,dir:n}).insertBefore(d),$(d).attr("id","gview_"+this.id).appendTo(y),setTimeout(function(){"local"!=r.p.datatype&&$(d).css({width:$(d).width()-2})},0),$("<div "+p(r.p.styleUI+".common","overlay",!1,"jqgrid-overlay")+" id='lui_"+this.id+"'></div>").insertBefore(d),$("<div "+p(c,"loadingBox",!1,"loading")+" id='load_"+this.id+"'>"+$.jgrid.getRegional(r,"defaults.loadtext",this.p.loadtext)+"</div>").insertBefore(d),$(this).attr({role:"presentation","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var _,x=["shiftKey","altKey","ctrlKey"],q=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},D=function(e,t,i,a,s,n){var l,d,p=r.p.colModel[e],c=p.align,u='style="',g=p.classes,h=p.name,f=[];return c&&(u+="text-align:"+c+";"),p.hidden===!0&&(u+="display:none;"),0===t?u+="width: "+o.headers[e].width+"px;":($.isFunction(p.cellattr)||"string"==typeof p.cellattr&&null!=$.jgrid.cellattr&&$.isFunction($.jgrid.cellattr[p.cellattr]))&&(l=$.isFunction(p.cellattr)?p.cellattr:$.jgrid.cellattr[p.cellattr],d=l.call(r,s,i,a,p,n),d&&"string"==typeof d&&(d=d.replace(/style/i,"style").replace(/title/i,"title"),d.indexOf("title")>-1&&(p.title=!1),d.indexOf("class")>-1&&(g=void 0),f=d.replace(/\-style/g,"-sti").split(/style/),2===f.length?(f[1]=$.trim(f[1].replace(/\-sti/g,"-style").replace("=","")),(0===f[1].indexOf("'")||0===f[1].indexOf('"'))&&(f[1]=f[1].substring(1)),u+=f[1].replace(/'/gi,'"')):u+='"')),f.length||(f[0]="",u+='"'),u+=(void 0!==g?' class="'+g+'"':"")+(p.title&&i?' title="'+$.jgrid.stripHtml(i)+'"':""),u+=' aria-describedby="'+r.p.id+"_"+h+'"',u+f[0]},C=function(e){return null==e||""===e?"&#160;":r.p.autoencode?$.jgrid.htmlEncode(e):String(e)},I=function(e,t,i,o,a){var s,n=r.p.colModel[i];if(void 0!==n.formatter){e=""!==String(r.p.idPrefix)?$.jgrid.stripPref(r.p.idPrefix,e):e;var l={rowId:e,colModel:n,gid:r.p.id,pos:i,styleUI:r.p.styleUI};s=$.isFunction(n.formatter)?n.formatter.call(r,t,l,o,a):$.fmatter?$.fn.fmatter.call(r,n.formatter,t,l,o,a):C(t)}else s=C(t);return s},G=function(e,t,i,r,o,a){var s,n;return s=I(e,t,i,o,"add"),n=D(i,r,s,o,e,a),'<td role="gridcell" '+n+">"+s+"</td>"},F=function(e,t,i,o,a){var s='<input role="checkbox" type="checkbox" id="jqg_'+r.p.id+"_"+e+'" '+a+' name="jqg_'+r.p.id+"_"+e+'"'+(o?'checked="checked"':"")+"/>",n=D(t,i,"",null,e,!0);return'<td role="gridcell" '+n+">"+s+"</td>"},S=function(e,t,i,r,o){var a=(parseInt(i,10)-1)*parseInt(r,10)+1+t,s=D(e,t,a,null,t,!0);return'<td role="gridcell" '+o+" "+s+">"+a+"</td>"},k=function(e){var t,i,o=[],a=0;for(i=0;i<r.p.colModel.length;i++)t=r.p.colModel[i],"cb"!==t.name&&"subgrid"!==t.name&&"rn"!==t.name&&(o[a]="local"===e?t.name:"xml"===e||"xmlstring"===e?t.xmlmap||t.name:t.jsonmap||t.name,r.p.keyName!==!1&&t.key===!0&&(r.p.keyName=o[a]),a++);return o},R=function(e){var t=r.p.remapColumns;return t&&t.length||(t=$.map(r.p.colModel,function(e,t){return t})),e&&(t=$.map(t,function(t){return e>t?null:t-e})),t},M=function(e,t){var i;this.p.deepempty?$(this.rows).slice(1).remove():(i=this.rows.length>0?this.rows[0]:null,$(this.firstChild).empty().append(i)),e&&this.p.scroll&&($(this.grid.bDiv.firstChild).css({height:"auto"}),$(this.grid.bDiv.firstChild.firstChild).css({height:"0px",display:"none"}),0!==this.grid.bDiv.scrollTop&&(this.grid.bDiv.scrollTop=0)),t===!0&&this.p.treeGrid&&!this.p.loadonce&&(this.p.data=[],this.p._index={})},N=function(){var e,t,i,o,a,s,n,l,d,p,c,u=r.p,g=u.data,h=g.length,f=u.localReader,m=u.colModel,v=f.cell,j=(u.multiselect===!0?1:0)+(u.subGrid===!0?1:0)+(u.rownumbers===!0?1:0),b=u.scroll?$.jgrid.randId():1;if("local"===u.datatype&&f.repeatitems===!0)for(d=R(j),p=k("local"),o=u.keyIndex===!1?$.isFunction(f.id)?f.id.call(r,g):f.id:u.keyIndex,e=0;h>e;e++){for(i=g[e],a=$.jgrid.getAccessor(i,o),void 0===a&&("number"==typeof o&&null!=m[o+j]&&(a=$.jgrid.getAccessor(i,m[o+j].name)),void 0===a&&(a=b+e,v&&(s=$.jgrid.getAccessor(i,v)||i,a=null!=s&&void 0!==s[o]?s[o]:a,s=null))),l={},l[f.id]=a,v&&(i=$.jgrid.getAccessor(i,v)||i),c=$.isArray(i)?d:p,t=0;t<c.length;t++)n=$.jgrid.getAccessor(i,c[t]),l[m[t+j].name]=n;$.extend(!0,g[e],l)}},T=function(){var e,t,i,o=r.p.data.length;for(e=r.p.keyName===!1||r.p.loadonce===!0?r.p.localReader.id:r.p.keyName,r.p._index=[],t=0;o>t;t++)i=$.jgrid.getAccessor(r.p.data[t],e),void 0===i&&(i=String(t+1)),r.p._index[i]=t},O=function(e,t,i,o,a){var s,n="-1",l="",d=t?"display:none;":"",p=$(r).triggerHandler("jqGridRowAttr",[o,a,e]);if("object"!=typeof p&&(p=$.isFunction(r.p.rowattr)?r.p.rowattr.call(r,o,a,e):"string"==typeof r.p.rowattr&&null!=$.jgrid.rowattr&&$.isFunction($.jgrid.rowattr[r.p.rowattr])?$.jgrid.rowattr[r.p.rowattr].call(r,o,a,e):{}),!$.isEmptyObject(p)){p.hasOwnProperty("id")&&(e=p.id,delete p.id),p.hasOwnProperty("tabindex")&&(n=p.tabindex,delete p.tabindex),p.hasOwnProperty("style")&&(d+=p.style,delete p.style),p.hasOwnProperty("class")&&(i+=" "+p["class"],delete p["class"]);try{delete p.role}catch(c){}for(s in p)p.hasOwnProperty(s)&&(l+=" "+s+"="+p[s])}return'<tr role="row" id="'+e+'" tabindex="'+n+'" class="'+i+'"'+(""===d?"":' style="'+d+'"')+l+">"},P=function(e,t,i,o){var a=new Date,s="local"!==r.p.datatype&&r.p.loadonce||"xmlstring"===r.p.datatype,n="_id_",l=r.p.xmlReader,d="local"===r.p.datatype?"local":"xml";if(s&&(r.p.data=[],r.p._index={},r.p.localReader.id=n),r.p.reccount=0,$.isXMLDoc(e)){-1!==r.p.treeANode||r.p.scroll?t=t>1?t:1:(M.call(r,!1,!0),t=1);var u,g,h,f,m,v,j,b,w,y,_=$(r),x=0,D=r.p.multiselect===!0?1:0,C=0,I=r.p.rownumbers===!0?1:0,N=[],T={},P=[],A=r.p.altRows===!0?r.p.altclass:"",E=p(c,"rowBox",!0,"jqgrow ui-row-"+r.p.direction);r.p.subGrid===!0&&(C=1,f=$.jgrid.getMethod("addSubGridCell")),l.repeatitems||(N=k(d)),m=r.p.keyName===!1?$.isFunction(l.id)?l.id.call(r,e):l.id:r.p.keyName,v=-1===String(m).indexOf("[")?N.length?function(e,t){return $(m,e).text()||t}:function(e,t){return $(l.cell,e).eq(m).text()||t}:function(e,t){return e.getAttribute(m.replace(/[\[\]]/g,""))||t},r.p.userData={},r.p.page=q($.jgrid.getXmlData(e,l.page),r.p.page),r.p.lastpage=q($.jgrid.getXmlData(e,l.total),1),r.p.records=q($.jgrid.getXmlData(e,l.records)),$.isFunction(l.userdata)?r.p.userData=l.userdata.call(r,e)||{}:$.jgrid.getXmlData(e,l.userdata,!0).each(function(){r.p.userData[this.getAttribute("name")]=$(this).text()});var U=$.jgrid.getXmlData(e,l.root,!0);U=$.jgrid.getXmlData(U,l.row,!0),U||(U=[]);var z,B=U.length,H=0,L=[],V=parseInt(r.p.rowNum,10),W=r.p.scroll?$.jgrid.randId():1;if(B>0&&r.p.page<=0&&(r.p.page=1),U&&B){o&&(V*=o+1);var Q,Y=$.isFunction(r.p.afterInsertRow),X=!1,J=$("#"+$.jgrid.jqID(r.p.id)+" tbody:first"),K=I?p(c,"rownumBox",!1,"jqgrid-rownum"):"",Z=D?p(c,"multiBox",!1,"cbox"):"";for(r.p.grouping&&(X=r.p.groupingView.groupCollapse===!0,Q=$.jgrid.getMethod("groupingPrepare"));B>H;){b=U[H],w=v(b,W+H),w=r.p.idPrefix+w,z=0===t?0:t+1,y=E+((z+H)%2===1?" "+A:"");var et=P.length;if(P.push(""),I&&P.push(S(0,H,r.p.page,r.p.rowNum,K)),D&&P.push(F(w,I,H,!1,Z)),C&&P.push(f.call(_,D+I,H+t)),l.repeatitems){j||(j=R(D+C+I));var tt=$.jgrid.getXmlData(b,l.cell,!0);$.each(j,function(e){var i=tt[this];return i?(h=i.textContent||i.text,T[r.p.colModel[e+D+C+I].name]=h,void P.push(G(w,h,e+D+C+I,H+t,b,T))):!1})}else for(u=0;u<N.length;u++)h=$.jgrid.getXmlData(b,N[u]),T[r.p.colModel[u+D+C+I].name]=h,P.push(G(w,h,u+D+C+I,H+t,b,T));if(P[et]=O(w,X,y,T,b),P.push("</tr>"),r.p.grouping&&(L.push(P),r.p.groupingView._locgr||Q.call(_,T,H),P=[]),(s||r.p.treeGrid===!0&&!r.p._ald)&&(T[n]=$.jgrid.stripPref(r.p.idPrefix,w),r.p.data.push(T),r.p._index[T[n]]=r.p.data.length-1),r.p.gridview===!1&&(J.append(P.join("")),_.triggerHandler("jqGridAfterInsertRow",[w,T,b]),Y&&r.p.afterInsertRow.call(r,w,T,b),P=[]),T={},x++,H++,x===V)break}}if(r.p.gridview===!0&&(g=r.p.treeANode>-1?r.p.treeANode:0,r.p.grouping?s||(_.jqGrid("groupingRender",L,r.p.colModel.length,r.p.page,V),L=null):r.p.treeGrid===!0&&g>0?$(r.rows[g]).after(P.join("")):(J.append(P.join("")),r.grid.cols=r.rows[0].cells)),r.p.subGrid===!0)try{_.jqGrid("addSubGrid",D+I)}catch(it){}if(r.p.totaltime=new Date-a,x>0&&0===r.p.records&&(r.p.records=B),P=null,r.p.treeGrid===!0)try{_.jqGrid("setTreeNode",g+1,x+g+1)}catch(rt){}if(r.p.reccount=x,r.p.treeANode=-1,r.p.userDataOnFooter&&_.jqGrid("footerData","set",r.p.userData,!0),s&&(r.p.records=B,r.p.lastpage=Math.ceil(B/V)),i||r.updatepager(!1,!0),s){for(;B>x;){if(b=U[x],w=v(b,x+W),w=r.p.idPrefix+w,l.repeatitems){j||(j=R(D+C+I));var ot=$.jgrid.getXmlData(b,l.cell,!0);$.each(j,function(e){var t=ot[this];return t?(h=t.textContent||t.text,void(T[r.p.colModel[e+D+C+I].name]=h)):!1})}else for(u=0;u<N.length;u++)h=$.jgrid.getXmlData(b,N[u]),T[r.p.colModel[u+D+C+I].name]=h;T[n]=$.jgrid.stripPref(r.p.idPrefix,w),r.p.grouping&&Q.call(_,T,x),r.p.data.push(T),r.p._index[T[n]]=r.p.data.length-1,T={},x++}r.p.grouping&&(r.p.groupingView._locgr=!0,_.jqGrid("groupingRender",L,r.p.colModel.length,r.p.page,V),L=null)}}},A=function(e,t,i,o){var a=new Date;if(e){-1!==r.p.treeANode||r.p.scroll?t=t>1?t:1:(M.call(r,!1,!0),t=1);var s,n,l="_id_",d="local"!==r.p.datatype&&r.p.loadonce||"jsonstring"===r.p.datatype;d&&(r.p.data=[],r.p._index={},r.p.localReader.id=l),r.p.reccount=0,"local"===r.p.datatype?(s=r.p.localReader,n="local"):(s=r.p.jsonReader,n="json");var u,h,f,m,v,j,b,w,y,_,x,D,C=$(r),I=0,N=[],T=r.p.multiselect?1:0,P=r.p.subGrid===!0?1:0,A=r.p.rownumbers===!0?1:0,E=R(T+P+A),U=k(n),z={},B=[],H=r.p.altRows===!0?r.p.altclass:"",L=p(c,"rowBox",!0,"jqgrow ui-row-"+r.p.direction);r.p.page=q($.jgrid.getAccessor(e,s.page),r.p.page),r.p.lastpage=q($.jgrid.getAccessor(e,s.total),1),r.p.records=q($.jgrid.getAccessor(e,s.records)),r.p.userData=$.jgrid.getAccessor(e,s.userdata)||{},P&&(v=$.jgrid.getMethod("addSubGridCell")),y=r.p.keyName===!1?$.isFunction(s.id)?s.id.call(r,e):s.id:r.p.keyName,w=$.jgrid.getAccessor(e,s.root),null==w&&$.isArray(e)&&(w=e),w||(w=[]),b=w.length,h=0,b>0&&r.p.page<=0&&(r.p.page=1);var V,W,Q=parseInt(r.p.rowNum,10),Y=r.p.scroll?$.jgrid.randId():1,X=!1;o&&(Q*=o+1),"local"!==r.p.datatype||r.p.deselectAfterSort||(X=!0);var J,K=$.isFunction(r.p.afterInsertRow),Z=[],et=!1,tt=$("#"+$.jgrid.jqID(r.p.id)+" tbody:first"),it=A?p(c,"rownumBox",!1,"jqgrid-rownum"):"",rt=T?p(c,"multiBox",!1,"cbox"):"";for(r.p.grouping&&(et=r.p.groupingView.groupCollapse===!0,J=$.jgrid.getMethod("groupingPrepare"));b>h;){if(m=w[h],x=$.jgrid.getAccessor(m,y),void 0===x&&("number"==typeof y&&null!=r.p.colModel[y+T+P+A]&&(x=$.jgrid.getAccessor(m,r.p.colModel[y+T+P+A].name)),void 0===x&&(x=Y+h,0===N.length&&s.cell))){var ot=$.jgrid.getAccessor(m,s.cell)||m;x=null!=ot&&void 0!==ot[y]?ot[y]:x,ot=null}x=r.p.idPrefix+x,V=1===t?0:t,D=L+((V+h)%2===1?" "+H:""),X&&(W=r.p.multiselect?-1!==$.inArray(x,r.p.selarrrow):x===r.p.selrow);var at=B.length;for(B.push(""),A&&B.push(S(0,h,r.p.page,r.p.rowNum,it)),T&&B.push(F(x,A,h,W,rt)),P&&B.push(v.call(C,T+A,h+t)),j=U,s.repeatitems&&(s.cell&&(m=$.jgrid.getAccessor(m,s.cell)||m),$.isArray(m)&&(j=E)),f=0;f<j.length;f++)u=$.jgrid.getAccessor(m,j[f]),z[r.p.colModel[f+T+P+A].name]=u,B.push(G(x,u,f+T+P+A,h+t,m,z));if(D+=W?" "+g:"",B[at]=O(x,et,D,z,m),B.push("</tr>"),r.p.grouping&&(Z.push(B),r.p.groupingView._locgr||J.call(C,z,h),B=[]),(d||r.p.treeGrid===!0&&!r.p._ald)&&(z[l]=$.jgrid.stripPref(r.p.idPrefix,x),r.p.data.push(z),r.p._index[z[l]]=r.p.data.length-1),r.p.gridview===!1&&(tt.append(B.join("")),C.triggerHandler("jqGridAfterInsertRow",[x,z,m]),K&&r.p.afterInsertRow.call(r,x,z,m),B=[]),z={},I++,h++,I===Q)break}if(r.p.gridview===!0&&(_=r.p.treeANode>-1?r.p.treeANode:0,r.p.grouping?d||(C.jqGrid("groupingRender",Z,r.p.colModel.length,r.p.page,Q),Z=null):r.p.treeGrid===!0&&_>0?$(r.rows[_]).after(B.join("")):(tt.append(B.join("")),r.grid.cols=r.rows[0].cells)),r.p.subGrid===!0)try{C.jqGrid("addSubGrid",T+A)}catch(st){}if(r.p.totaltime=new Date-a,I>0&&0===r.p.records&&(r.p.records=b),B=null,r.p.treeGrid===!0)try{C.jqGrid("setTreeNode",_+1,I+_+1)}catch(nt){}if(r.p.reccount=I,r.p.treeANode=-1,r.p.userDataOnFooter&&C.jqGrid("footerData","set",r.p.userData,!0),d&&(r.p.records=b,r.p.lastpage=Math.ceil(b/Q)),i||r.updatepager(!1,!0),d){for(;b>I&&w[I];){if(m=w[I],x=$.jgrid.getAccessor(m,y),void 0===x&&("number"==typeof y&&null!=r.p.colModel[y+T+P+A]&&(x=$.jgrid.getAccessor(m,r.p.colModel[y+T+P+A].name)),void 0===x&&(x=Y+I,0===N.length&&s.cell))){var lt=$.jgrid.getAccessor(m,s.cell)||m;x=null!=lt&&void 0!==lt[y]?lt[y]:x,lt=null}if(m){for(x=r.p.idPrefix+x,j=U,s.repeatitems&&(s.cell&&(m=$.jgrid.getAccessor(m,s.cell)||m),$.isArray(m)&&(j=E)),f=0;f<j.length;f++)z[r.p.colModel[f+T+P+A].name]=$.jgrid.getAccessor(m,j[f]);z[l]=$.jgrid.stripPref(r.p.idPrefix,x),r.p.grouping&&J.call(C,z,I),r.p.data.push(z),r.p._index[z[l]]=r.p.data.length-1,z={}}I++}r.p.grouping&&(r.p.groupingView._locgr=!0,C.jqGrid("groupingRender",Z,r.p.colModel.length,r.p.page,Q),Z=null)}}},E=function(){function e(t){var i,o,a,s,n,l,p=0;if(null!=t.groups){for(o=t.groups.length&&"OR"===t.groupOp.toString().toUpperCase(),o&&m.orBegin(),i=0;i<t.groups.length;i++){p>0&&o&&m.or();try{e(t.groups[i])}catch(c){alert(c)}p++}o&&m.orEnd()}if(null!=t.rules)try{for(a=t.rules.length&&"OR"===t.groupOp.toString().toUpperCase(),a&&m.orBegin(),i=0;i<t.rules.length;i++)n=t.rules[i],s=t.groupOp.toString().toUpperCase(),f[n.op]&&n.field&&(p>0&&s&&"OR"===s&&(m=m.or()),l=d[n.field],"date"===l.stype&&l.srcfmt&&l.newfmt&&l.srcfmt!==l.newfmt&&(n.data=$.jgrid.parseDate.call(r,l.newfmt,n.data,l.srcfmt)),m=f[n.op](m,s)(n.field,n.data,d[n.field])),p++;a&&m.orEnd()}catch(u){alert(u)}}var t,i,o,a,s=r.p.multiSort?[]:"",n=[],l=!1,d={},p=[],c=[];if($.isArray(r.p.data)){var u,g,h=r.p.grouping?r.p.groupingView:!1;if($.each(r.p.colModel,function(){if(i=this.sorttype||"text","date"===i||"datetime"===i?(this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?(t=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:$.jgrid.getRegional(r,"formatter.date.srcformat"),o=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:$.jgrid.getRegional(r,"formatter.date.newformat")):t=o=this.datefmt||"Y-m-d",d[this.name]={stype:i,srcfmt:t,newfmt:o,sfunc:this.sortfunc||null}):d[this.name]={stype:i,srcfmt:"",newfmt:"",sfunc:this.sortfunc||null},r.p.grouping)for(g=0,u=h.groupField.length;u>g;g++)if(this.name===h.groupField[g]){var e=this.name;this.index&&(e=this.index),p[g]=d[e],c[g]=e}r.p.multiSort||l||this.index!==r.p.sortname&&this.name!==r.p.sortname||(s=this.name,l=!0)}),r.p.multiSort&&(s=j,n=b),r.p.treeGrid&&r.p._sort)return void $(r).jqGrid("SortTree",s,r.p.sortorder,d[s].stype||"text",d[s].srcfmt||"");var f={eq:function(e){return e.equals},ne:function(e){return e.notEquals},lt:function(e){return e.less},le:function(e){return e.lessOrEquals},gt:function(e){return e.greater},ge:function(e){return e.greaterOrEquals},cn:function(e){return e.contains},nc:function(e,t){return"OR"===t?e.orNot().contains:e.andNot().contains},bw:function(e){return e.startsWith},bn:function(e,t){return"OR"===t?e.orNot().startsWith:e.andNot().startsWith},en:function(e,t){return"OR"===t?e.orNot().endsWith:e.andNot().endsWith},ew:function(e){return e.endsWith},ni:function(e,t){return"OR"===t?e.orNot().equals:e.andNot().equals},"in":function(e){return e.equals},nu:function(e){return e.isNull},nn:function(e,t){return"OR"===t?e.orNot().isNull:e.andNot().isNull}},m=$.jgrid.from.call(r,r.p.data);if(r.p.ignoreCase&&(m=m.ignoreCase()),r.p.search===!0){var v=r.p.postData.filters;if(v)"string"==typeof v&&(v=$.jgrid.parse(v)),e(v);else try{a=d[r.p.postData.searchField],"date"===a.stype&&a.srcfmt&&a.newfmt&&a.srcfmt!==a.newfmt&&(r.p.postData.searchString=$.jgrid.parseDate.call(r,a.newfmt,r.p.postData.searchString,a.srcfmt)),m=f[r.p.postData.searchOper](m)(r.p.postData.searchField,r.p.postData.searchString,d[r.p.postData.searchField])}catch(w){}}else r.p.treeGrid&&"nested"===r.p.treeGridModel&&m.orderBy(r.p.treeReader.left_field,"asc","integer","",null);if(r.p.treeGrid&&"adjacency"===r.p.treeGridModel&&(u=0,s=null),r.p.grouping)for(g=0;u>g;g++)m.orderBy(c[g],h.groupOrder[g],p[g].stype,p[g].srcfmt);r.p.multiSort?$.each(s,function(e){m.orderBy(this,n[e],d[this].stype,d[this].srcfmt,d[this].sfunc)}):s&&r.p.sortorder&&l&&("DESC"===r.p.sortorder.toUpperCase()?m.orderBy(r.p.sortname,"d",d[s].stype,d[s].srcfmt,d[s].sfunc):m.orderBy(r.p.sortname,"a",d[s].stype,d[s].srcfmt,d[s].sfunc));var y=m.select(),_=parseInt(r.p.rowNum,10),x=y.length,q=parseInt(r.p.page,10),D=Math.ceil(x/_),C={};if((r.p.search||r.p.resetsearch)&&r.p.grouping&&r.p.groupingView._locgr){r.p.groupingView.groups=[];var I,G,F,S=$.jgrid.getMethod("groupingPrepare");if(r.p.footerrow&&r.p.userDataOnFooter){for(G in r.p.userData)r.p.userData.hasOwnProperty(G)&&(r.p.userData[G]=0);F=!0}for(I=0;x>I;I++){if(F)for(G in r.p.userData)r.p.userData.hasOwnProperty(G)&&(r.p.userData[G]+=parseFloat(y[I][G]||0));S.call($(r),y[I],I,_)}}return y=r.p.treeGrid&&r.p.search?$(r).jqGrid("searchTree",y):y.slice((q-1)*_,q*_),m=null,d=null,C[r.p.localReader.total]=D,C[r.p.localReader.page]=q,C[r.p.localReader.records]=x,C[r.p.localReader.root]=y,C[r.p.localReader.userdata]=r.p.userData,y=null,C}},U=function(e,t){var i,o,a,s,n,l,d,g,f="",m=r.p.pager?$.jgrid.jqID(r.p.pager.substr(1)):"",v=m?"_"+m:"",j=r.p.toppager?"_"+r.p.toppager.substr(1):"";if(a=parseInt(r.p.page,10)-1,0>a&&(a=0),a*=parseInt(r.p.rowNum,10),n=a+r.p.reccount,r.p.scroll){var b=$("tbody:first > tr:gt(0)",r.grid.bDiv);a=n-b.length,r.p.reccount=b.length;var w=b.outerHeight()||r.grid.prevRowHeight;if(w){var y=a*w,_=parseInt(r.p.records,10)*w;$(">div:first",r.grid.bDiv).css({height:_}).children("div:first").css({height:y,display:y?"":"none"}),0===r.grid.bDiv.scrollTop&&r.p.page>1&&(r.grid.bDiv.scrollTop=r.p.rowNum*(r.p.page-1)*w)}r.grid.bDiv.scrollLeft=r.grid.hDiv.scrollLeft}if(f=r.p.pager||"",f+=r.p.toppager?f?","+r.p.toppager:r.p.toppager:""){if(d=$.jgrid.getRegional(r,"formatter.integer"),i=q(r.p.page),o=q(r.p.lastpage),$(".selbox",f)[this.p.useProp?"prop":"attr"]("disabled",!1),r.p.pginput===!0&&($("#input"+v).html($.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",r.p.pgtext)||"","<input "+p(c,"pgInput",!1,"ui-pg-input")+" type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(m)+"'></span>")),r.p.toppager&&$("#input_t"+j).html($.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",r.p.pgtext)||"","<input "+p(c,"pgInput",!1,"ui-pg-input")+" type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(m)+"_toppager'></span>")),$(".ui-pg-input",f).val(r.p.page),g=r.p.toppager?"#sp_1"+v+",#sp_1"+v+"_toppager":"#sp_1"+v,$(g).html($.fmatter?$.fmatter.util.NumberFormat(r.p.lastpage,d):r.p.lastpage)),r.p.viewrecords)if(0===r.p.reccount)$(".ui-paging-info",f).html($.jgrid.getRegional(r,"defaults.emptyrecords",r.p.emptyrecords));else{s=a+1,l=r.p.records,$.fmatter&&(s=$.fmatter.util.NumberFormat(s,d),n=$.fmatter.util.NumberFormat(n,d),l=$.fmatter.util.NumberFormat(l,d));var x=$.jgrid.getRegional(r,"defaults.recordtext",r.p.recordtext);$(".ui-paging-info",f).html($.jgrid.template(x,s,n,l))}r.p.pgbuttons===!0&&(0>=i&&(i=o=0),1===i||0===i?($("#first"+v+", #prev"+v).addClass(u).removeClass(h),r.p.toppager&&$("#first_t"+j+", #prev_t"+j).addClass(u).removeClass(h)):($("#first"+v+", #prev"+v).removeClass(u),r.p.toppager&&$("#first_t"+j+", #prev_t"+j).removeClass(u)),i===o||0===i?($("#next"+v+", #last"+v).addClass(u).removeClass(h),r.p.toppager&&$("#next_t"+j+", #last_t"+j).addClass(u).removeClass(h)):($("#next"+v+", #last"+v).removeClass(u),r.p.toppager&&$("#next_t"+j+", #last_t"+j).removeClass(u)))}e===!0&&r.p.rownumbers===!0&&$(">td.jqgrid-rownum",r.rows).each(function(e){$(this).html(a+1+e)}),t&&r.p.jqgdnd&&$(r).jqGrid("gridDnD","updateDnD"),$(r).triggerHandler("jqGridGridComplete"),$.isFunction(r.p.gridComplete)&&r.p.gridComplete.call(r),$(r).triggerHandler("jqGridAfterGridComplete")},z=function(){r.grid.hDiv.loading=!0,r.p.hiddengrid||$(r).jqGrid("progressBar",{method:"show",loadtype:r.p.loadui,htmlcontent:$.jgrid.getRegional(r,"defaults.loadtext",r.p.loadtext)})},B=function(){r.grid.hDiv.loading=!1,$(r).jqGrid("progressBar",{method:"hide",loadtype:r.p.loadui})},H=function(e){if(!r.grid.hDiv.loading){var t,i,o=r.p.scroll&&e===!1,a={},s=r.p.prmNames;r.p.page<=0&&(r.p.page=Math.min(1,r.p.lastpage)),null!==s.search&&(a[s.search]=r.p.search),null!==s.nd&&(a[s.nd]=(new Date).getTime()),null!==s.rows&&(a[s.rows]=r.p.rowNum),null!==s.page&&(a[s.page]=r.p.page),null!==s.sort&&(a[s.sort]=r.p.sortname),null!==s.order&&(a[s.order]=r.p.sortorder),null!==r.p.rowTotal&&null!==s.totalrows&&(a[s.totalrows]=r.p.rowTotal);var n=$.isFunction(r.p.loadComplete),l=n?r.p.loadComplete:null,d=0;if(e=e||1,e>1?null!==s.npage?(a[s.npage]=e,d=e-1,e=1):l=function(t){r.p.page++,r.grid.hDiv.loading=!1,n&&r.p.loadComplete.call(r,t),H(e-1)}:null!==s.npage&&delete r.p.postData[s.npage],r.p.grouping){$(r).jqGrid("groupingSetup");var p,c=r.p.groupingView,u="";for(p=0;p<c.groupField.length;p++){var g=c.groupField[p];$.each(r.p.colModel,function(e,t){t.name===g&&t.index&&(g=t.index)}),u+=g+" "+c.groupOrder[p]+", "}a[s.sort]=u+a[s.sort]}$.extend(r.p.postData,a);var h=r.p.scroll?r.rows.length-1:1,f=$(r).triggerHandler("jqGridBeforeRequest");if(f===!1||"stop"===f)return;if($.isFunction(r.p.datatype))return void r.p.datatype.call(r,r.p.postData,"load_"+r.p.id,h,e,d);if($.isFunction(r.p.beforeRequest)&&(f=r.p.beforeRequest.call(r),void 0===f&&(f=!0),f===!1))return;switch(t=r.p.datatype.toLowerCase()){case"json":case"jsonp":case"xml":case"script":$.ajax($.extend({url:r.p.url,type:r.p.mtype,dataType:t,data:$.isFunction(r.p.serializeGridData)?r.p.serializeGridData.call(r,r.p.postData):r.p.postData,success:function(i,a,s){if($.isFunction(r.p.beforeProcessing)&&r.p.beforeProcessing.call(r,i,a,s)===!1)return void B();if("xml"===t?P(i,h,e>1,d):A(i,h,e>1,d),i){var n=$.isArray(i)?i.length:i.rows.length;if(0==n){var p=r.p.noMsg||$.jgrid.getRegional(r,"defaults.noresult",r.p.noresult);$(r).parents(".ui-jqgrid-bdiv").append('<div class="noResult" style="font-size:12px;height:28px;line-height:35px;text-align:center;">'+p+"</div>"),$(r).parents(".ui-jqgrid-bdiv").find(".noResult").prev().hide()}else{var c=$(r).parents(".ui-jqgrid-bdiv").find(".noResult");c.prev().show(),c.remove()}}$(r).triggerHandler("jqGridLoadComplete",[i]),l&&l.call(r,i),$(r).triggerHandler("jqGridAfterLoadComplete",[i]),o&&r.grid.populateVisible(),(r.p.loadonce||r.p.treeGrid)&&(r.p.datatype="local"),i=null,1===e&&B()},error:function(t,i,o){$.isFunction(r.p.loadError)&&r.p.loadError.call(r,t,i,o),1===e&&B(),t=null},beforeSend:function(e,t){var i=!0;return $.isFunction(r.p.loadBeforeSend)&&(i=r.p.loadBeforeSend.call(r,e,t)),void 0===i&&(i=!0),i===!1?!1:void z()}},$.jgrid.ajaxOptions,r.p.ajaxGridOptions));break;case"xmlstring":z(),i="string"!=typeof r.p.datastr?r.p.datastr:$.parseXML(r.p.datastr),P(i),log(3),$(r).triggerHandler("jqGridLoadComplete",[i]),n&&r.p.loadComplete.call(r,i),$(r).triggerHandler("jqGridAfterLoadComplete",[i]),r.p.datatype="local",r.p.datastr=null,B();break;case"jsonstring":z(),i="string"==typeof r.p.datastr?$.jgrid.parse(r.p.datastr):r.p.datastr,A(i),log(4),$(r).triggerHandler("jqGridLoadComplete",[i]),n&&r.p.loadComplete.call(r,i),$(r).triggerHandler("jqGridAfterLoadComplete",[i]),r.p.datatype="local",r.p.datastr=null,B();break;case"local":case"clientside":z(),r.p.datatype="local",r.p._ald=!0;var m=E();log(5),A(m,h,e>1,d),$(r).triggerHandler("jqGridLoadComplete",[m]),l&&(log(555),l.call(r,m)),$(r).triggerHandler("jqGridAfterLoadComplete",[m]),o&&r.grid.populateVisible(),B(),r.p._ald=!1}r.p._sort=!1}},L=function(e){$("#cb_"+$.jgrid.jqID(r.p.id),r.grid.hDiv)[r.p.useProp?"prop":"attr"]("checked",e);var t=r.p.frozenColumns?r.p.id+"_frozen":"";t&&$("#cb_"+$.jgrid.jqID(r.p.id),r.grid.fhDiv)[r.p.useProp?"prop":"attr"]("checked",e)},V=function(e,t){var i,o,a,s,l,d,g,f="<td class='ui-pg-button "+u+"'><span class='ui-separator'></span></td>",v="",j="<table class='ui-pg-table ui-common-table ui-paging-pager'><tbody><tr>",b="",w=function(e,t){var i;return $.isFunction(r.p.onPaging)&&(i=r.p.onPaging.call(r,e,t)),"stop"===i?!1:(r.p.selrow=null,r.p.multiselect&&(r.p.selarrrow=[],L(!1)),r.p.savedRow=[],!0)};if(e=e.substr(1),t+="_"+e,i="pg_"+e,o=e+"_left",a=e+"_center",s=e+"_right",$("#"+$.jgrid.jqID(e)).append("<div id='"+i+"' class='ui-pager-control' role='group'><table "+p(c,"pagerTable",!1,"ui-pg-table ui-common-table ui-pager-table")+"><tbody><tr><td id='"+o+"' align='left'></td><td id='"+a+"' align='center' style='white-space:pre;'></td><td id='"+s+"' align='right'></td></tr></tbody></table></div>").attr("dir","ltr"),r.p.rowList.length>0){b='<td dir="'+n+'">',b+="<select "+p(c,"pgSelectBox",!1,"ui-pg-selbox")+' role="listbox" title="'+($.jgrid.getRegional(r,"defaults.pgrecs",r.p.pgrecs)||"")+'">';var y;for(g=0;g<r.p.rowList.length;g++)y=r.p.rowList[g].toString().split(":"),1===y.length&&(y[1]=y[0]),b+='<option role="option" value="'+y[0]+'"'+(q(r.p.rowNum,0)===q(y[0],0)?' selected="selected"':"")+">"+y[1]+"</option>";b+="</select></td>"}if("rtl"===n&&(j+=b),r.p.pginput===!0&&(v="<td id='input"+t+"' dir='"+n+"'>"+$.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",r.p.pgtext)||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(e)+"'></span>")+"</td>"),r.p.pgbuttons===!0){var _=["first"+t,"prev"+t,"next"+t,"last"+t],x=p(c,"pgButtonBox",!0,"ui-pg-button"),D=[$.jgrid.getRegional(r,"defaults.pgfirst",r.p.pgfirst)||"",$.jgrid.getRegional(r,"defaults.pgprev",r.p.pgprev)||"",$.jgrid.getRegional(r,"defaults.pgnext",r.p.pgnext)||"",$.jgrid.getRegional(r,"defaults.pglast",r.p.pglast)||""];"rtl"===n&&(_.reverse(),D.reverse()),j+="<td id='"+_[0]+"' class='"+x+"' title='"+D[0]+"'><span "+p(c,"icon_first",!1,m)+"></span></td>",j+="<td id='"+_[1]+"' class='"+x+"'  title='"+D[1]+"'><span "+p(c,"icon_prev",!1,m)+"></span></td>",j+=""!==v?f+v+f:"",j+="<td id='"+_[2]+"' class='"+x+"' title='"+D[2]+"'><span "+p(c,"icon_next",!1,m)+"></span></td>",j+="<td id='"+_[3]+"' class='"+x+"' title='"+D[3]+"'><span "+p(c,"icon_end",!1,m)+"></span></td>"}else""!==v&&(j+=v);"ltr"===n&&(j+=b),j+="</tr></tbody></table>",r.p.viewrecords===!0&&$("td#"+e+"_"+r.p.recordpos,"#"+i).append("<div dir='"+n+"' style='text-align:"+r.p.recordpos+"' class='ui-paging-info'></div>"),$("td#"+e+"_"+r.p.pagerpos,"#"+i).append(j),d=$("#gbox_"+$.jgrid.jqID(r.p.id)).css("font-size")||"11px",$("#gbox_"+$.jgrid.jqID(r.p.id)).append("<div id='testpg' "+p(c,"entrieBox",!1,"ui-jqgrid")+" style='font-size:"+d+";visibility:hidden;' ></div>"),l=$(j).clone().appendTo("#testpg").width(),$("#testpg").remove(),l>0&&(""!==v&&(l+=50),$("td#"+e+"_"+r.p.pagerpos,"#"+i).width(l)),r.p._nvtd=[],r.p._nvtd[0]=Math.floor(l?(r.p.width-l)/2:r.p.width/3),r.p._nvtd[1]=0,j=null,$(".ui-pg-selbox","#"+i).bind("change",function(){return w("records",this)?(r.p.page=Math.round(r.p.rowNum*(r.p.page-1)/this.value-.5)+1,r.p.rowNum=this.value,r.p.pager&&$(".ui-pg-selbox",r.p.pager).val(this.value),r.p.toppager&&$(".ui-pg-selbox",r.p.toppager).val(this.value),H(),!1):!1}),r.p.pgbuttons===!0&&($(".ui-pg-button","#"+i).hover(function(){$(this).hasClass(u)?this.style.cursor="default":($(this).addClass(h),this.style.cursor="pointer")},function(){$(this).hasClass(u)||($(this).removeClass(h),this.style.cursor="default")
}),$("#first"+$.jgrid.jqID(t)+", #prev"+$.jgrid.jqID(t)+", #next"+$.jgrid.jqID(t)+", #last"+$.jgrid.jqID(t)).click(function(){if($(this).hasClass(u))return!1;var e=q(r.p.page,1),i=q(r.p.lastpage,1),o=!1,a=!0,s=!0,n=!0,l=!0;return 0===i||1===i?(a=!1,s=!1,n=!1,l=!1):i>1&&e>=1?1===e?(a=!1,s=!1):e===i&&(n=!1,l=!1):i>1&&0===e&&(n=!1,l=!1,e=i-1),w(this.id.split("_")[0],this)?(this.id==="first"+t&&a&&(r.p.page=1,o=!0),this.id==="prev"+t&&s&&(r.p.page=e-1,o=!0),this.id==="next"+t&&n&&(r.p.page=e+1,o=!0),this.id==="last"+t&&l&&(r.p.page=i,o=!0),o&&H(),!1):!1})),r.p.pginput===!0&&$("#"+i).on("keypress","input.ui-pg-input",function(e){var t=e.charCode||e.keyCode||0;return 13===t?w("user",this)?($(this).val(q($(this).val(),1)),r.p.page=$(this).val()>0?$(this).val():r.p.page,H(),!1):!1:this})},W=function(e,t){var i,o=r.p.colModel,a=r.p.frozenColumns?t:r.grid.headers[e].el,s="";$("span.ui-grid-ico-sort",a).addClass(u),$(a).attr("aria-selected","false"),i="local"===r.p.datatype?o[e].name:o[e].index||o[e].name,o[e].lso?"asc"===o[e].lso?(o[e].lso+="-desc",s="desc"):"desc"===o[e].lso?(o[e].lso+="-asc",s="asc"):("asc-desc"===o[e].lso||"desc-asc"===o[e].lso)&&(o[e].lso=""):o[e].lso=s=o[e].firstsortorder||"asc",s?($("span.s-ico",a).show(),$("span.ui-icon-"+s,a).removeClass(u),$(a).attr("aria-selected","true")):r.p.viewsortcols[0]||$("span.s-ico",a).hide();var n=j.indexOf(i);-1===n?(j.push(i),b.push(s)):s?b[n]=s:(b.splice(n,1),j.splice(n,1)),r.p.sortorder="",r.p.sortname="";for(var l=0,d=j.length;d>l;l++)l>0&&(r.p.sortname+=", "),r.p.sortname+=j[l],l!==d-1&&(r.p.sortname+=" "+b[l]);r.p.sortorder=b[d-1]},Q=function(e,t,i,o,a){if(r.p.colModel[t].sortable&&!(r.p.savedRow.length>0)){if(i||(r.p.lastsort===t&&""!==r.p.sortname?"asc"===r.p.sortorder?r.p.sortorder="desc":"desc"===r.p.sortorder&&(r.p.sortorder="asc"):r.p.sortorder=r.p.colModel[t].firstsortorder||"asc",r.p.page=1),r.p.multiSort)W(t,a);else{if(o){if(r.p.lastsort===t&&r.p.sortorder===o&&!i)return;r.p.sortorder=o}var s,n=r.grid.headers[r.p.lastsort]?r.grid.headers[r.p.lastsort].el:null,l=r.p.frozenColumns?a:r.grid.headers[t].el,d="single"===r.p.viewsortcols[1]?!0:!1;s=$(n).find("span.ui-grid-ico-sort"),s.addClass(u),d&&$(s).css("display","none"),$(n).attr("aria-selected","false"),r.p.frozenColumns&&(s=r.grid.fhDiv.find("span.ui-grid-ico-sort"),s.addClass(u),d&&s.css("display","none"),r.grid.fhDiv.find("th").attr("aria-selected","false")),s=$(l).find("span.ui-icon-"+r.p.sortorder),s.removeClass(u),d&&s.css("display",""),$(l).attr("aria-selected","true"),r.p.viewsortcols[0]||(r.p.lastsort!==t?(r.p.frozenColumns&&r.grid.fhDiv.find("span.s-ico").hide(),$("span.s-ico",n).hide(),$("span.s-ico",l).show()):""===r.p.sortname&&$("span.s-ico",l).show()),e=e.substring(5+r.p.id.length+1),r.p.sortname=r.p.colModel[t].index||e}if("stop"===$(r).triggerHandler("jqGridSortCol",[r.p.sortname,t,r.p.sortorder]))return void(r.p.lastsort=t);if($.isFunction(r.p.onSortCol)&&"stop"===r.p.onSortCol.call(r,r.p.sortname,t,r.p.sortorder))return void(r.p.lastsort=t);if("local"===r.p.datatype?r.p.deselectAfterSort&&$(r).jqGrid("resetSelection"):(r.p.selrow=null,r.p.multiselect&&L(!1),r.p.selarrrow=[],r.p.savedRow=[]),r.p.scroll){var p=r.grid.bDiv.scrollLeft;M.call(r,!0,!1),r.grid.hDiv.scrollLeft=p}r.p.subGrid&&"local"===r.p.datatype&&$("td.sgexpanded","#"+$.jgrid.jqID(r.p.id)).each(function(){$(this).trigger("click")}),r.p._sort=!0,H(),r.p.lastsort=t,r.p.sortname!==e&&t&&(r.p.lastsort=t)}},Y=function(){var e,t,i,a,s=0,n=$.jgrid.cell_width?0:q(r.p.cellLayout,0),l=0,d=q(r.p.scrollOffset,0),p=!1,c=0;$.each(r.p.colModel,function(){if(void 0===this.hidden&&(this.hidden=!1),r.p.grouping&&r.p.autowidth){var e=$.inArray(this.name,r.p.groupingView.groupField);e>=0&&r.p.groupingView.groupColumnShow.length>e&&(this.hidden=!r.p.groupingView.groupColumnShow[e])}this.widthOrg=t=q(this.width,0),this.hidden===!1&&(s+=t+n,this.fixed?c+=t+n:l++)}),isNaN(r.p.width)&&(r.p.width=s+(r.p.shrinkToFit!==!1||isNaN(r.p.height)?0:d)),o.width=r.p.width,r.p.tblwidth=s,r.p.shrinkToFit===!1&&r.p.forceFit===!0&&(r.p.forceFit=!1),r.p.shrinkToFit===!0&&l>0&&(i=o.width-n*l-c,isNaN(r.p.height)||(i-=d,p=!0),s=0,$.each(r.p.colModel,function(o){this.hidden!==!1||this.fixed||(t=Math.round(i*this.width/(r.p.tblwidth-n*l-c)),this.width=t,s+=t,e=o)}),a=0,p?o.width-c-(s+n*l)!==d&&(a=o.width-c-(s+n*l)-d):p||1===Math.abs(o.width-c-(s+n*l))||(a=o.width-c-(s+n*l)),r.p.colModel[e].width+=a,r.p.tblwidth=s+a+n*l+c,r.p.tblwidth>r.p.width&&(r.p.colModel[e].width-=r.p.tblwidth-parseInt(r.p.width,10),r.p.tblwidth=r.p.width))},X=function(e){var t,i=e,o=e;for(t=e+1;t<r.p.colModel.length;t++)if(r.p.colModel[t].hidden!==!0){o=t;break}return o-i},J=function(e){var t=$(r.grid.headers[e].el),i=[t.position().left+t.outerWidth()];return"rtl"===r.p.direction&&(i[0]=r.p.width-i[0]),i[0]-=r.grid.bDiv.scrollLeft,i.push($(r.grid.hDiv).position().top),i.push($(r.grid.bDiv).offset().top-$(r.grid.hDiv).offset().top+$(r.grid.bDiv).height()),i},K=function(e){var t,i=r.grid.headers,o=$.jgrid.getCellIndex(e);for(t=0;t<i.length;t++)if(e===i[t].el){o=t;break}return o};for(this.p.id=this.id,-1===$.inArray(r.p.multikey,x)&&(r.p.multikey=!1),r.p.keyName=!1,l=0;l<r.p.colModel.length;l++)_="string"==typeof r.p.colModel[l].template?null!=$.jgrid.cmTemplate&&"object"==typeof $.jgrid.cmTemplate[r.p.colModel[l].template]?$.jgrid.cmTemplate[r.p.colModel[l].template]:{}:r.p.colModel[l].template,r.p.colModel[l]=$.extend(!0,{},r.p.cmTemplate,_||{},r.p.colModel[l]),r.p.keyName===!1&&r.p.colModel[l].key===!0&&(r.p.keyName=r.p.colModel[l].name);if(r.p.sortorder=r.p.sortorder.toLowerCase(),$.jgrid.cell_width=$.jgrid.cellWidth(),r.p.grouping===!0&&(r.p.scroll=!1,r.p.rownumbers=!1,r.p.treeGrid=!1,r.p.gridview=!0),this.p.treeGrid===!0){try{$(this).jqGrid("setTreeGrid")}catch(Z){}"local"!==r.p.datatype&&(r.p.localReader={id:"_id_"})}if(this.p.subGrid)try{$(r).jqGrid("setSubGrid")}catch(et){}this.p.multiselect&&(this.p.colNames.unshift("<input role='checkbox' id='cb_"+this.p.id+"' class='cbox' type='checkbox'/>"),this.p.colModel.unshift({name:"cb",width:$.jgrid.cell_width?r.p.multiselectWidth+r.p.cellLayout:r.p.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),this.p.rownumbers&&(this.p.colNames.unshift(""),this.p.colModel.unshift({name:"rn",width:r.p.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),r.p.xmlReader=$.extend(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},r.p.xmlReader),r.p.jsonReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},r.p.jsonReader),r.p.localReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},r.p.localReader),r.p.scroll&&(r.p.pgbuttons=!1,r.p.pginput=!1,r.p.rowList=[]),r.p.data.length&&(N(),T());var tt,it,rt,ot,at,st,nt,lt,dt="<thead><tr class='ui-jqgrid-labels' role='row'>",pt="",ct="",ut="";if(r.p.shrinkToFit===!0&&r.p.forceFit===!0)for(l=r.p.colModel.length-1;l>=0;l--)if(!r.p.colModel[l].hidden){r.p.colModel[l].resizable=!1;break}if("horizontal"===r.p.viewsortcols[1]?(ct=" ui-i-asc",ut=" ui-i-desc"):"single"===r.p.viewsortcols[1]&&(ct=" ui-single-sort-asc",ut=" ui-single-sort-desc",pt=" style='display:none'",r.p.viewsortcols[0]=!1),tt=v?"class='ui-th-div-ie'":"",lt="<span class='s-ico' style='display:none'>",lt+="<span sort='asc'  class='ui-grid-ico-sort ui-icon-asc"+ct+" ui-sort-"+n+" "+u+" "+m+" "+p(c,"icon_asc",!0)+"'"+pt+"></span>",lt+="<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+ut+" ui-sort-"+n+" "+u+" "+m+" "+p(c,"icon_desc",!0)+"'"+pt+"></span></span>",r.p.multiSort&&r.p.sortname)for(j=r.p.sortname.split(","),l=0;l<j.length;l++)w=$.trim(j[l]).split(" "),j[l]=$.trim(w[0]),b[l]=w[1]?$.trim(w[1]):r.p.sortorder||"asc";for(l=0;l<this.p.colNames.length;l++){var gt=r.p.headertitles?' title="'+$.jgrid.stripHtml(r.p.colNames[l])+'"':"";dt+="<th id='"+r.p.id+"_"+r.p.colModel[l].name+"' role='columnheader' "+p(c,"headerBox",!1,"ui-th-column ui-th-"+n)+" "+gt+">",it=r.p.colModel[l].index||r.p.colModel[l].name,dt+="<div id='jqgh_"+r.p.id+"_"+r.p.colModel[l].name+"' "+tt+">"+r.p.colNames[l],r.p.colModel[l].width=r.p.colModel[l].width?parseInt(r.p.colModel[l].width,10):150,"boolean"!=typeof r.p.colModel[l].title&&(r.p.colModel[l].title=!0),r.p.colModel[l].lso="",it===r.p.sortname&&(r.p.lastsort=l),r.p.multiSort&&(w=$.inArray(it,j),-1!==w&&(r.p.colModel[l].lso=b[w])),dt+=lt+"</div></th>"}if(dt+="</tr></thead>",lt=null,$(this).append(dt),$("thead tr:first th",this).hover(function(){$(this).addClass(h)},function(){$(this).removeClass(h)}),this.p.multiselect){var ht,ft=[];$("#cb_"+$.jgrid.jqID(r.p.id),this).bind("click",function(){r.p.selarrrow=[];var e=r.p.frozenColumns===!0?r.p.id+"_frozen":"";this.checked?($(r.rows).each(function(t){t>0&&($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass(u)||$(this).hasClass("jqfoot")||($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id))[r.p.useProp?"prop":"attr"]("checked",!0),$(this).addClass(g).attr("aria-selected","true"),r.p.selarrrow.push(this.id),r.p.selrow=this.id,e&&($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id),r.grid.fbDiv)[r.p.useProp?"prop":"attr"]("checked",!0),$("#"+$.jgrid.jqID(this.id),r.grid.fbDiv).addClass(g))))}),ht=!0,ft=[]):($(r.rows).each(function(t){t>0&&($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass(u)||$(this).hasClass("jqfoot")||($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id))[r.p.useProp?"prop":"attr"]("checked",!1),$(this).removeClass(g).attr("aria-selected","false"),ft.push(this.id),e&&($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id),r.grid.fbDiv)[r.p.useProp?"prop":"attr"]("checked",!1),$("#"+$.jgrid.jqID(this.id),r.grid.fbDiv).removeClass(g))))}),r.p.selrow=null,ht=!1),$(r).triggerHandler("jqGridSelectAll",[ht?r.p.selarrrow:ft,ht]),$.isFunction(r.p.onSelectAll)&&r.p.onSelectAll.call(r,ht?r.p.selarrrow:ft,ht)})}if(r.p.autowidth===!0){var $t=$(y).innerWidth();r.p.width=$t>0?$t:"nw"}Y(),$(y).css("width",o.width+"px").append("<div class='ui-jqgrid-resize-mark' id='rs_m"+r.p.id+"'>&#160;</div>"),r.p.scrollPopUp&&$(y).append("<div "+p(c,"scrollBox",!1,"loading ui-scroll-popup")+" id='scroll_g"+r.p.id+"'></div>"),$(d).css("width",o.width+"px"),dt=$("thead:first",r).get(0);var mt="";r.p.footerrow&&(mt+="<table role='presentation' style='width:"+r.p.tblwidth+"px' "+p(c,"footerTable",!1,"ui-jqgrid-ftable ui-common-table")+"><tbody><tr role='row' "+p(c,"footerBox",!1,"footrow footrow-"+n)+">");var vt=$("tr:first",dt),jt="<tr class='jqgfirstrow' role='row'>";if(r.p.disableClick=!1,$("th",vt).each(function(e){rt=r.p.colModel[e].width,void 0===r.p.colModel[e].resizable&&(r.p.colModel[e].resizable=!0),r.p.colModel[e].resizable?(ot=document.createElement("span"),$(ot).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+n).css("cursor","col-resize"),$(this).addClass(r.p.resizeclass)):ot="",$(this).css("width",rt+"px").prepend(ot),$(this).css("text-align",r.p.colModel[e].hlign||"left"),ot=null;var t="";r.p.colModel[e].hidden&&($(this).css("display","none"),t="display:none;"),jt+="<td role='gridcell' style='height:0px;width:"+rt+"px;"+t+"'></td>",o.headers[e]={width:rt,el:this},pt=r.p.colModel[e].sortable,"boolean"!=typeof pt&&(r.p.colModel[e].sortable=!0,pt=!0);var i=r.p.colModel[e].name;"cb"!==i&&"subgrid"!==i&&"rn"!==i&&r.p.viewsortcols[2]&&$(">div",this).addClass("ui-jqgrid-sortable"),pt&&(r.p.multiSort?r.p.viewsortcols[0]?($("div span.s-ico",this).show(),r.p.colModel[e].lso&&$("div span.ui-icon-"+r.p.colModel[e].lso,this).removeClass(u).css("display","")):r.p.colModel[e].lso&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+r.p.colModel[e].lso,this).removeClass(u).css("display","")):r.p.viewsortcols[0]?($("div span.s-ico",this).show(),e===r.p.lastsort&&$("div span.ui-icon-"+r.p.sortorder,this).removeClass(u).css("display","")):e===r.p.lastsort&&""!==r.p.sortname&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+r.p.sortorder,this).removeClass(u).css("display",""))),r.p.footerrow&&(mt+="<td role='gridcell' "+D(e,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(e){if(1===$(e.target).closest("th>span.ui-jqgrid-resize").length){var t=K(this);return r.p.forceFit===!0&&(r.p.nv=X(t)),o.dragStart(t,e,J(t)),!1}}).click(function(e){if(r.p.disableClick)return r.p.disableClick=!1,!1;var t,i,o="th>div.ui-jqgrid-sortable";r.p.viewsortcols[2]||(o="th>div>span>span.ui-grid-ico-sort");var a=$(e.target).closest(o);if(1===a.length){var s;if(r.p.frozenColumns){var n=$(this)[0].id.substring(r.p.id.length+1);$(r.p.colModel).each(function(e){return this.name===n?(s=e,!1):void 0})}else s=K(this);return r.p.viewsortcols[2]||(t=!0,i=a.attr("sort")),null!=s&&Q($("div",this)[0].id,s,t,i,this),!1}}),r.p.sortable&&$.fn.sortable)try{$(r).jqGrid("sortableColumns",vt)}catch(bt){}r.p.footerrow&&(mt+="</tr></tbody></table>"),jt+="</tr>",nt=document.createElement("tbody"),this.appendChild(nt),$(this).addClass(p(c,"rowTable",!0,"ui-jqgrid-btable ui-common-table")).append(jt),jt=null;var wt=$("<table "+p(c,"headerTable",!1,"ui-jqgrid-htable ui-common-table")+" style='width:"+r.p.tblwidth+"px' role='presentation' aria-labelledby='gbox_"+this.id+"'></table>").append(dt),yt=r.p.caption&&r.p.hiddengrid===!0?!0:!1,_t=$("<div class='ui-jqgrid-hbox"+("rtl"===n?"-rtl":"")+"'></div>");dt=null,o.hDiv=document.createElement("div"),o.hDiv.style.width=o.width+"px",o.hDiv.className=p(c,"headerDiv",!0,"ui-jqgrid-hdiv"),$(o.hDiv).append(_t),$(_t).append(wt),wt=null,yt&&$(o.hDiv).hide(),r.p.pager&&("string"==typeof r.p.pager?"#"!==r.p.pager.substr(0,1)&&(r.p.pager="#"+r.p.pager):r.p.pager="#"+$(r.p.pager).attr("id"),$(r.p.pager).css({width:o.width+"px"}).addClass(p(c,"pagerBox",!0,"ui-jqgrid-pager")).appendTo(y),yt&&$(r.p.pager).hide(),V(r.p.pager,"")),r.p.cellEdit===!1&&r.p.hoverrows===!0&&$(r).bind("mouseover",function(e){st=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(st).attr("class")&&$(st).addClass(h)}).bind("mouseout",function(e){st=$(e.target).closest("tr.jqgrow"),$(st).removeClass(h)});var xt,qt,Dt;$(r).before(o.hDiv).click(function(e){if(at=e.target,st=$(at,r.rows).closest("tr.jqgrow"),0===$(st).length||st[0].className.indexOf(u)>-1||($(at,r).closest("table.ui-jqgrid-btable").attr("id")||"").replace("_frozen","")!==r.id)return this;var t=$(at).hasClass("cbox"),i=$(r).triggerHandler("jqGridBeforeSelectRow",[st[0].id,e]);if(i=i===!1||"stop"===i?!1:!0,$.isFunction(r.p.beforeSelectRow)){var o=r.p.beforeSelectRow.call(r,st[0].id,e);(o===!1||"stop"===o)&&(i=!1)}if("A"!==at.tagName&&("INPUT"!==at.tagName&&"TEXTAREA"!==at.tagName&&"OPTION"!==at.tagName&&"SELECT"!==at.tagName||t)){if(xt=st[0].id,at=$(at).closest("tr.jqgrow>td"),at.length>0&&(qt=$.jgrid.getCellIndex(at),Dt=$(at).closest("td,th").html(),$(r).triggerHandler("jqGridCellSelect",[xt,qt,Dt,e]),$.isFunction(r.p.onCellSelect)&&r.p.onCellSelect.call(r,xt,qt,Dt,e)),r.p.cellEdit===!0)if(r.p.multiselect&&t&&i)$(r).jqGrid("setSelection",xt,!0,e);else if(at.length>0){xt=st[0].rowIndex;try{$(r).jqGrid("editCell",xt,qt,!0)}catch(a){}}if(i)if(r.p.multikey)e[r.p.multikey]?$(r).jqGrid("setSelection",xt,!0,e):r.p.multiselect&&t&&(t=$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+xt).is(":checked"),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+xt)[r.p.useProp?"prop":"attr"]("checked",!t));else if(r.p.multiselect&&r.p.multiboxonly)if(t)$(r).jqGrid("setSelection",xt,!0,e);else{var s=r.p.frozenColumns?r.p.id+"_frozen":"";$(r.p.selarrrow).each(function(e,t){var i=$(r).jqGrid("getGridRowById",t);i&&$(i).removeClass(g),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t))[r.p.useProp?"prop":"attr"]("checked",!1),s&&($("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(s)).removeClass(g),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(s))[r.p.useProp?"prop":"attr"]("checked",!1))}),r.p.selarrrow=[],$(r).jqGrid("setSelection",xt,!0,e)}else $(r).jqGrid("setSelection",xt,!0,e)}}).bind("reloadGrid",function(e,t){if(r.p.treeGrid===!0&&(r.p.datatype=r.p.treedatatype),t=t||{},t.current&&r.grid.selectionPreserver(r),"local"===r.p.datatype?($(r).jqGrid("resetSelection"),r.p.data.length&&(N(),T())):r.p.treeGrid||(r.p.selrow=null,r.p.multiselect&&(r.p.selarrrow=[],L(!1)),r.p.savedRow=[]),r.p.scroll&&M.call(r,!0,!1),t.page){var i=t.page;i>r.p.lastpage&&(i=r.p.lastpage),1>i&&(i=1),r.p.page=i,r.grid.bDiv.scrollTop=r.grid.prevRowHeight?(i-1)*r.grid.prevRowHeight*r.p.rowNum:0}return r.grid.prevRowHeight&&r.p.scroll&&void 0===t.page?(delete r.p.lastpage,r.grid.populateVisible()):r.grid.populate(),r.p.inlineNav===!0&&$(r).jqGrid("showAddEditButtons"),!1}).dblclick(function(e){if(at=e.target,st=$(at,r.rows).closest("tr.jqgrow"),0!==$(st).length){xt=st[0].rowIndex,qt=$.jgrid.getCellIndex(at);var t=$(r).triggerHandler("jqGridDblClickRow",[$(st).attr("id"),xt,qt,e]);return null!=t?t:$.isFunction(r.p.ondblClickRow)&&(t=r.p.ondblClickRow.call(r,$(st).attr("id"),xt,qt,e),null!=t)?t:void 0}}).bind("contextmenu",function(e){if(at=e.target,st=$(at,r.rows).closest("tr.jqgrow"),0!==$(st).length){r.p.multiselect||$(r).jqGrid("setSelection",st[0].id,!0,e),xt=st[0].rowIndex,qt=$.jgrid.getCellIndex(at);var t=$(r).triggerHandler("jqGridRightClickRow",[$(st).attr("id"),xt,qt,e]);return null!=t?t:$.isFunction(r.p.onRightClickRow)&&(t=r.p.onRightClickRow.call(r,$(st).attr("id"),xt,qt,e),null!=t)?t:void 0}}),o.bDiv=document.createElement("div"),v&&"auto"===String(r.p.height).toLowerCase()&&(r.p.height="100%"),$(o.bDiv).append($('<div style="position:relative;"></div>').append("<div></div>").append(this)).addClass("ui-jqgrid-bdiv").css({height:r.p.height+(isNaN(r.p.height)?"":"px"),width:o.width+"px"}).scroll(o.scrollGrid),$("table:first",o.bDiv).css({width:r.p.tblwidth+"px"}),$.support.tbody||2===$("tbody",this).length&&$("tbody:gt(0)",this).remove(),r.p.multikey&&($.jgrid.msie?$(o.bDiv).bind("selectstart",function(){return!1}):$(o.bDiv).bind("mousedown",function(){return!1})),yt&&$(o.bDiv).hide();var Ct=m+" "+p(c,"icon_caption_open",!0),It=m+" "+p(c,"icon_caption_close",!0);o.cDiv=document.createElement("div");var Gt=r.p.hidegrid===!0?$("<a role='link' class='ui-jqgrid-titlebar-close HeaderButton "+f+"' title='"+($.jgrid.getRegional(r,"defaults.showhide",r.p.showhide)||"")+"' />").hover(function(){Gt.addClass(h)},function(){Gt.removeClass(h)}).append("<span class='ui-jqgrid-headlink "+Ct+"'></span>").css("rtl"===n?"left":"right","0px"):"";if($(o.cDiv).append(Gt).append("<span class='ui-jqgrid-title'>"+r.p.caption+"</span>").addClass("ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===n?"-rtl":"")+" "+p(c,"gridtitleBox",!0)),$(o.cDiv).insertBefore(o.hDiv),r.p.toolbar[0]){var Ft=p(c,"customtoolbarBox",!0,"ui-userdata");o.uDiv=document.createElement("div"),"top"===r.p.toolbar[1]?$(o.uDiv).insertBefore(o.hDiv):"bottom"===r.p.toolbar[1]&&$(o.uDiv).insertAfter(o.hDiv),"both"===r.p.toolbar[1]?(o.ubDiv=document.createElement("div"),$(o.uDiv).addClass(Ft+" ui-userdata-top").attr("id","t_"+this.id).insertBefore(o.hDiv).width(o.width),$(o.ubDiv).addClass(Ft+" ui-userdata-bottom").attr("id","tb_"+this.id).insertAfter(o.hDiv).width(o.width),yt&&$(o.ubDiv).hide()):$(o.uDiv).width(o.width).addClass(Ft+" ui-userdata-top").attr("id","t_"+this.id),yt&&$(o.uDiv).hide()}if(r.p.toppager&&(r.p.toppager=$.jgrid.jqID(r.p.id)+"_toppager",o.topDiv=$("<div id='"+r.p.toppager+"'></div>")[0],r.p.toppager="#"+r.p.toppager,$(o.topDiv).addClass(p(c,"toppagerBox",!0,"ui-jqgrid-toppager")).width(o.width).insertBefore(o.hDiv),V(r.p.toppager,"_t")),r.p.footerrow&&(o.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],_t=$("<div class='ui-jqgrid-hbox"+("rtl"===n?"-rtl":"")+"'></div>"),$(o.sDiv).append(_t).width(o.width).insertAfter(o.hDiv),$(_t).append(mt),o.footers=$(".ui-jqgrid-ftable",o.sDiv)[0].rows[0].cells,r.p.rownumbers&&(o.footers[0].className=p(c,"rownumBox",!0,"jqgrid-rownum")),yt&&$(o.sDiv).hide()),_t=null,r.p.caption){var St=r.p.datatype;r.p.hidegrid===!0&&($(".ui-jqgrid-titlebar-close",o.cDiv).click(function(e){var t,i=$.isFunction(r.p.onHeaderClick),a=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-toppager, .ui-jqgrid-pager, .ui-jqgrid-sdiv",s=this;return r.p.toolbar[0]===!0&&("both"===r.p.toolbar[1]&&(a+=", #"+$(o.ubDiv).attr("id")),a+=", #"+$(o.uDiv).attr("id")),t=$(a,"#gview_"+$.jgrid.jqID(r.p.id)).length,"visible"===r.p.gridstate?$(a,"#gbox_"+$.jgrid.jqID(r.p.id)).slideUp("fast",function(){t--,0===t&&($("span",s).removeClass(Ct).addClass(It),r.p.gridstate="hidden",$("#gbox_"+$.jgrid.jqID(r.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(r.p.id)).hide(),$(r).triggerHandler("jqGridHeaderClick",[r.p.gridstate,e]),i&&(yt||r.p.onHeaderClick.call(r,r.p.gridstate,e)))}):"hidden"===r.p.gridstate&&$(a,"#gbox_"+$.jgrid.jqID(r.p.id)).slideDown("fast",function(){t--,0===t&&($("span",s).removeClass(It).addClass(Ct),yt&&(r.p.datatype=St,H(),yt=!1),r.p.gridstate="visible",$("#gbox_"+$.jgrid.jqID(r.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(r.p.id)).show(),$(r).triggerHandler("jqGridHeaderClick",[r.p.gridstate,e]),i&&(yt||r.p.onHeaderClick.call(r,r.p.gridstate,e)))}),!1}),yt&&(r.p.datatype="local",$(".ui-jqgrid-titlebar-close",o.cDiv).trigger("click")))}else $(o.cDiv).hide(),r.p.toppager||$(o.hDiv).addClass(p(r.p.styleUI+".common","cornertop",!0));if($(o.hDiv).after(o.bDiv).mousemove(function(e){return o.resizing?(o.dragMove(e),!1):void 0}),$(".ui-jqgrid-labels",o.hDiv).bind("selectstart",function(){return!1}),$(document).bind("mouseup.jqGrid"+r.p.id,function(){return o.resizing?(o.dragEnd(!0),!1):!0}),r.formatCol=D,r.sortData=Q,r.updatepager=U,r.refreshIndex=T,r.setHeadCheckBox=L,r.constructTr=O,r.formatter=function(e,t,i,r,o){return I(e,t,i,r,o)},$.extend(o,{populate:H,emptyRows:M,beginReq:z,endReq:B}),this.grid=o,r.addXmlData=function(e){P(e)},r.addJSONData=function(e){A(e)},this.grid.cols=this.rows[0].cells,$(r).triggerHandler("jqGridInitGrid"),$.isFunction(r.p.onInitGrid)&&r.p.onInitGrid.call(r),H(),r.p.hiddengrid=!1,r.p.responsive){var kt="onorientationchange"in window,Rt=kt?"orientationchange":"resize";$(window).on(Rt,function(){$(r).jqGrid("resizeGrid")})}}})},$.jgrid.extend({getGridParam:function(e,t){var i,r=this[0];if(r&&r.grid){if(void 0===t&&"string"!=typeof t&&(t="jqGrid"),i=r.p,"jqGrid"!==t)try{i=$(r).data(t)}catch(o){i=r.p}return e?void 0!==i[e]?i[e]:null:i}},setGridParam:function(e,t){return this.each(function(){if(null==t&&(t=!1),this.grid&&"object"==typeof e)if(t===!0){var i=$.extend({},this.p,e);this.p=i}else $.extend(!0,this.p,e)})},getGridRowById:function(e){var t;return this.each(function(){try{for(var i=this.rows.length;i--;)if(e.toString()===this.rows[i].id){t=this.rows[i];break}}catch(r){t=$(this.grid.bDiv).find("#"+$.jgrid.jqID(e))}}),t},getDataIDs:function(){var e,t=[],i=0,r=0;return this.each(function(){if(e=this.rows.length,e&&e>0)for(;e>i;)$(this.rows[i]).hasClass("jqgrow")&&(t[r]=this.rows[i].id,r++),i++}),t},setSelection:function(e,t,i){return this.each(function(){function r(e){var t=$(c.grid.bDiv)[0].clientHeight,i=$(c.grid.bDiv)[0].scrollTop,r=$(c.rows[e]).position().top,o=c.rows[e].clientHeight;r+o>=t+i?$(c.grid.bDiv)[0].scrollTop=r-(t+i)+o+i:t+i>r&&i>r&&($(c.grid.bDiv)[0].scrollTop=r)}var o,a,s,n,l,d,p,c=this,u=$.jgrid.getMethod("getStyleUI"),g=u(c.p.styleUI+".common","highlight",!0),h=u(c.p.styleUI+".common","disabled",!0);void 0!==e&&(t=t===!1?!1:!0,a=$(c).jqGrid("getGridRowById",e),!a||!a.className||a.className.indexOf(h)>-1||(c.p.scrollrows===!0&&(s=$(c).jqGrid("getGridRowById",e).rowIndex,s>=0&&r(s)),c.p.frozenColumns===!0&&(d=c.p.id+"_frozen"),c.p.multiselect?(c.setHeadCheckBox(!1),c.p.selrow=a.id,n=$.inArray(c.p.selrow,c.p.selarrrow),-1===n?("ui-subgrid"!==a.className&&$(a).addClass(g).attr("aria-selected","true"),o=!0,c.p.selarrrow.push(c.p.selrow)):("ui-subgrid"!==a.className&&$(a).removeClass(g).attr("aria-selected","false"),o=!1,c.p.selarrrow.splice(n,1),l=c.p.selarrrow[0],c.p.selrow=void 0===l?null:l),$("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+$.jgrid.jqID(a.id))[c.p.useProp?"prop":"attr"]("checked",o),d&&(-1===n?$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(d)).addClass(g):$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(d)).removeClass(g),$("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(d))[c.p.useProp?"prop":"attr"]("checked",o)),t&&($(c).triggerHandler("jqGridSelectRow",[a.id,o,i]),c.p.onSelectRow&&c.p.onSelectRow.call(c,a.id,o,i))):"ui-subgrid"!==a.className&&(c.p.selrow!==a.id?(p=$(c).jqGrid("getGridRowById",c.p.selrow),p&&$(p).removeClass(g).attr({"aria-selected":"false",tabindex:"-1"}),$(a).addClass(g).attr({"aria-selected":"true",tabindex:"0"}),d&&($("#"+$.jgrid.jqID(c.p.selrow),"#"+$.jgrid.jqID(d)).removeClass(g),$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(d)).addClass(g)),o=!0):o=!1,c.p.selrow=a.id,t&&($(c).triggerHandler("jqGridSelectRow",[a.id,o,i]),c.p.onSelectRow&&c.p.onSelectRow.call(c,a.id,o,i)))))})},resetSelection:function(e){return this.each(function(){var t,i,r=this,o=$.jgrid.getMethod("getStyleUI"),a=o(r.p.styleUI+".common","highlight",!0),s=o(r.p.styleUI+".common","hover",!0);if(r.p.frozenColumns===!0&&(i=r.p.id+"_frozen"),void 0!==e){if(t=e===r.p.selrow?r.p.selrow:e,$("#"+$.jgrid.jqID(r.p.id)+" tbody:first tr#"+$.jgrid.jqID(t)).removeClass(a).attr("aria-selected","false"),i&&$("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i)).removeClass(a),r.p.multiselect){$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(r.p.id))[r.p.useProp?"prop":"attr"]("checked",!1),i&&$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i))[r.p.useProp?"prop":"attr"]("checked",!1),r.setHeadCheckBox(!1);var n=$.inArray($.jgrid.jqID(t),r.p.selarrrow);-1!==n&&r.p.selarrrow.splice(n,1)}r.p.onUnSelectRow&&r.p.onUnSelectRow.call(r,t),t=null}else r.p.multiselect?($(r.p.selarrrow).each(function(e,t){$($(r).jqGrid("getGridRowById",t)).removeClass(a).attr("aria-selected","false"),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t))[r.p.useProp?"prop":"attr"]("checked",!1),i&&($("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i)).removeClass(a),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i))[r.p.useProp?"prop":"attr"]("checked",!1)),r.p.onUnSelectRow&&r.p.onUnSelectRow.call(r,t)}),r.setHeadCheckBox(!1),r.p.selarrrow=[],r.p.selrow=null):r.p.selrow&&($("#"+$.jgrid.jqID(r.p.id)+" tbody:first tr#"+$.jgrid.jqID(r.p.selrow)).removeClass(a).attr("aria-selected","false"),i&&$("#"+$.jgrid.jqID(r.p.selrow),"#"+$.jgrid.jqID(i)).removeClass(a),r.p.onUnSelectRow&&r.p.onUnSelectRow.call(r,r.p.selrow),r.p.selrow=null);r.p.cellEdit===!0&&parseInt(r.p.iCol,10)>=0&&parseInt(r.p.iRow,10)>=0&&($("td:eq("+r.p.iCol+")",r.rows[r.p.iRow]).removeClass("edit-cell "+a),$(r.rows[r.p.iRow]).removeClass("selected-row "+s)),r.p.savedRow=[]})},getRowData:function(e,t){var i,r,o={},a=!1,s=0;return this.each(function(){var n,l,d=this;if(null==e)a=!0,i=[],r=d.rows.length;else{if(l=$(d).jqGrid("getGridRowById",e),!l)return o;r=2}for(t&&t===!0&&d.p.data.length>0||(t=!1);r>s;)a&&(l=d.rows[s]),$(l).hasClass("jqgrow")&&(t?o=d.p.data[d.p._index[l.id]]:$('td[role="gridcell"]',l).each(function(e){if(n=d.p.colModel[e].name,"cb"!==n&&"subgrid"!==n&&"rn"!==n)if(d.p.treeGrid===!0&&n===d.p.ExpandColumn)o[n]=$.jgrid.htmlDecode($("span:first",this).html());else try{o[n]=$.unformat.call(d,this,{rowId:l.id,colModel:d.p.colModel[e]},e)}catch(t){o[n]=$.jgrid.htmlDecode($(this).html())}}),a&&(i.push(o),o={})),s++}),i||o},delRowData:function(e){var t,i,r,o=!1;return this.each(function(){var a=this;if(t=$(a).jqGrid("getGridRowById",e),!t)return!1;if(a.p.subGrid&&(r=$(t).next(),r.hasClass("ui-subgrid")&&r.remove()),$(t).remove(),a.p.records--,a.p.reccount--,a.updatepager(!0,!1),o=!0,a.p.multiselect&&(i=$.inArray(e,a.p.selarrrow),-1!==i&&a.p.selarrrow.splice(i,1)),a.p.selrow=a.p.multiselect&&a.p.selarrrow.length>0?a.p.selarrrow[a.p.selarrrow.length-1]:null,"local"===a.p.datatype){var s=$.jgrid.stripPref(a.p.idPrefix,e),n=a.p._index[s];void 0!==n&&(a.p.data.splice(n,1),a.refreshIndex())}if(a.p.altRows===!0&&o){var l=a.p.altclass;$(a.rows).each(function(e){e%2===1?$(this).addClass(l):$(this).removeClass(l)})}}),o},setRowData:function(e,t,i){var r,o,a=!0;return this.each(function(){if(!this.grid)return!1;var s,n,l=this,d=typeof i,p={};if(n=$(this).jqGrid("getGridRowById",e),!n)return!1;if(t)try{if($(this.p.colModel).each(function(i){r=this.name;var a=$.jgrid.getAccessor(t,r);void 0!==a&&(p[r]=this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?$.unformat.date.call(l,a,this):a,s=l.formatter(e,p[r],i,t,"edit"),o=this.title?{title:$.jgrid.stripHtml(s)}:{},l.p.treeGrid===!0&&r===l.p.ExpandColumn?$("td[role='gridcell']:eq("+i+") > span:first",n).html(s).attr(o):$("td[role='gridcell']:eq("+i+")",n).html(s).attr(o))}),"local"===l.p.datatype){var c,u=$.jgrid.stripPref(l.p.idPrefix,e),g=l.p._index[u];if(l.p.treeGrid)for(c in l.p.treeReader)l.p.treeReader.hasOwnProperty(c)&&delete p[l.p.treeReader[c]];void 0!==g&&(l.p.data[g]=$.extend(!0,l.p.data[g],p)),p=null}}catch(h){a=!1}a&&("string"===d?$(n).addClass(i):null!==i&&"object"===d&&$(n).css(i),$(l).triggerHandler("jqGridAfterGridComplete"))}),a},addRowData:function(e,t,i,r){-1==["first","last","before","after"].indexOf(i)&&(i="last");var o,a,s,n,l,d,p,c,u,g,h,f,m,v,j=!1,b="",w="",y="";return t&&($.isArray(t)?(u=!0,g=e):(t=[t],u=!1),this.each(function(){var _=this,x=t.length;l=_.p.rownumbers===!0?1:0,s=_.p.multiselect===!0?1:0,n=_.p.subGrid===!0?1:0,u||(void 0!==e?e=String(e):(e=$.jgrid.randId(),_.p.keyName!==!1&&(g=_.p.keyName,void 0!==t[0][g]&&(e=t[0][g])))),h=_.p.altclass;var q,D=0,C=$(_).jqGrid("getStyleUI",_.p.styleUI+".base","rowBox",!0,"jqgrow ui-row-"+_.p.direction),I={},G=$.isFunction(_.p.afterInsertRow)?!0:!1;for(l&&(b=$(_).jqGrid("getStyleUI",_.p.styleUI+".base","rownumBox",!1,"jqgrid-rownum")),s&&(w=$(_).jqGrid("getStyleUI",_.p.styleUI+".base","multiBox",!1,"cbox"));x>D;){if(f=t[D],a=[],q=C,u){try{e=f[g],void 0===e&&(e=$.jgrid.randId())}catch(F){e=$.jgrid.randId()}q+=_.p.altRows===!0&&(_.rows.length-1)%2===0?" "+h:""}for(v=e,e=_.p.idPrefix+e,l&&(y=_.formatCol(0,1,"",null,e,!0),a[a.length]='<td role="gridcell" '+b+" "+y+">0</td>"),s&&(c='<input role="checkbox" type="checkbox" id="jqg_'+_.p.id+"_"+e+'" '+w+"/>",y=_.formatCol(l,1,"",null,e,!0),a[a.length]='<td role="gridcell" '+y+">"+c+"</td>"),n&&(a[a.length]=$(_).jqGrid("addSubGridCell",s+l,1)),p=s+n+l;p<_.p.colModel.length;p++)m=_.p.colModel[p],o=m.name,I[o]=f[o],c=_.formatter(e,$.jgrid.getAccessor(f,o),p,f),y=_.formatCol(p,1,c,f,e,I),a[a.length]='<td role="gridcell" '+y+">"+c+"</td>";if(a.unshift(_.constructTr(e,!1,q,I,f)),a[a.length]="</tr>",0===_.rows.length)$("table:first",_.grid.bDiv).append(a.join(""));else switch(i){case"last":$(_.rows[_.rows.length-1]).after(a.join("")),d=_.rows.length-1;break;case"first":$(_.rows[0]).after(a.join("")),d=1;break;case"after":d=$(_).jqGrid("getGridRowById",r),d&&($(_.rows[d.rowIndex+1]).hasClass("ui-subgrid")?$(_.rows[d.rowIndex+1]).after(a):$(d).after(a.join("")),d=d.rowIndex+1);break;case"before":d=$(_).jqGrid("getGridRowById",r),d&&($(d).before(a.join("")),d=d.rowIndex-1)}_.p.subGrid===!0&&$(_).jqGrid("addSubGrid",s+l,d),_.p.records++,_.p.reccount++,$(_).triggerHandler("jqGridAfterInsertRow",[e,f,f]),G&&_.p.afterInsertRow.call(_,e,f,f),D++,"local"===_.p.datatype&&(I[_.p.localReader.id]=v,_.p._index[v]=_.p.data.length,_.p.data.push(I),I={})}_.p.altRows!==!0||u||("last"===i?(_.rows.length-1)%2===0&&$(_.rows[_.rows.length-1]).addClass(h):$(_.rows).each(function(e){e%2===0?$(this).addClass(h):$(this).removeClass(h)})),_.updatepager(!0,!0),j=!0})),j},footerData:function(e,t,i){function r(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}var o,a,s=!1,n={};
return void 0===e&&(e="get"),"boolean"!=typeof i&&(i=!0),e=e.toLowerCase(),this.each(function(){var l,d=this;return d.grid&&d.p.footerrow?"set"===e&&r(t)?!1:(s=!0,void $(this.p.colModel).each(function(r){o=this.name,"set"===e?void 0!==t[o]&&(l=i?d.formatter("",t[o],r,t,"edit"):t[o],a=this.title?{title:$.jgrid.stripHtml(l)}:{},$("tr.footrow td:eq("+r+")",d.grid.sDiv).html(l).attr(a),s=!0):"get"===e&&(n[o]=$("tr.footrow td:eq("+r+")",d.grid.sDiv).html())})):!1}),"get"===e?n:s},showHideCol:function(e,t){return this.each(function(){var i,r=this,o=!1,a=$.jgrid.cell_width?0:r.p.cellLayout;if(r.grid){"string"==typeof e&&(e=[e]),t="none"!==t?"":"none";var s=""===t?!0:!1,n=r.p.groupHeader&&($.isArray(r.p.groupHeader)||$.isFunction(r.p.groupHeader));if(n&&$(r).jqGrid("destroyGroupHeader",!1),$(this.p.colModel).each(function(n){if(-1!==$.inArray(this.name,e)&&this.hidden===s){if(r.p.frozenColumns===!0&&this.frozen===!0)return!0;$("tr[role=row]",r.grid.hDiv).each(function(){$(this.cells[n]).css("display",t)}),$(r.rows).each(function(){$(this).hasClass("jqgroup")||$(this.cells[n]).css("display",t)}),r.p.footerrow&&$("tr.footrow td:eq("+n+")",r.grid.sDiv).css("display",t),i=parseInt(this.width,10),"none"===t?r.p.tblwidth-=i+a:r.p.tblwidth+=i+a,this.hidden=!s,o=!0,$(r).triggerHandler("jqGridShowHideCol",[s,this.name,n])}}),o===!0&&(r.p.shrinkToFit!==!0||isNaN(r.p.height)||(r.p.tblwidth+=parseInt(r.p.scrollOffset,10)),$(r).jqGrid("setGridWidth",r.p.shrinkToFit===!0?r.p.tblwidth:r.p.width)),n){var l=$.extend([],r.p.groupHeader);r.p.groupHeader=null;for(var d=0;d<l.length;d++)$(r).jqGrid("setGroupHeaders",l[d])}}})},hideCol:function(e){return this.each(function(){$(this).jqGrid("showHideCol",e,"none")})},showCol:function(e){return this.each(function(){$(this).jqGrid("showHideCol",e,"")})},remapColumns:function(e,t,i){function r(t){var i;i=t.length?$.makeArray(t):$.extend({},t),$.each(e,function(e){t[e]=i[this]})}function o(t,i){$(">tr"+(i||""),t).each(function(){var t=this,i=$.makeArray(t.cells);$.each(e,function(){var e=i[this];e&&t.appendChild(e)})})}var a=this.get(0);r(a.p.colModel),r(a.p.colNames),r(a.grid.headers),o($("thead:first",a.grid.hDiv),i&&":not(.ui-jqgrid-labels)"),t&&o($("#"+$.jgrid.jqID(a.p.id)+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot"),a.p.footerrow&&o($("tbody:first",a.grid.sDiv)),a.p.remapColumns&&(a.p.remapColumns.length?r(a.p.remapColumns):a.p.remapColumns=$.makeArray(e)),a.p.lastsort=$.inArray(a.p.lastsort,e),a.p.treeGrid&&(a.p.expColInd=$.inArray(a.p.expColInd,e)),$(a).triggerHandler("jqGridRemapColumns",[e,t,i])},setGridWidth:function(e,t){return this.each(function(){if(this.grid){var i,r,o,a,s=this,n=0,l=$.jgrid.cell_width?0:s.p.cellLayout,d=0,p=!1,c=s.p.scrollOffset,u=0;if("boolean"!=typeof t&&(t=s.p.shrinkToFit),!isNaN(e)){if(e=parseInt(e,10),s.grid.width=s.p.width=e,$("#gbox_"+$.jgrid.jqID(s.p.id)).css("width",e+"px"),$("#gview_"+$.jgrid.jqID(s.p.id)).css("width",e-2+"px"),$(s.grid.bDiv).css("width",e+"px"),$(s.grid.hDiv).css("width",e+"px"),s.p.pager&&$(s.p.pager).css("width",e+"px"),s.p.toppager&&$(s.p.toppager).css("width",e+"px"),s.p.toolbar[0]===!0&&($(s.grid.uDiv).css("width",e+"px"),"both"===s.p.toolbar[1]&&$(s.grid.ubDiv).css("width",e+"px")),s.p.footerrow&&$(s.grid.sDiv).css("width",e+"px"),t===!1&&s.p.forceFit===!0&&(s.p.forceFit=!1),t===!0){if($.each(s.p.colModel,function(){this.hidden===!1&&(i=this.widthOrg,n+=i+l,this.fixed?u+=i+l:d++)}),0===d)return;s.p.tblwidth=n,o=e-l*d-u,isNaN(s.p.height)||($(s.grid.bDiv)[0].clientHeight<$(s.grid.bDiv)[0].scrollHeight||1===s.rows.length)&&(p=!0,o-=c),n=0;var g=s.grid.cols.length>0;if($.each(s.p.colModel,function(e){if(this.hidden===!1&&!this.fixed){if(i=this.widthOrg,i=Math.round(o*i/(s.p.tblwidth-l*d-u)),0>i)return;this.width=i,n+=i,s.grid.headers[e].width=i,s.grid.headers[e].el.style.width=i+"px",s.p.footerrow&&(s.grid.footers[e].style.width=i+"px"),g&&(s.grid.cols[e].style.width=i+"px"),r=e}}),!r)return;if(a=0,p?e-u-(n+l*d)!==c&&(a=e-u-(n+l*d)-c):1!==Math.abs(e-u-(n+l*d))&&(a=e-u-(n+l*d)),s.p.colModel[r].width+=a,s.p.tblwidth=n+a+l*d+u,s.p.tblwidth>e){var h=s.p.tblwidth-parseInt(e,10);s.p.tblwidth=e,i=s.p.colModel[r].width=s.p.colModel[r].width-h}else i=s.p.colModel[r].width;s.grid.headers[r].width=i,s.grid.headers[r].el.style.width=i+"px",g&&(s.grid.cols[r].style.width=i+"px"),s.p.footerrow&&(s.grid.footers[r].style.width=i+"px")}s.p.tblwidth&&($("table:first",s.grid.bDiv).css("width",s.p.tblwidth+"px"),$("table:first",s.grid.hDiv).css("width",s.p.tblwidth+"px"),s.grid.hDiv.scrollLeft=s.grid.bDiv.scrollLeft,s.p.footerrow&&$("table:first",s.grid.sDiv).css("width",s.p.tblwidth+"px"))}}})},setGridHeight:function(e){return this.each(function(){var t=this;if(t.grid){var i=$(t.grid.bDiv);i.css({height:e+(isNaN(e)?"":"px")}),t.p.frozenColumns===!0&&$("#"+$.jgrid.jqID(t.p.id)+"_frozen").parent().height(i.height()-16),t.p.height=e,t.p.scroll&&t.grid.populateVisible()}})},setCaption:function(e){return this.each(function(){var t=$(this).jqGrid("getStyleUI",this.p.styleUI+".common","cornertop",!0);this.p.caption=e,$(".ui-jqgrid-title, .ui-jqgrid-title-rtl",this.grid.cDiv).html(e),$(this.grid.cDiv).show(),$(this.grid.hDiv).removeClass(t)})},setLabel:function(e,t,i,r){return this.each(function(){var o=this,a=-1;if(o.grid&&void 0!==e&&($(o.p.colModel).each(function(t){return this.name===e?(a=t,!1):void 0}),a>=0)){var s=$("tr.ui-jqgrid-labels th:eq("+a+")",o.grid.hDiv);if(t){var n=$(".s-ico",s);$("[id^=jqgh_]",s).empty().html(t).append(n),o.p.colNames[a]=t}i&&("string"==typeof i?$(s).addClass(i):$(s).css(i)),"object"==typeof r&&$(s).attr(r)}})},setCell:function(e,t,i,r,o,a){return this.each(function(){var s,n,l=this,d=-1;if(l.grid&&(isNaN(t)?$(l.p.colModel).each(function(e){return this.name===t?(d=e,!1):void 0}):d=parseInt(t,10),d>=0)){var p=$(l).jqGrid("getGridRowById",e);if(p){var c=$("td:eq("+d+")",p),u=0,g=[];if(""!==i||a===!0){if(void 0!==p.cells)for(;u<p.cells.length;)g.push(p.cells[u].innerHTML),u++;if(s=l.formatter(e,i,d,g,"edit"),n=l.p.colModel[d].title?{title:$.jgrid.stripHtml(s)}:{},l.p.treeGrid&&$(".tree-wrap",$(c)).length>0?$("span",$(c)).html(s).attr(n):$(c).html(s).attr(n),"local"===l.p.datatype){var h,f=l.p.colModel[d];i=f.formatter&&"string"==typeof f.formatter&&"date"===f.formatter?$.unformat.date.call(l,i,f):i,h=l.p._index[$.jgrid.stripPref(l.p.idPrefix,e)],void 0!==h&&(l.p.data[h][f.name]=i)}}"string"==typeof r?$(c).addClass(r):r&&$(c).css(r),"object"==typeof o&&$(c).attr(o)}}})},getCell:function(e,t){var i=!1;return this.each(function(){var r=this,o=-1;if(r.grid&&(isNaN(t)?$(r.p.colModel).each(function(e){return this.name===t?(o=e,!1):void 0}):o=parseInt(t,10),o>=0)){var a=$(r).jqGrid("getGridRowById",e);if(a)try{i=$.unformat.call(r,$("td:eq("+o+")",a),{rowId:a.id,colModel:r.p.colModel[o]},o)}catch(s){i=$.jgrid.htmlDecode($("td:eq("+o+")",a).html())}}}),i},getCol:function(e,t,i){var r,o,a,s,n=[],l=0;return t="boolean"!=typeof t?!1:t,void 0===i&&(i=!1),this.each(function(){var d=this,p=-1;if(d.grid&&(isNaN(e)?$(d.p.colModel).each(function(t){return this.name===e?(p=t,!1):void 0}):p=parseInt(e,10),p>=0)){var c=d.rows.length,u=0,g=0;if(c&&c>0){for(;c>u;){if($(d.rows[u]).hasClass("jqgrow")){try{r=$.unformat.call(d,$(d.rows[u].cells[p]),{rowId:d.rows[u].id,colModel:d.p.colModel[p]},p)}catch(h){r=$.jgrid.htmlDecode(d.rows[u].cells[p].innerHTML)}i?(s=parseFloat(r),isNaN(s)||(l+=s,void 0===a&&(a=o=s),o=Math.min(o,s),a=Math.max(a,s),g++)):n.push(t?{id:d.rows[u].id,value:r}:r)}u++}if(i)switch(i.toLowerCase()){case"sum":n=l;break;case"avg":n=l/g;break;case"count":n=c-1;break;case"min":n=o;break;case"max":n=a}}}}),n},clearGridData:function(e){return this.each(function(){var t=this;if(t.grid){if("boolean"!=typeof e&&(e=!1),t.p.deepempty)$("#"+$.jgrid.jqID(t.p.id)+" tbody:first tr:gt(0)").remove();else{var i=$("#"+$.jgrid.jqID(t.p.id)+" tbody:first tr:first")[0];$("#"+$.jgrid.jqID(t.p.id)+" tbody:first").empty().append(i)}t.p.footerrow&&e&&$(".ui-jqgrid-ftable td",t.grid.sDiv).html("&#160;"),t.p.selrow=null,t.p.selarrrow=[],t.p.savedRow=[],t.p.records=0,t.p.page=1,t.p.lastpage=0,t.p.reccount=0,t.p.data=[],t.p._index={},t.updatepager(!0,!1)}})},getInd:function(e,t){var i,r=!1;return this.each(function(){i=$(this).jqGrid("getGridRowById",e),i&&(r=t===!0?i:i.rowIndex)}),r},bindKeys:function(e){var t=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},e||{});return this.each(function(){var e=this;$("body").is("[role]")||$("body").attr("role","application"),e.p.scrollrows=t.scrollingRows,$(e).keydown(function(i){var r,o,a,s=$(e).find("tr[tabindex=0]")[0],n=e.p.treeReader.expanded_field;if(s)if(a=e.p._index[$.jgrid.stripPref(e.p.idPrefix,s.id)],37===i.keyCode||38===i.keyCode||39===i.keyCode||40===i.keyCode){if(38===i.keyCode){if(o=s.previousSibling,r="",o)if($(o).is(":hidden")){for(;o;)if(o=o.previousSibling,!$(o).is(":hidden")&&$(o).hasClass("jqgrow")){r=o.id;break}}else r=o.id;$(e).jqGrid("setSelection",r,!0,i),i.preventDefault()}if(40===i.keyCode){if(o=s.nextSibling,r="",o)if($(o).is(":hidden")){for(;o;)if(o=o.nextSibling,!$(o).is(":hidden")&&$(o).hasClass("jqgrow")){r=o.id;break}}else r=o.id;$(e).jqGrid("setSelection",r,!0,i),i.preventDefault()}37===i.keyCode&&(e.p.treeGrid&&e.p.data[a][n]&&$(s).find("div.treeclick").trigger("click"),$(e).triggerHandler("jqGridKeyLeft",[e.p.selrow]),$.isFunction(t.onLeftKey)&&t.onLeftKey.call(e,e.p.selrow)),39===i.keyCode&&(e.p.treeGrid&&!e.p.data[a][n]&&$(s).find("div.treeclick").trigger("click"),$(e).triggerHandler("jqGridKeyRight",[e.p.selrow]),$.isFunction(t.onRightKey)&&t.onRightKey.call(e,e.p.selrow))}else 13===i.keyCode?($(e).triggerHandler("jqGridKeyEnter",[e.p.selrow]),$.isFunction(t.onEnter)&&t.onEnter.call(e,e.p.selrow)):32===i.keyCode&&($(e).triggerHandler("jqGridKeySpace",[e.p.selrow]),$.isFunction(t.onSpace)&&t.onSpace.call(e,e.p.selrow))})})},unbindKeys:function(){return this.each(function(){$(this).unbind("keydown")})},getLocalRow:function(e){var t,i=!1;return this.each(function(){void 0!==e&&(t=this.p._index[$.jgrid.stripPref(this.p.idPrefix,e)],t>=0&&(i=this.p.data[t]))}),i},progressBar:function(e){return e=$.extend({htmlcontent:"",method:"hide",loadtype:"disable"},e||{}),this.each(function(){var t,i,r="show"===e.method?!0:!1,o=$("#load_"+$.jgrid.jqID(this.p.id)),a=$(window).scrollTop();switch(""!==e.htmlcontent&&o.html(e.htmlcontent),e.loadtype){case"disable":break;case"enable":o.toggle(r);break;case"block":$("#lui_"+$.jgrid.jqID(this.p.id)).toggle(r),o.toggle(r)}o.is(":visible")&&(t=o.offsetParent(),o.css("top",""),o.offset().top<a&&(i=Math.min(10+a-t.offset().top,t.height()-o.height()),o.css("top",i+"px")))})},getColProp:function(e){var t={},i=this[0];if(!i.grid)return!1;var r,o=i.p.colModel;for(r=0;r<o.length;r++)if(o[r].name===e){t=o[r];break}return t},setColProp:function(e,t){return this.each(function(){if(this.grid&&t){var i,r=this.p.colModel;for(i=0;i<r.length;i++)if(r[i].name===e){$.extend(!0,this.p.colModel[i],t);break}}})},sortGrid:function(e,t,i){return this.each(function(){var r,o=this,a=-1,s=!1;if(o.grid){for(e||(e=o.p.sortname),r=0;r<o.p.colModel.length;r++)if(o.p.colModel[r].index===e||o.p.colModel[r].name===e){a=r,o.p.frozenColumns===!0&&o.p.colModel[r].frozen===!0&&(s=o.grid.fhDiv.find("#"+o.p.id+"_"+e));break}if(-1!==a){var n=o.p.colModel[a].sortable;s||(s=o.grid.headers[a].el),"boolean"!=typeof n&&(n=!0),"boolean"!=typeof t&&(t=!1),n&&o.sortData("jqgh_"+o.p.id+"_"+e,a,t,i,s)}}})},setGridState:function(e){return this.each(function(){if(this.grid){var t=this,i=$(this).jqGrid("getStyleUI",this.p.styleUI+".base","icon_caption_open",!0),r=$(this).jqGrid("getStyleUI",this.p.styleUI+".base","icon_caption_close",!0);"hidden"===e?($(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+$.jgrid.jqID(t.p.id)).slideUp("fast"),t.p.pager&&$(t.p.pager).slideUp("fast"),t.p.toppager&&$(t.p.toppager).slideUp("fast"),t.p.toolbar[0]===!0&&("both"===t.p.toolbar[1]&&$(t.grid.ubDiv).slideUp("fast"),$(t.grid.uDiv).slideUp("fast")),t.p.footerrow&&$(".ui-jqgrid-sdiv","#gbox_"+$.jgrid.jqID(t.p.id)).slideUp("fast"),$(".ui-jqgrid-headlink",t.grid.cDiv).removeClass(i).addClass(r),t.p.gridstate="hidden"):"visible"===e&&($(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+$.jgrid.jqID(t.p.id)).slideDown("fast"),t.p.pager&&$(t.p.pager).slideDown("fast"),t.p.toppager&&$(t.p.toppager).slideDown("fast"),t.p.toolbar[0]===!0&&("both"===t.p.toolbar[1]&&$(t.grid.ubDiv).slideDown("fast"),$(t.grid.uDiv).slideDown("fast")),t.p.footerrow&&$(".ui-jqgrid-sdiv","#gbox_"+$.jgrid.jqID(t.p.id)).slideDown("fast"),$(".ui-jqgrid-headlink",t.grid.cDiv).removeClass(r).addClass(i),t.p.gridstate="visible")}})},setFrozenColumns:function(){return this.each(function(){if(this.grid){var e=this,t=e.p.colModel,i=0,r=t.length,o=-1,a=!1,s=$(e).jqGrid("getStyleUI",e.p.styleUI+".base","headerDiv",!0,"ui-jqgrid-hdiv"),n=$(e).jqGrid("getStyleUI",e.p.styleUI+".common","hover",!0);if(e.p.subGrid!==!0&&e.p.treeGrid!==!0&&e.p.cellEdit!==!0&&!e.p.sortable&&!e.p.scroll){for(e.p.rownumbers&&i++,e.p.multiselect&&i++;r>i&&t[i].frozen===!0;)a=!0,o=i,i++;if(o>=0&&a){var l=e.p.caption?$(e.grid.cDiv).outerHeight():0,d=$(".ui-jqgrid-htable","#gview_"+$.jgrid.jqID(e.p.id)).height();e.p.toppager&&(l+=$(e.grid.topDiv).outerHeight()),e.p.toolbar[0]===!0&&"bottom"!==e.p.toolbar[1]&&(l+=$(e.grid.uDiv).outerHeight()),e.grid.fhDiv=$('<div style="position:absolute;'+("rtl"===e.p.direction?"right:0;":"left:0;")+"top:"+l+"px;height:"+d+'px;" class="frozen-div '+s+'"></div>'),e.grid.fbDiv=$('<div style="position:absolute;'+("rtl"===e.p.direction?"right:0;":"left:0;")+"top:"+(parseInt(l,10)+parseInt(d,10)+1)+'px;overflow-y:hidden" class="frozen-bdiv ui-jqgrid-bdiv"></div>'),$("#gview_"+$.jgrid.jqID(e.p.id)).append(e.grid.fhDiv);var p=$(".ui-jqgrid-htable","#gview_"+$.jgrid.jqID(e.p.id)).clone(!0);if(e.p.groupHeader){$("tr.jqg-first-row-header, tr.jqg-third-row-header",p).each(function(){$("th:gt("+o+")",this).remove()});var c,u,g=-1,h=-1;$("tr.jqg-second-row-header th",p).each(function(){return c=parseInt($(this).attr("colspan"),10),u=parseInt($(this).attr("rowspan"),10),u&&(g++,h++),c&&(g+=c,h++),g===o?(h=o,!1):void 0}),g!==o&&(h=o),$("tr.jqg-second-row-header",p).each(function(){$("th:gt("+h+")",this).remove()})}else $("tr",p).each(function(){$("th:gt("+o+")",this).remove()});if($(p).width(1),$(e.grid.fhDiv).append(p).mousemove(function(t){return e.grid.resizing?(e.grid.dragMove(t),!1):void 0}),e.p.footerrow){var f=$(".ui-jqgrid-bdiv","#gview_"+$.jgrid.jqID(e.p.id)).height();e.grid.fsDiv=$('<div style="position:absolute;left:0px;top:'+(parseInt(l,10)+parseInt(d,10)+parseInt(f,10)+1)+'px;" class="frozen-sdiv ui-jqgrid-sdiv"></div>'),$("#gview_"+$.jgrid.jqID(e.p.id)).append(e.grid.fsDiv);var m=$(".ui-jqgrid-ftable","#gview_"+$.jgrid.jqID(e.p.id)).clone(!0);$("tr",m).each(function(){$("td:gt("+o+")",this).remove()}),$(m).width(1),$(e.grid.fsDiv).append(m)}$(e).bind("jqGridResizeStop.setFrozenColumns",function(t,i,r){var o=$(".ui-jqgrid-htable",e.grid.fhDiv);$("th:eq("+r+")",o).width(i);var a=$(".ui-jqgrid-btable",e.grid.fbDiv);if($("tr:first td:eq("+r+")",a).width(i),e.p.footerrow){var s=$(".ui-jqgrid-ftable",e.grid.fsDiv);$("tr:first td:eq("+r+")",s).width(i)}}),$("#gview_"+$.jgrid.jqID(e.p.id)).append(e.grid.fbDiv),$(e.grid.fbDiv).bind("mousewheel DOMMouseScroll",function(t){var i=$(e.grid.bDiv).scrollTop();$(e.grid.bDiv).scrollTop(t.originalEvent.wheelDelta>0||t.originalEvent.detail<0?i-25:i+25),t.preventDefault()}),e.p.hoverrows===!0&&$("#"+$.jgrid.jqID(e.p.id)).unbind("mouseover").unbind("mouseout"),$(e).bind("jqGridAfterGridComplete.setFrozenColumns",function(){$("#"+$.jgrid.jqID(e.p.id)+"_frozen").remove(),$(e.grid.fbDiv).height($(e.grid.bDiv).height()-16);var t=$("#"+$.jgrid.jqID(e.p.id)).clone(!0);$("tr[role=row]",t).each(function(){$("td[role=gridcell]:gt("+o+")",this).remove()}),$(t).width(1).attr("id",e.p.id+"_frozen"),$(e.grid.fbDiv).append(t),e.p.hoverrows===!0&&($("tr.jqgrow",t).hover(function(){$(this).addClass(n),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(e.p.id)).addClass(n)},function(){$(this).removeClass(n),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(e.p.id)).removeClass(n)}),$("tr.jqgrow","#"+$.jgrid.jqID(e.p.id)).hover(function(){$(this).addClass(n),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(e.p.id)+"_frozen").addClass(n)},function(){$(this).removeClass(n),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(e.p.id)+"_frozen").removeClass(n)})),t=null}),e.grid.hDiv.loading||$(e).triggerHandler("jqGridAfterGridComplete"),e.p.frozenColumns=!0}}}})},destroyFrozenColumns:function(){return this.each(function(){if(this.grid&&this.p.frozenColumns===!0){var e=this,t=$(e).jqGrid("getStyleUI",e.p.styleUI+".common","hover",!0);if($(e.grid.fhDiv).remove(),$(e.grid.fbDiv).remove(),e.grid.fhDiv=null,e.grid.fbDiv=null,e.p.footerrow&&($(e.grid.fsDiv).remove(),e.grid.fsDiv=null),$(this).unbind(".setFrozenColumns"),e.p.hoverrows===!0){var i;$("#"+$.jgrid.jqID(e.p.id)).bind("mouseover",function(e){i=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(i).attr("class")&&$(i).addClass(t)}).bind("mouseout",function(e){i=$(e.target).closest("tr.jqgrow"),$(i).removeClass(t)})}this.p.frozenColumns=!1}})},resizeColumn:function(e,t){return this.each(function(){var i,r,o,a=this.grid,s=this.p,n=s.colModel,l=n.length;if("string"==typeof e){for(i=0;l>i;i++)if(n[i].name===e){e=i;break}}else e=parseInt(e,10);if(t=parseInt(t,10),!("number"!=typeof e||0>e||e>n.length-1||"number"!=typeof t||t<s.minColWidth)){if(s.forceFit)for(s.nv=0,i=e+1;l>i;i++)if(n[i].hidden!==!0){s.nv=i-e;break}if(a.resizing={idx:e},r=t-a.headers[e].width,s.forceFit){if(o=a.headers[e+s.nv].width-r,o<s.minColWidth)return;a.headers[e+s.nv].newWidth=a.headers[e+s.nv].width-r}a.newWidth=s.tblwidth+r,a.headers[e].newWidth=t,a.dragEnd(!1)}})},getStyleUI:function(e,t,i,r){try{var o="",a=e.split("."),s="";switch(i||(o="class=",s='"'),null==r&&(r=""),a.length){case 1:o+=s+r+" "+$.jgrid.styleUI[a[0]][t]+s;break;case 2:o+=s+r+" "+$.jgrid.styleUI[a[0]][a[1]][t]+s}}catch(n){o=""}return $.trim(o)},resizeGrid:function(e){return this.each(function(){var t=this;void 0===e&&(e=500),setTimeout(function(){var e=$(window).width(),i=$("#gbox_"+$.jgrid.jqID(t.p.id)).parent().width(),r=t.p.width;r=e-i>3?i:e,$("#"+$.jgrid.jqID(t.p.id)).jqGrid("setGridWidth",r)},e)})}}),$.jgrid.extend({editCell:function(e,t,i){return this.each(function(){var r,o,a,s,n=this,l=$(this).jqGrid("getStyleUI",n.p.styleUI+".common","highlight",!0),d=$(this).jqGrid("getStyleUI",n.p.styleUI+".common","hover",!0),p=$(this).jqGrid("getStyleUI",n.p.styleUI+".celledit","inputClass",!0);if(n.grid&&n.p.cellEdit===!0){if(t=parseInt(t,10),n.p.selrow=n.rows[e].id,n.p.knv||$(n).jqGrid("GridNav"),n.p.savedRow.length>0){if(i===!0&&e==n.p.iRow&&t==n.p.iCol)return;$(n).jqGrid("saveCell",n.p.savedRow[0].id,n.p.savedRow[0].ic)}else window.setTimeout(function(){$("#"+$.jgrid.jqID(n.p.knv)).attr("tabindex","-1").focus()},1);if(s=n.p.colModel[t],r=s.name,"subgrid"!==r&&"cb"!==r&&"rn"!==r){if(a=$("td:eq("+t+")",n.rows[e]),s.editable!==!0||i!==!0||a.hasClass("not-editable-cell")||$.isFunction(n.p.isCellEditable)&&!n.p.isCellEditable.call(n,r,e,t))parseInt(n.p.iCol,10)>=0&&parseInt(n.p.iRow,10)>=0&&$(n.rows[n.p.iRow]).removeClass("selected-row "+d).find("td:eq("+n.p.iCol+")").removeClass("edit-cell "+l),a.addClass("edit-cell "+l),$(n.rows[e]).addClass("selected-row "+d),o=a.html().replace(/\&#160\;/gi,""),$(n).triggerHandler("jqGridSelectCell",[n.rows[e].id,r,o,e,t]),$.isFunction(n.p.onSelectCell)&&n.p.onSelectCell.call(n,n.rows[e].id,r,o,e,t);else{parseInt(n.p.iCol,10)>=0&&parseInt(n.p.iRow,10)>=0&&$(n.rows[n.p.iRow]).removeClass("selected-row "+d).find("td:eq("+n.p.iCol+")").removeClass("edit-cell "+l),$(a).addClass("edit-cell "+l),$(n.rows[e]).addClass("selected-row "+d);try{o=$.unformat.call(n,a,{rowId:n.rows[e].id,colModel:s},t)}catch(c){o=s.edittype&&"textarea"===s.edittype?$(a).text():$(a).html()}if(n.p.autoencode&&(o=$.jgrid.htmlDecode(o)),s.edittype||(s.edittype="text"),n.p.savedRow.push({id:e,ic:t,name:r,v:o}),("&nbsp;"===o||"&#160;"===o||1===o.length&&160===o.charCodeAt(0))&&(o=""),$.isFunction(n.p.formatCell)){var u=n.p.formatCell.call(n,n.rows[e].id,r,o,e,t);void 0!==u&&(o=u)}$(n).triggerHandler("jqGridBeforeEditCell",[n.rows[e].id,r,o,e,t]),$.isFunction(n.p.beforeEditCell)&&n.p.beforeEditCell.call(n,n.rows[e].id,r,o,e,t);var g=$.extend({},s.editoptions||{},{id:e+"_"+r,name:r,rowId:n.rows[e].id,oper:"edit"}),h=$.jgrid.createEl.call(n,s.edittype,g,o,!0,$.extend({},$.jgrid.ajaxOptions,n.p.ajaxSelectOptions||{}));$.inArray(s.edittype,["text","textarea","password","select"])>-1&&$(h).addClass(p),$(a).html("").append(h).attr("tabindex","0"),$.jgrid.bindEv.call(n,h,g),window.setTimeout(function(){$(h).focus()},1),$("input, select, textarea",a).bind("keydown",function(i){if(27===i.keyCode&&($("input.hasDatepicker",a).length>0?$(".ui-datepicker").is(":hidden")?$(n).jqGrid("restoreCell",e,t):$("input.hasDatepicker",a).datepicker("hide"):$(n).jqGrid("restoreCell",e,t)),13===i.keyCode&&!i.shiftKey)return $(n).jqGrid("saveCell",e,t),!1;if(9===i.keyCode){if(n.grid.hDiv.loading)return!1;i.shiftKey?$(n).jqGrid("prevCell",e,t):$(n).jqGrid("nextCell",e,t)}i.stopPropagation()}),$(n).triggerHandler("jqGridAfterEditCell",[n.rows[e].id,r,o,e,t]),$.isFunction(n.p.afterEditCell)&&n.p.afterEditCell.call(n,n.rows[e].id,r,o,e,t)}n.p.iCol=t,n.p.iRow=e}}})},saveCell:function(e,t){return this.each(function(){var i,r=this,o=$.jgrid.getRegional(this,"errors"),a=$.jgrid.getRegional(this,"edit");if(r.grid&&r.p.cellEdit===!0){if(i=r.p.savedRow.length>=1?0:null,null!==i){var s,n,l=$("td:eq("+t+")",r.rows[e]),d=r.p.colModel[t],p=d.name,c=$.jgrid.jqID(p);switch(d.edittype){case"select":if(d.editoptions.multiple){var u=$("#"+e+"_"+c,r.rows[e]),g=[];s=$(u).val(),s?s.join(","):s="",$("option:selected",u).each(function(e,t){g[e]=$(t).text()}),n=g.join(",")}else s=$("#"+e+"_"+c+" option:selected",r.rows[e]).val(),n=$("#"+e+"_"+c+" option:selected",r.rows[e]).text();d.formatter&&(n=s);break;case"checkbox":var h=["Yes","No"];d.editoptions&&(h=d.editoptions.value.split(":")),s=$("#"+e+"_"+c,r.rows[e]).is(":checked")?h[0]:h[1],n=s;break;case"password":case"text":case"textarea":case"button":s=$("#"+e+"_"+c,r.rows[e]).val(),n=s;break;case"custom":try{if(!d.editoptions||!$.isFunction(d.editoptions.custom_value))throw"e1";if(s=d.editoptions.custom_value.call(r,$(".customelement",l),"get"),void 0===s)throw"e2";n=s}catch(f){"e1"===f?$.jgrid.info_dialog(o.errcap,"function 'custom_value' "+a.msg.nodefined,a.bClose,{styleUI:r.p.styleUI}):"e2"===f?$.jgrid.info_dialog(o.errcap,"function 'custom_value' "+a.msg.novalue,a.bClose,{styleUI:r.p.styleUI}):$.jgrid.info_dialog(o.errcap,f.message,a.bClose,{styleUI:r.p.styleUI})}}if(n!==r.p.savedRow[i].v){var m=$(r).triggerHandler("jqGridBeforeSaveCell",[r.rows[e].id,p,s,e,t]);if(m&&(s=m,n=m),$.isFunction(r.p.beforeSaveCell)){var v=r.p.beforeSaveCell.call(r,r.rows[e].id,p,s,e,t);v&&(s=v,n=v)}var j=$.jgrid.checkValues.call(r,s,t);if(j[0]===!0){var b=$(r).triggerHandler("jqGridBeforeSubmitCell",[r.rows[e].id,p,s,e,t])||{};if($.isFunction(r.p.beforeSubmitCell)&&(b=r.p.beforeSubmitCell.call(r,r.rows[e].id,p,s,e,t),b||(b={})),$("input.hasDatepicker",l).length>0&&$("input.hasDatepicker",l).datepicker("hide"),"remote"===r.p.cellsubmit)if(r.p.cellurl){var w={};r.p.autoencode&&(s=$.jgrid.htmlEncode(s)),w[p]=s;var y,_,x;x=r.p.prmNames,y=x.id,_=x.oper,w[y]=$.jgrid.stripPref(r.p.idPrefix,r.rows[e].id),w[_]=x.editoper,w=$.extend(b,w),$(r).jqGrid("progressBar",{method:"show",loadtype:r.p.loadui,htmlcontent:$.jgrid.getRegional(r,"defaults.savetext")}),r.grid.hDiv.loading=!0,$.ajax($.extend({url:r.p.cellurl,data:$.isFunction(r.p.serializeCellData)?r.p.serializeCellData.call(r,w):w,type:"POST",complete:function(i,d){if($(r).jqGrid("progressBar",{method:"hide",loadtype:r.p.loadui}),r.grid.hDiv.loading=!1,"success"===d){var c=$(r).triggerHandler("jqGridAfterSubmitCell",[r,i,w.id,p,s,e,t])||[!0,""];c[0]===!0&&$.isFunction(r.p.afterSubmitCell)&&(c=r.p.afterSubmitCell.call(r,i,w.id,p,s,e,t)),c[0]===!0?($(l).empty(),$(r).jqGrid("setCell",r.rows[e].id,t,n,!1,!1,!0),$(l).addClass("dirty-cell"),$(r.rows[e]).addClass("edited"),$(r).triggerHandler("jqGridAfterSaveCell",[r.rows[e].id,p,s,e,t]),$.isFunction(r.p.afterSaveCell)&&r.p.afterSaveCell.call(r,r.rows[e].id,p,s,e,t),r.p.savedRow.splice(0,1)):($.jgrid.info_dialog(o.errcap,c[1],a.bClose,{styleUI:r.p.styleUI}),$(r).jqGrid("restoreCell",e,t))}},error:function(i,s,n){$("#lui_"+$.jgrid.jqID(r.p.id)).hide(),r.grid.hDiv.loading=!1,$(r).triggerHandler("jqGridErrorCell",[i,s,n]),$.isFunction(r.p.errorCell)?(r.p.errorCell.call(r,i,s,n),$(r).jqGrid("restoreCell",e,t)):($.jgrid.info_dialog(o.errcap,i.status+" : "+i.statusText+"<br/>"+s,a.bClose,{styleUI:r.p.styleUI}),$(r).jqGrid("restoreCell",e,t))}},$.jgrid.ajaxOptions,r.p.ajaxCellOptions||{}))}else try{$.jgrid.info_dialog(o.errcap,o.nourl,a.bClose,{styleUI:r.p.styleUI}),$(r).jqGrid("restoreCell",e,t)}catch(f){}"clientArray"===r.p.cellsubmit&&($(l).empty(),$(r).jqGrid("setCell",r.rows[e].id,t,n,!1,!1,!0),$(l).addClass("dirty-cell"),$(r.rows[e]).addClass("edited"),$(r).triggerHandler("jqGridAfterSaveCell",[r.rows[e].id,p,s,e,t]),$.isFunction(r.p.afterSaveCell)&&r.p.afterSaveCell.call(r,r.rows[e].id,p,s,e,t),r.p.savedRow.splice(0,1))}else try{window.setTimeout(function(){$.jgrid.info_dialog(o.errcap,s+" "+j[1],a.bClose,{styleUI:r.p.styleUI})},100),$(r).jqGrid("restoreCell",e,t)}catch(f){}}else $(r).jqGrid("restoreCell",e,t)}window.setTimeout(function(){$("#"+$.jgrid.jqID(r.p.knv)).attr("tabindex","-1").focus()},0)}})},restoreCell:function(e,t){return this.each(function(){var i,r=this;if(r.grid&&r.p.cellEdit===!0){if(i=r.p.savedRow.length>=1?0:null,null!==i){var o=$("td:eq("+t+")",r.rows[e]);if($.isFunction($.fn.datepicker))try{$("input.hasDatepicker",o).datepicker("hide")}catch(a){}$(o).empty().attr("tabindex","-1"),$(r).jqGrid("setCell",r.rows[e].id,t,r.p.savedRow[i].v,!1,!1,!0),$(r).triggerHandler("jqGridAfterRestoreCell",[r.rows[e].id,r.p.savedRow[i].v,e,t]),$.isFunction(r.p.afterRestoreCell)&&r.p.afterRestoreCell.call(r,r.rows[e].id,r.p.savedRow[i].v,e,t),r.p.savedRow.splice(0,1)}window.setTimeout(function(){$("#"+r.p.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(e,t){return this.each(function(){var i,r=this,o=!1;if(r.grid&&r.p.cellEdit===!0){for(i=t+1;i<r.p.colModel.length;i++)if(r.p.colModel[i].editable===!0&&(!$.isFunction(r.p.isCellEditable)||r.p.isCellEditable.call(r,r.p.colModel[i].name,e,i))){o=i;break}o!==!1?$(r).jqGrid("editCell",e,o,!0):r.p.savedRow.length>0&&$(r).jqGrid("saveCell",e,t)}})},prevCell:function(e,t){return this.each(function(){var i,r=this,o=!1;if(r.grid&&r.p.cellEdit===!0){for(i=t-1;i>=0;i--)if(r.p.colModel[i].editable===!0&&(!$.isFunction(r.p.isCellEditable)||r.p.isCellEditable.call(r,r.p.colModel[i].name,e,i))){o=i;break}o!==!1?$(r).jqGrid("editCell",e,o,!0):r.p.savedRow.length>0&&$(r).jqGrid("saveCell",e,t)}})},GridNav:function(){return this.each(function(){function e(e,t,r){if("v"===r.substr(0,1)){var o=$(i.grid.bDiv)[0].clientHeight,a=$(i.grid.bDiv)[0].scrollTop,s=i.rows[e].offsetTop+i.rows[e].clientHeight,n=i.rows[e].offsetTop;"vd"===r&&s>=o&&($(i.grid.bDiv)[0].scrollTop=$(i.grid.bDiv)[0].scrollTop+i.rows[e].clientHeight),"vu"===r&&a>n&&($(i.grid.bDiv)[0].scrollTop=$(i.grid.bDiv)[0].scrollTop-i.rows[e].clientHeight)}if("h"===r){var l=$(i.grid.bDiv)[0].clientWidth,d=$(i.grid.bDiv)[0].scrollLeft,p=i.rows[e].cells[t].offsetLeft+i.rows[e].cells[t].clientWidth,c=i.rows[e].cells[t].offsetLeft;p>=l+parseInt(d,10)?$(i.grid.bDiv)[0].scrollLeft=$(i.grid.bDiv)[0].scrollLeft+i.rows[e].cells[t].clientWidth:d>c&&($(i.grid.bDiv)[0].scrollLeft=$(i.grid.bDiv)[0].scrollLeft-i.rows[e].cells[t].clientWidth)}}function t(e,t){var r,o;if("lft"===t)for(r=e+1,o=e;o>=0;o--)if(i.p.colModel[o].hidden!==!0){r=o;break}if("rgt"===t)for(r=e-1,o=e;o<i.p.colModel.length;o++)if(i.p.colModel[o].hidden!==!0){r=o;break}return r}var i=this;if(i.grid&&i.p.cellEdit===!0){i.p.knv=i.p.id+"_kn";var r,o,a=$("<div style='position:fixed;top:0px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+i.p.knv+"'></div></div>");$(a).insertBefore(i.grid.cDiv),$("#"+i.p.knv).focus().keydown(function(a){switch(o=a.keyCode,"rtl"===i.p.direction&&(37===o?o=39:39===o&&(o=37)),o){case 38:i.p.iRow-1>0&&(e(i.p.iRow-1,i.p.iCol,"vu"),$(i).jqGrid("editCell",i.p.iRow-1,i.p.iCol,!1));break;case 40:i.p.iRow+1<=i.rows.length-1&&(e(i.p.iRow+1,i.p.iCol,"vd"),$(i).jqGrid("editCell",i.p.iRow+1,i.p.iCol,!1));break;case 37:i.p.iCol-1>=0&&(r=t(i.p.iCol-1,"lft"),e(i.p.iRow,r,"h"),$(i).jqGrid("editCell",i.p.iRow,r,!1));break;case 39:i.p.iCol+1<=i.p.colModel.length-1&&(r=t(i.p.iCol+1,"rgt"),e(i.p.iRow,r,"h"),$(i).jqGrid("editCell",i.p.iRow,r,!1));break;case 13:parseInt(i.p.iCol,10)>=0&&parseInt(i.p.iRow,10)>=0&&$(i).jqGrid("editCell",i.p.iRow,i.p.iCol,!0);break;default:return!0}return!1})}})},getChangedCells:function(e){var t=[];return e||(e="all"),this.each(function(){var i,r=this;r.grid&&r.p.cellEdit===!0&&$(r.rows).each(function(o){var a={};$(this).hasClass("edited")&&($("td",this).each(function(t){if(i=r.p.colModel[t].name,"cb"!==i&&"subgrid"!==i)if("dirty"===e){if($(this).hasClass("dirty-cell"))try{a[i]=$.unformat.call(r,this,{rowId:r.rows[o].id,colModel:r.p.colModel[t]},t)}catch(s){a[i]=$.jgrid.htmlDecode($(this).html())}}else try{a[i]=$.unformat.call(r,this,{rowId:r.rows[o].id,colModel:r.p.colModel[t]},t)}catch(s){a[i]=$.jgrid.htmlDecode($(this).html())}}),a.id=this.id,t.push(a))})}),t}}),$.extend($.jgrid,{showModal:function(e){e.w.show()},closeModal:function(e){e.w.hide().attr("aria-hidden","true"),e.o&&e.o.remove()},hideModal:function(e,t){t=$.extend({jqm:!0,gb:"",removemodal:!1,formprop:!1,form:""},t||{});var i=t.gb&&"string"==typeof t.gb&&"#gbox_"===t.gb.substr(0,6)?$("#"+t.gb.substr(6))[0]:!1;if(t.onClose){var r=i?t.onClose.call(i,e):t.onClose(e);if("boolean"==typeof r&&!r)return}if(t.formprop&&i&&t.form){var o=$(e)[0].style.height,a=$(e)[0].style.width;o.indexOf("px")>-1&&(o=parseFloat(o)),a.indexOf("px")>-1&&(a=parseFloat(a));var s,n;"edit"===t.form?(s="#"+$.jgrid.jqID("FrmGrid_"+t.gb.substr(6)),n="formProp"):"view"===t.form&&(s="#"+$.jgrid.jqID("ViewGrid_"+t.gb.substr(6)),n="viewProp"),$(i).data(n,{top:parseFloat($(e).css("top")),left:parseFloat($(e).css("left")),width:a,height:o,dataheight:$(s).height(),datawidth:$(s).width()})}if($.fn.jqm&&t.jqm===!0)$(e).attr("aria-hidden","true").jqmHide();else{if(""!==t.gb)try{$(".jqgrid-overlay:first",t.gb).hide()}catch(l){}$(e).hide().attr("aria-hidden","true")}t.removemodal&&$(e).remove()},findPos:function(e){var t=0,i=0;if(e.offsetParent)do t+=e.offsetLeft,i+=e.offsetTop;while(e=e.offsetParent);return[t,i]},createModal:function(e,t,i,r,o,a,s){i=$.extend(!0,{},$.jgrid.jqModal||{},i);var n=this,l="rtl"===$(i.gbox).attr("dir")?!0:!1,d=$.jgrid.styleUI[i.styleUI||"jQueryUI"].modal,p=$.jgrid.styleUI[i.styleUI||"jQueryUI"].common,c=document.createElement("div");s=$.extend({},s||{}),c.className="ui-jqdialog "+d.modal,c.id=e.themodal;var u=document.createElement("div");u.className="ui-jqdialog-titlebar "+d.header,u.id=e.modalhead,$(u).append("<span class='ui-jqdialog-title'>"+i.caption+"</span>");var g=$("<a class='ui-jqdialog-titlebar-close "+p.cornerall+"'></a>").hover(function(){g.addClass(p.hover)},function(){g.removeClass(p.hover)}).append("<span class='"+p.icon_base+" "+d.icon_close+"'></span>");$(u).append(g),l?(c.dir="rtl",$(".ui-jqdialog-title",u).css("float","right"),$(".ui-jqdialog-titlebar-close",u).css("left","0.3em")):(c.dir="ltr",$(".ui-jqdialog-title",u).css("float","left"),$(".ui-jqdialog-titlebar-close",u).css("right","0.3em"));var h=document.createElement("div");$(h).addClass("ui-jqdialog-content "+d.content).attr("id",e.modalcontent),$(h).append(t),c.appendChild(h),$(c).prepend(u),a===!0?$("body").append(c):"string"==typeof a?$(a).append(c):$(c).insertBefore(r),$(c).css(s),void 0===i.jqModal&&(i.jqModal=!0);
var f={};if($.fn.jqm&&i.jqModal===!0){if(0===i.left&&0===i.top&&i.overlay){var m=[];m=$.jgrid.findPos(o),i.left=m[0]+4,i.top=m[1]+4}f.top=i.top+"px",f.left=i.left}else(0!==i.left||0!==i.top)&&(f.left=i.left,f.top=i.top+"px");if($("a.ui-jqdialog-titlebar-close",u).click(function(){var t=$("#"+$.jgrid.jqID(e.themodal)).data("onClose")||i.onClose,r=$("#"+$.jgrid.jqID(e.themodal)).data("gbox")||i.gbox;return n.hideModal("#"+$.jgrid.jqID(e.themodal),{gb:r,jqm:i.jqModal,onClose:t,removemodal:i.removemodal||!1,formprop:!i.recreateForm||!1,form:i.form||""}),!1}),0!==i.width&&i.width||(i.width=300),0!==i.height&&i.height||(i.height=200),!i.zIndex){var v=$(r).parents("*[role=dialog]").filter(":first").css("z-index");i.zIndex=v?parseInt(v,10)+2:950}var j=0;if(l&&f.left&&!a&&(j=$(i.gbox).width()-(isNaN(i.width)?0:parseInt(i.width,10))-8,f.left=parseInt(f.left,10)+parseInt(j,10)),f.left&&(f.left+="px"),$(c).css($.extend({width:isNaN(i.width)?"auto":i.width+"px",height:isNaN(i.height)?"auto":i.height+"px",zIndex:i.zIndex,overflow:"hidden"},f)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":e.modalhead,"aria-hidden":"true"}),void 0===i.drag&&(i.drag=!0),void 0===i.resize&&(i.resize=!0),i.drag)if($(u).css("cursor","move"),$.fn.jqDrag)$(c).jqDrag(u);else try{$(c).draggable({handle:$("#"+$.jgrid.jqID(u.id))})}catch(b){}if(i.resize)if($.fn.jqResize)$(c).append("<div class='jqResize "+d.resizable+" "+p.icon_base+" "+d.icon_resizable+"'></div>"),$("#"+$.jgrid.jqID(e.themodal)).jqResize(".jqResize",e.scrollelm?"#"+$.jgrid.jqID(e.scrollelm):!1);else try{$(c).resizable({handles:"se, sw",alsoResize:e.scrollelm?"#"+$.jgrid.jqID(e.scrollelm):!1})}catch(w){}i.closeOnEscape===!0&&$(c).keydown(function(t){if(27===t.which){var r=$("#"+$.jgrid.jqID(e.themodal)).data("onClose")||i.onClose;n.hideModal("#"+$.jgrid.jqID(e.themodal),{gb:i.gbox,jqm:i.jqModal,onClose:r,removemodal:i.removemodal||!1,formprop:!i.recreateForm||!1,form:i.form||""})}})},viewModal:function(e,t){if(t=$.extend({toTop:!0,overlay:10,modal:!1,overlayClass:"ui-widget-overlay",onShow:$.jgrid.showModal,onHide:$.jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},t||{}),void 0===t.focusField&&(t.focusField=0),t.focusField="number"==typeof t.focusField&&t.focusField>=0?parseInt(t.focusField,10):"boolean"!=typeof t.focusField||t.focusField?0:!1,$.fn.jqm&&t.jqm===!0)t.jqM?$(e).attr("aria-hidden","false").jqm(t).jqmShow():$(e).attr("aria-hidden","false").jqmShow();else if(""!==t.gbox&&($(".jqgrid-overlay:first",t.gbox).show(),$(e).data("gbox",t.gbox)),$(e).show().attr("aria-hidden","false"),t.focusField>=0)try{$(":input:visible",e)[parseInt(t.focusField,10)].focus()}catch(i){}},info_dialog:function(e,t,i,r){var o={width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]};$.extend(!0,o,$.jgrid.jqModal||{},{caption:"<b>"+e+"</b>"},r||{});var a=o.jqModal,s=this,n=$.jgrid.styleUI[o.styleUI||"jQueryUI"].modal,l=$.jgrid.styleUI[o.styleUI||"jQueryUI"].common;$.fn.jqm&&!a&&(a=!1);var d,p="";if(o.buttons.length>0)for(d=0;d<o.buttons.length;d++)void 0===o.buttons[d].id&&(o.buttons[d].id="info_button_"+d),p+="<a id='"+o.buttons[d].id+"' class='fm-button "+l.button+"'>"+o.buttons[d].text+"</a>";var c=isNaN(o.dataheight)?o.dataheight:o.dataheight+"px",u="text-align:"+o.align+";",g="<div id='info_id'>";g+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+c+";"+u+"'>"+t+"</div>",g+=i?"<div class='"+n.header+"' style='text-align:"+o.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a id='closedialog' class='fm-button "+l.button+"'>"+i+"</a>"+p+"</div>":""!==p?"<div class='"+n.header+"' style='text-align:"+o.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+p+"</div>":"",g+="</div>";try{"false"===$("#info_dialog").attr("aria-hidden")&&$.jgrid.hideModal("#info_dialog",{jqm:a}),$("#info_dialog").remove()}catch(h){}$.jgrid.createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},g,o,"","",!0),p&&$.each(o.buttons,function(e){$("#"+$.jgrid.jqID(this.id),"#info_id").bind("click",function(){return o.buttons[e].onClick.call($("#info_dialog")),!1})}),$("#closedialog","#info_id").click(function(){return s.hideModal("#info_dialog",{jqm:a,onClose:$("#info_dialog").data("onClose")||o.onClose,gb:$("#info_dialog").data("gbox")||o.gbox}),!1}),$(".fm-button","#info_dialog").hover(function(){$(this).addClass(l.hover)},function(){$(this).removeClass(l.hover)}),$.isFunction(o.beforeOpen)&&o.beforeOpen(),$.jgrid.viewModal("#info_dialog",{onHide:function(e){e.w.hide().remove(),e.o&&e.o.remove()},modal:o.modal,jqm:a}),$.isFunction(o.afterOpen)&&o.afterOpen();try{$("#info_dialog").focus()}catch(f){}},bindEv:function(e,t){var i=this;$.isFunction(t.dataInit)&&t.dataInit.call(i,e,t),t.dataEvents&&$.each(t.dataEvents,function(){void 0!==this.data?$(e).bind(this.type,this.data,this.fn):$(e).bind(this.type,this.fn)})},createEl:function(e,t,i,r,o){function a(e,t,i){var r=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr","custom_element","custom_value","oper"];void 0!==i&&$.isArray(i)&&$.merge(r,i),$.each(t,function(t,i){-1===$.inArray(t,r)&&$(e).attr(t,i)}),t.hasOwnProperty("id")||$(e).attr("id",$.jgrid.randId())}var s="",n=this;switch(e){case"textarea":s=document.createElement("textarea"),r?t.cols||$(s).css({width:"98%"}):t.cols||(t.cols=20),t.rows||(t.rows=2),("&nbsp;"===i||"&#160;"===i||1===i.length&&160===i.charCodeAt(0))&&(i=""),s.value=i,a(s,t),$(s).attr({role:"textbox",multiline:"true"});break;case"checkbox":if(s=document.createElement("input"),s.type="checkbox",t.value){var l=t.value.split(":");i===l[0]&&(s.checked=!0,s.defaultChecked=!0),s.value=l[0],$(s).attr("offval",l[1])}else{var d=(i+"").toLowerCase();d.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==d?(s.checked=!0,s.defaultChecked=!0,s.value=i):s.value="on",$(s).attr("offval","off")}a(s,t,["value"]),$(s).attr("role","checkbox");break;case"select":s=document.createElement("select"),s.setAttribute("role","select");var p,c=[];if(t.multiple===!0?(p=!0,s.multiple="multiple",$(s).attr("aria-multiselectable","true")):p=!1,null!=t.dataUrl){var u=null,g=t.postData||o.postData;try{u=t.rowId}catch(h){}n.p&&n.p.idPrefix&&(u=$.jgrid.stripPref(n.p.idPrefix,u)),$.ajax($.extend({url:$.isFunction(t.dataUrl)?t.dataUrl.call(n,u,i,String(t.name)):t.dataUrl,type:"GET",dataType:"html",data:$.isFunction(g)?g.call(n,u,i,String(t.name)):g,context:{elem:s,options:t,vl:i},success:function(e){var t,i=[],r=this.elem,o=this.vl,s=$.extend({},this.options),l=s.multiple===!0,d=s.cacheUrlData===!0,p="",c=$.isFunction(s.buildSelect)?s.buildSelect.call(n,e):e;"string"==typeof c&&(c=$($.trim(c)).html()),c&&($(r).append(c),a(r,s,g?["postData"]:void 0),void 0===s.size&&(s.size=l?3:1),l?(i=o.split(","),i=$.map(i,function(e){return $.trim(e)})):i[0]=$.trim(o),setTimeout(function(){if($("option",r).each(function(e){t=$(this).text(),o=$(this).val()||t,d&&(p+=(0!==e?";":"")+o+":"+t),0===e&&r.multiple&&(this.selected=!1),$(this).attr("role","option"),($.inArray($.trim(t),i)>-1||$.inArray($.trim(o),i)>-1)&&(this.selected="selected")}),d)if("edit"===s.oper)$(n).jqGrid("setColProp",s.name,{editoptions:{buildSelect:null,dataUrl:null,value:p}});else if("search"===s.oper)$(n).jqGrid("setColProp",s.name,{searchoptions:{dataUrl:null,value:p}});else if("filter"===s.oper&&$("#fbox_"+n.p.id)[0].p){var e,a=$("#fbox_"+n.p.id)[0].p.columns;$.each(a,function(){return e=this.index||this.name,s.name===e?(this.searchoptions.dataUrl=null,this.searchoptions.value=p,!1):void 0})}$(n).triggerHandler("jqGridAddEditAfterSelectUrlComplete",[r])},0))}},o||{}))}else if(t.value){var f;void 0===t.size&&(t.size=p?3:1),p&&(c=i.split(","),c=$.map(c,function(e){return $.trim(e)})),"function"==typeof t.value&&(t.value=t.value());var m,v,j,b,w,y,_=void 0===t.separator?":":t.separator,x=void 0===t.delimiter?";":t.delimiter;if("string"==typeof t.value)for(m=t.value.split(x),f=0;f<m.length;f++)v=m[f].split(_),v.length>2&&(v[1]=$.map(v,function(e,t){return t>0?e:void 0}).join(_)),j=document.createElement("option"),j.setAttribute("role","option"),j.value=v[0],j.innerHTML=v[1],s.appendChild(j),p||$.trim(v[0])!==$.trim(i)&&$.trim(v[1])!==$.trim(i)||(j.selected="selected"),p&&($.inArray($.trim(v[1]),c)>-1||$.inArray($.trim(v[0]),c)>-1)&&(j.selected="selected");else if("[object Array]"===Object.prototype.toString.call(t.value))for(b=t.value,f=0;f<b.length;f++)2===b[f].length&&(w=b[f][0],y=b[f][1],j=document.createElement("option"),j.setAttribute("role","option"),j.value=w,j.innerHTML=y,s.appendChild(j),p||$.trim(w)!==$.trim(i)&&$.trim(y)!==$.trim(i)||(j.selected="selected"),p&&($.inArray($.trim(y),c)>-1||$.inArray($.trim(w),c)>-1)&&(j.selected="selected"));else if("object"==typeof t.value){b=t.value;for(w in b)b.hasOwnProperty(w)&&(j=document.createElement("option"),j.setAttribute("role","option"),j.value=w,j.innerHTML=b[w],s.appendChild(j),p||$.trim(w)!==$.trim(i)&&$.trim(b[w])!==$.trim(i)||(j.selected="selected"),p&&($.inArray($.trim(b[w]),c)>-1||$.inArray($.trim(w),c)>-1)&&(j.selected="selected"))}a(s,t,["value"])}break;case"image":case"file":s=document.createElement("input"),s.type=e,a(s,t);break;case"custom":s=document.createElement("span");try{if(!$.isFunction(t.custom_element))throw"e1";var q=t.custom_element.call(n,i,t);if(!q)throw"e2";q=$(q).addClass("customelement").attr({id:t.id,name:t.name}),$(s).empty().append(q)}catch(h){var D=$.jgrid.getRegional(n,"errors"),C=$.jgrid.getRegional(n,"edit");"e1"===h?$.jgrid.info_dialog(D.errcap,"function 'custom_element' "+C.msg.nodefined,C.bClose,{styleUI:n.p.styleUI}):"e2"===h?$.jgrid.info_dialog(D.errcap,"function 'custom_element' "+C.msg.novalue,C.bClose,{styleUI:n.p.styleUI}):$.jgrid.info_dialog(D.errcap,"string"==typeof h?h:h.message,C.bClose,{styleUI:n.p.styleUI})}break;default:var I;I="button"===e?"button":"textbox",s=document.createElement("input"),s.type=e,s.value=i,a(s,t),"button"!==e&&(r?t.size||$(s).css({width:"96%"}):t.size||(t.size=20)),$(s).attr("role",I)}return s},checkDate:function(e,t){var i,r=function(e){return e%4!==0||e%100===0&&e%400!==0?28:29},o={};if(e=e.toLowerCase(),i=-1!==e.indexOf("/")?"/":-1!==e.indexOf("-")?"-":-1!==e.indexOf(".")?".":"/",e=e.split(i),t=t.split(i),3!==t.length)return!1;var a,s,n=-1,l=-1,d=-1;for(s=0;s<e.length;s++){var p=isNaN(t[s])?0:parseInt(t[s],10);o[e[s]]=p,a=e[s],-1!==a.indexOf("y")&&(n=s),-1!==a.indexOf("m")&&(d=s),-1!==a.indexOf("d")&&(l=s)}a="y"===e[n]||"yyyy"===e[n]?4:"yy"===e[n]?2:-1;var c,u=[0,31,29,31,30,31,30,31,31,30,31,30,31];return-1===n?!1:(c=o[e[n]].toString(),2===a&&1===c.length&&(a=1),c.length!==a||0===o[e[n]]&&"00"!==t[n]?!1:-1===d?!1:(c=o[e[d]].toString(),c.length<1||o[e[d]]<1||o[e[d]]>12?!1:-1===l?!1:(c=o[e[l]].toString(),c.length<1||o[e[l]]<1||o[e[l]]>31||2===o[e[d]]&&o[e[l]]>r(o[e[n]])||o[e[l]]>u[o[e[d]]]?!1:!0)))},isEmpty:function(e){return e.match(/^\s+$/)||""===e?!0:!1},checkTime:function(e){var t,i=/^(\d{1,2}):(\d{2})([apAP][Mm])?$/;if(!$.jgrid.isEmpty(e)){if(t=e.match(i),!t)return!1;if(t[3]){if(t[1]<1||t[1]>12)return!1}else if(t[1]>23)return!1;if(t[2]>59)return!1}return!0},checkValues:function(e,t,i,r){var o,a,s,n,l,d,p=this,c=p.p.colModel,u=$.jgrid.getRegional(this,"edit.msg");if(void 0===i)if("string"==typeof t){for(a=0,l=c.length;l>a;a++)if(c[a].name===t){o=c[a].editrules,t=a,null!=c[a].formoptions&&(s=c[a].formoptions.label);break}}else t>=0&&(o=c[t].editrules);else o=i,s=void 0===r?"_":r;if(o){if(s||(s=null!=p.p.colNames?p.p.colNames[t]:c[t].label),o.required===!0&&$.jgrid.isEmpty(e))return[!1,s+": "+u.required,""];var g=o.required===!1?!1:!0;if(o.number===!0&&(g!==!1||!$.jgrid.isEmpty(e))&&isNaN(e))return[!1,s+": "+u.number,""];if(void 0!==o.minValue&&!isNaN(o.minValue)&&parseFloat(e)<parseFloat(o.minValue))return[!1,s+": "+u.minValue+" "+o.minValue,""];if(void 0!==o.maxValue&&!isNaN(o.maxValue)&&parseFloat(e)>parseFloat(o.maxValue))return[!1,s+": "+u.maxValue+" "+o.maxValue,""];var h;if(o.email===!0&&!(g===!1&&$.jgrid.isEmpty(e)||(h=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,h.test(e))))return[!1,s+": "+u.email,""];if(o.integer===!0&&(g!==!1||!$.jgrid.isEmpty(e))){if(isNaN(e))return[!1,s+": "+u.integer,""];if(e%1!==0||-1!==e.indexOf("."))return[!1,s+": "+u.integer,""]}if(o.date===!0&&!(g===!1&&$.jgrid.isEmpty(e)||(c[t].formatoptions&&c[t].formatoptions.newformat?(n=c[t].formatoptions.newformat,d=$.jgrid.getRegional(p,"formatter.date.masks"),d&&d.hasOwnProperty(n)&&(n=d[n])):n=c[t].datefmt||"Y-m-d",$.jgrid.checkDate(n,e))))return[!1,s+": "+u.date+" - "+n,""];if(o.time===!0&&!(g===!1&&$.jgrid.isEmpty(e)||$.jgrid.checkTime(e)))return[!1,s+": "+u.date+" - hh:mm (am/pm)",""];if(o.url===!0&&!(g===!1&&$.jgrid.isEmpty(e)||(h=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i,h.test(e))))return[!1,s+": "+u.url,""];if(o.custom===!0&&(g!==!1||!$.jgrid.isEmpty(e))){if($.isFunction(o.custom_func)){var f=o.custom_func.call(p,e,s,t);return $.isArray(f)?f:[!1,u.customarray,""]}return[!1,u.customfcheck,""]}}return[!0,"",""]}}),$.fn.jqFilter=function(e){if("string"==typeof e){var t=$.fn.jqFilter[e];if(!t)throw"jqFilter - No such method: "+e;var i=$.makeArray(arguments).slice(1);return t.apply(this,i)}var r=$.extend(!0,{filter:null,columns:[],sortStrategy:null,onChange:null,afterRedraw:null,checkValues:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[],operands:null,numopts:["eq","ne","lt","le","gt","ge","nu","nn","in","ni"],stropts:["eq","ne","bw","bn","ew","en","cn","nc","nu","nn","in","ni"],strarr:["text","string","blob"],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,direction:"ltr"},$.jgrid.filter,e||{});return this.each(function(){if(!this.filter){this.p=r,(null===this.p.filter||void 0===this.p.filter)&&(this.p.filter={groupOp:this.p.groupOps[0].op,rules:[],groups:[]}),null!=this.p.sortStrategy&&$.isFunction(this.p.sortStrategy)&&this.p.columns.sort(this.p.sortStrategy);var e,t,i=this.p.columns.length,o=/msie/i.test(navigator.userAgent)&&!window.opera;if(this.p.initFilter=$.extend(!0,{},this.p.filter),i){for(e=0;i>e;e++)t=this.p.columns[e],t.stype?t.inputtype=t.stype:t.inputtype||(t.inputtype="text"),t.sorttype?t.searchtype=t.sorttype:t.searchtype||(t.searchtype="string"),void 0===t.hidden&&(t.hidden=!1),t.label||(t.label=t.name),t.index&&(t.name=t.index),t.hasOwnProperty("searchoptions")||(t.searchoptions={}),t.hasOwnProperty("searchrules")||(t.searchrules={});var a=function(){return $("#"+$.jgrid.jqID(r.id))[0]||null},s=a(),n=$.jgrid.styleUI[s.p.styleUI||"jQueryUI"].filter,l=$.jgrid.styleUI[s.p.styleUI||"jQueryUI"].common;this.p.showQuery&&$(this).append("<table class='queryresult "+n.table_widget+"' style='display:block;max-width:440px;border:0px none;' dir='"+this.p.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var d=function(e,t){var i=[!0,""],o=a();if($.isFunction(t.searchrules))i=t.searchrules.call(o,e,t);else if($.jgrid&&$.jgrid.checkValues)try{i=$.jgrid.checkValues.call(o,e,-1,t.searchrules,t.label)}catch(s){}i&&i.length&&i[0]===!1&&(r.error=!i[0],r.errmsg=i[1])};this.onchange=function(){return this.p.error=!1,this.p.errmsg="",$.isFunction(this.p.onChange)?this.p.onChange.call(this,this.p):!1},this.reDraw=function(){$("table.group:first",this).remove();var e=this.createTableForGroup(r.filter,null);$(this).append(e),$.isFunction(this.p.afterRedraw)&&this.p.afterRedraw.call(this,this.p)},this.createTableForGroup=function(e,t){var i,o=this,a=$("<table class='group "+n.table_widget+" ui-search-table' style='border:0px none;'><tbody></tbody></table>"),s="left";"rtl"===this.p.direction&&(s="right",a.attr("dir","rtl")),null===t&&a.append("<tr class='error' style='display:none;'><th colspan='5' class='"+l.error+"' align='"+s+"'></th></tr>");var d=$("<tr></tr>");a.append(d);var p=$("<th colspan='5' align='"+s+"'></th>");if(d.append(p),this.p.ruleButtons===!0){var c=$("<select class='opsel "+n.srSelect+"'></select>");p.append(c);var u,g="";for(i=0;i<r.groupOps.length;i++)u=e.groupOp===o.p.groupOps[i].op?" selected='selected'":"",g+="<option value='"+o.p.groupOps[i].op+"'"+u+">"+o.p.groupOps[i].text+"</option>";c.append(g).bind("change",function(){e.groupOp=$(c).val(),o.onchange()})}var h="<span></span>";if(this.p.groupButton&&(h=$("<input type='button' value='+ {}' title='Add subgroup' class='add-group "+l.button+"'/>"),h.bind("click",function(){return void 0===e.groups&&(e.groups=[]),e.groups.push({groupOp:r.groupOps[0].op,rules:[],groups:[]}),o.reDraw(),o.onchange(),!1})),p.append(h),this.p.ruleButtons===!0){var f,m=$("<input type='button' value='+' title='Add rule' class='add-rule ui-add "+l.button+"'/>");m.bind("click",function(){for(void 0===e.rules&&(e.rules=[]),i=0;i<o.p.columns.length;i++){var t=void 0===o.p.columns[i].search?!0:o.p.columns[i].search,r=o.p.columns[i].hidden===!0,a=o.p.columns[i].searchoptions.searchhidden===!0;if(a&&t||t&&!r){f=o.p.columns[i];break}}var s;return s=f.searchoptions.sopt?f.searchoptions.sopt:o.p.sopt?o.p.sopt:-1!==$.inArray(f.searchtype,o.p.strarr)?o.p.stropts:o.p.numopts,e.rules.push({field:f.name,op:s[0],data:""}),o.reDraw(),!1}),p.append(m)}if(null!==t){var v=$("<input type='button' value='-' title='Delete group' class='delete-group "+l.button+"'/>");p.append(v),v.bind("click",function(){for(i=0;i<t.groups.length;i++)if(t.groups[i]===e){t.groups.splice(i,1);break}return o.reDraw(),o.onchange(),!1})}if(void 0!==e.groups)for(i=0;i<e.groups.length;i++){var j=$("<tr></tr>");a.append(j);var b=$("<td class='first'></td>");j.append(b);var w=$("<td colspan='4'></td>");w.append(this.createTableForGroup(e.groups[i],e)),j.append(w)}if(void 0===e.groupOp&&(e.groupOp=o.p.groupOps[0].op),void 0!==e.rules)for(i=0;i<e.rules.length;i++)a.append(this.createTableRowForRule(e.rules[i],e));return a},this.createTableRowForRule=function(e,t){var i,s,d,p,c,u=this,g=a(),h=$("<tr></tr>"),f="";h.append("<td class='first'></td>");var m=$("<td class='columns'></td>");h.append(m);var v,j=$("<select class='"+n.srSelect+"'></select>"),b=[];m.append(j),j.bind("change",function(){for(e.field=$(j).val(),d=$(this).parents("tr:first"),$(".data",d).empty(),i=0;i<u.p.columns.length;i++)if(u.p.columns[i].name===e.field){p=u.p.columns[i];break}if(p){p.searchoptions.id=$.jgrid.randId(),p.searchoptions.name=e.field,p.searchoptions.oper="filter",o&&"text"===p.inputtype&&(p.searchoptions.size||(p.searchoptions.size=10));var t=$.jgrid.createEl.call(g,p.inputtype,p.searchoptions,"",!0,u.p.ajaxSelectOptions||{},!0);$(t).addClass("input-elm "+n.srInput),s=p.searchoptions.sopt?p.searchoptions.sopt:u.p.sopt?u.p.sopt:-1!==$.inArray(p.searchtype,u.p.strarr)?u.p.stropts:u.p.numopts;var r="",a=0;for(b=[],$.each(u.p.ops,function(){b.push(this.oper)}),i=0;i<s.length;i++)v=$.inArray(s[i],b),-1!==v&&(0===a&&(e.op=u.p.ops[v].oper),r+="<option value='"+u.p.ops[v].oper+"'>"+u.p.ops[v].text+"</option>",a++);if($(".selectopts",d).empty().append(r),$(".selectopts",d)[0].selectedIndex=0,$.jgrid.msie&&$.jgrid.msiever()<9){var l=parseInt($("select.selectopts",d)[0].offsetWidth,10)+1;$(".selectopts",d).width(l),$(".selectopts",d).css("width","auto")}$(".data",d).append(t),$.jgrid.bindEv.call(g,t,p.searchoptions),$(".input-elm",d).bind("change",function(t){var i=t.target;e.data="SPAN"===i.nodeName.toUpperCase()&&p.searchoptions&&$.isFunction(p.searchoptions.custom_value)?p.searchoptions.custom_value.call(g,$(i).children(".customelement:first"),"get"):i.value,u.onchange()}),setTimeout(function(){e.data=$(t).val(),u.onchange()},0)}});var w=0;for(i=0;i<u.p.columns.length;i++){var y=void 0===u.p.columns[i].search?!0:u.p.columns[i].search,_=u.p.columns[i].hidden===!0,x=u.p.columns[i].searchoptions.searchhidden===!0;(x&&y||y&&!_)&&(c="",e.field===u.p.columns[i].name&&(c=" selected='selected'",w=i),f+="<option value='"+u.p.columns[i].name+"'"+c+">"+u.p.columns[i].label+"</option>")}j.append(f);var q=$("<td class='operators'></td>");h.append(q),p=r.columns[w],p.searchoptions.id=$.jgrid.randId(),o&&"text"===p.inputtype&&(p.searchoptions.size||(p.searchoptions.size=10)),p.searchoptions.name=e.field,p.searchoptions.oper="filter";var D=$.jgrid.createEl.call(g,p.inputtype,p.searchoptions,e.data,!0,u.p.ajaxSelectOptions||{},!0);("nu"===e.op||"nn"===e.op)&&($(D).attr("readonly","true"),$(D).attr("disabled","true"));var C=$("<select class='selectopts "+n.srSelect+"'></select>");for(q.append(C),C.bind("change",function(){e.op=$(C).val(),d=$(this).parents("tr:first");var t=$(".input-elm",d)[0];"nu"===e.op||"nn"===e.op?(e.data="","SELECT"!==t.tagName.toUpperCase()&&(t.value=""),t.setAttribute("readonly","true"),t.setAttribute("disabled","true")):("SELECT"===t.tagName.toUpperCase()&&(e.data=t.value),t.removeAttribute("readonly"),t.removeAttribute("disabled")),u.onchange()}),s=p.searchoptions.sopt?p.searchoptions.sopt:u.p.sopt?u.p.sopt:-1!==$.inArray(p.searchtype,u.p.strarr)?u.p.stropts:u.p.numopts,f="",$.each(u.p.ops,function(){b.push(this.oper)}),i=0;i<s.length;i++)v=$.inArray(s[i],b),-1!==v&&(c=e.op===u.p.ops[v].oper?" selected='selected'":"",f+="<option value='"+u.p.ops[v].oper+"'"+c+">"+u.p.ops[v].text+"</option>");C.append(f);var I=$("<td class='data'></td>");h.append(I),I.append(D),$.jgrid.bindEv.call(g,D,p.searchoptions),$(D).addClass("input-elm "+n.srInput).bind("change",function(){e.data="custom"===p.inputtype?p.searchoptions.custom_value.call(g,$(this).children(".customelement:first"),"get"):$(this).val(),u.onchange()});var G=$("<td></td>");if(h.append(G),this.p.ruleButtons===!0){var F=$("<input type='button' value='-' title='Delete rule' class='delete-rule ui-del "+l.button+"'/>");G.append(F),F.bind("click",function(){for(i=0;i<t.rules.length;i++)if(t.rules[i]===e){t.rules.splice(i,1);break}return u.reDraw(),u.onchange(),!1})}return h},this.getStringForGroup=function(e){var t,i="(";if(void 0!==e.groups)for(t=0;t<e.groups.length;t++){i.length>1&&(i+=" "+e.groupOp+" ");try{i+=this.getStringForGroup(e.groups[t])}catch(r){alert(r)}}if(void 0!==e.rules)try{for(t=0;t<e.rules.length;t++)i.length>1&&(i+=" "+e.groupOp+" "),i+=this.getStringForRule(e.rules[t])}catch(o){alert(o)}return i+=")","()"===i?"":i},this.getStringForRule=function(e){var t,i,o,a,s="",n="",l=["int","integer","float","number","currency"];for(t=0;t<this.p.ops.length;t++)if(this.p.ops[t].oper===e.op){s=this.p.operands.hasOwnProperty(e.op)?this.p.operands[e.op]:"",n=this.p.ops[t].oper;break}for(t=0;t<this.p.columns.length;t++)if(this.p.columns[t].name===e.field){i=this.p.columns[t];break}return void 0===i?"":(a=e.data,("bw"===n||"bn"===n)&&(a+="%"),("ew"===n||"en"===n)&&(a="%"+a),("cn"===n||"nc"===n)&&(a="%"+a+"%"),("in"===n||"ni"===n)&&(a=" ("+a+")"),r.errorcheck&&d(e.data,i),o=-1!==$.inArray(i.searchtype,l)||"nn"===n||"nu"===n?e.field+" "+s+" "+a:e.field+" "+s+' "'+a+'"')},this.resetFilter=function(){this.p.filter=$.extend(!0,{},this.p.initFilter),this.reDraw(),this.onchange()},this.hideError=function(){$("th."+l.error,this).html(""),$("tr.error",this).hide()},this.showError=function(){$("th."+l.error,this).html(this.p.errmsg),$("tr.error",this).show()},this.toUserFriendlyString=function(){return this.getStringForGroup(r.filter)},this.toString=function(){function e(e){if(i.p.errorcheck){var t,r;for(t=0;t<i.p.columns.length;t++)if(i.p.columns[t].name===e.field){r=i.p.columns[t];break}r&&d(e.data,r)}return e.op+"(item."+e.field+",'"+e.data+"')"}function t(i){var r,o="(";if(void 0!==i.groups)for(r=0;r<i.groups.length;r++)o.length>1&&(o+="OR"===i.groupOp?" || ":" && "),o+=t(i.groups[r]);if(void 0!==i.rules)for(r=0;r<i.rules.length;r++)o.length>1&&(o+="OR"===i.groupOp?" || ":" && "),o+=e(i.rules[r]);return o+=")","()"===o?"":o}var i=this;return t(this.p.filter)},this.reDraw(),this.p.showQuery&&this.onchange(),this.filter=!0}}})},$.extend($.fn.jqFilter,{toSQLString:function(){var e="";return this.each(function(){e=this.toUserFriendlyString()}),e},filterData:function(){var e;return this.each(function(){e=this.p.filter}),e},getParameter:function(e){return void 0!==e&&this.p.hasOwnProperty(e)?this.p[e]:this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(e){"string"==typeof e&&(e=$.jgrid.parse(e)),this.each(function(){this.p.filter=e,this.reDraw(),this.onchange()})}}),$.jgrid.extend({filterToolbar:function(e){var t=$.jgrid.getRegional(this[0],"search");return e=$.extend({autosearch:!0,autosearchDelay:500,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw",searchOperators:!1,resetIcon:"x",operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^","in":"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#"}},t,e||{}),this.each(function(){var i=this;if(!i.p.filterToolbar){$(i).data("filterToolbar")||$(i).data("filterToolbar",e),i.p.force_regional&&(e=$.extend(e,t));var r,o,a,s=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].filter,n=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].common,l=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].base,d=function(){var t,r,o,a={},s=0,n={};$.each(i.p.colModel,function(){var l=$("#gs_"+i.p.idPrefix+$.jgrid.jqID(this.name),this.frozen===!0&&i.p.frozenColumns===!0?i.grid.fhDiv:i.grid.hDiv);if(r=this.index||this.name,o=e.searchOperators?l.parent().prev().children("a").attr("soper")||e.defaultSearch:this.searchoptions&&this.searchoptions.sopt?this.searchoptions.sopt[0]:"select"===this.stype?"eq":e.defaultSearch,t="custom"===this.stype&&$.isFunction(this.searchoptions.custom_value)&&l.length>0&&"SPAN"===l[0].nodeName.toUpperCase()?this.searchoptions.custom_value.call(i,l.children(".customelement:first"),"get"):l.val(),t||"nu"===o||"nn"===o)a[r]=t,n[r]=o,s++;else try{delete i.p.postData[r]}catch(d){}});var l=s>0?!0:!1;if(e.stringResult===!0||"local"===i.p.datatype||e.searchOperators===!0){var d='{"groupOp":"'+e.groupOp+'","rules":[',p=0;$.each(a,function(e,t){p>0&&(d+=","),d+='{"field":"'+e+'",',d+='"op":"'+n[e]+'",',t+="",d+='"data":"'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',p++}),d+="]}",$.extend(i.p.postData,{filters:d}),$.each(["searchField","searchString","searchOper"],function(e,t){i.p.postData.hasOwnProperty(t)&&delete i.p.postData[t]})}else $.extend(i.p.postData,a);var c;i.p.searchurl&&(c=i.p.url,$(i).jqGrid("setGridParam",{url:i.p.searchurl}));var u="stop"===$(i).triggerHandler("jqGridToolbarBeforeSearch")?!0:!1;!u&&$.isFunction(e.beforeSearch)&&(u=e.beforeSearch.call(i)),u||$(i).jqGrid("setGridParam",{search:l}).trigger("reloadGrid",[{page:1}]),c&&$(i).jqGrid("setGridParam",{url:c}),$(i).triggerHandler("jqGridToolbarAfterSearch"),$.isFunction(e.afterSearch)&&e.afterSearch.call(i)},p=function(t){var r,o={},a=0;t="boolean"!=typeof t?!0:t,$.each(i.p.colModel,function(){var e,t=$("#gs_"+i.p.idPrefix+$.jgrid.jqID(this.name),this.frozen===!0&&i.p.frozenColumns===!0?i.grid.fhDiv:i.grid.hDiv);switch(this.searchoptions&&void 0!==this.searchoptions.defaultValue&&(e=this.searchoptions.defaultValue),r=this.index||this.name,this.stype){case"select":if(t.find("option").each(function(t){return 0===t&&(this.selected=!0),$(this).val()===e?(this.selected=!0,!1):void 0}),void 0!==e)o[r]=e,a++;else try{delete i.p.postData[r]}catch(s){}break;case"text":if(t.val(e||""),void 0!==e)o[r]=e,a++;else try{delete i.p.postData[r]}catch(n){}break;case"custom":$.isFunction(this.searchoptions.custom_value)&&t.length>0&&"SPAN"===t[0].nodeName.toUpperCase()&&this.searchoptions.custom_value.call(i,t.children(".customelement:first"),"set",e||"")}});var s=a>0?!0:!1;if(i.p.resetsearch=!0,e.stringResult===!0||"local"===i.p.datatype){var n='{"groupOp":"'+e.groupOp+'","rules":[',l=0;$.each(o,function(e,t){l>0&&(n+=","),n+='{"field":"'+e+'",',n+='"op":"eq",',t+="",n+='"data":"'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',l++}),n+="]}",$.extend(i.p.postData,{filters:n}),$.each(["searchField","searchString","searchOper"],function(e,t){i.p.postData.hasOwnProperty(t)&&delete i.p.postData[t]})}else $.extend(i.p.postData,o);var d;i.p.searchurl&&(d=i.p.url,$(i).jqGrid("setGridParam",{url:i.p.searchurl}));var p="stop"===$(i).triggerHandler("jqGridToolbarBeforeClear")?!0:!1;!p&&$.isFunction(e.beforeClear)&&(p=e.beforeClear.call(i)),p||t&&$(i).jqGrid("setGridParam",{search:s}).trigger("reloadGrid",[{page:1}]),d&&$(i).jqGrid("setGridParam",{url:d}),$(i).triggerHandler("jqGridToolbarAfterClear"),$.isFunction(e.afterClear)&&e.afterClear()},c=function(){var e=$("tr.ui-search-toolbar",i.grid.hDiv),t=i.p.frozenColumns===!0?$("tr.ui-search-toolbar",i.grid.fhDiv):!1;"none"===e.css("display")?(e.show(),t&&t.show()):(e.hide(),t&&t.hide())},u=function(t,r,o){$("#sopt_menu").remove(),r=parseInt(r,10),o=parseInt(o,10)+18;for(var a,l,p=$(".ui-jqgrid-view").css("font-size")||"11px",c='<ul id="sopt_menu" class="ui-search-menu modal-content" role="menu" tabindex="0" style="font-size:'+p+";left:"+r+"px;top:"+o+'px;">',u=$(t).attr("soper"),g=[],h=0,f=$(t).attr("colname"),m=i.p.colModel.length;m>h&&i.p.colModel[h].name!==f;)h++;var v=i.p.colModel[h],j=$.extend({},v.searchoptions);for(j.sopt||(j.sopt=[],j.sopt[0]="select"===v.stype?"eq":e.defaultSearch),$.each(e.odata,function(){g.push(this.oper)}),h=0;h<j.sopt.length;h++)l=$.inArray(j.sopt[h],g),-1!==l&&(a=u===e.odata[l].oper?n.highlight:"",c+='<li class="ui-menu-item '+a+'" role="presentation"><a class="'+n.cornerall+' g-menu-item" tabindex="0" role="menuitem" value="'+e.odata[l].oper+'" oper="'+e.operands[e.odata[l].oper]+'"><table class="ui-common-table"><tr><td width="25px">'+e.operands[e.odata[l].oper]+"</td><td>"+e.odata[l].text+"</td></tr></table></a></li>");c+="</ul>",$("body").append(c),$("#sopt_menu").addClass("ui-menu "+s.menu_widget),$("#sopt_menu > li > a").hover(function(){$(this).addClass(n.hover)},function(){$(this).removeClass(n.hover)}).click(function(){var r=$(this).attr("value"),o=$(this).attr("oper");if($(i).triggerHandler("jqGridToolbarSelectOper",[r,o,t]),$("#sopt_menu").hide(),$(t).text(o).attr("soper",r),e.autosearch===!0){var a=$(t).parent().next().children()[0];($(a).val()||"nu"===r||"nn"===r)&&d()}})},g=$("<tr class='ui-search-toolbar' role='row'></tr>");e.restoreFromFilters&&(a=i.p.postData.filters,a&&("string"==typeof a&&(a=$.jgrid.parse(a)),o=a.rules.length?a.rules:!1)),$.each(i.p.colModel,function(t){var a,n,p,c,u,h,f,m,v=this,j="",b="=",w=$("<th role='columnheader' class='"+l.headerBox+" ui-th-"+i.p.direction+"' id='gsh_"+i.p.id+"_"+v.name+"' ></th>"),y=$("<div></div>"),_=$("<table class='ui-search-table' cellspacing='0'><tr><td class='ui-search-oper' headers=''></td><td class='ui-search-input' headers=''></td><td class='ui-search-clear' headers=''></td></tr></table>");if(this.hidden===!0&&$(w).css("display","none"),this.search=this.search===!1?!1:!0,void 0===this.stype&&(this.stype="text"),a=$.extend({},this.searchoptions||{},{name:v.index||v.name,id:"gs_"+i.p.idPrefix+v.name,oper:"search"}),this.search){if(e.restoreFromFilters&&o){m=!1;for(var x=0;x<o.length;x++)if(o[x].field){var q=v.index||v.name;
if(q===o[x].field){m=o[x];break}}}if(e.searchOperators){for(n=a.sopt?a.sopt[0]:"select"===v.stype?"eq":e.defaultSearch,e.restoreFromFilters&&m&&(n=m.op),p=0;p<e.odata.length;p++)if(e.odata[p].oper===n){b=e.operands[n]||"";break}c=null!=a.searchtitle?a.searchtitle:e.operandTitle,j="<a title='"+c+"' style='padding-right: 0.5em;' soper='"+n+"' class='soptclass' colname='"+this.name+"'>"+b+"</a>"}switch($("td:eq(0)",_).attr("colindex",t).append(j),void 0===a.clearSearch&&(a.clearSearch=!0),a.clearSearch?(u=e.resetTitle||"Clear Search Value",$("td:eq(2)",_).append("<a title='"+u+"' style='padding-right: 0.3em;padding-left: 0.3em;' class='clearsearchclass'>"+e.resetIcon+"</a>")):$("td:eq(2)",_).hide(),this.surl&&(a.dataUrl=this.surl),h="",a.defaultValue&&(h=$.isFunction(a.defaultValue)?a.defaultValue.call(i):a.defaultValue),e.restoreFromFilters&&m&&(h=m.data),f=$.jgrid.createEl.call(i,this.stype,a,h,!1,$.extend({},$.jgrid.ajaxOptions,i.p.ajaxSelectOptions||{})),$(f).css({width:"100%"}).addClass(s.srInput),$("td:eq(1)",_).append(f),$(y).append(_),this.stype){case"select":e.autosearch===!0&&(a.dataEvents=[{type:"change",fn:function(){return d(),!1}}]);break;case"text":e.autosearch===!0&&(a.dataEvents=e.searchOnEnter?[{type:"keypress",fn:function(e){var t=e.charCode||e.keyCode||0;return 13===t?(d(),!1):this}}]:[{type:"keydown",fn:function(t){var i=t.which;switch(i){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:r&&clearTimeout(r),r=setTimeout(function(){d()},e.autosearchDelay)}}}])}$.jgrid.bindEv.call(i,f,a)}$(w).append(y),$(g).append(w),e.searchOperators||$("td:eq(0)",_).hide()}),$("table thead",i.grid.hDiv).append(g),e.searchOperators&&($(".soptclass",g).click(function(e){var t=$(this).offset(),i=t.left,r=t.top;u(this,i,r),e.stopPropagation()}),$("body").on("click",function(e){"soptclass"!==e.target.className&&$("#sopt_menu").hide()})),$(".clearsearchclass",g).click(function(){var t=$(this).parents("tr:first"),r=parseInt($("td.ui-search-oper",t).attr("colindex"),10),o=$.extend({},i.p.colModel[r].searchoptions||{}),a=o.defaultValue?o.defaultValue:"";"select"===i.p.colModel[r].stype?a?$("td.ui-search-input select",t).val(a):$("td.ui-search-input select",t)[0].selectedIndex=0:$("td.ui-search-input input",t).val(a),e.autosearch===!0&&d()}),this.p.filterToolbar=!0,this.triggerToolbar=d,this.clearToolbar=p,this.toggleToolbar=c}})},destroyFilterToolbar:function(){return this.each(function(){this.p.filterToolbar&&(this.triggerToolbar=null,this.clearToolbar=null,this.toggleToolbar=null,this.p.filterToolbar=!1,$(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove())})},searchGrid:function(e){var t=$.jgrid.getRegional(this[0],"search");return e=$.extend(!0,{recreateFilter:!1,drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,sortStrategy:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,jqModal:!0,modal:!1,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,toTop:!0,overlay:30,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null,operands:{eq:"=",ne:"<>",lt:"<",le:"<=",gt:">",ge:">=",bw:"LIKE",bn:"NOT LIKE","in":"IN",ni:"NOT IN",ew:"LIKE",en:"NOT LIKE",cn:"LIKE",nc:"NOT LIKE",nu:"IS NULL",nn:"ISNOT NULL"}},t,e||{}),this.each(function(){function t(t){a=$(i).triggerHandler("jqGridFilterBeforeShow",[t]),void 0===a&&(a=!0),a&&$.isFunction(e.beforeShowSearch)&&(a=e.beforeShowSearch.call(i,t)),a&&($.jgrid.viewModal("#"+$.jgrid.jqID(n.themodal),{gbox:"#gbox_"+$.jgrid.jqID(o),jqm:e.jqModal,modal:e.modal,overlay:e.overlay,toTop:e.toTop}),$(i).triggerHandler("jqGridFilterAfterShow",[t]),$.isFunction(e.afterShowSearch)&&e.afterShowSearch.call(i,t))}var i=this;if(i.grid){var r,o="fbox_"+i.p.id,a=!0,s=!0,n={themodal:"searchmod"+o,modalhead:"searchhd"+o,modalcontent:"searchcnt"+o,scrollelm:o},l=i.p.postData[e.sFilter],d=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].filter,p=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].common;if(e.styleUI=i.p.styleUI,"string"==typeof l&&(l=$.jgrid.parse(l)),e.recreateFilter===!0&&$("#"+$.jgrid.jqID(n.themodal)).remove(),void 0!==$("#"+$.jgrid.jqID(n.themodal))[0])t($("#fbox_"+$.jgrid.jqID(i.p.id)));else{var c=$("<div><div id='"+o+"' class='searchFilter' style='overflow:auto'></div></div>").insertBefore("#gview_"+$.jgrid.jqID(i.p.id)),u="left",g="";"rtl"===i.p.direction&&(u="right",g=" style='text-align:left'",c.attr("dir","rtl"));var h,f,m=$.extend([],i.p.colModel),v="<a id='"+o+"_search' class='fm-button "+p.button+" fm-button-icon-right ui-search'><span class='"+p.icon_base+" "+d.icon_search+"'></span>"+e.Find+"</a>",j="<a id='"+o+"_reset' class='fm-button "+p.button+" fm-button-icon-left ui-reset'><span class='"+p.icon_base+" "+d.icon_reset+"'></span>"+e.Reset+"</a>",b="",w="",y=!1,_=-1;if(e.showQuery&&(b="<a id='"+o+"_query' class='fm-button "+p.button+" fm-button-icon-left'><span class='"+p.icon_base+" "+d.icon_query+"'></span>Query</a>"),e.columns.length?(m=e.columns,_=0,h=m[0].index||m[0].name):$.each(m,function(e,t){if(t.label||(t.label=i.p.colNames[e]),!y){var r=void 0===t.search?!0:t.search,o=t.hidden===!0,a=t.searchoptions&&t.searchoptions.searchhidden===!0;(a&&r||r&&!o)&&(y=!0,h=t.index||t.name,_=e)}}),!l&&h||e.multipleSearch===!1){var x="eq";_>=0&&m[_].searchoptions&&m[_].searchoptions.sopt?x=m[_].searchoptions.sopt[0]:e.sopt&&e.sopt.length&&(x=e.sopt[0]),l={groupOp:"AND",rules:[{field:h,op:x,data:""}]}}y=!1,e.tmplNames&&e.tmplNames.length&&(y=!0,w="<tr><td class='ui-search-label'>"+e.tmplLabel+"</td>",w+="<td><select class='ui-template "+d.srSelect+"'>",w+="<option value='default'>Default</option>",$.each(e.tmplNames,function(e,t){w+="<option value='"+e+"'>"+t+"</option>"}),w+="</select></td></tr>"),f="<table class='EditTable' style='border:0px none;margin-top:5px' id='"+o+"_2'><tbody><tr><td colspan='2'><hr class='"+p.content+"' style='margin:1px'/></td></tr>"+w+"<tr><td class='EditButton' style='text-align:"+u+"'>"+j+"</td><td class='EditButton' "+g+">"+b+v+"</td></tr></tbody></table>",o=$.jgrid.jqID(o),$("#"+o).jqFilter({columns:m,sortStrategy:e.sortStrategy,filter:e.loadDefaults?l:null,showQuery:e.showQuery,errorcheck:e.errorcheck,sopt:e.sopt,groupButton:e.multipleGroup,ruleButtons:e.multipleSearch,afterRedraw:e.afterRedraw,ops:e.odata,operands:e.operands,ajaxSelectOptions:i.p.ajaxSelectOptions,groupOps:e.groupOps,onChange:function(){this.p.showQuery&&$(".query",this).html(this.toUserFriendlyString()),$.isFunction(e.afterChange)&&e.afterChange.call(i,$("#"+o),e)},direction:i.p.direction,id:i.p.id}),c.append(f),y&&e.tmplFilters&&e.tmplFilters.length&&$(".ui-template",c).bind("change",function(){var t=$(this).val();return"default"===t?$("#"+o).jqFilter("addFilter",l):$("#"+o).jqFilter("addFilter",e.tmplFilters[parseInt(t,10)]),!1}),e.multipleGroup===!0&&(e.multipleSearch=!0),$(i).triggerHandler("jqGridFilterInitialize",[$("#"+o)]),$.isFunction(e.onInitializeSearch)&&e.onInitializeSearch.call(i,$("#"+o)),e.gbox="#gbox_"+o,e.layer?$.jgrid.createModal(n,c,e,"#gview_"+$.jgrid.jqID(i.p.id),$("#gbox_"+$.jgrid.jqID(i.p.id))[0],"#"+$.jgrid.jqID(e.layer),{position:"relative"}):$.jgrid.createModal(n,c,e,"#gview_"+$.jgrid.jqID(i.p.id),$("#gbox_"+$.jgrid.jqID(i.p.id))[0]),(e.searchOnEnter||e.closeOnEscape)&&$("#"+$.jgrid.jqID(n.themodal)).keydown(function(t){var i=$(t.target);return!e.searchOnEnter||13!==t.which||i.hasClass("add-group")||i.hasClass("add-rule")||i.hasClass("delete-group")||i.hasClass("delete-rule")||i.hasClass("fm-button")&&i.is("[id$=_query]")?e.closeOnEscape&&27===t.which?($("#"+$.jgrid.jqID(n.modalhead)).find(".ui-jqdialog-titlebar-close").click(),!1):void 0:($("#"+o+"_search").click(),!1)}),b&&$("#"+o+"_query").bind("click",function(){return $(".queryresult",c).toggle(),!1}),void 0===e.stringResult&&(e.stringResult=e.multipleSearch),$("#"+o+"_search").bind("click",function(){var t,a,l={};if(r=$("#"+o),r.find(".input-elm:focus").change(),a=r.jqFilter("filterData"),e.errorcheck&&(r[0].hideError(),e.showQuery||r.jqFilter("toSQLString"),r[0].p.error))return r[0].showError(),!1;if(e.stringResult){try{t=JSON.stringify(a)}catch(d){}"string"==typeof t&&(l[e.sFilter]=t,$.each([e.sField,e.sValue,e.sOper],function(){l[this]=""}))}else e.multipleSearch?(l[e.sFilter]=a,$.each([e.sField,e.sValue,e.sOper],function(){l[this]=""})):(l[e.sField]=a.rules[0].field,l[e.sValue]=a.rules[0].data,l[e.sOper]=a.rules[0].op,l[e.sFilter]="");return i.p.search=!0,$.extend(i.p.postData,l),s=$(i).triggerHandler("jqGridFilterSearch"),void 0===s&&(s=!0),s&&$.isFunction(e.onSearch)&&(s=e.onSearch.call(i,i.p.filters)),s!==!1&&$(i).trigger("reloadGrid",[{page:1}]),e.closeAfterSearch&&$.jgrid.hideModal("#"+$.jgrid.jqID(n.themodal),{gb:"#gbox_"+$.jgrid.jqID(i.p.id),jqm:e.jqModal,onClose:e.onClose}),!1}),$("#"+o+"_reset").bind("click",function(){var t={},r=$("#"+o);return i.p.search=!1,i.p.resetsearch=!0,e.multipleSearch===!1?t[e.sField]=t[e.sValue]=t[e.sOper]="":t[e.sFilter]="",r[0].resetFilter(),y&&$(".ui-template",c).val("default"),$.extend(i.p.postData,t),s=$(i).triggerHandler("jqGridFilterReset"),void 0===s&&(s=!0),s&&$.isFunction(e.onReset)&&(s=e.onReset.call(i)),s!==!1&&$(i).trigger("reloadGrid",[{page:1}]),e.closeAfterReset&&$.jgrid.hideModal("#"+$.jgrid.jqID(n.themodal),{gb:"#gbox_"+$.jgrid.jqID(i.p.id),jqm:e.jqModal,onClose:e.onClose}),!1}),t($("#"+o)),$(".fm-button:not(."+p.disabled+")",c).hover(function(){$(this).addClass(p.hover)},function(){$(this).removeClass(p.hover)})}}})}});var rp_ge={};if($.jgrid.extend({editGridRow:function(e,t){var i=$.jgrid.getRegional(this[0],"edit"),r=this[0].p.styleUI,o=$.jgrid.styleUI[r].formedit,a=$.jgrid.styleUI[r].common;return t=$.extend(!0,{top:0,left:0,width:"500",datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:!1,jqModal:!0,closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0,overlayClass:a.overlay,removemodal:!0,form:"edit",template:null,focusField:!0},i,t||{}),rp_ge[$(this)[0].p.id]=t,this.each(function(){function i(){return $(x).find(".FormElement").each(function(){var e=$(".customelement",this);if(e.length){var t=e[0],i=$(t).attr("name");$.each(f.p.colModel,function(){if(this.name===i&&this.editoptions&&$.isFunction(this.editoptions.custom_value)){try{if(v[i]=this.editoptions.custom_value.call(f,$("#"+$.jgrid.jqID(i),x),"get"),void 0===v[i])throw"e1"}catch(e){"e1"===e?$.jgrid.info_dialog(F.errcap,"function 'custom_value' "+rp_ge[$(this)[0]].p.msg.novalue,rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI}):$.jgrid.info_dialog(F.errcap,e.message,rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI})}return!0}})}else{switch($(this).get(0).type){case"checkbox":if($(this).is(":checked"))v[this.name]=$(this).val();else{var r=$(this).attr("offval");v[this.name]=r}break;case"select-one":v[this.name]=$("option:selected",this).val();break;case"select-multiple":v[this.name]=$(this).val(),v[this.name]=v[this.name]?v[this.name].join(","):"";var o=[];$("option:selected",this).each(function(e,t){o[e]=$(t).text()});break;case"password":case"text":case"textarea":case"button":v[this.name]=$(this).val()}f.p.autoencode&&(v[this.name]=$.jgrid.htmlEncode(v[this.name]))}}),!0}function r(e,t,i,r){var a,s,n,l,d,p,c,u=0,g=[],h=!1,m="<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>",v="";for(c=1;r>=c;c++)v+=m;if("_empty"!==e&&(h=$(t).jqGrid("getInd",e)),$(t.p.colModel).each(function(c){if(a=this.name,s=this.editrules&&this.editrules.edithidden===!0?!1:this.hidden===!0?!0:!1,d=s?"style='display:none'":"","cb"!==a&&"subgrid"!==a&&this.editable===!0&&"rn"!==a){if(h===!1)l="";else if(a===t.p.ExpandColumn&&t.p.treeGrid===!0)l=$("td[role='gridcell']:eq("+c+")",t.rows[h]).text();else{try{l=$.unformat.call(t,$("td[role='gridcell']:eq("+c+")",t.rows[h]),{rowId:e,colModel:this},c)}catch(m){l=this.edittype&&"textarea"===this.edittype?$("td[role='gridcell']:eq("+c+")",t.rows[h]).text():$("td[role='gridcell']:eq("+c+")",t.rows[h]).html()}(!l||"&nbsp;"===l||"&#160;"===l||1===l.length&&160===l.charCodeAt(0))&&(l="")}var j=$.extend({},this.editoptions||{},{id:a,name:a,rowId:e,oper:"edit"}),b=$.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{}),w=parseInt(b.rowpos,10)||u+1,_=parseInt(2*(parseInt(b.colpos,10)||1),10);if("_empty"===e&&j.defaultValue&&(l=$.isFunction(j.defaultValue)?j.defaultValue.call(f):j.defaultValue),this.edittype||(this.edittype="text"),f.p.autoencode&&(l=$.jgrid.htmlDecode(l)),p=$.jgrid.createEl.call(f,this.edittype,j,l,!1,$.extend({},$.jgrid.ajaxOptions,t.p.ajaxSelectOptions||{})),"select"===this.edittype&&(l=$(p).val(),"select-multiple"===$(p).get(0).type&&l&&(l=l.join(","))),"checkbox"===this.edittype&&(l=$(p).is(":checked")?$(p).val():$(p).attr("offval")),(rp_ge[f.p.id].checkOnSubmit||rp_ge[f.p.id].checkOnUpdate)&&(rp_ge[f.p.id]._savedData[a]=l),$(p).addClass("FormElement"),$.inArray(this.edittype,["text","textarea","password","select"])>-1&&$(p).addClass(o.inputClass),G)$(N).find("#"+a).replaceWith(p);else{if(n=$(i).find("tr[rowpos="+w+"]"),b.rowabove){var x=$("<tr><td class='contentinfo' colspan='"+2*r+"'>"+b.rowcontent+"</td></tr>");$(i).append(x),x[0].rp=w}0===n.length&&(n=$("<tr "+d+" rowpos='"+w+"'></tr>").addClass("FormData").attr("id","tr_"+a),$(n).append(v),$(i).append(n),n[0].rp=w),$("td:eq("+(_-2)+")",n[0]).html("<label for='"+a+"'>"+(void 0===b.label?t.p.colNames[c]:b.label)+"</label>"),$("td:eq("+(_-1)+")",n[0]).append(b.elmprefix).append(p).append(b.elmsuffix)}"custom"===this.edittype&&$.isFunction(j.custom_value)&&j.custom_value.call(f,$("#"+a,y),"set",l),$.jgrid.bindEv.call(f,p,j),g[u]=c,u++}}),u>0){var j;G?(j="<div class='FormData' style='display:none'><input class='FormElement' id='id_g' type='text' name='"+t.p.id+"_id' value='"+e+"'/>",$(N).append(j)):(j=$("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*r-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+t.p.id+"_id' value='"+e+"'/></td></tr>"),j[0].rp=u+999,$(i).append(j)),(rp_ge[f.p.id].checkOnSubmit||rp_ge[f.p.id].checkOnUpdate)&&(rp_ge[f.p.id]._savedData[t.p.id+"_id"]=e)}return g}function s(e,t,i){var r,o,a,s,n,l,d=0;(rp_ge[f.p.id].checkOnSubmit||rp_ge[f.p.id].checkOnUpdate)&&(rp_ge[f.p.id]._savedData={},rp_ge[f.p.id]._savedData[t.p.id+"_id"]=e);var p=t.p.colModel;if("_empty"===e)return $(p).each(function(){r=this.name,s=$.extend({},this.editoptions||{}),a=$("#"+$.jgrid.jqID(r),i),a&&a.length&&null!==a[0]&&(n="","custom"===this.edittype&&$.isFunction(s.custom_value)?s.custom_value.call(f,$("#"+r,i),"set",n):s.defaultValue?(n=$.isFunction(s.defaultValue)?s.defaultValue.call(f):s.defaultValue,"checkbox"===a[0].type?(l=n.toLowerCase(),l.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==l?(a[0].checked=!0,a[0].defaultChecked=!0,a[0].value=n):(a[0].checked=!1,a[0].defaultChecked=!1)):a.val(n)):"checkbox"===a[0].type?(a[0].checked=!1,a[0].defaultChecked=!1,n=$(a).attr("offval")):a[0].type&&"select"===a[0].type.substr(0,6)?a[0].selectedIndex=0:a.val(n),(rp_ge[f.p.id].checkOnSubmit===!0||rp_ge[f.p.id].checkOnUpdate)&&(rp_ge[f.p.id]._savedData[r]=n))}),void $("#id_g",i).val(e);var c=$(t).jqGrid("getInd",e,!0);c&&($('td[role="gridcell"]',c).each(function(a){if(r=p[a].name,"cb"!==r&&"subgrid"!==r&&"rn"!==r&&p[a].editable===!0){if(r===t.p.ExpandColumn&&t.p.treeGrid===!0)o=$(this).text();else try{o=$.unformat.call(t,$(this),{rowId:e,colModel:p[a]},a)}catch(s){o="textarea"===p[a].edittype?$(this).text():$(this).html()}switch(f.p.autoencode&&(o=$.jgrid.htmlDecode(o)),(rp_ge[f.p.id].checkOnSubmit===!0||rp_ge[f.p.id].checkOnUpdate)&&(rp_ge[f.p.id]._savedData[r]=o),r=$.jgrid.jqID(r),p[a].edittype){case"password":case"text":case"button":case"image":case"textarea":("&nbsp;"===o||"&#160;"===o||1===o.length&&160===o.charCodeAt(0))&&(o=""),$("#"+r,i).val(o);break;case"select":var n=o.split(",");n=$.map(n,function(e){return $.trim(e)}),$("#"+r+" option",i).each(function(){this.selected=p[a].editoptions.multiple||$.trim(o)!==$.trim($(this).text())&&n[0]!==$.trim($(this).text())&&n[0]!==$.trim($(this).val())?p[a].editoptions.multiple&&($.inArray($.trim($(this).text()),n)>-1||$.inArray($.trim($(this).val()),n)>-1)?!0:!1:!0}),(rp_ge[f.p.id].checkOnSubmit===!0||rp_ge[f.p.id].checkOnUpdate)&&(o=$("#"+r,i).val(),p[a].editoptions.multiple&&(o=o.join(",")),rp_ge[f.p.id]._savedData[r]=o);break;case"checkbox":if(o=String(o),p[a].editoptions&&p[a].editoptions.value){var l=p[a].editoptions.value.split(":");$("#"+r,i)[f.p.useProp?"prop":"attr"](l[0]===o?{checked:!0,defaultChecked:!0}:{checked:!1,defaultChecked:!1})}else o=o.toLowerCase(),o.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==o?($("#"+r,i)[f.p.useProp?"prop":"attr"]("checked",!0),$("#"+r,i)[f.p.useProp?"prop":"attr"]("defaultChecked",!0)):($("#"+r,i)[f.p.useProp?"prop":"attr"]("checked",!1),$("#"+r,i)[f.p.useProp?"prop":"attr"]("defaultChecked",!1));(rp_ge[f.p.id].checkOnSubmit===!0||rp_ge[f.p.id].checkOnUpdate)&&(o=$("#"+r,i).is(":checked")?$("#"+r,i).val():$("#"+r,i).attr("offval"));break;case"custom":try{if(!p[a].editoptions||!$.isFunction(p[a].editoptions.custom_value))throw"e1";p[a].editoptions.custom_value.call(f,$("#"+r,i),"set",o)}catch(c){"e1"===c?$.jgrid.info_dialog(F.errcap,"function 'custom_value' "+rp_ge[$(this)[0]].p.msg.nodefined,$.rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI}):$.jgrid.info_dialog(F.errcap,c.message,$.rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI})}}d++}}),d>0&&$("#id_g",x).val(e))}function n(){$.each(f.p.colModel,function(e,t){t.editoptions&&t.editoptions.NullIfEmpty===!0&&v.hasOwnProperty(t.name)&&""===v[t.name]&&(v[t.name]="null")})}function l(){var e,i,r,o,l,d,p,c=[!0,"",""],u={},g=f.p.prmNames,h=$(f).triggerHandler("jqGridAddEditBeforeCheckValues",[$(y),b]);h&&"object"==typeof h&&(v=h),$.isFunction(rp_ge[f.p.id].beforeCheckValues)&&(h=rp_ge[f.p.id].beforeCheckValues.call(f,v,$(y),b),h&&"object"==typeof h&&(v=h));for(o in v)if(v.hasOwnProperty(o)&&(c=$.jgrid.checkValues.call(f,v[o],o),c[0]===!1))break;if(n(),c[0]&&(u=$(f).triggerHandler("jqGridAddEditClickSubmit",[rp_ge[f.p.id],v,b]),void 0===u&&$.isFunction(rp_ge[f.p.id].onclickSubmit)&&(u=rp_ge[f.p.id].onclickSubmit.call(f,rp_ge[f.p.id],v,b)||{}),c=$(f).triggerHandler("jqGridAddEditBeforeSubmit",[v,$(y),b]),void 0===c&&(c=[!0,"",""]),c[0]&&$.isFunction(rp_ge[f.p.id].beforeSubmit)&&(c=rp_ge[f.p.id].beforeSubmit.call(f,v,$(y),b))),c[0]&&!rp_ge[f.p.id].processing){if(rp_ge[f.p.id].processing=!0,$("#sData",x+"_2").addClass(a.active),p=rp_ge[f.p.id].url||$(f).jqGrid("getGridParam","editurl"),r=g.oper,i="clientArray"===p?f.p.keyName:g.id,v[r]="_empty"===$.trim(v[f.p.id+"_id"])?g.addoper:g.editoper,v[r]!==g.addoper?v[i]=v[f.p.id+"_id"]:void 0===v[i]&&(v[i]=v[f.p.id+"_id"]),delete v[f.p.id+"_id"],v=$.extend(v,rp_ge[f.p.id].editData,u),f.p.treeGrid===!0){if(v[r]===g.addoper){l=$(f).jqGrid("getGridParam","selrow");var m="adjacency"===f.p.treeGridModel?f.p.treeReader.parent_id_field:"parent_id";v[m]=l}for(d in f.p.treeReader)if(f.p.treeReader.hasOwnProperty(d)){var j=f.p.treeReader[d];if(v.hasOwnProperty(j)){if(v[r]===g.addoper&&"parent_id_field"===d)continue;delete v[j]}}}v[i]=$.jgrid.stripPref(f.p.idPrefix,v[i]);var _=$.extend({url:p,type:rp_ge[f.p.id].mtype,data:$.isFunction(rp_ge[f.p.id].serializeEditData)?rp_ge[f.p.id].serializeEditData.call(f,v):v,complete:function(o,n){var d;if($("#sData",x+"_2").removeClass(a.active),v[i]=f.p.idPrefix+v[i],o.status>=300&&304!==o.status?(c[0]=!1,c[1]=$(f).triggerHandler("jqGridAddEditErrorTextFormat",[o,b]),c[1]=$.isFunction(rp_ge[f.p.id].errorTextFormat)?rp_ge[f.p.id].errorTextFormat.call(f,o,b):n+" Status: '"+o.statusText+"'. Error code: "+o.status):(c=$(f).triggerHandler("jqGridAddEditAfterSubmit",[o,v,b]),void 0===c&&(c=[!0,"",""]),c[0]&&$.isFunction(rp_ge[f.p.id].afterSubmit)&&(c=rp_ge[f.p.id].afterSubmit.call(f,o,v,b))),c[0]===!1)$(".FormError",y).html(c[1]),$(".FormError",y).show();else if(f.p.autoencode&&$.each(v,function(e,t){v[e]=$.jgrid.htmlDecode(t)}),v[r]===g.addoper?(c[2]||(c[2]=$.jgrid.randId()),null==v[i]||"_empty"===v[i]?v[i]=c[2]:c[2]=v[i],rp_ge[f.p.id].reloadAfterSubmit?$(f).trigger("reloadGrid"):f.p.treeGrid===!0?$(f).jqGrid("addChildNode",c[2],l,v):$(f).jqGrid("addRowData",c[2],v,t.addedrow),rp_ge[f.p.id].closeAfterAdd?(f.p.treeGrid!==!0&&$(f).jqGrid("setSelection",c[2]),$.jgrid.hideModal("#"+$.jgrid.jqID(q.themodal),{gb:"#gbox_"+$.jgrid.jqID(w),jqm:t.jqModal,onClose:rp_ge[f.p.id].onClose,removemodal:rp_ge[f.p.id].removemodal,formprop:!rp_ge[f.p.id].recreateForm,form:rp_ge[f.p.id].form})):rp_ge[f.p.id].clearAfterAdd&&s("_empty",f,y)):(rp_ge[f.p.id].reloadAfterSubmit?($(f).trigger("reloadGrid"),rp_ge[f.p.id].closeAfterEdit||setTimeout(function(){$(f).jqGrid("setSelection",v[i])},1e3)):f.p.treeGrid===!0?$(f).jqGrid("setTreeRow",v[i],v):$(f).jqGrid("setRowData",v[i],v),rp_ge[f.p.id].closeAfterEdit&&$.jgrid.hideModal("#"+$.jgrid.jqID(q.themodal),{gb:"#gbox_"+$.jgrid.jqID(w),jqm:t.jqModal,onClose:rp_ge[f.p.id].onClose,removemodal:rp_ge[f.p.id].removemodal,formprop:!rp_ge[f.p.id].recreateForm,form:rp_ge[f.p.id].form})),$.isFunction(rp_ge[f.p.id].afterComplete)&&(e=o,setTimeout(function(){$(f).triggerHandler("jqGridAddEditAfterComplete",[e,v,$(y),b]),rp_ge[f.p.id].afterComplete.call(f,e,v,$(y),b),e=null},500)),(rp_ge[f.p.id].checkOnSubmit||rp_ge[f.p.id].checkOnUpdate)&&($(y).data("disabled",!1),"_empty"!==rp_ge[f.p.id]._savedData[f.p.id+"_id"]))for(d in rp_ge[f.p.id]._savedData)rp_ge[f.p.id]._savedData.hasOwnProperty(d)&&v[d]&&(rp_ge[f.p.id]._savedData[d]=v[d]);rp_ge[f.p.id].processing=!1;try{$(":input:visible",y)[0].focus()}catch(p){}}},$.jgrid.ajaxOptions,rp_ge[f.p.id].ajaxEditOptions);if(_.url||rp_ge[f.p.id].useDataProxy||($.isFunction(f.p.dataProxy)?rp_ge[f.p.id].useDataProxy=!0:(c[0]=!1,c[1]+=" "+F.nourl)),c[0])if(rp_ge[f.p.id].useDataProxy){var D=f.p.dataProxy.call(f,_,"set_"+f.p.id);void 0===D&&(D=[!0,""]),D[0]===!1?(c[0]=!1,c[1]=D[1]||"Error deleting the selected row!"):(_.data.oper===g.addoper&&rp_ge[f.p.id].closeAfterAdd&&$.jgrid.hideModal("#"+$.jgrid.jqID(q.themodal),{gb:"#gbox_"+$.jgrid.jqID(w),jqm:t.jqModal,onClose:rp_ge[f.p.id].onClose,removemodal:rp_ge[f.p.id].removemodal,formprop:!rp_ge[f.p.id].recreateForm,form:rp_ge[f.p.id].form}),_.data.oper===g.editoper&&rp_ge[f.p.id].closeAfterEdit&&$.jgrid.hideModal("#"+$.jgrid.jqID(q.themodal),{gb:"#gbox_"+$.jgrid.jqID(w),jqm:t.jqModal,onClose:rp_ge[f.p.id].onClose,removemodal:rp_ge[f.p.id].removemodal,formprop:!rp_ge[f.p.id].recreateForm,form:rp_ge[f.p.id].form}))}else"clientArray"===_.url?(rp_ge[f.p.id].reloadAfterSubmit=!1,v=_.data,_.complete({status:200,statusText:""},"")):$.ajax(_)}c[0]===!1&&($(".FormError",y).html(c[1]),$(".FormError",y).show())}function d(e,t){var i,r=!1;for(i in e)if(e.hasOwnProperty(i)&&e[i]!=t[i]){r=!0;break}return r}function p(){var e=!0;return $(".FormError",y).hide(),rp_ge[f.p.id].checkOnUpdate&&(v={},i(),j=d(v,rp_ge[f.p.id]._savedData),j&&($(y).data("disabled",!0),$(".confirm","#"+q.themodal).show(),e=!1)),e}function c(){var t;if("_empty"!==e&&void 0!==f.p.savedRow&&f.p.savedRow.length>0&&$.isFunction($.fn.jqGrid.restoreRow))for(t=0;t<f.p.savedRow.length;t++)if(f.p.savedRow[t].id===e){$(f).jqGrid("restoreRow",e);break}}function u(e,t){var i=t[1].length-1;0===e?$("#pData",m).addClass(a.disabled):void 0!==t[1][e-1]&&$("#"+$.jgrid.jqID(t[1][e-1])).hasClass(a.disabled)?$("#pData",m).addClass(a.disabled):$("#pData",m).removeClass(a.disabled),e===i?$("#nData",m).addClass(a.disabled):void 0!==t[1][e+1]&&$("#"+$.jgrid.jqID(t[1][e+1])).hasClass(a.disabled)?$("#nData",m).addClass(a.disabled):$("#nData",m).removeClass(a.disabled)}function g(){var e=$(f).jqGrid("getDataIDs"),t=$("#id_g",x).val(),i=$.inArray(t,e);return[i,e]}function h(e){var t="";return"string"==typeof e&&(t=e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(e,t){return'<span id="'+t+'" ></span>'})),t}var f=this;if(f.grid&&e){var m,v,j,b,w=f.p.id,y="FrmGrid_"+w,_="TblGrid_"+w,x="#"+$.jgrid.jqID(_),q={themodal:"editmod"+w,modalhead:"edithd"+w,modalcontent:"editcnt"+w,scrollelm:y},D=!0,C=1,I=0,G="string"==typeof rp_ge[f.p.id].template&&rp_ge[f.p.id].template.length>0,F=$.jgrid.getRegional(this,"errors");rp_ge[f.p.id].styleUI=f.p.styleUI||"jQueryUI",$.jgrid.isMobile()&&(rp_ge[f.p.id].resize=!1),"new"===e?(e="_empty",b="add",t.caption=rp_ge[f.p.id].addCaption):(t.caption=rp_ge[f.p.id].editCaption,b="edit"),t.recreateForm||$(f).data("formProp")&&$.extend(rp_ge[$(this)[0].p.id],$(f).data("formProp"));var S=!0;t.checkOnUpdate&&t.jqModal&&!t.modal&&(S=!1);var k,R=isNaN(rp_ge[$(this)[0].p.id].dataheight)?rp_ge[$(this)[0].p.id].dataheight:rp_ge[$(this)[0].p.id].dataheight+"px",M=isNaN(rp_ge[$(this)[0].p.id].datawidth)?rp_ge[$(this)[0].p.id].datawidth:rp_ge[$(this)[0].p.id].datawidth+"px",N=$("<form name='FormPost' id='"+y+"' class='FormGrid' onSubmit='return false;' style='width:"+M+";height:"+R+";'></form>").data("disabled",!1);if(G?(k=h(rp_ge[$(this)[0].p.id].template),m=x):(k=$("<table id='"+_+"' class='EditTable ui-common-table'><tbody></tbody></table>"),m=x+"_2"),y="#"+$.jgrid.jqID(y),$(N).append("<div class='FormError "+a.error+"' style='display:none;'></div>"),$(N).append("<div class='tinfo topinfo'>"+rp_ge[f.p.id].topinfo+"</div>"),$(f.p.colModel).each(function(){var e=this.formoptions;C=Math.max(C,e?e.colpos||0:0),I=Math.max(I,e?e.rowpos||0:0)}),$(N).append(k),D=$(f).triggerHandler("jqGridAddEditBeforeInitData",[N,b]),void 0===D&&(D=!0),D&&$.isFunction(rp_ge[f.p.id].beforeInitData)&&(D=rp_ge[f.p.id].beforeInitData.call(f,N,b)),D!==!1){c(),r(e,f,k,C);var T="rtl"===f.p.direction?!0:!1,O=T?"nData":"pData",P=T?"pData":"nData",A="<a id='"+O+"' class='fm-button "+a.button+"'><span class='"+a.icon_base+" "+o.icon_prev+"'></span></a>",E="<a id='"+P+"' class='fm-button "+a.button+"'><span class='"+a.icon_base+" "+o.icon_next+"'></span></a>",U="<a id='sData' class='fm-button "+a.button+"'>"+t.bSubmit+"</a>",z="<a id='cData' class='fm-button "+a.button+"'>"+t.bCancel+"</a>",B="<table style='height:auto' class='EditTable ui-common-table' id='"+_+"_2'><tbody><tr><td colspan='2'><hr class='"+a.content+"' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton'>"+(T?E+A:A+E)+"</td><td class='EditButton'>"+U+z+"</td></tr>";if(B+="</tbody></table>",I>0){var H=[];$.each($(k)[0].rows,function(e,t){H[e]=t}),H.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),$.each(H,function(e,t){$("tbody",k).append(t)})}t.gbox="#gbox_"+$.jgrid.jqID(w);var L=!1;t.closeOnEscape===!0&&(t.closeOnEscape=!1,L=!0);var V;if(G?($(N).find("#pData").replaceWith(A),$(N).find("#nData").replaceWith(E),$(N).find("#sData").replaceWith(U),$(N).find("#cData").replaceWith(z),V=$("<div id="+_+"></div>").append(N)):V=$("<div></div>").append(N).append(B),$(N).append("<div class='binfo topinfo bottominfo'>"+rp_ge[f.p.id].bottominfo+"</div>"),$.jgrid.createModal(q,V,rp_ge[$(this)[0].p.id],"#gview_"+$.jgrid.jqID(f.p.id),$("#gbox_"+$.jgrid.jqID(f.p.id))[0]),T&&($("#pData, #nData",x+"_2").css("float","right"),$(".EditButton",x+"_2").css("text-align","left")),rp_ge[f.p.id].topinfo&&$(".tinfo",y).show(),rp_ge[f.p.id].bottominfo&&$(".binfo",y).show(),V=null,B=null,$("#"+$.jgrid.jqID(q.themodal)).keydown(function(e){var i=e.target;if($(y).data("disabled")===!0)return!1;if(rp_ge[f.p.id].savekey[0]===!0&&e.which===rp_ge[f.p.id].savekey[1]&&"TEXTAREA"!==i.tagName)return $("#sData",x+"_2").trigger("click"),!1;if(27===e.which)return p()?(L&&$.jgrid.hideModal("#"+$.jgrid.jqID(q.themodal),{gb:t.gbox,jqm:t.jqModal,onClose:rp_ge[f.p.id].onClose,removemodal:rp_ge[f.p.id].removemodal,formprop:!rp_ge[f.p.id].recreateForm,form:rp_ge[f.p.id].form}),!1):!1;if(rp_ge[f.p.id].navkeys[0]===!0){if("_empty"===$("#id_g",x).val())return!0;if(e.which===rp_ge[f.p.id].navkeys[1])return $("#pData",m).trigger("click"),!1;if(e.which===rp_ge[f.p.id].navkeys[2])return $("#nData",m).trigger("click"),!1}}),t.checkOnUpdate&&($("a.ui-jqdialog-titlebar-close span","#"+$.jgrid.jqID(q.themodal)).removeClass("jqmClose"),$("a.ui-jqdialog-titlebar-close","#"+$.jgrid.jqID(q.themodal)).unbind("click").click(function(){return p()?($.jgrid.hideModal("#"+$.jgrid.jqID(q.themodal),{gb:"#gbox_"+$.jgrid.jqID(w),jqm:t.jqModal,onClose:rp_ge[f.p.id].onClose,removemodal:rp_ge[f.p.id].removemodal,formprop:!rp_ge[f.p.id].recreateForm,form:rp_ge[f.p.id].form}),!1):!1})),t.saveicon=$.extend([!0,"left",o.icon_save],t.saveicon),t.closeicon=$.extend([!0,"left",o.icon_close],t.closeicon),t.saveicon[0]===!0&&$("#sData",m).addClass("right"===t.saveicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+a.icon_base+" "+t.saveicon[2]+"'></span>"),t.closeicon[0]===!0&&$("#cData",m).addClass("right"===t.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+a.icon_base+" "+t.closeicon[2]+"'></span>"),rp_ge[f.p.id].checkOnSubmit||rp_ge[f.p.id].checkOnUpdate){U="<a id='sNew' class='fm-button "+a.button+"' style='z-index:1002'>"+t.bYes+"</a>",E="<a id='nNew' class='fm-button "+a.button+"' style='z-index:1002;margin-left:5px'>"+t.bNo+"</a>",z="<a id='cNew' class='fm-button "+a.button+"' style='z-index:1002;margin-left:5px;'>"+t.bExit+"</a>";var W=t.zIndex||999;W++,$("<div class='"+t.overlayClass+" jqgrid-overlay confirm' style='z-index:"+W+";display:none;'>&#160;</div><div class='confirm ui-jqconfirm "+a.content+"' style='z-index:"+(W+1)+"'>"+t.saveData+"<br/><br/>"+U+E+z+"</div>").insertAfter(y),$("#sNew","#"+$.jgrid.jqID(q.themodal)).click(function(){return l(),$(y).data("disabled",!1),$(".confirm","#"+$.jgrid.jqID(q.themodal)).hide(),!1}),$("#nNew","#"+$.jgrid.jqID(q.themodal)).click(function(){return $(".confirm","#"+$.jgrid.jqID(q.themodal)).hide(),$(y).data("disabled",!1),setTimeout(function(){$(":input:visible",y)[0].focus()},0),!1}),$("#cNew","#"+$.jgrid.jqID(q.themodal)).click(function(){return $(".confirm","#"+$.jgrid.jqID(q.themodal)).hide(),$(y).data("disabled",!1),$.jgrid.hideModal("#"+$.jgrid.jqID(q.themodal),{gb:"#gbox_"+$.jgrid.jqID(w),jqm:t.jqModal,onClose:rp_ge[f.p.id].onClose,removemodal:rp_ge[f.p.id].removemodal,formprop:!rp_ge[f.p.id].recreateForm,form:rp_ge[f.p.id].form}),!1})}$(f).triggerHandler("jqGridAddEditInitializeForm",[$(y),b]),$.isFunction(rp_ge[f.p.id].onInitializeForm)&&rp_ge[f.p.id].onInitializeForm.call(f,$(y),b),"_empty"!==e&&rp_ge[f.p.id].viewPagerButtons?$("#pData,#nData",m).show():$("#pData,#nData",m).hide(),$(f).triggerHandler("jqGridAddEditBeforeShowForm",[$(y),b]),$.isFunction(rp_ge[f.p.id].beforeShowForm)&&rp_ge[f.p.id].beforeShowForm.call(f,$(y),b),$("#"+$.jgrid.jqID(q.themodal)).data("onClose",rp_ge[f.p.id].onClose),$.jgrid.viewModal("#"+$.jgrid.jqID(q.themodal),{gbox:"#gbox_"+$.jgrid.jqID(w),jqm:t.jqModal,overlay:t.overlay,modal:t.modal,overlayClass:t.overlayClass,focusField:t.focusField,onHide:function(e){var t=$("#editmod"+w)[0].style.height,i=$("#editmod"+w)[0].style.width;t.indexOf("px")>-1&&(t=parseFloat(t)),i.indexOf("px")>-1&&(i=parseFloat(i)),$(f).data("formProp",{top:parseFloat($(e.w).css("top")),left:parseFloat($(e.w).css("left")),width:i,height:t,dataheight:$(y).height(),datawidth:$(y).width()}),e.w.remove(),e.o&&e.o.remove()}}),S||$("."+$.jgrid.jqID(t.overlayClass)).click(function(){return p()?($.jgrid.hideModal("#"+$.jgrid.jqID(q.themodal),{gb:"#gbox_"+$.jgrid.jqID(w),jqm:t.jqModal,onClose:rp_ge[f.p.id].onClose,removemodal:rp_ge[f.p.id].removemodal,formprop:!rp_ge[f.p.id].recreateForm,form:rp_ge[f.p.id].form}),!1):!1
}),$(".fm-button","#"+$.jgrid.jqID(q.themodal)).hover(function(){$(this).addClass(a.hover)},function(){$(this).removeClass(a.hover)}),$("#sData",m).click(function(){return v={},$(".FormError",y).hide(),i(),"_empty"===v[f.p.id+"_id"]?l():t.checkOnSubmit===!0?(j=d(v,rp_ge[f.p.id]._savedData),j?($(y).data("disabled",!0),$(".confirm","#"+$.jgrid.jqID(q.themodal)).show()):l()):l(),!1}),$("#cData",m).click(function(){return p()?($.jgrid.hideModal("#"+$.jgrid.jqID(q.themodal),{gb:"#gbox_"+$.jgrid.jqID(w),jqm:t.jqModal,onClose:rp_ge[f.p.id].onClose,removemodal:rp_ge[f.p.id].removemodal,formprop:!rp_ge[f.p.id].recreateForm,form:rp_ge[f.p.id].form}),!1):!1}),$("#nData",m).click(function(){if(!p())return!1;$(".FormError",y).hide();var e=g();if(e[0]=parseInt(e[0],10),-1!==e[0]&&e[1][e[0]+1]){$(f).triggerHandler("jqGridAddEditClickPgButtons",["next",$(y),e[1][e[0]]]);var i;if($.isFunction(t.onclickPgButtons)&&(i=t.onclickPgButtons.call(f,"next",$(y),e[1][e[0]]),void 0!==i&&i===!1))return!1;if($("#"+$.jgrid.jqID(e[1][e[0]+1])).hasClass(a.disabled))return!1;s(e[1][e[0]+1],f,y),$(f).jqGrid("setSelection",e[1][e[0]+1]),$(f).triggerHandler("jqGridAddEditAfterClickPgButtons",["next",$(y),e[1][e[0]]]),$.isFunction(t.afterclickPgButtons)&&t.afterclickPgButtons.call(f,"next",$(y),e[1][e[0]+1]),u(e[0]+1,e)}return!1}),$("#pData",m).click(function(){if(!p())return!1;$(".FormError",y).hide();var e=g();if(-1!==e[0]&&e[1][e[0]-1]){$(f).triggerHandler("jqGridAddEditClickPgButtons",["prev",$(y),e[1][e[0]]]);var i;if($.isFunction(t.onclickPgButtons)&&(i=t.onclickPgButtons.call(f,"prev",$(y),e[1][e[0]]),void 0!==i&&i===!1))return!1;if($("#"+$.jgrid.jqID(e[1][e[0]-1])).hasClass(a.disabled))return!1;s(e[1][e[0]-1],f,y),$(f).jqGrid("setSelection",e[1][e[0]-1]),$(f).triggerHandler("jqGridAddEditAfterClickPgButtons",["prev",$(y),e[1][e[0]]]),$.isFunction(t.afterclickPgButtons)&&t.afterclickPgButtons.call(f,"prev",$(y),e[1][e[0]-1]),u(e[0]-1,e)}return!1}),$(f).triggerHandler("jqGridAddEditAfterShowForm",[$(y),b]),$.isFunction(rp_ge[f.p.id].afterShowForm)&&rp_ge[f.p.id].afterShowForm.call(f,$(y),b);var Q=g();u(Q[0],Q)}}})},viewGridRow:function(e,t){var i=$.jgrid.getRegional(this[0],"view"),r=this[0].p.styleUI,o=$.jgrid.styleUI[r].formedit,a=$.jgrid.styleUI[r].common;return t=$.extend(!0,{top:0,left:0,width:500,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,jqModal:!0,closeOnEscape:!1,labelswidth:"30%",closeicon:[],navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0,recreateForm:!1,removemodal:!0,form:"view"},i,t||{}),rp_ge[$(this)[0].p.id]=t,this.each(function(){function i(){(rp_ge[d.p.id].closeOnEscape===!0||rp_ge[d.p.id].navkeys[0]===!0)&&setTimeout(function(){$(".ui-jqdialog-titlebar-close","#"+$.jgrid.jqID(f.modalhead)).attr("tabindex","-1").focus()},0)}function r(e,i,r,o){var s,n,l,d,p,c,u,g,h,f=0,m=[],v=!1,j="<td class='CaptionTD form-view-label "+a.content+"' width='"+t.labelswidth+"'>&#160;</td><td class='DataTD form-view-data ui-helper-reset "+a.content+"'>&#160;</td>",b="",w="<td class='CaptionTD form-view-label "+a.content+"'>&#160;</td><td class='DataTD form-view-data "+a.content+"'>&#160;</td>",y=["integer","number","currency"],_=0,x=0;for(c=1;o>=c;c++)b+=1===c?j:w;if($(i.p.colModel).each(function(){n=this.editrules&&this.editrules.edithidden===!0?!1:this.hidden===!0?!0:!1,n||"right"!==this.align||(this.formatter&&-1!==$.inArray(this.formatter,y)?_=Math.max(_,parseInt(this.width,10)):x=Math.max(x,parseInt(this.width,10)))}),u=0!==_?_:0!==x?x:0,v=$(i).jqGrid("getInd",e),$(i.p.colModel).each(function(e){if(s=this.name,g=!1,n=this.editrules&&this.editrules.edithidden===!0?!1:this.hidden===!0?!0:!1,p=n?"style='display:none'":"",h="boolean"!=typeof this.viewable?!0:this.viewable,"cb"!==s&&"subgrid"!==s&&"rn"!==s&&h){d=v===!1?"":s===i.p.ExpandColumn&&i.p.treeGrid===!0?$("td:eq("+e+")",i.rows[v]).text():$("td:eq("+e+")",i.rows[v]).html(),g="right"===this.align&&0!==u?!0:!1;var t=$.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),a=parseInt(t.rowpos,10)||f+1,c=parseInt(2*(parseInt(t.colpos,10)||1),10);if(t.rowabove){var j=$("<tr><td class='contentinfo' colspan='"+2*o+"'>"+t.rowcontent+"</td></tr>");$(r).append(j),j[0].rp=a}l=$(r).find("tr[rowpos="+a+"]"),0===l.length&&(l=$("<tr "+p+" rowpos='"+a+"'></tr>").addClass("FormData").attr("id","trv_"+s),$(l).append(b),$(r).append(l),l[0].rp=a),$("td:eq("+(c-2)+")",l[0]).html("<b>"+(void 0===t.label?i.p.colNames[e]:t.label)+"</b>"),$("td:eq("+(c-1)+")",l[0]).append("<span>"+d+"</span>").attr("id","v_"+s),g&&$("td:eq("+(c-1)+") span",l[0]).css({"text-align":"right",width:u+"px"}),m[f]=e,f++}}),f>0){var q=$("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*o-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+e+"'/></td></tr>");q[0].rp=f+99,$(r).append(q)}return m}function s(e,t){var i,r,o,a,s=0;a=$(t).jqGrid("getInd",e,!0),a&&($("td",a).each(function(e){i=t.p.colModel[e].name,r=t.p.colModel[e].editrules&&t.p.colModel[e].editrules.edithidden===!0?!1:t.p.colModel[e].hidden===!0?!0:!1,"cb"!==i&&"subgrid"!==i&&"rn"!==i&&(o=i===t.p.ExpandColumn&&t.p.treeGrid===!0?$(this).text():$(this).html(),i=$.jgrid.jqID("v_"+i),$("#"+i+" span","#"+u).html(o),r&&$("#"+i,"#"+u).parents("tr:first").hide(),s++)}),s>0&&$("#id_g","#"+u).val(e))}function n(e,t){var i=t[1].length-1;0===e?$("#pData","#"+u+"_2").addClass(a.disabled):void 0!==t[1][e-1]&&$("#"+$.jgrid.jqID(t[1][e-1])).hasClass(a.disabled)?$("#pData",u+"_2").addClass(a.disabled):$("#pData","#"+u+"_2").removeClass(a.disabled),e===i?$("#nData","#"+u+"_2").addClass(a.disabled):void 0!==t[1][e+1]&&$("#"+$.jgrid.jqID(t[1][e+1])).hasClass(a.disabled)?$("#nData",u+"_2").addClass(a.disabled):$("#nData","#"+u+"_2").removeClass(a.disabled)}function l(){var e=$(d).jqGrid("getDataIDs"),t=$("#id_g","#"+u).val(),i=$.inArray(t,e);return[i,e]}var d=this;if(d.grid&&e){var p=d.p.id,c="ViewGrid_"+$.jgrid.jqID(p),u="ViewTbl_"+$.jgrid.jqID(p),g="ViewGrid_"+p,h="ViewTbl_"+p,f={themodal:"viewmod"+p,modalhead:"viewhd"+p,modalcontent:"viewcnt"+p,scrollelm:c},m=$.isFunction(rp_ge[d.p.id].beforeInitData)?rp_ge[d.p.id].beforeInitData:!1,v=!0,j=1,b=0;rp_ge[d.p.id].styleUI=d.p.styleUI||"jQueryUI",t.recreateForm||$(d).data("viewProp")&&$.extend(rp_ge[$(this)[0].p.id],$(d).data("viewProp"));var w=isNaN(rp_ge[$(this)[0].p.id].dataheight)?rp_ge[$(this)[0].p.id].dataheight:rp_ge[$(this)[0].p.id].dataheight+"px",y=isNaN(rp_ge[$(this)[0].p.id].datawidth)?rp_ge[$(this)[0].p.id].datawidth:rp_ge[$(this)[0].p.id].datawidth+"px",_=$("<form name='FormPost' id='"+g+"' class='FormGrid' style='width:"+y+";height:"+w+";'></form>"),x=$("<table id='"+h+"' class='EditTable ViewTable'><tbody></tbody></table>");if($(d.p.colModel).each(function(){var e=this.formoptions;j=Math.max(j,e?e.colpos||0:0),b=Math.max(b,e?e.rowpos||0:0)}),$(_).append(x),m&&(v=m.call(d,_),void 0===v&&(v=!0)),v!==!1){r(e,d,x,j);var q="rtl"===d.p.direction?!0:!1,D=q?"nData":"pData",C=q?"pData":"nData",I="<a id='"+D+"' class='fm-button "+a.button+"'><span class='"+a.icon_base+" "+o.icon_prev+"'></span></a>",G="<a id='"+C+"' class='fm-button "+a.button+"'><span class='"+a.icon_base+" "+o.icon_next+"'></span></a>",F="<a id='cData' class='fm-button "+a.button+"'>"+t.bClose+"</a>";if(b>0){var S=[];$.each($(x)[0].rows,function(e,t){S[e]=t}),S.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),$.each(S,function(e,t){$("tbody",x).append(t)})}t.gbox="#gbox_"+$.jgrid.jqID(p);var k=$("<div></div>").append(_).append("<table border='0' class='EditTable' id='"+u+"_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='"+t.labelswidth+"'>"+(q?G+I:I+G)+"</td><td class='EditButton'>"+F+"</td></tr></tbody></table>");$.jgrid.createModal(f,k,rp_ge[$(this)[0].p.id],"#gview_"+$.jgrid.jqID(d.p.id),$("#gview_"+$.jgrid.jqID(d.p.id))[0]),q&&($("#pData, #nData","#"+u+"_2").css("float","right"),$(".EditButton","#"+u+"_2").css("text-align","left")),t.viewPagerButtons||$("#pData, #nData","#"+u+"_2").hide(),k=null,$("#"+f.themodal).keydown(function(e){if(27===e.which)return rp_ge[d.p.id].closeOnEscape&&$.jgrid.hideModal("#"+$.jgrid.jqID(f.themodal),{gb:t.gbox,jqm:t.jqModal,onClose:t.onClose,removemodal:rp_ge[d.p.id].removemodal,formprop:!rp_ge[d.p.id].recreateForm,form:rp_ge[d.p.id].form}),!1;if(t.navkeys[0]===!0){if(e.which===t.navkeys[1])return $("#pData","#"+u+"_2").trigger("click"),!1;if(e.which===t.navkeys[2])return $("#nData","#"+u+"_2").trigger("click"),!1}}),t.closeicon=$.extend([!0,"left",o.icon_close],t.closeicon),t.closeicon[0]===!0&&$("#cData","#"+u+"_2").addClass("right"===t.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+a.icon_base+" "+t.closeicon[2]+"'></span>"),$.isFunction(t.beforeShowForm)&&t.beforeShowForm.call(d,$("#"+c)),$.jgrid.viewModal("#"+$.jgrid.jqID(f.themodal),{gbox:"#gbox_"+$.jgrid.jqID(p),jqm:t.jqModal,overlay:t.overlay,modal:t.modal,onHide:function(e){$(d).data("viewProp",{top:parseFloat($(e.w).css("top")),left:parseFloat($(e.w).css("left")),width:$(e.w).width(),height:$(e.w).height(),dataheight:$("#"+c).height(),datawidth:$("#"+c).width()}),e.w.remove(),e.o&&e.o.remove()}}),$(".fm-button:not(."+a.disabled+")","#"+u+"_2").hover(function(){$(this).addClass(a.hover)},function(){$(this).removeClass(a.hover)}),i(),$("#cData","#"+u+"_2").click(function(){return $.jgrid.hideModal("#"+$.jgrid.jqID(f.themodal),{gb:"#gbox_"+$.jgrid.jqID(p),jqm:t.jqModal,onClose:t.onClose,removemodal:rp_ge[d.p.id].removemodal,formprop:!rp_ge[d.p.id].recreateForm,form:rp_ge[d.p.id].form}),!1}),$("#nData","#"+u+"_2").click(function(){$("#FormError","#"+u).hide();var e=l();return e[0]=parseInt(e[0],10),-1!==e[0]&&e[1][e[0]+1]&&($.isFunction(t.onclickPgButtons)&&t.onclickPgButtons.call(d,"next",$("#"+c),e[1][e[0]]),s(e[1][e[0]+1],d),$(d).jqGrid("setSelection",e[1][e[0]+1]),$.isFunction(t.afterclickPgButtons)&&t.afterclickPgButtons.call(d,"next",$("#"+c),e[1][e[0]+1]),n(e[0]+1,e)),i(),!1}),$("#pData","#"+u+"_2").click(function(){$("#FormError","#"+u).hide();var e=l();return-1!==e[0]&&e[1][e[0]-1]&&($.isFunction(t.onclickPgButtons)&&t.onclickPgButtons.call(d,"prev",$("#"+c),e[1][e[0]]),s(e[1][e[0]-1],d),$(d).jqGrid("setSelection",e[1][e[0]-1]),$.isFunction(t.afterclickPgButtons)&&t.afterclickPgButtons.call(d,"prev",$("#"+c),e[1][e[0]-1]),n(e[0]-1,e)),i(),!1});var R=l();n(R[0],R)}}})},delGridRow:function(e,t){var i=$.jgrid.getRegional(this[0],"del"),r=this[0].p.styleUI,o=$.jgrid.styleUI[r].formedit,a=$.jgrid.styleUI[r].common;return t=$.extend(!0,{top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,jqModal:!0,closeOnEscape:!1,delData:{},delicon:[],cancelicon:[],onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},i,t||{}),rp_ge[$(this)[0].p.id]=t,this.each(function(){var i=this;if(i.grid&&e){var r,s,n,l,d=$.isFunction(rp_ge[i.p.id].beforeShowForm),p=$.isFunction(rp_ge[i.p.id].afterShowForm),c=$.isFunction(rp_ge[i.p.id].beforeInitData)?rp_ge[i.p.id].beforeInitData:!1,u=i.p.id,g={},h=!0,f="DelTbl_"+$.jgrid.jqID(u),m="DelTbl_"+u,v={themodal:"delmod"+u,modalhead:"delhd"+u,modalcontent:"delcnt"+u,scrollelm:f};if(rp_ge[i.p.id].styleUI=i.p.styleUI||"jQueryUI",$.isArray(e)&&(e=e.join()),void 0!==$("#"+$.jgrid.jqID(v.themodal))[0]){if(c&&(h=c.call(i,$("#"+f)),void 0===h&&(h=!0)),h===!1)return;$("#DelData>td","#"+f).text(e),$("#DelError","#"+f).hide(),rp_ge[i.p.id].processing===!0&&(rp_ge[i.p.id].processing=!1,$("#dData","#"+f).removeClass(a.active)),d&&rp_ge[i.p.id].beforeShowForm.call(i,$("#"+f)),$.jgrid.viewModal("#"+$.jgrid.jqID(v.themodal),{gbox:"#gbox_"+$.jgrid.jqID(u),jqm:rp_ge[i.p.id].jqModal,jqM:!1,overlay:rp_ge[i.p.id].overlay,modal:rp_ge[i.p.id].modal}),p&&rp_ge[i.p.id].afterShowForm.call(i,$("#"+f))}else{var j=isNaN(rp_ge[i.p.id].dataheight)?rp_ge[i.p.id].dataheight:rp_ge[i.p.id].dataheight+"px",b=isNaN(t.datawidth)?t.datawidth:t.datawidth+"px",w="<div id='"+m+"' class='formdata' style='width:"+b+";overflow:auto;position:relative;height:"+j+";'>";w+="<table class='DelTable'><tbody>",w+="<tr id='DelError' style='display:none'><td class='"+a.error+"'></td></tr>",w+="<tr id='DelData' style='display:none'><td >"+e+"</td></tr>",w+='<tr><td class="delmsg" style="white-space:pre;">'+rp_ge[i.p.id].msg+"</td></tr><tr><td >&#160;</td></tr>",w+="</tbody></table></div>";var y="<a id='dData' class='fm-button "+a.button+"'>"+t.bSubmit+"</a>",_="<a id='eData' class='fm-button "+a.button+"'>"+t.bCancel+"</a>";if(w+="<table class='EditTable ui-common-table' id='"+f+"_2'><tbody><tr><td><hr class='"+a.content+"' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton'>"+y+"&#160;"+_+"</td></tr></tbody></table>",t.gbox="#gbox_"+$.jgrid.jqID(u),$.jgrid.createModal(v,w,rp_ge[i.p.id],"#gview_"+$.jgrid.jqID(i.p.id),$("#gview_"+$.jgrid.jqID(i.p.id))[0]),c&&(h=c.call(i,$(w)),void 0===h&&(h=!0)),h===!1)return;$(".fm-button","#"+f+"_2").hover(function(){$(this).addClass(a.hover)},function(){$(this).removeClass(a.hover)}),t.delicon=$.extend([!0,"left",o.icon_del],rp_ge[i.p.id].delicon),t.cancelicon=$.extend([!0,"left",o.icon_cancel],rp_ge[i.p.id].cancelicon),t.delicon[0]===!0&&$("#dData","#"+f+"_2").addClass("right"===t.delicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+a.icon_base+" "+t.delicon[2]+"'></span>"),t.cancelicon[0]===!0&&$("#eData","#"+f+"_2").addClass("right"===t.cancelicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+a.icon_base+" "+t.cancelicon[2]+"'></span>"),$("#dData","#"+f+"_2").click(function(){var e,o=[!0,""],d=$("#DelData>td","#"+f).text();if(g={},$.isFunction(rp_ge[i.p.id].onclickSubmit)&&(g=rp_ge[i.p.id].onclickSubmit.call(i,rp_ge[i.p.id],d)||{}),$.isFunction(rp_ge[i.p.id].beforeSubmit)&&(o=rp_ge[i.p.id].beforeSubmit.call(i,d)),o[0]&&!rp_ge[i.p.id].processing){if(rp_ge[i.p.id].processing=!0,n=i.p.prmNames,r=$.extend({},rp_ge[i.p.id].delData,g),l=n.oper,r[l]=n.deloper,s=n.id,d=String(d).split(","),!d.length)return!1;for(e in d)d.hasOwnProperty(e)&&(d[e]=$.jgrid.stripPref(i.p.idPrefix,d[e]));r[s]=d.join(),$(this).addClass(a.active);var p=$.extend({url:rp_ge[i.p.id].url||$(i).jqGrid("getGridParam","editurl"),type:rp_ge[i.p.id].mtype,data:$.isFunction(rp_ge[i.p.id].serializeDelData)?rp_ge[i.p.id].serializeDelData.call(i,r):r,complete:function(e,s){var n;if($("#dData","#"+f+"_2").removeClass(a.active),e.status>=300&&304!==e.status?(o[0]=!1,o[1]=$.isFunction(rp_ge[i.p.id].errorTextFormat)?rp_ge[i.p.id].errorTextFormat.call(i,e):s+" Status: '"+e.statusText+"'. Error code: "+e.status):$.isFunction(rp_ge[i.p.id].afterSubmit)&&(o=rp_ge[i.p.id].afterSubmit.call(i,e,r)),o[0]===!1)$("#DelError>td","#"+f).html(o[1]),$("#DelError","#"+f).show();else{if(rp_ge[i.p.id].reloadAfterSubmit&&"local"!==i.p.datatype)$(i).trigger("reloadGrid");else{if(i.p.treeGrid===!0)try{$(i).jqGrid("delTreeNode",i.p.idPrefix+d[0])}catch(l){}else for(n=0;n<d.length;n++)$(i).jqGrid("delRowData",i.p.idPrefix+d[n]);i.p.selrow=null,i.p.selarrrow=[]}$.isFunction(rp_ge[i.p.id].afterComplete)&&setTimeout(function(){rp_ge[i.p.id].afterComplete.call(i,e,d)},500)}rp_ge[i.p.id].processing=!1,o[0]&&$.jgrid.hideModal("#"+$.jgrid.jqID(v.themodal),{gb:"#gbox_"+$.jgrid.jqID(u),jqm:t.jqModal,onClose:rp_ge[i.p.id].onClose})}},$.jgrid.ajaxOptions,rp_ge[i.p.id].ajaxDelOptions);if(p.url||rp_ge[i.p.id].useDataProxy||($.isFunction(i.p.dataProxy)?rp_ge[i.p.id].useDataProxy=!0:(o[0]=!1,o[1]+=" "+$.jgrid.getRegional(i,"errors.nourl"))),o[0])if(rp_ge[i.p.id].useDataProxy){var c=i.p.dataProxy.call(i,p,"del_"+i.p.id);void 0===c&&(c=[!0,""]),c[0]===!1?(o[0]=!1,o[1]=c[1]||"Error deleting the selected row!"):$.jgrid.hideModal("#"+$.jgrid.jqID(v.themodal),{gb:"#gbox_"+$.jgrid.jqID(u),jqm:t.jqModal,onClose:rp_ge[i.p.id].onClose})}else"clientArray"===p.url?(r=p.data,p.complete({status:200,statusText:""},"")):$.ajax(p)}return o[0]===!1&&($("#DelError>td","#"+f).html(o[1]),$("#DelError","#"+f).show()),!1}),$("#eData","#"+f+"_2").click(function(){return $.jgrid.hideModal("#"+$.jgrid.jqID(v.themodal),{gb:"#gbox_"+$.jgrid.jqID(u),jqm:rp_ge[i.p.id].jqModal,onClose:rp_ge[i.p.id].onClose}),!1}),d&&rp_ge[i.p.id].beforeShowForm.call(i,$("#"+f)),$.jgrid.viewModal("#"+$.jgrid.jqID(v.themodal),{gbox:"#gbox_"+$.jgrid.jqID(u),jqm:rp_ge[i.p.id].jqModal,overlay:rp_ge[i.p.id].overlay,modal:rp_ge[i.p.id].modal}),p&&rp_ge[i.p.id].afterShowForm.call(i,$("#"+f))}rp_ge[i.p.id].closeOnEscape===!0&&setTimeout(function(){$(".ui-jqdialog-titlebar-close","#"+$.jgrid.jqID(v.modalhead)).attr("tabindex","-1").focus()},0)}})},navGrid:function(e,t,i,r,o,a,s){var n=$.jgrid.getRegional(this[0],"nav"),l=this[0].p.styleUI,d=$.jgrid.styleUI[l].navigator,p=$.jgrid.styleUI[l].common;return t=$.extend({edit:!0,editicon:d.icon_edit_nav,add:!0,addicon:d.icon_add_nav,del:!0,delicon:d.icon_del_nav,search:!0,searchicon:d.icon_search_nav,refresh:!0,refreshicon:d.icon_refresh_nav,refreshstate:"firstpage",view:!1,viewicon:d.icon_view_nav,position:"left",closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,alertwidth:200,alertheight:"auto",alerttop:null,alertleft:null,alertzIndex:null,dropmenu:!1},n,t||{}),this.each(function(){if(!this.p.navGrid){var d,c,u,g={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},h=this;if(h.grid&&"string"==typeof e){$(h).data("navGrid")||$(h).data("navGrid",t),u=$(h).data("navGrid"),h.p.force_regional&&(u=$.extend(u,n)),void 0===$("#"+g.themodal)[0]&&(u.alerttop||u.alertleft||(void 0!==window.innerWidth?(u.alertleft=window.innerWidth,u.alerttop=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(u.alertleft=document.documentElement.clientWidth,u.alerttop=document.documentElement.clientHeight):(u.alertleft=1024,u.alerttop=768),u.alertleft=u.alertleft/2-parseInt(u.alertwidth,10)/2,u.alerttop=u.alerttop/2-25),$.jgrid.createModal(g,"<div>"+u.alerttext+"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",{gbox:"#gbox_"+$.jgrid.jqID(h.p.id),jqModal:!0,drag:!0,resize:!0,caption:u.alertcap,top:u.alerttop,left:u.alertleft,width:u.alertwidth,height:u.alertheight,closeOnEscape:u.closeOnEscape,zIndex:u.alertzIndex,styleUI:h.p.styleUI},"#gview_"+$.jgrid.jqID(h.p.id),$("#gbox_"+$.jgrid.jqID(h.p.id))[0],!0));var f,m=1,v=function(){$(this).hasClass(p.disabled)||$(this).addClass(p.hover)},j=function(){$(this).removeClass(p.hover)};for(u.cloneToTop&&h.p.toppager&&(m=2),f=0;m>f;f++){var b,w,y,_=$("<table class='ui-pg-table navtable ui-common-table'><tbody><tr></tr></tbody></table>"),x="<td class='ui-pg-button "+p.disabled+"' style='width:4px;'><span class='ui-separator'></span></td>";0===f?(w=e,y=h.p.id,w===h.p.toppager&&(y+="_top",m=1)):(w=h.p.toppager,y=h.p.id+"_top"),"rtl"===h.p.direction&&$(_).attr("dir","rtl").css("float","right"),r=r||{},u.add&&(b=$("<td class='ui-pg-button "+p.cornerall+"'></td>"),$(b).append("<div class='ui-pg-div'><span class='"+p.icon_base+" "+u.addicon+"'></span>"+u.addtext+"</div>"),$("tr",_).append(b),$(b,_).attr({title:u.addtitle||"",id:r.id||"add_"+y}).click(function(){return $(this).hasClass(p.disabled)||($.isFunction(u.addfunc)?u.addfunc.call(h):$(h).jqGrid("editGridRow","new",r)),!1}).hover(v,j),b=null),i=i||{},u.edit&&(b=$("<td class='ui-pg-button "+p.cornerall+"'></td>"),$(b).append("<div class='ui-pg-div'><span class='"+p.icon_base+" "+u.editicon+"'></span>"+u.edittext+"</div>"),$("tr",_).append(b),$(b,_).attr({title:u.edittitle||"",id:i.id||"edit_"+y}).click(function(){if(!$(this).hasClass(p.disabled)){var e=h.p.selrow;e?$.isFunction(u.editfunc)?u.editfunc.call(h,e):$(h).jqGrid("editGridRow",e,i):($.jgrid.viewModal("#"+g.themodal,{gbox:"#gbox_"+$.jgrid.jqID(h.p.id),jqm:!0}),$("#jqg_alrt").focus())}return!1}).hover(v,j),b=null),s=s||{},u.view&&(b=$("<td class='ui-pg-button "+p.cornerall+"'></td>"),$(b).append("<div class='ui-pg-div'><span class='"+p.icon_base+" "+u.viewicon+"'></span>"+u.viewtext+"</div>"),$("tr",_).append(b),$(b,_).attr({title:u.viewtitle||"",id:s.id||"view_"+y}).click(function(){if(!$(this).hasClass(p.disabled)){var e=h.p.selrow;e?$.isFunction(u.viewfunc)?u.viewfunc.call(h,e):$(h).jqGrid("viewGridRow",e,s):($.jgrid.viewModal("#"+g.themodal,{gbox:"#gbox_"+$.jgrid.jqID(h.p.id),jqm:!0}),$("#jqg_alrt").focus())}return!1}).hover(v,j),b=null),o=o||{},u.del&&(b=$("<td class='ui-pg-button "+p.cornerall+"'></td>"),$(b).append("<div class='ui-pg-div'><span class='"+p.icon_base+" "+u.delicon+"'></span>"+u.deltext+"</div>"),$("tr",_).append(b),$(b,_).attr({title:u.deltitle||"",id:o.id||"del_"+y}).click(function(){if(!$(this).hasClass(p.disabled)){var e;h.p.multiselect?(e=h.p.selarrrow,0===e.length&&(e=null)):e=h.p.selrow,e?$.isFunction(u.delfunc)?u.delfunc.call(h,e):$(h).jqGrid("delGridRow",e,o):($.jgrid.viewModal("#"+g.themodal,{gbox:"#gbox_"+$.jgrid.jqID(h.p.id),jqm:!0}),$("#jqg_alrt").focus())}return!1}).hover(v,j),b=null),(u.add||u.edit||u.del||u.view)&&$("tr",_).append(x),a=a||{},u.search&&(b=$("<td class='ui-pg-button "+p.cornerall+"'></td>"),$(b).append("<div class='ui-pg-div'><span class='"+p.icon_base+" "+u.searchicon+"'></span>"+u.searchtext+"</div>"),$("tr",_).append(b),$(b,_).attr({title:u.searchtitle||"",id:a.id||"search_"+y}).click(function(){return $(this).hasClass(p.disabled)||($.isFunction(u.searchfunc)?u.searchfunc.call(h,a):$(h).jqGrid("searchGrid",a)),!1}).hover(v,j),a.showOnLoad&&a.showOnLoad===!0&&$(b,_).click(),b=null),u.refresh&&(b=$("<td class='ui-pg-button "+p.cornerall+"'></td>"),$(b).append("<div class='ui-pg-div'><span class='"+p.icon_base+" "+u.refreshicon+"'></span>"+u.refreshtext+"</div>"),$("tr",_).append(b),$(b,_).attr({title:u.refreshtitle||"",id:"refresh_"+y}).click(function(){if(!$(this).hasClass(p.disabled)){$.isFunction(u.beforeRefresh)&&u.beforeRefresh.call(h),h.p.search=!1,h.p.resetsearch=!0;try{if("currentfilter"!==u.refreshstate){var e=h.p.id;h.p.postData.filters="";try{$("#fbox_"+$.jgrid.jqID(e)).jqFilter("resetFilter")}catch(t){}$.isFunction(h.clearToolbar)&&h.clearToolbar.call(h,!1)}}catch(i){}switch(u.refreshstate){case"firstpage":$(h).trigger("reloadGrid",[{page:1}]);break;case"current":case"currentfilter":$(h).trigger("reloadGrid",[{current:!0}])}$.isFunction(u.afterRefresh)&&u.afterRefresh.call(h)}return!1}).hover(v,j),b=null),c=$(".ui-jqgrid").css("font-size")||"11px",$("body").append("<div id='testpg2' class='ui-jqgrid "+$.jgrid.styleUI[l].base.entrieBox+"' style='font-size:"+c+";visibility:hidden;' ></div>"),d=$(_).clone().appendTo("#testpg2").width(),$("#testpg2").remove(),h.p._nvtd&&(u.dropmenu?(_=null,$(h).jqGrid("_buildNavMenu",w,y,t,i,r,o,a,s)):d>h.p._nvtd[0]?(h.p.responsive?(_=null,$(h).jqGrid("_buildNavMenu",w,y,t,i,r,o,a,s)):$(w+"_"+u.position,w).width(d),h.p._nvtd[0]=d):$(w+"_"+u.position,w).append(_),h.p._nvtd[1]=d),h.p.navGrid=!0}h.p.storeNavOptions&&(h.p.navOptions=u,h.p.editOptions=i,h.p.addOptions=r,h.p.delOptions=o,h.p.searchOptions=a,h.p.viewOptions=s)}}})},navButtonAdd:function(e,t){var i=this[0].p.styleUI,r=$.jgrid.styleUI[i].navigator;return t=$.extend({caption:"newButton",title:"",buttonicon:r.icon_newbutton_nav,onClickButton:null,position:"last",cursor:"pointer"},t||{}),this.each(function(){if(this.grid){"string"==typeof e&&0!==e.indexOf("#")&&(e="#"+$.jgrid.jqID(e));var r=$(".navtable",e)[0],o=this,a=$.jgrid.styleUI[i].common.disabled,s=$.jgrid.styleUI[i].common.hover,n=$.jgrid.styleUI[i].common.cornerall,l=$.jgrid.styleUI[i].common.icon_base;if(r){if(t.id&&void 0!==$("#"+$.jgrid.jqID(t.id),r)[0])return;var d=$("<td></td>");$(d).addClass("ui-pg-button "+n).append("NONE"===t.buttonicon.toString().toUpperCase()?"<div class='ui-pg-div'>"+t.caption+"</div>":"<div class='ui-pg-div'><span class='"+l+" "+t.buttonicon+"'></span>"+t.caption+"</div>"),t.id&&$(d).attr("id",t.id),"first"===t.position?0===r.rows[0].cells.length?$("tr",r).append(d):$("tr td:eq(0)",r).before(d):$("tr",r).append(d),$(d,r).attr("title",t.title||"").click(function(e){return $(this).hasClass(a)||$.isFunction(t.onClickButton)&&t.onClickButton.call(o,e),!1}).hover(function(){$(this).hasClass(a)||$(this).addClass(s)},function(){$(this).removeClass(s)})}else if(r=$(".dropdownmenu",e)[0]){var p=$(r).val(),c=t.id||$.jgrid.randId(),u=$('<li class="ui-menu-item" role="presentation"><a class="'+n+' g-menu-item" tabindex="0" role="menuitem" id="'+c+'">'+(t.caption||t.title)+"</a></li>");p&&("first"===t.position?$("#"+p).prepend(u):$("#"+p).append(u),$(u).on("click",function(e){return $(this).hasClass(a)||($("#"+p).hide(),$.isFunction(t.onClickButton)&&t.onClickButton.call(o,e)),!1}).find("a").hover(function(){$(this).hasClass(a)||$(this).addClass(s)},function(){$(this).removeClass(s)}))}}})},navSeparatorAdd:function(e,t){var i=this[0].p.styleUI,r=$.jgrid.styleUI[i].common;return t=$.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},t||{}),this.each(function(){if(this.grid){"string"==typeof e&&0!==e.indexOf("#")&&(e="#"+$.jgrid.jqID(e));var i,o,a=$(".navtable",e)[0];a?(i="<td class='ui-pg-button "+r.disabled+"' style='width:4px;'><span class='"+t.sepclass+"'></span>"+t.sepcontent+"</td>","first"===t.position?0===a.rows[0].cells.length?$("tr",a).append(i):$("tr td:eq(0)",a).before(i):$("tr",a).append(i)):(a=$(".dropdownmenu",e)[0],i="<li class='ui-menu-item "+r.disabled+"' style='width:100%' role='presentation'><hr class='ui-separator-li'></li>",a&&(o=$(a).val(),o&&("first"===t.position?$("#"+o).prepend(i):$("#"+o).append(i))))}})},_buildNavMenu:function(e,t,i,r,o,a,s,n){return this.each(function(){var l=this,d=l.p.styleUI,p=($.jgrid.styleUI[d].navigator,$.jgrid.styleUI[d].filter),c=$.jgrid.styleUI[d].common,u="form_menu_"+$.jgrid.randId(),g="<button class='dropdownmenu "+c.button+"' value='"+u+"'>Actions</button>";$(e+"_"+i.position,e).append(g);var h={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},f=function(){var e,d,g=$(".ui-jqgrid-view").css("font-size")||"11px",f=$('<ul id="'+u+'" class="ui-nav-menu modal-content" role="menu" tabindex="0" style="display:none;font-size:'+g+'"></ul>');i.add&&(o=o||{},e=o.id||"add_"+t,d=$('<li class="ui-menu-item" role="presentation"><a class="'+c.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+e+'">'+(i.addtext||i.addtitle)+"</a></li>").click(function(){return $(this).hasClass(c.disabled)||($.isFunction(i.addfunc)?i.addfunc.call(l):$(l).jqGrid("editGridRow","new",o),$(f).hide()),!1}),$(f).append(d)),i.edit&&(r=r||{},e=r.id||"edit_"+t,d=$('<li class="ui-menu-item" role="presentation"><a class="'+c.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+e+'">'+(i.edittext||i.edittitle)+"</a></li>").click(function(){if(!$(this).hasClass(c.disabled)){var e=l.p.selrow;e?$.isFunction(i.editfunc)?i.editfunc.call(l,e):$(l).jqGrid("editGridRow",e,r):($.jgrid.viewModal("#"+h.themodal,{gbox:"#gbox_"+$.jgrid.jqID(l.p.id),jqm:!0}),$("#jqg_alrt").focus()),$(f).hide()}return!1}),$(f).append(d)),i.view&&(n=n||{},e=n.id||"view_"+t,d=$('<li class="ui-menu-item" role="presentation"><a class="'+c.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+e+'">'+(i.viewtext||i.viewtitle)+"</a></li>").click(function(){if(!$(this).hasClass(c.disabled)){var e=l.p.selrow;e?$.isFunction(i.editfunc)?i.viewfunc.call(l,e):$(l).jqGrid("viewGridRow",e,n):($.jgrid.viewModal("#"+h.themodal,{gbox:"#gbox_"+$.jgrid.jqID(l.p.id),jqm:!0}),$("#jqg_alrt").focus()),$(f).hide()}return!1}),$(f).append(d)),i.del&&(a=a||{},e=a.id||"del_"+t,d=$('<li class="ui-menu-item" role="presentation"><a class="'+c.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+e+'">'+(i.deltext||i.deltitle)+"</a></li>").click(function(){if(!$(this).hasClass(c.disabled)){var e;l.p.multiselect?(e=l.p.selarrrow,0===e.length&&(e=null)):e=l.p.selrow,e?$.isFunction(i.delfunc)?i.delfunc.call(l,e):$(l).jqGrid("delGridRow",e,a):($.jgrid.viewModal("#"+h.themodal,{gbox:"#gbox_"+$.jgrid.jqID(l.p.id),jqm:!0}),$("#jqg_alrt").focus()),$(f).hide()}return!1}),$(f).append(d)),(i.add||i.edit||i.del||i.view)&&$(f).append("<li class='ui-menu-item "+c.disabled+"' style='width:100%' role='presentation'><hr class='ui-separator-li'></li>"),i.search&&(s=s||{},e=s.id||"search_"+t,d=$('<li class="ui-menu-item" role="presentation"><a class="'+c.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+e+'">'+(i.searchtext||i.searchtitle)+"</a></li>").click(function(){return $(this).hasClass(c.disabled)||($.isFunction(i.searchfunc)?i.searchfunc.call(l,s):$(l).jqGrid("searchGrid",s),$(f).hide()),!1}),$(f).append(d),s.showOnLoad&&s.showOnLoad===!0&&$(d).click()),i.refresh&&(e=s.id||"search_"+t,d=$('<li class="ui-menu-item" role="presentation"><a class="'+c.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+e+'">'+(i.refreshtext||i.refreshtitle)+"</a></li>").click(function(){if(!$(this).hasClass(c.disabled)){$.isFunction(i.beforeRefresh)&&i.beforeRefresh.call(l),l.p.search=!1,l.p.resetsearch=!0;try{if("currentfilter"!==i.refreshstate){var e=l.p.id;l.p.postData.filters="";try{$("#fbox_"+$.jgrid.jqID(e)).jqFilter("resetFilter")}catch(t){}$.isFunction(l.clearToolbar)&&l.clearToolbar.call(l,!1)}}catch(r){}switch(i.refreshstate){case"firstpage":$(l).trigger("reloadGrid",[{page:1}]);break;case"current":case"currentfilter":$(l).trigger("reloadGrid",[{current:!0}])}$.isFunction(i.afterRefresh)&&i.afterRefresh.call(l),$(f).hide()}return!1}),$(f).append(d)),$(f).hide(),$("body").append(f),$("#"+u).addClass("ui-menu "+p.menu_widget),$("#"+u+" > li > a").hover(function(){$(this).addClass(c.hover)},function(){$(this).removeClass(c.hover)})};f(),$(".dropdownmenu").on("click",function(){var e=$(this).offset(),t=e.left,i=parseInt(e.top),r=$(this).val();$("#"+r).show().css({top:i-($("#"+r).height()+10)+"px",left:t+"px"})}),$("body").on("click",function(e){$(e.target).hasClass("dropdownmenu")||$("#"+u).hide()})})},GridToForm:function(e,t){return this.each(function(){var i,r=this;if(r.grid){var o=$(r).jqGrid("getRowData",e);if(o)for(i in o)o.hasOwnProperty(i)&&($("[name="+$.jgrid.jqID(i)+"]",t).is("input:radio")||$("[name="+$.jgrid.jqID(i)+"]",t).is("input:checkbox")?$("[name="+$.jgrid.jqID(i)+"]",t).each(function(){$(this).val()==o[i]?$(this)[r.p.useProp?"prop":"attr"]("checked",!0):$(this)[r.p.useProp?"prop":"attr"]("checked",!1)}):$("[name="+$.jgrid.jqID(i)+"]",t).val(o[i]))}})},FormToGrid:function(e,t,i,r){return this.each(function(){var o=this;if(o.grid){i||(i="set"),r||(r="first");var a=$(t).serializeArray(),s={};$.each(a,function(e,t){s[t.name]=t.value}),"add"===i?$(o).jqGrid("addRowData",e,s,r):"set"===i&&$(o).jqGrid("setRowData",e,s)}})}}),$.jgrid.extend({groupingSetup:function(){return this.each(function(){var e,t,i,r=this,o=r.p.colModel,a=r.p.groupingView,s=$.jgrid.styleUI[r.p.styleUI||"jQueryUI"].grouping;if(null===a||"object"!=typeof a&&!$.isFunction(a))r.p.grouping=!1;else if(a.plusicon||(a.plusicon=s.icon_plus),a.minusicon||(a.minusicon=s.icon_minus),a.groupField.length){for(void 0===a.visibiltyOnNextGrouping&&(a.visibiltyOnNextGrouping=[]),a.lastvalues=[],a._locgr||(a.groups=[]),a.counters=[],e=0;e<a.groupField.length;e++)a.groupOrder[e]||(a.groupOrder[e]="asc"),a.groupText[e]||(a.groupText[e]="{0}"),"boolean"!=typeof a.groupColumnShow[e]&&(a.groupColumnShow[e]=!0),"boolean"!=typeof a.groupSummary[e]&&(a.groupSummary[e]=!1),a.groupSummaryPos[e]||(a.groupSummaryPos[e]="footer"),a.groupColumnShow[e]===!0?(a.visibiltyOnNextGrouping[e]=!0,$(r).jqGrid("showCol",a.groupField[e])):(a.visibiltyOnNextGrouping[e]=$("#"+$.jgrid.jqID(r.p.id+"_"+a.groupField[e])).is(":visible"),$(r).jqGrid("hideCol",a.groupField[e]));for(a.summary=[],a.hideFirstGroupCol&&(a.formatDisplayField[0]=function(e){return e}),t=0,i=o.length;i>t;t++)a.hideFirstGroupCol&&(o[t].hidden||a.groupField[0]!==o[t].name||(o[t].formatter=function(){return""
})),o[t].summaryType&&a.summary.push(o[t].summaryDivider?{nm:o[t].name,st:o[t].summaryType,v:"",sd:o[t].summaryDivider,vd:"",sr:o[t].summaryRound,srt:o[t].summaryRoundType||"round"}:{nm:o[t].name,st:o[t].summaryType,v:"",sr:o[t].summaryRound,srt:o[t].summaryRoundType||"round"})}else r.p.grouping=!1})},groupingPrepare:function(e,t){return this.each(function(){var i,r,o,a,s,n=this.p.groupingView,l=this,d=function(){$.isFunction(this.st)?this.v=this.st.call(l,this.v,this.nm,e):(this.v=$(l).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,e),"avg"===this.st.toLowerCase()&&this.sd&&(this.vd=$(l).jqGrid("groupingCalculations.handler",this.st,this.vd,this.sd,this.sr,this.srt,e)))},p=n.groupField.length,c=0;for(i=0;p>i;i++)r=n.groupField[i],a=n.displayField[i],o=e[r],s=null==a?null:e[a],null==s&&(s=o),void 0!==o&&(0===t?(n.groups.push({idx:i,dataIndex:r,value:o,displayValue:s,startRow:t,cnt:1,summary:[]}),n.lastvalues[i]=o,n.counters[i]={cnt:1,pos:n.groups.length-1,summary:$.extend(!0,[],n.summary)},$.each(n.counters[i].summary,d),n.groups[n.counters[i].pos].summary=n.counters[i].summary):"object"==typeof o||($.isArray(n.isInTheSameGroup)&&$.isFunction(n.isInTheSameGroup[i])?n.isInTheSameGroup[i].call(l,n.lastvalues[i],o,i,n):n.lastvalues[i]===o)?1===c?(n.groups.push({idx:i,dataIndex:r,value:o,displayValue:s,startRow:t,cnt:1,summary:[]}),n.lastvalues[i]=o,n.counters[i]={cnt:1,pos:n.groups.length-1,summary:$.extend(!0,[],n.summary)},$.each(n.counters[i].summary,d),n.groups[n.counters[i].pos].summary=n.counters[i].summary):(n.counters[i].cnt+=1,n.groups[n.counters[i].pos].cnt=n.counters[i].cnt,$.each(n.counters[i].summary,d),n.groups[n.counters[i].pos].summary=n.counters[i].summary):(n.groups.push({idx:i,dataIndex:r,value:o,displayValue:s,startRow:t,cnt:1,summary:[]}),n.lastvalues[i]=o,c=1,n.counters[i]={cnt:1,pos:n.groups.length-1,summary:$.extend(!0,[],n.summary)},$.each(n.counters[i].summary,d),n.groups[n.counters[i].pos].summary=n.counters[i].summary))}),this},groupingToggle:function(e){return this.each(function(){var t=this,i=t.p.groupingView,r=e.split("_"),o=parseInt(r[r.length-2],10);r.splice(r.length-2,2);var a,s,n=r.join("_"),l=i.minusicon,d=i.plusicon,p=$("#"+$.jgrid.jqID(e)),c=p.length?p[0].nextSibling:null,u=$("#"+$.jgrid.jqID(e)+" span.tree-wrap-"+t.p.direction),g=function(e){var t=$.map(e.split(" "),function(e){return e.substring(0,n.length+1)===n+"_"?parseInt(e.substring(n.length+1),10):void 0});return t.length>0?t[0]:void 0},h=!1,f=!1,m=t.p.frozenColumns?t.p.id+"_frozen":!1,v=m?$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(m)):!1,j=v&&v.length?v[0].nextSibling:null;if(u.hasClass(l)){if(i.showSummaryOnHide){if(c)for(;c&&(a=g(c.className),!(void 0!==a&&o>=a));)$(c).hide(),c=c.nextSibling,m&&($(j).hide(),j=j.nextSibling)}else if(c)for(;c&&(a=g(c.className),!(void 0!==a&&o>=a));)$(c).hide(),c=c.nextSibling,m&&($(j).hide(),j=j.nextSibling);u.removeClass(l).addClass(d),h=!0}else{if(c)for(s=void 0;c;){if(a=g(c.className),void 0===s&&(s=void 0===a),f=$(c).hasClass("ui-subgrid")&&$(c).hasClass("ui-sg-collapsed"),void 0!==a){if(o>=a)break;a===o+1&&(f||($(c).show().find(">td>span.tree-wrap-"+t.p.direction).removeClass(l).addClass(d),m&&$(j).show().find(">td>span.tree-wrap-"+t.p.direction).removeClass(l).addClass(d)))}else s&&(f||($(c).show(),m&&$(j).show()));c=c.nextSibling,m&&(j=j.nextSibling)}u.removeClass(d).addClass(l)}$(t).triggerHandler("jqGridGroupingClickGroup",[e,h]),$.isFunction(t.p.onClickGroup)&&t.p.onClickGroup.call(t,e,h)}),!1},groupingRender:function(e,t,i,r){return this.each(function(){function o(e,t,i){var r,o=!1;if(0===t)o=i[e];else{var a=i[e].idx;if(0===a)o=i[e];else for(r=e;r>=0;r--)if(i[r].idx===a-t){o=i[r];break}}return o}function a(e,i,r,a){var s,n,l=o(e,i,r),p=d.p.colModel,c=l.cnt,u="";for(n=a;t>n;n++){var g="<td "+d.formatCol(n,1,"")+">&#160;</td>",h="{0}";$.each(l.summary,function(){if(this.nm===p[n].name){p[n].summaryTpl&&(h=p[n].summaryTpl),"string"==typeof this.st&&"avg"===this.st.toLowerCase()&&(this.sd&&this.vd?this.v=this.v/this.vd:this.v&&c>0&&(this.v=this.v/c));try{this.groupCount=l.cnt,this.groupIndex=l.dataIndex,this.groupValue=l.value,s=d.formatter("",this.v,n,this)}catch(e){s=this.v}return g="<td "+d.formatCol(n,1,"")+">"+$.jgrid.template(h,s)+"</td>",!1}}),u+=g}return u}var s,n,l,d=this,p=d.p.groupingView,c="",u="",g=p.groupCollapse?p.plusicon:p.minusicon,h=[],f=p.groupField.length,m=$.jgrid.styleUI[d.p.styleUI||"jQueryUI"].common;g=g+" tree-wrap-"+d.p.direction,$.each(d.p.colModel,function(e,t){var i;for(i=0;f>i;i++)if(p.groupField[i]===t.name){h[i]=e;break}});var v,j=0,b=$.makeArray(p.groupSummary);b.reverse(),v=d.p.multiselect?' colspan="2"':"",$.each(p.groups,function(o,w){if(p._locgr&&!(w.startRow+w.cnt>(i-1)*r&&w.startRow<i*r))return!0;j++,n=d.p.id+"ghead_"+w.idx,s=n+"_"+o,u="<span style='cursor:pointer;margin-right:8px;margin-left:5px;' class='"+m.icon_base+" "+g+"' onclick=\"jQuery('#"+$.jgrid.jqID(d.p.id)+"').jqGrid('groupingToggle','"+s+"');return false;\"></span>";try{$.isArray(p.formatDisplayField)&&$.isFunction(p.formatDisplayField[w.idx])?(w.displayValue=p.formatDisplayField[w.idx].call(d,w.displayValue,w.value,d.p.colModel[h[w.idx]],w.idx,p),l=w.displayValue):l=d.formatter(s,w.displayValue,h[w.idx],w.value)}catch(y){l=w.displayValue}var _="";_=$.isFunction(p.groupText[w.idx])?p.groupText[w.idx].call(d,l,w.cnt,w.summary):$.jgrid.template(p.groupText[w.idx],l,w.cnt,w.summary),"string"!=typeof _&&"number"!=typeof _&&(_=l),"header"===p.groupSummaryPos[w.idx]?(c+='<tr id="'+s+'"'+(p.groupCollapse&&w.idx>0?' style="display:none;" ':" ")+'role="row" class= "'+m.content+" jqgroup ui-row-"+d.p.direction+" "+n+'"><td style="padding-left:'+12*w.idx+'px;"'+v+">"+u+_+"</td>",c+=a(o,0,p.groups,p.groupColumnShow[w.idx]===!1?""===v?2:3:""===v?1:2),c+="</tr>"):c+='<tr id="'+s+'"'+(p.groupCollapse&&w.idx>0?' style="display:none;" ':" ")+'role="row" class= "'+m.content+" jqgroup ui-row-"+d.p.direction+" "+n+'"><td style="padding-left:'+12*w.idx+'px;" colspan="'+(p.groupColumnShow[w.idx]===!1?t-1:t)+'">'+u+_+"</td></tr>";var x=f-1===w.idx;if(x){var q,D,C=p.groups[o+1],I=0,G=w.startRow,F=void 0!==C?C.startRow:p.groups[o].startRow+p.groups[o].cnt;for(p._locgr&&(I=(i-1)*r,I>w.startRow&&(G=I)),q=G;F>q&&e[q-I];q++)c+=e[q-I].join("");if("header"!==p.groupSummaryPos[w.idx]){var S;if(void 0!==C){for(S=0;S<p.groupField.length&&C.dataIndex!==p.groupField[S];S++);j=p.groupField.length-S}for(D=0;j>D;D++)if(b[D]){var k="";p.groupCollapse&&!p.showSummaryOnHide&&(k=' style="display:none;"'),c+="<tr"+k+' jqfootlevel="'+(w.idx-D)+'" role="row" class="'+m.content+" jqfoot ui-row-"+d.p.direction+'">',c+=a(o,D,p.groups,0),c+="</tr>"}j=S}}}),$("#"+$.jgrid.jqID(d.p.id)+" tbody:first").append(c),c=null})},groupingGroupBy:function(e,t){return this.each(function(){var i=this;"string"==typeof e&&(e=[e]);var r=i.p.groupingView;i.p.grouping=!0,r._locgr=!1,void 0===r.visibiltyOnNextGrouping&&(r.visibiltyOnNextGrouping=[]);var o;for(o=0;o<r.groupField.length;o++)!r.groupColumnShow[o]&&r.visibiltyOnNextGrouping[o]&&$(i).jqGrid("showCol",r.groupField[o]);for(o=0;o<e.length;o++)r.visibiltyOnNextGrouping[o]=$("#"+$.jgrid.jqID(i.p.id)+"_"+$.jgrid.jqID(e[o])).is(":visible");i.p.groupingView=$.extend(i.p.groupingView,t||{}),r.groupField=e,$(i).trigger("reloadGrid")})},groupingRemove:function(e){return this.each(function(){var t=this;if(void 0===e&&(e=!0),t.p.grouping=!1,e===!0){var i,r=t.p.groupingView;for(i=0;i<r.groupField.length;i++)!r.groupColumnShow[i]&&r.visibiltyOnNextGrouping[i]&&$(t).jqGrid("showCol",r.groupField);$("tr.jqgroup, tr.jqfoot","#"+$.jgrid.jqID(t.p.id)+" tbody:first").remove(),$("tr.jqgrow:hidden","#"+$.jgrid.jqID(t.p.id)+" tbody:first").show()}else $(t).trigger("reloadGrid")})},groupingCalculations:{handler:function(e,t,i,r,o,a){var s={sum:function(){return parseFloat(t||0)+parseFloat(a[i]||0)},min:function(){return""===t?parseFloat(a[i]||0):Math.min(parseFloat(t),parseFloat(a[i]||0))},max:function(){return""===t?parseFloat(a[i]||0):Math.max(parseFloat(t),parseFloat(a[i]||0))},count:function(){return""===t&&(t=0),a.hasOwnProperty(i)?t+1:0},avg:function(){return s.sum()}};if(!s[e])throw"jqGrid Grouping No such method: "+e;var n=s[e]();if(null!=r)if("fixed"===o)n=n.toFixed(r);else{var l=Math.pow(10,r);n=Math.round(n*l)/l}return n}},setGroupHeaders:function(e){return e=$.extend({useColSpanStyle:!1,groupHeaders:[]},e||{}),this.each(function(){var t,i,r,o,a,s,n,l,d,p,c,u,g,h,f=this,m=0,v=f.p.colModel,j=v.length,b=f.grid.headers,w=$("table.ui-jqgrid-htable",f.grid.hDiv),y=w.children("thead").children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header"),_=w.children("thead"),x=w.find(".jqg-first-row-header"),q=$.jgrid.styleUI[f.p.styleUI||"jQueryUI"].base;f.p.groupHeader||(f.p.groupHeader=[]),f.p.groupHeader.push(e),void 0===x[0]?x=$("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):x.empty();var D,C=function(e,t){var i,r=t.length;for(i=0;r>i;i++)if(t[i].startColumnName===e)return i;return-1};for($(f).prepend(_),r=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels jqg-third-row-header"),t=0;j>t;t++)if(a=b[t].el,s=$(a),i=v[t],n={height:"0px",width:b[t].width+"px",display:i.hidden?"none":""},$("<th>",{role:"gridcell"}).css(n).addClass("ui-first-th-"+f.p.direction).appendTo(x),a.style.width="",l=C(i.name,e.groupHeaders),l>=0){for(d=e.groupHeaders[l],p=d.numberOfColumns,c=d.titleText,g=d.className||"",u=0,l=0;p>l&&j>t+l;l++)v[t+l].hidden||u++;o=$("<th>").attr({role:"columnheader"}).addClass(q.headerBox+" ui-th-column-header ui-th-"+f.p.direction+" "+g).html(c),u>0&&o.attr("colspan",String(u)),f.p.headertitles&&o.attr("title",o.text()),0===u&&o.hide(),s.before(o),r.append(a),m=p-1}else 0===m?e.useColSpanStyle?s.attr("rowspan","2"):($("<th>",{role:"columnheader"}).addClass(q.headerBox+" ui-th-column-header ui-th-"+f.p.direction).css({display:i.hidden?"none":""}).insertBefore(s),r.append(a)):(r.append(a),m--);h=$(f).children("thead"),h.prepend(x),r.insertAfter(y),w.append(h),e.useColSpanStyle&&(w.find("span.ui-jqgrid-resize").each(function(){var e=$(this).parent();e.is(":visible")&&(this.style.cssText="height: "+e.height()+"px !important; cursor: col-resize;")}),w.find("div.ui-jqgrid-sortable").each(function(){var e=$(this),t=e.parent();t.is(":visible")&&t.is(":has(span.ui-jqgrid-resize)")&&e.css("top",(t.height()-e.outerHeight())/2-4+"px")})),D=h.find("tr.jqg-first-row-header"),$(f).bind("jqGridResizeStop.setGroupHeaders",function(e,t,i){D.find("th").eq(i).width(t)})})},destroyGroupHeader:function(e){return void 0===e&&(e=!0),this.each(function(){var t,i,r,o,a,s,n,l=this,d=l.grid,p=$("table.ui-jqgrid-htable thead",d.hDiv),c=l.p.colModel;if(d){for($(this).unbind(".setGroupHeaders"),t=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels"),o=d.headers,i=0,r=o.length;r>i;i++){n=c[i].hidden?"none":"",a=$(o[i].el).width(o[i].width).css("display",n);try{a.removeAttr("rowSpan")}catch(u){a.attr("rowSpan",1)}t.append(a),s=a.children("span.ui-jqgrid-resize"),s.length>0&&(s[0].style.height=""),a.children("div")[0].style.top=""}$(p).children("tr.ui-jqgrid-labels").remove(),$(p).prepend(t),e===!0&&$(l).jqGrid("setGridParam",{groupHeader:null})}})}}),$.jgrid=$.jgrid||{},$.extend($.jgrid,{saveState:function(e,t){if(t=$.extend({useStorage:!0,storageType:"localStorage",beforeSetItem:null,compression:!1,compressionModule:"LZString",compressionMethod:"compressToUTF16"},t||{}),e){var i,r,o="",a="",s=$("#"+e)[0];if(s.grid){if(r=$(s).data("inlineNav"),r&&s.p.inlineNav&&$(s).jqGrid("setGridParam",{_iN:r}),r=$(s).data("filterToolbar"),r&&s.p.filterToolbar&&$(s).jqGrid("setGridParam",{_fT:r}),o=$(s).jqGrid("jqGridExport",{exptype:"jsonstring",ident:"",root:""}),$(s.grid.bDiv).find(".ui-jqgrid-btable tr:gt(0)").each(function(e,t){a+=t.outerHTML}),$.isFunction(t.beforeSetItem)&&(i=t.beforeSetItem.call(s,o),null!=i&&(o=i)),t.compression&&t.compressionModule)try{i=window[t.compressionModule][t.compressionMethod](o),null!=i&&(o=i,a=window[t.compressionModule][t.compressionMethod](a))}catch(n){}if(t.useStorage&&$.jgrid.isLocalStorage())try{window[t.storageType].setItem("jqGrid"+s.p.id,o),window[t.storageType].setItem("jqGrid"+s.p.id+"_data",a)}catch(n){22===n.code&&alert("Local storage limit is over!")}return o}}},loadState:function(e,t,i){if(i=$.extend({useStorage:!0,storageType:"localStorage",clearAfterLoad:!1,beforeSetGrid:null,decompression:!1,decompressionModule:"LZString",decompressionMethod:"decompressFromUTF16"},i||{}),e){var r,o,a,s,n,l=$("#"+e)[0];if(l.grid&&$.jgrid.gridUnload(e),i.useStorage)try{t=window[i.storageType].getItem("jqGrid"+l.id),a=window[i.storageType].getItem("jqGrid"+l.id+"_data")}catch(d){}if(t){if(i.decompression&&i.decompressionModule)try{r=window[i.decompressionModule][i.decompressionMethod](t),null!=r&&(t=r,a=window[i.decompressionModule][i.decompressionMethod](a))}catch(d){}if(r=jqGridUtils.parse(t),r&&"object"===$.type(r)){$.isFunction(i.beforeSetGrid)&&(o=i.beforeSetGrid(r),o&&"object"===$.type(o)&&(r=o));var p=function(e){var t;return t=e},c={reccount:r.reccount,records:r.records,lastpage:r.lastpage,shrinkToFit:p(r.shrinkToFit),data:p(r.data),datatype:p(r.datatype),grouping:p(r.grouping)};r.shrinkToFit=!1,r.data=[],r.datatype="local",r.grouping=!1,r.navGrid=!1,r.inlineNav&&(s=p(r._iN),r._iN=null,delete r._iN),r.filterToolbar&&(n=p(r._fT),r._fT=null,delete r._fT);var u=$("#"+e).jqGrid(r);u.append(a),u.jqGrid("setGridParam",c),r.storeNavOptions&&u.jqGrid("navGrid",r.pager,r.navOptions,r.editOptions,r.addOptions,r.delOptions,r.searchOptions,r.viewOptions),r.inlineNav&&s&&(u.jqGrid("setGridParam",{inlineNav:!1}),u.jqGrid("inlineNav",r.pager,s)),r.filterToolbar&&n&&(u.jqGrid("setGridParam",{filterToolbar:!1}),u.jqGrid("filterToolbar",n)),u[0].updatepager(!0,!0),i.clearAfterLoad&&(window[i.storageType].removeItem("jqGrid"+l.id),window[i.storageType].removeItem("jqGrid"+l.id+"_data"))}else alert("can not convert to object")}}},setRegional:function(e,t){var i={storageType:"sessionStorage"};if(i=$.extend(i,t||{}),i.regional){$.jgrid.saveState(e,i),i.beforeSetGrid=function(e){return e.regional=i.regional,e.force_regional=!0,e},$.jgrid.loadState(e,null,i);var r=$("#"+e)[0],o=$(r).jqGrid("getGridParam","colModel"),a=-1,s=$.jgrid.getRegional(r,"nav");$.each(o,function(e){return this.formatter&&"actions"===this.formatter?(a=e,!1):void 0}),-1!==a&&s&&$("#"+e+" tbody tr").each(function(){var e=this.cells[a];$(e).find(".ui-inline-edit").attr("title",s.edittitle),$(e).find(".ui-inline-del").attr("title",s.deltitle),$(e).find(".ui-inline-save").attr("title",s.savetitle),$(e).find(".ui-inline-cancel").attr("title",s.canceltitle)});try{window[i.storageType].removeItem("jqGrid"+r.id),window[i.storageType].removeItem("jqGrid"+r.id+"_data")}catch(n){}}},jqGridImport:function(e,t){t=$.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"root>grid",data:"root>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},t||{});var i=(0===e.indexOf("#")?"":"#")+$.jgrid.jqID(e),r=function(e,t){var r,o,a,s=$(t.xmlGrid.config,e)[0],n=$(t.xmlGrid.data,e)[0];if(jqGridUtils.xmlToJSON){r=jqGridUtils.xmlToJSON(s);for(a in r)r.hasOwnProperty(a)&&(o=r[a]);if(n){var l=r.grid.datatype;r.grid.datatype="xmlstring",r.grid.datastr=e,$(i).jqGrid(o).jqGrid("setGridParam",{datatype:l})}else setTimeout(function(){$(i).jqGrid(o)},0)}else alert("xml2json or parse are not present")},o=function(e,t){if(e&&"string"==typeof e){var r=jqGridUtils.parse(e),o=r[t.jsonGrid.config],a=r[t.jsonGrid.data];if(a){var s=o.datatype;o.datatype="jsonstring",o.datastr=a,$(i).jqGrid(o).jqGrid("setGridParam",{datatype:s})}else $(i).jqGrid(o)}};switch(t.imptype){case"xml":$.ajax($.extend({url:t.impurl,type:t.mtype,data:t.impData,dataType:"xml",complete:function(e,o){"success"===o&&(r(e.responseXML,t),$(i).triggerHandler("jqGridImportComplete",[e,t]),$.isFunction(t.importComplete)&&t.importComplete(e)),e=null}},t.ajaxOptions));break;case"xmlstring":if(t.impstring&&"string"==typeof t.impstring){var a=$.parseXML(t.impstring);a&&(r(a,t),$(i).triggerHandler("jqGridImportComplete",[a,t]),$.isFunction(t.importComplete)&&t.importComplete(a))}break;case"json":$.ajax($.extend({url:t.impurl,type:t.mtype,data:t.impData,dataType:"json",complete:function(e){try{o(e.responseText,t),$(i).triggerHandler("jqGridImportComplete",[e,t]),$.isFunction(t.importComplete)&&t.importComplete(e)}catch(r){}e=null}},t.ajaxOptions));break;case"jsonstring":t.impstring&&"string"==typeof t.impstring&&(o(t.impstring,t),$(i).triggerHandler("jqGridImportComplete",[t.impstring,t]),$.isFunction(t.importComplete)&&t.importComplete(t.impstring))}}}),$.jgrid.extend({jqGridExport:function(e){e=$.extend({exptype:"xmlstring",root:"grid",ident:"	",addOptions:{}},e||{});var t=null;return this.each(function(){if(this.grid){var i,r=$.extend(!0,{},$(this).jqGrid("getGridParam"),e.addOptions);if(r.rownumbers&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.multiselect&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.subGrid&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.knv=null,r.treeGrid)for(i in r.treeReader)r.treeReader.hasOwnProperty(i)&&(r.colNames.splice(r.colNames.length-1),r.colModel.splice(r.colModel.length-1));switch(e.exptype){case"xmlstring":t="<"+e.root+">"+jqGridUtils.jsonToXML(r,{xmlDecl:""})+"</"+e.root+">";break;case"jsonstring":t=jqGridUtils.stringify(r),e.root&&(t="{"+e.root+":"+t+"}")}}}),t},excelExport:function(e){return e=$.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},e||{}),this.each(function(){if(this.grid){var t;if("remote"===e.exptype){var i=$.extend({},this.p.postData);i[e.oper]=e.tag;var r=jQuery.param(i);t=-1!==e.url.indexOf("?")?e.url+"&"+r:e.url+"?"+r,window.location=t}}})}}),$.jgrid.inlineEdit=$.jgrid.inlineEdit||{},$.jgrid.extend({editRow:function(e,t,i,r,o,a,s,n,l){var d={},p=$.makeArray(arguments).slice(1);return"object"===$.type(p[0])?d=p[0]:(void 0!==t&&(d.keys=t),$.isFunction(i)&&(d.oneditfunc=i),$.isFunction(r)&&(d.successfunc=r),void 0!==o&&(d.url=o),void 0!==a&&(d.extraparam=a),$.isFunction(s)&&(d.aftersavefunc=s),$.isFunction(n)&&(d.errorfunc=n),$.isFunction(l)&&(d.afterrestorefunc=l)),d=$.extend(!0,{keys:!1,oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",focusField:!0},$.jgrid.inlineEdit,d),this.each(function(){var t,i,r,o,a,s,n=this,l=0,p=null,c={},u=$(this).jqGrid("getStyleUI",n.p.styleUI+".inlinedit","inputClass",!0);n.grid&&(o=$(n).jqGrid("getInd",e,!0),o!==!1&&(s=$.isFunction(d.beforeEditRow)?d.beforeEditRow.call(n,d,e):void 0,void 0===s&&(s=!0),s&&(r=$(o).attr("editable")||"0","0"!==r||$(o).hasClass("not-editable-row")||(a=n.p.colModel,$('td[role="gridcell"]',o).each(function(r){t=a[r].name;var o=n.p.treeGrid===!0&&t===n.p.ExpandColumn;if(o)i=$("span:first",this).html();else try{i=$.unformat.call(n,this,{rowId:e,colModel:a[r]},r)}catch(s){i=a[r].edittype&&"textarea"===a[r].edittype?$(this).text():$(this).html()}if("cb"!==t&&"subgrid"!==t&&"rn"!==t&&(n.p.autoencode&&(i=$.jgrid.htmlDecode(i)),c[t]=i,a[r].editable===!0)){null===p&&(p=r),o?$("span:first",this).html(""):$(this).html("");var d=$.extend({},a[r].editoptions||{},{id:e+"_"+t,name:t,rowId:e,oper:"edit"});a[r].edittype||(a[r].edittype="text"),("&nbsp;"===i||"&#160;"===i||1===i.length&&160===i.charCodeAt(0))&&(i="");var g=$.jgrid.createEl.call(n,a[r].edittype,d,i,!0,$.extend({},$.jgrid.ajaxOptions,n.p.ajaxSelectOptions||{}));$(g).addClass("editable inline-edit-cell"),$.inArray(a[r].edittype,["text","textarea","password","select"])>-1&&$(g).addClass(u),o?$("span:first",this).append(g):$(this).append(g),$.jgrid.bindEv.call(n,g,d),"select"===a[r].edittype&&void 0!==a[r].editoptions&&a[r].editoptions.multiple===!0&&void 0===a[r].editoptions.dataUrl&&$.jgrid.msie&&$(g).width($(g).width()),l++}}),l>0&&(c.id=e,n.p.savedRow.push(c),$(o).attr("editable","1"),d.focusField&&("number"==typeof d.focusField&&parseInt(d.focusField,10)<=a.length&&(p=d.focusField),setTimeout(function(){var e=$("td:eq("+p+") :input:visible",o).not(":disabled");e.length>0&&e.focus()},0)),d.keys===!0&&$(o).bind("keyup",function(t){if(27===t.keyCode){if($(n).jqGrid("restoreRow",e,d.afterrestorefunc),n.p.inlineNav)try{$(n).jqGrid("showAddEditButtons")}catch(i){}return!1}if(13===t.keyCode){var r=t.target;if("TEXTAREA"===r.tagName)return!0;if($(n).jqGrid("saveRow",e,d)&&n.p.inlineNav)try{$(n).jqGrid("showAddEditButtons")}catch(o){}return!1}}),$(n).triggerHandler("jqGridInlineEditRow",[e,d]),$.isFunction(d.oneditfunc)&&d.oneditfunc.call(n,e))))))})},saveRow:function(e,t,i,r,o,a,s){var n=$.makeArray(arguments).slice(1),l={},d=this[0];"object"===$.type(n[0])?l=n[0]:($.isFunction(t)&&(l.successfunc=t),void 0!==i&&(l.url=i),void 0!==r&&(l.extraparam=r),$.isFunction(o)&&(l.aftersavefunc=o),$.isFunction(a)&&(l.errorfunc=a),$.isFunction(s)&&(l.afterrestorefunc=s)),l=$.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",saveui:"enable",savetext:$.jgrid.getRegional(d,"defaults.savetext")},$.jgrid.inlineEdit,l);var p,c,u,g,h,f=!1,m={},v={},j={},b=!1,w=$.trim($(d).jqGrid("getStyleUI",d.p.styleUI+".common","error",!0));if(!d.grid)return f;if(h=$(d).jqGrid("getInd",e,!0),h===!1)return f;var y=$.jgrid.getRegional(this,"errors"),_=$.jgrid.getRegional(this,"edit"),x=$.isFunction(l.beforeSaveRow)?l.beforeSaveRow.call(d,l,e):void 0;if(void 0===x&&(x=!0),x){if(c=$(h).attr("editable"),l.url=l.url||d.p.editurl,"1"===c){var q;if($('td[role="gridcell"]',h).each(function(e){if(q=d.p.colModel[e],p=q.name,"cb"!==p&&"subgrid"!==p&&q.editable===!0&&"rn"!==p&&!$(this).hasClass("not-editable-cell")){switch(q.edittype){case"checkbox":var t=["Yes","No"];q.editoptions&&(t=q.editoptions.value.split(":")),m[p]=$("input",this).is(":checked")?t[0]:t[1];break;case"text":case"password":case"textarea":case"button":m[p]=$("input, textarea",this).val();break;case"select":if(q.editoptions.multiple){var i=$("select",this),r=[];m[p]=$(i).val(),m[p]=m[p]?m[p].join(","):"",$("select option:selected",this).each(function(e,t){r[e]=$(t).text()}),v[p]=r.join(",")}else m[p]=$("select option:selected",this).val(),v[p]=$("select option:selected",this).text();q.formatter&&"select"===q.formatter&&(v={});break;case"custom":try{if(!q.editoptions||!$.isFunction(q.editoptions.custom_value))throw"e1";if(m[p]=q.editoptions.custom_value.call(d,$(".customelement",this),"get"),void 0===m[p])throw"e2"}catch(o){"e1"===o?$.jgrid.info_dialog(y.errcap,"function 'custom_value' "+_.msg.nodefined,_.bClose,{styleUI:d.p.styleUI}):$.jgrid.info_dialog(y.errcap,o.message,_.bClose,{styleUI:d.p.styleUI})}}if(g=$.jgrid.checkValues.call(d,m[p],e),g[0]===!1)return!1;d.p.autoencode&&(m[p]=$.jgrid.htmlEncode(m[p])),"clientArray"!==l.url&&q.editoptions&&q.editoptions.NullIfEmpty===!0&&""===m[p]&&(j[p]="null",b=!0)}}),g[0]===!1){try{var D=$(d).jqGrid("getGridRowById",e),C=$.jgrid.findPos(D);$.jgrid.info_dialog(y.errcap,g[1],_.bClose,{left:C[0],top:C[1]+$(D).outerHeight(),styleUI:d.p.styleUI})}catch(I){alert(g[1])}return f}var G,F=d.p.prmNames,S=e;if(G=d.p.keyName===!1?F.id:d.p.keyName,m){if(m[F.oper]=F.editoper,void 0===m[G]||""===m[G])m[G]=e;else if(h.id!==d.p.idPrefix+m[G]){var k=$.jgrid.stripPref(d.p.idPrefix,e);if(void 0!==d.p._index[k]&&(d.p._index[m[G]]=d.p._index[k],delete d.p._index[k]),e=d.p.idPrefix+m[G],$(h).attr("id",e),d.p.selrow===S&&(d.p.selrow=e),$.isArray(d.p.selarrrow)){var R=$.inArray(S,d.p.selarrrow);R>=0&&(d.p.selarrrow[R]=e)}if(d.p.multiselect){var M="jqg_"+d.p.id+"_"+e;$("input.cbox",h).attr("id",M).attr("name",M)}}void 0===d.p.inlineData&&(d.p.inlineData={}),m=$.extend({},m,d.p.inlineData,l.extraparam)}if("clientArray"===l.url){m=$.extend({},m,v),d.p.autoencode&&$.each(m,function(e,t){m[e]=$.jgrid.htmlDecode(t)});var N,T=$(d).jqGrid("setRowData",e,m);for($(h).attr("editable","0"),N=0;N<d.p.savedRow.length;N++)if(String(d.p.savedRow[N].id)===String(S)){u=N;break}u>=0&&d.p.savedRow.splice(u,1),$(d).triggerHandler("jqGridInlineAfterSaveRow",[e,T,m,l]),$.isFunction(l.aftersavefunc)&&l.aftersavefunc.call(d,e,T,m,l),f=!0,$(h).removeClass("jqgrid-new-row").unbind("keydown")}else $(d).jqGrid("progressBar",{method:"show",loadtype:l.saveui,htmlcontent:l.savetext}),j=$.extend({},m,j),j[G]=$.jgrid.stripPref(d.p.idPrefix,j[G]),$.ajax($.extend({url:l.url,data:$.isFunction(d.p.serializeRowData)?d.p.serializeRowData.call(d,j):j,type:l.mtype,async:!1,complete:function(t,i){if($(d).jqGrid("progressBar",{method:"hide",loadtype:l.saveui,htmlcontent:l.savetext}),"success"===i){var r,o,a=!0;if(r=$(d).triggerHandler("jqGridInlineSuccessSaveRow",[t,e,l]),$.isArray(r)||(r=[!0,j]),r[0]&&$.isFunction(l.successfunc)&&(r=l.successfunc.call(d,t)),$.isArray(r)?(a=r[0],m=r[1]||m):a=r,a===!0){for(d.p.autoencode&&$.each(m,function(e,t){m[e]=$.jgrid.htmlDecode(t)}),b&&$.each(m,function(e){"null"===m[e]&&(m[e]="")}),m=$.extend({},m,v),$(d).jqGrid("setRowData",e,m),$(h).attr("editable","0"),o=0;o<d.p.savedRow.length;o++)if(String(d.p.savedRow[o].id)===String(e)){u=o;break}u>=0&&d.p.savedRow.splice(u,1),$(d).triggerHandler("jqGridInlineAfterSaveRow",[e,t,m,l]),$.isFunction(l.aftersavefunc)&&l.aftersavefunc.call(d,e,t,m,l),f=!0,$(h).removeClass("jqgrid-new-row").unbind("keydown")}else $(d).triggerHandler("jqGridInlineErrorSaveRow",[e,t,i,null,l]),$.isFunction(l.errorfunc)&&l.errorfunc.call(d,e,t,i,null),l.restoreAfterError===!0&&$(d).jqGrid("restoreRow",e,l.afterrestorefunc)}},error:function(t,i,r){if($("#lui_"+$.jgrid.jqID(d.p.id)).hide(),$(d).triggerHandler("jqGridInlineErrorSaveRow",[e,t,i,r,l]),$.isFunction(l.errorfunc))l.errorfunc.call(d,e,t,i,r);else{var o=t.responseText||t.statusText;try{$.jgrid.info_dialog(y.errcap,'<div class="'+w+'">'+o+"</div>",_.bClose,{buttonalign:"right",styleUI:d.p.styleUI})}catch(a){alert(o)}}l.restoreAfterError===!0&&$(d).jqGrid("restoreRow",e,l.afterrestorefunc)}},$.jgrid.ajaxOptions,d.p.ajaxRowOptions||{}))}return f}},restoreRow:function(e,t){var i=$.makeArray(arguments).slice(1),r={};return"object"===$.type(i[0])?r=i[0]:$.isFunction(t)&&(r.afterrestorefunc=t),r=$.extend(!0,{},$.jgrid.inlineEdit,r),this.each(function(){var t,i,o=this,a=-1,s={};if(o.grid&&(t=$(o).jqGrid("getInd",e,!0),t!==!1)){var n=$.isFunction(r.beforeCancelRow)?r.beforeCancelRow.call(o,r,e):void 0;if(void 0===n&&(n=!0),n){for(i=0;i<o.p.savedRow.length;i++)if(String(o.p.savedRow[i].id)===String(e)){a=i;break}if(a>=0){if($.isFunction($.fn.datepicker))try{$("input.hasDatepicker","#"+$.jgrid.jqID(t.id)).datepicker("hide")}catch(l){}$.each(o.p.colModel,function(){this.editable===!0&&o.p.savedRow[a].hasOwnProperty(this.name)&&(s[this.name]=o.p.savedRow[a][this.name])}),$(o).jqGrid("setRowData",e,s),$(t).attr("editable","0").unbind("keydown"),o.p.savedRow.splice(a,1),$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(o.p.id)).hasClass("jqgrid-new-row")&&setTimeout(function(){$(o).jqGrid("delRowData",e),$(o).jqGrid("showAddEditButtons")},0)}$(o).triggerHandler("jqGridInlineAfterRestoreRow",[e]),$.isFunction(r.afterrestorefunc)&&r.afterrestorefunc.call(o,e)}}})},addRow:function(e){return e=$.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,addRowParams:{extraparam:{}}},e||{}),this.each(function(){if(this.grid){var t=this,i=$.isFunction(e.beforeAddRow)?e.beforeAddRow.call(t,e.addRowParams):void 0;if(void 0===i&&(i=!0),i)if(e.rowID=$.isFunction(e.rowID)?e.rowID.call(t,e):null!=e.rowID?e.rowID:$.jgrid.randId(),e.useDefValues===!0&&$(t.p.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var i=this.editoptions.defaultValue,r=$.isFunction(i)?i.call(t):i;e.initdata[this.name]=r}}),$(t).jqGrid("addRowData",e.rowID,e.initdata,e.position),e.rowID=t.p.idPrefix+e.rowID,$("#"+$.jgrid.jqID(e.rowID),"#"+$.jgrid.jqID(t.p.id)).addClass("jqgrid-new-row"),e.useFormatter)$("#"+$.jgrid.jqID(e.rowID)+" .ui-inline-edit","#"+$.jgrid.jqID(t.p.id)).click();else{var r=t.p.prmNames,o=r.oper;e.addRowParams.extraparam[o]=r.addoper,$(t).jqGrid("editRow",e.rowID,e.addRowParams),$(t).jqGrid("setSelection",e.rowID)}}})},inlineNav:function(e,t){var i=this[0],r=$.jgrid.getRegional(i,"nav"),o=$.jgrid.styleUI[i.p.styleUI].inlinedit;return t=$.extend(!0,{edit:!0,editicon:o.icon_edit_nav,add:!0,addicon:o.icon_add_nav,save:!0,saveicon:o.icon_save_nav,cancel:!0,cancelicon:o.icon_cancel_nav,addParams:{addRowParams:{extraparam:{}}},editParams:{},restoreAfterSelect:!0},r,t||{}),this.each(function(){if(this.grid&&!this.p.inlineNav){var o=$.jgrid.jqID(i.p.id),a=$.trim($(i).jqGrid("getStyleUI",i.p.styleUI+".common","disabled",!0));if(i.p.navGrid||$(i).jqGrid("navGrid",e,{refresh:!1,edit:!1,add:!1,del:!1,search:!1,view:!1}),$(i).data("inlineNav")||$(i).data("inlineNav",t),i.p.force_regional&&(t=$.extend(t,r)),i.p.inlineNav=!0,t.addParams.useFormatter===!0){var s,n=i.p.colModel;for(s=0;s<n.length;s++)if(n[s].formatter&&"actions"===n[s].formatter){if(n[s].formatoptions){var l={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},d=$.extend(l,n[s].formatoptions);t.addParams.addRowParams={keys:d.keys,oneditfunc:d.onEdit,successfunc:d.onSuccess,url:d.url,extraparam:d.extraparam,aftersavefunc:d.afterSave,errorfunc:d.onError,afterrestorefunc:d.afterRestore}}break}}t.add&&$(i).jqGrid("navButtonAdd",e,{caption:t.addtext,title:t.addtitle,buttonicon:t.addicon,id:i.p.id+"_iladd",onClickButton:function(){$(i).jqGrid("addRow",t.addParams),t.addParams.useFormatter||($("#"+o+"_ilsave").removeClass(a),$("#"+o+"_ilcancel").removeClass(a),$("#"+o+"_iladd").addClass(a),$("#"+o+"_iledit").addClass(a))}}),t.edit&&$(i).jqGrid("navButtonAdd",e,{caption:t.edittext,title:t.edittitle,buttonicon:t.editicon,id:i.p.id+"_iledit",onClickButton:function(){var e=$(i).jqGrid("getGridParam","selrow");e?($(i).jqGrid("editRow",e,t.editParams),$("#"+o+"_ilsave").removeClass(a),$("#"+o+"_ilcancel").removeClass(a),$("#"+o+"_iladd").addClass(a),$("#"+o+"_iledit").addClass(a)):($.jgrid.viewModal("#alertmod_"+o,{gbox:"#gbox_"+o,jqm:!0}),$("#jqg_alrt").focus())}}),t.save&&($(i).jqGrid("navButtonAdd",e,{caption:t.savetext||"",title:t.savetitle||"Save row",buttonicon:t.saveicon,id:i.p.id+"_ilsave",onClickButton:function(){var e=i.p.savedRow[0].id;if(e){var r=i.p.prmNames,a=r.oper,s=t.editParams;$("#"+$.jgrid.jqID(e),"#"+o).hasClass("jqgrid-new-row")?(t.addParams.addRowParams.extraparam[a]=r.addoper,s=t.addParams.addRowParams):(t.editParams.extraparam||(t.editParams.extraparam={}),t.editParams.extraparam[a]=r.editoper),$(i).jqGrid("saveRow",e,s)&&$(i).jqGrid("showAddEditButtons")}else $.jgrid.viewModal("#alertmod_"+o,{gbox:"#gbox_"+o,jqm:!0}),$("#jqg_alrt").focus()}}),$("#"+o+"_ilsave").addClass(a)),t.cancel&&($(i).jqGrid("navButtonAdd",e,{caption:t.canceltext||"",title:t.canceltitle||"Cancel row editing",buttonicon:t.cancelicon,id:i.p.id+"_ilcancel",onClickButton:function(){var e=i.p.savedRow[0].id,r=t.editParams;e?($("#"+$.jgrid.jqID(e),"#"+o).hasClass("jqgrid-new-row")&&(r=t.addParams.addRowParams),$(i).jqGrid("restoreRow",e,r),$(i).jqGrid("showAddEditButtons")):($.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+o,jqm:!0}),$("#jqg_alrt").focus())}}),$("#"+o+"_ilcancel").addClass(a)),t.restoreAfterSelect===!0&&$(i).bind("jqGridBeforeSelectRow.inlineNav",function(e,r){i.p.savedRow.length>0&&i.p.inlineNav===!0&&r!==i.p.selrow&&null!==i.p.selrow&&(i.p.selrow===t.addParams.rowID?$(i).jqGrid("delRowData",i.p.selrow):$(i).jqGrid("restoreRow",i.p.selrow,t.editParams),$(i).jqGrid("showAddEditButtons"))})}})},showAddEditButtons:function(){return this.each(function(){if(this.grid){var e=$.jgrid.jqID(this.p.id),t=$.trim($(this).jqGrid("getStyleUI",this.p.styleUI+".common","disabled",!0));$("#"+e+"_ilsave").addClass(t),$("#"+e+"_ilcancel").addClass(t),$("#"+e+"_iladd").removeClass(t),$("#"+e+"_iledit").removeClass(t)}})}}),$.jgrid.msie&&8===$.jgrid.msiever()&&($.expr[":"].hidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight||"none"===e.style.display
}),$.jgrid._multiselect=!1,$.ui&&$.ui.multiselect){if($.ui.multiselect.prototype._setSelected){var setSelected=$.ui.multiselect.prototype._setSelected;$.ui.multiselect.prototype._setSelected=function(e,t){var i=setSelected.call(this,e,t);if(t&&this.selectedList){var r=this.element;this.selectedList.find("li").each(function(){$(this).data("optionLink")&&$(this).data("optionLink").remove().appendTo(r)})}return i}}$.ui.multiselect.prototype.destroy&&($.ui.multiselect.prototype.destroy=function(){this.element.show(),this.container.remove(),void 0===$.Widget?$.widget.prototype.destroy.apply(this,arguments):$.Widget.prototype.destroy.apply(this,arguments)}),$.jgrid._multiselect=!0}$.jgrid.extend({sortableColumns:function(e){return this.each(function(){function t(){i.p.disableClick=!0}var i=this,r=$.jgrid.jqID(i.p.id),o={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+r+"_cb,#jqgh_"+r+"_rn,#jqgh_"+r+"_subgrid),:hidden)",placeholder:{element:function(e){var t=$(document.createElement(e[0].nodeName)).addClass(e[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0];return t},update:function(e,t){t.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),t.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}},update:function(e,t){var r=$(t.item).parent(),o=$(">th",r),a=i.p.colModel,s={},n=i.p.id+"_";$.each(a,function(e){s[this.name]=e});var l=[];o.each(function(){var e=$(">div",this).get(0).id.replace(/^jqgh_/,"").replace(n,"");s.hasOwnProperty(e)&&l.push(s[e])}),$(i).jqGrid("remapColumns",l,!0,!0),$.isFunction(i.p.sortable.update)&&i.p.sortable.update(l),setTimeout(function(){i.p.disableClick=!1},50)}};if(i.p.sortable.options?$.extend(o,i.p.sortable.options):$.isFunction(i.p.sortable)&&(i.p.sortable={update:i.p.sortable}),o.start){var a=o.start;o.start=function(e,i){t(),a.call(this,e,i)}}else o.start=t;i.p.sortable.exclude&&(o.items+=":not("+i.p.sortable.exclude+")");var s=e.sortable(o),n=s.data("sortable")||s.data("uiSortable");null!=n&&(n.data("sortable").floating=!0)})},columnChooser:function(e){function t(e,t,i){var r,o;return t>=0?(r=e.slice(),o=r.splice(t,Math.max(e.length-t,t)),t>e.length&&(t=e.length),r[t]=i,r.concat(o)):e}function i(e,t){e&&("string"==typeof e?$.fn[e]&&$.fn[e].apply(t,$.makeArray(arguments).slice(2)):$.isFunction(e)&&e.apply(t,$.makeArray(arguments).slice(2)))}var r,o,a,s,n,l,d,p=this,c={},u=[],g=p.jqGrid("getGridParam","colModel"),h=p.jqGrid("getGridParam","colNames"),f=function(e){return $.ui.multiselect.prototype&&e.data($.ui.multiselect.prototype.widgetFullName||$.ui.multiselect.prototype.widgetName)||e.data("ui-multiselect")||e.data("multiselect")},m=$.jgrid.getRegional(this[0],"col");if(!$("#colchooser_"+$.jgrid.jqID(p[0].p.id)).length){if(r=$('<div id="colchooser_'+p[0].p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),o=$("select",r),e=$.extend({width:400,height:240,classname:null,done:function(e){e&&p.jqGrid("remapColumns",e,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470,dialogClass:"ui-jqdialog"},dlog_opts:function(e){var t={};return t[e.bSubmit]=function(){e.apply_perm(),e.cleanup(!1)},t[e.bCancel]=function(){e.cleanup(!0)},$.extend(!0,{buttons:t,close:function(){e.cleanup(!0)},modal:e.modal||!1,resizable:e.resizable||!0,width:e.width+70,resize:function(){var e=f(o),t=e.container.closest(".ui-dialog-content");t.length>0&&"object"==typeof t[0].style?t[0].style.width="":t.css("width",""),e.selectedList.height(Math.max(e.selectedContainer.height()-e.selectedActions.outerHeight()-1,1)),e.availableList.height(Math.max(e.availableContainer.height()-e.availableActions.outerHeight()-1,1))}},e.dialog_opts||{})},apply_perm:function(){var i=[];$("option",o).each(function(){$(this).is("[selected]")?p.jqGrid("showCol",g[this.value].name):p.jqGrid("hideCol",g[this.value].name)}),$("option[selected]",o).each(function(){i.push(parseInt(this.value,10))}),$.each(i,function(){delete c[g[parseInt(this,10)].name]}),$.each(c,function(){var e=parseInt(this,10);i=t(i,e,e)}),e.done&&e.done.call(p,i),p.jqGrid("setGridWidth",p[0].p.width,p[0].p.shrinkToFit)},cleanup:function(t){i(e.dlog,r,"destroy"),i(e.msel,o,"destroy"),r.remove(),t&&e.done&&e.done.call(p)},msel_opts:{}},m,e||{}),$.ui&&$.ui.multiselect&&$.ui.multiselect.defaults){if(!$.jgrid._multiselect)return void alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");e.msel_opts=$.extend($.ui.multiselect.defaults,e.msel_opts)}e.caption&&r.attr("title",e.caption),e.classname&&(r.addClass(e.classname),o.addClass(e.classname)),e.width&&($(">div",r).css({width:e.width,margin:"0 auto"}),o.css("width",e.width)),e.height&&($(">div",r).css("height",e.height),o.css("height",e.height-10)),o.empty(),$.each(g,function(e){return c[this.name]=e,this.hidedlg?void(this.hidden||u.push(e)):void o.append("<option value='"+e+"' "+(this.hidden?"":"selected='selected'")+">"+$.jgrid.stripHtml(h[e])+"</option>")}),a=$.isFunction(e.dlog_opts)?e.dlog_opts.call(p,e):e.dlog_opts,i(e.dlog,r,a),s=$.isFunction(e.msel_opts)?e.msel_opts.call(p,e):e.msel_opts,i(e.msel,o,s),n=$("#colchooser_"+$.jgrid.jqID(p[0].p.id)),n.css({margin:"auto"}),n.find(">div").css({width:"100%",height:"100%",margin:"auto"}),l=f(o),l.container.css({width:"100%",height:"100%",margin:"auto"}),l.selectedContainer.css({width:100*l.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),l.availableContainer.css({width:100-100*l.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),l.selectedList.css("height","auto"),l.availableList.css("height","auto"),d=Math.max(l.selectedList.height(),l.availableList.height()),d=Math.min(d,$(window).height()),l.selectedList.css("height",d),l.availableList.css("height",d)}},sortableRows:function(e){return this.each(function(){var t=this;t.grid&&(t.p.treeGrid||$.fn.sortable&&(e=$.extend({cursor:"move",axis:"y",items:" > .jqgrow"},e||{}),e.start&&$.isFunction(e.start)?(e._start_=e.start,delete e.start):e._start_=!1,e.update&&$.isFunction(e.update)?(e._update_=e.update,delete e.update):e._update_=!1,e.start=function(i,r){if($(r.item).css("border-width","0"),$("td",r.item).each(function(e){this.style.width=t.grid.cols[e].style.width}),t.p.subGrid){var o=$(r.item).attr("id");try{$(t).jqGrid("collapseSubGridRow",o)}catch(a){}}e._start_&&e._start_.apply(this,[i,r])},e.update=function(i,r){$(r.item).css("border-width",""),t.p.rownumbers===!0&&$("td.jqgrid-rownum",t.rows).each(function(e){$(this).html(e+1+(parseInt(t.p.page,10)-1)*parseInt(t.p.rowNum,10))}),e._update_&&e._update_.apply(this,[i,r])},$("tbody:first",t).sortable(e),$("tbody:first > .jqgrow",t).disableSelection()))})},gridDnD:function(e){return this.each(function(){function t(){var e=$.data(o,"dnd");$("tr.jqgrow:not(.ui-draggable)",o).draggable($.isFunction(e.drag)?e.drag.call($(o),e):e.drag)}var i,r,o=this;if(o.grid&&!o.p.treeGrid&&$.fn.draggable&&$.fn.droppable){var a="<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>";if(void 0===$("#jqgrid_dnd")[0]&&$("body").append(a),"string"==typeof e&&"updateDnD"===e&&o.p.jqgdnd===!0)return void t();if(e=$.extend({drag:function(e){return $.extend({start:function(t,i){var r,a;if(o.p.subGrid){a=$(i.helper).attr("id");try{$(o).jqGrid("collapseSubGridRow",a)}catch(s){}}for(r=0;r<$.data(o,"dnd").connectWith.length;r++)0===$($.data(o,"dnd").connectWith[r]).jqGrid("getGridParam","reccount")&&$($.data(o,"dnd").connectWith[r]).jqGrid("addRowData","jqg_empty_row",{});i.helper.addClass("ui-state-highlight"),$("td",i.helper).each(function(e){this.style.width=o.grid.headers[e].width+"px"}),e.onstart&&$.isFunction(e.onstart)&&e.onstart.call($(o),t,i)},stop:function(t,i){var r,a;for(i.helper.dropped&&!e.dragcopy&&(a=$(i.helper).attr("id"),void 0===a&&(a=$(this).attr("id")),$(o).jqGrid("delRowData",a)),r=0;r<$.data(o,"dnd").connectWith.length;r++)$($.data(o,"dnd").connectWith[r]).jqGrid("delRowData","jqg_empty_row");e.onstop&&$.isFunction(e.onstop)&&e.onstop.call($(o),t,i)}},e.drag_opts||{})},drop:function(e){return $.extend({accept:function(e){if(!$(e).hasClass("jqgrow"))return e;var t=$(e).closest("table.ui-jqgrid-btable");if(t.length>0&&void 0!==$.data(t[0],"dnd")){var i=$.data(t[0],"dnd").connectWith;return-1!==$.inArray("#"+$.jgrid.jqID(this.id),i)?!0:!1}return!1},drop:function(t,i){if($(i.draggable).hasClass("jqgrow")){var r=$(i.draggable).attr("id"),a=i.draggable.parent().parent().jqGrid("getRowData",r);if(!e.dropbyname){var s,n,l=0,d={},p=$("#"+$.jgrid.jqID(this.id)).jqGrid("getGridParam","colModel");try{for(n in a)a.hasOwnProperty(n)&&(s=p[l].name,"cb"!==s&&"rn"!==s&&"subgrid"!==s&&a.hasOwnProperty(n)&&p[l]&&(d[s]=a[n]),l++);a=d}catch(c){}}if(i.helper.dropped=!0,e.beforedrop&&$.isFunction(e.beforedrop)){var u=e.beforedrop.call(this,t,i,a,$("#"+$.jgrid.jqID(o.p.id)),$(this));void 0!==u&&null!==u&&"object"==typeof u&&(a=u)}if(i.helper.dropped){var g;e.autoid&&($.isFunction(e.autoid)?g=e.autoid.call(this,a):(g=Math.ceil(1e3*Math.random()),g=e.autoidprefix+g)),$("#"+$.jgrid.jqID(this.id)).jqGrid("addRowData",g,a,e.droppos)}e.ondrop&&$.isFunction(e.ondrop)&&e.ondrop.call(this,t,i,a)}}},e.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},e||{}),e.connectWith)for(e.connectWith=e.connectWith.split(","),e.connectWith=$.map(e.connectWith,function(e){return $.trim(e)}),$.data(o,"dnd",e),0===o.p.reccount||o.p.jqgdnd||t(),o.p.jqgdnd=!0,i=0;i<e.connectWith.length;i++)r=e.connectWith[i],$(r).droppable($.isFunction(e.drop)?e.drop.call($(o),e):e.drop)}})},gridResize:function(opts){return this.each(function(){var $t=this,gID=$.jgrid.jqID($t.p.id),req;if($t.grid&&$.fn.resizable){if(opts=$.extend({},opts||{}),opts.alsoResize?(opts._alsoResize_=opts.alsoResize,delete opts.alsoResize):opts._alsoResize_=!1,opts.stop&&$.isFunction(opts.stop)?(opts._stop_=opts.stop,delete opts.stop):opts._stop_=!1,opts.stop=function(e,t){$($t).jqGrid("setGridParam",{height:$("#gview_"+gID+" .ui-jqgrid-bdiv").height()}),$($t).jqGrid("setGridWidth",t.size.width,opts.shrinkToFit),opts._stop_&&opts._stop_.call($t,e,t),$t.p.caption&&$("#gbox_"+gID).css({height:"auto"}),$t.p.frozenColumns&&(req&&clearTimeout(req),req=setTimeout(function(){req&&clearTimeout(req),$("#"+gID).jqGrid("destroyFrozenColumns"),$("#"+gID).jqGrid("setFrozenColumns")}))},opts._alsoResize_){var optstest="{'#gview_"+gID+" .ui-jqgrid-bdiv':true,'"+opts._alsoResize_+"':true}";opts.alsoResize=eval("("+optstest+")")}else opts.alsoResize=$(".ui-jqgrid-bdiv","#gview_"+gID);delete opts._alsoResize_,$("#gbox_"+gID).resizable(opts)}})}}),$.assocArraySize=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i},$.jgrid.extend({pivotSetup:function(e,t){var i=[],r=[],o=[],a=[],s=[],n={grouping:!0,groupingView:{groupField:[],groupSummary:[],groupSummaryPos:[]}},l=[],d=$.extend({rowTotals:!1,rowTotalsText:"Total",colTotals:!1,groupSummary:!0,groupSummaryPos:"header",frozenStaticCols:!1},t||{});return this.each(function(){function t(e,t,i){var r;return r=_pivotfilter.call(e,t,i),r.length>0?r[0]:null}function p(e,t){var i,r=0,o=!0;for(i in e)if(e.hasOwnProperty(i)){if(e[i]!=this[r]){o=!1;break}if(r++,r>=this.length)break}return o&&(f=t),o}function c(e,t,i,r){var o;switch(e){case"sum":o=parseFloat(t||0)+parseFloat(r[i]||0);break;case"count":(""===t||null==t)&&(t=0),o=r.hasOwnProperty(i)?t+1:0;break;case"min":o=""===t||null==t?parseFloat(r[i]||0):Math.min(parseFloat(t),parseFloat(r[i]||0));break;case"max":o=""===t||null==t?parseFloat(r[i]||0):Math.max(parseFloat(t),parseFloat(r[i]||0))}return o}function u(e,t,i,r){var o,n,l,d,p=t.length,u="",g=[];for($.isArray(i)?(d=i.length,g=i):(d=1,g[0]=i),a=[],s=[],a.root=0,l=0;d>l;l++){var h,f=[];for(o=0;p>o;o++){if(null==i)n=$.trim(t[o].member)+"_"+t[o].aggregator,h=n,g[0]=t[o].label||t[o].aggregator+" "+$.trim(t[o].member);else{h=i[l].replace(/\s+/g,"");try{n=1===p?u+h:u+h+"_"+t[o].aggregator+"_"+String(o)}catch(m){}g[l]=i[l]}n=isNaN(parseInt(n,10))?n:n+" ",r[n]=f[n]=c(t[o].aggregator,r[n],t[o].member,e),1>=l&&"_r_Totals"!==h&&""===u&&(u=h)}a[n]=f,s[n]=g[l]}return r}function g(e){var t,r,o,a,s;for(o in e)if(e.hasOwnProperty(o)){if("object"!=typeof e[o]){if("level"===o){if(void 0===T[e.level]&&(T[e.level]="",e.level>0&&-1===e.text.indexOf("_r_Totals")&&(l[e.level-1]={useColSpanStyle:!1,groupHeaders:[]})),T[e.level]!==e.text&&e.children.length&&-1===e.text.indexOf("_r_Totals")&&e.level>0){l[e.level-1].groupHeaders.push({titleText:e.label,numberOfColumns:0});var n=l[e.level-1].groupHeaders.length-1,p=0===n?P:O+b;if(e.level-1===(d.rowTotals?1:0)&&n>0){for(var c=0,u=0;n>u;u++)c+=l[e.level-1].groupHeaders[u].numberOfColumns;c&&(p=c+v)}i[p]&&(l[e.level-1].groupHeaders[n].startColumnName=i[p].name,l[e.level-1].groupHeaders[n].numberOfColumns=i.length-p),O=i.length}T[e.level]=e.text}if(e.level===j&&"level"===o&&j>0)if(b>1){var h=1;for(t in e.fields)e.fields.hasOwnProperty(t)&&(1===h&&l[j-1].groupHeaders.push({startColumnName:t,numberOfColumns:1,titleText:e.label||e.text}),h++);l[j-1].groupHeaders[l[j-1].groupHeaders.length-1].numberOfColumns=h-1}else l.splice(j-1,1)}if(null!=e[o]&&"object"==typeof e[o]&&g(e[o]),"level"===o&&e.level>0&&(e.level===(0===j?e.level:j)||-1!==T[e.level].indexOf("_r_Totals"))){r=0;for(t in e.fields)if(e.fields.hasOwnProperty(t)){s={};for(a in d.aggregates[r])if(d.aggregates[r].hasOwnProperty(a))switch(a){case"member":case"label":case"aggregator":break;default:s[a]=d.aggregates[r][a]}b>1?(s.name=t,s.label=d.aggregates[r].label||e.label):(s.name=e.text,s.label="_r_Totals"===e.text?d.rowTotalsText:e.label),i.push(s),r++}}}}var h,f,m,v,j,b,w,y,_=e.length,x=0;if(d.rowTotals&&d.yDimension.length>0){var q=d.yDimension[0].dataName;d.yDimension.splice(0,0,{dataName:q}),d.yDimension[0].converter=function(){return"_r_Totals"}}if(v=$.isArray(d.xDimension)?d.xDimension.length:0,j=d.yDimension.length,b=$.isArray(d.aggregates)?d.aggregates.length:0,0===v||0===b)throw"xDimension or aggregates optiona are not set!";var D;for(m=0;v>m;m++)D={name:d.xDimension[m].dataName,frozen:d.frozenStaticCols},null==d.xDimension[m].isGroupField&&(d.xDimension[m].isGroupField=!0),D=$.extend(!0,D,d.xDimension[m]),i.push(D);for(var C=v-1,I={};_>x;){h=e[x];var G=[],F=[];w={},m=0;do G[m]=$.trim(h[d.xDimension[m].dataName]),w[d.xDimension[m].dataName]=G[m],m++;while(v>m);var S=0;if(f=-1,y=t(r,p,G)){if(f>=0){if(S=0,j>=1){for(S=0;j>S;S++)F[S]=$.trim(h[d.yDimension[S].dataName]),d.yDimension[S].converter&&$.isFunction(d.yDimension[S].converter)&&(F[S]=d.yDimension[S].converter.call(this,F[S],G,F));y=u(h,d.aggregates,F,y)}else 0===j&&(y=u(h,d.aggregates,null,y));r[f]=y}}else{if(S=0,j>=1){for(S=0;j>S;S++)F[S]=$.trim(h[d.yDimension[S].dataName]),d.yDimension[S].converter&&$.isFunction(d.yDimension[S].converter)&&(F[S]=d.yDimension[S].converter.call(this,F[S],G,F));w=u(h,d.aggregates,F,w)}else 0===j&&(w=u(h,d.aggregates,null,w));r.push(w)}var k,R=0,M=null,N=null;for(k in a)if(a.hasOwnProperty(k)){if(0===R)I.children&&void 0!==I.children||(I={text:k,level:0,children:[],label:k}),M=I.children;else{for(N=null,m=0;m<M.length;m++)if(M[m].text===k){N=M[m];break}N?M=N.children:(M.push({children:[],text:k,level:R,fields:a[k],label:s[k]}),M=M[M.length-1].children)}R++}x++}var T=[],O=i.length,P=O;j>0&&(l[j-1]={useColSpanStyle:!1,groupHeaders:[]}),g(I);var A;if(d.colTotals)for(var E=r.length;E--;)for(m=v;m<i.length;m++)A=i[m].name,o[A]?o[A]+=parseFloat(r[E][A]||0):o[A]=parseFloat(r[E][A]||0);if(C>0)for(m=0;C>m;m++)i[m].isGroupField&&(n.groupingView.groupField.push(i[m].name),n.groupingView.groupSummary.push(d.groupSummary),n.groupingView.groupSummaryPos.push(d.groupSummaryPos));else n.grouping=!1;n.sortname=i[C].name,n.groupingView.hideFirstGroupCol=!0}),{colModel:i,rows:r,groupOptions:n,groupHeaders:l,summary:o}},jqPivot:function(e,t,i,r){return this.each(function(){function o(e){var r,o=jQuery(a).jqGrid("pivotSetup",e,t),s=$.assocArraySize(o.summary)>0?!0:!1,n=$.jgrid.from.call(a,o.rows);for(r=0;r<o.groupOptions.groupingView.groupField.length;r++)n.orderBy(o.groupOptions.groupingView.groupField[r],"a","text","");jQuery(a).jqGrid($.extend(!0,{datastr:$.extend(n.select(),s?{userdata:o.summary}:{}),datatype:"jsonstring",footerrow:s,userDataOnFooter:s,colModel:o.colModel,viewrecords:!0,sortname:t.xDimension[0].dataName},o.groupOptions,i||{}));var l=o.groupHeaders;if(l.length)for(r=0;r<l.length;r++)l[r]&&l[r].groupHeaders.length&&jQuery(a).jqGrid("setGroupHeaders",l[r]);t.frozenStaticCols&&jQuery(a).jqGrid("setFrozenColumns")}var a=this;"string"==typeof e?$.ajax($.extend({url:e,dataType:"json",success:function(e){o($.jgrid.getAccessor(e,r&&r.reader?r.reader:"rows"))}},r||{})):o(e)})}}),$.jgrid.extend({setSubGrid:function(){return this.each(function(){var e,t,i=this,r=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].subgrid,o={plusicon:r.icon_plus,minusicon:r.icon_minus,openicon:r.icon_open,expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,selectOnCollapse:!1,reloadOnExpand:!0};if(i.p.subGridOptions=$.extend(o,i.p.subGridOptions||{}),i.p.colNames.unshift(""),i.p.colModel.unshift({name:"subgrid",width:$.jgrid.cell_width?i.p.subGridWidth+i.p.cellLayout:i.p.subGridWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0}),e=i.p.subGridModel,e[0])for(e[0].align=$.extend([],e[0].align||[]),t=0;t<e[0].name.length;t++)e[0].align[t]=e[0].align[t]||"left"})},addSubGridCell:function(e,t){var i,r,o,a="";return this.each(function(){a=this.formatCol(e,t),r=this.p.id,i=this.p.subGridOptions.plusicon,o=$.jgrid.styleUI[this.p.styleUI||"jQueryUI"].common}),'<td role="gridcell" aria-describedby="'+r+'_subgrid" class="ui-sgcollapsed sgcollapsed" '+a+"><a style='cursor:pointer;' class='ui-sghref'><span class='"+o.icon_base+" "+i+"'></span></a></td>"},addSubGrid:function(e,t){return this.each(function(){var i=this;if(i.grid){var r,o,a,s,n,l=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].base,d=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].common,p=function(e,t,r){var o=$("<td align='"+i.p.subGridModel[0].align[r]+"'></td>").html(t);$(e).append(o)},c=function(e,t){var r,o,a,s=$("<table class='"+l.rowTable+" ui-common-table'><tbody></tbody></table>"),n=$("<tr></tr>");for(o=0;o<i.p.subGridModel[0].name.length;o++)r=$("<th class='"+l.headerBox+" ui-th-subgrid ui-th-column ui-th-"+i.p.direction+"'></th>"),$(r).html(i.p.subGridModel[0].name[o]),$(r).width(i.p.subGridModel[0].width[o]),$(n).append(r);$(s).append(n),e&&(a=i.p.xmlReader.subgrid,$(a.root+" "+a.row,e).each(function(){if(n=$("<tr class='"+d.content+" ui-subtblcell'></tr>"),a.repeatitems===!0)$(a.cell,this).each(function(e){p(n,$(this).text()||"&#160;",e)});else{var e=i.p.subGridModel[0].mapping||i.p.subGridModel[0].name;if(e)for(o=0;o<e.length;o++)p(n,$(e[o],this).text()||"&#160;",o)}$(s).append(n)}));var c=$("table:first",i.grid.bDiv).attr("id")+"_";return $("#"+$.jgrid.jqID(c+t)).append(s),i.grid.hDiv.loading=!1,$("#load_"+$.jgrid.jqID(i.p.id)).hide(),!1},u=function(e,t){var r,o,a,s,n,c,u=$("<table class='"+l.rowTable+" ui-common-table'><tbody></tbody></table>"),g=$("<tr></tr>");for(a=0;a<i.p.subGridModel[0].name.length;a++)r=$("<th class='"+l.headerBox+" ui-th-subgrid ui-th-column ui-th-"+i.p.direction+"'></th>"),$(r).html(i.p.subGridModel[0].name[a]),$(r).width(i.p.subGridModel[0].width[a]),$(g).append(r);if($(u).append(g),e&&(n=i.p.jsonReader.subgrid,o=$.jgrid.getAccessor(e,n.root),void 0!==o))for(a=0;a<o.length;a++){if(s=o[a],g=$("<tr class='"+d.content+" ui-subtblcell'></tr>"),n.repeatitems===!0)for(n.cell&&(s=s[n.cell]),c=0;c<s.length;c++)p(g,s[c]||"&#160;",c);else{var h=i.p.subGridModel[0].mapping||i.p.subGridModel[0].name;if(h.length)for(c=0;c<h.length;c++)p(g,s[h[c]]||"&#160;",c)}$(u).append(g)}var f=$("table:first",i.grid.bDiv).attr("id")+"_";return $("#"+$.jgrid.jqID(f+t)).append(u),i.grid.hDiv.loading=!1,$("#load_"+$.jgrid.jqID(i.p.id)).hide(),!1},g=function(e){var t,r,o,a;if(t=$(e).attr("id"),r={nd_:(new Date).getTime()},r[i.p.prmNames.subgridid]=t,!i.p.subGridModel[0])return!1;if(i.p.subGridModel[0].params)for(a=0;a<i.p.subGridModel[0].params.length;a++)for(o=0;o<i.p.colModel.length;o++)i.p.colModel[o].name===i.p.subGridModel[0].params[a]&&(r[i.p.colModel[o].name]=$("td:eq("+o+")",e).text().replace(/\&#160\;/gi,""));if(!i.grid.hDiv.loading)switch(i.grid.hDiv.loading=!0,$("#load_"+$.jgrid.jqID(i.p.id)).show(),i.p.subgridtype||(i.p.subgridtype=i.p.datatype),$.isFunction(i.p.subgridtype)?i.p.subgridtype.call(i,r):i.p.subgridtype=i.p.subgridtype.toLowerCase(),i.p.subgridtype){case"xml":case"json":$.ajax($.extend({type:i.p.mtype,url:$.isFunction(i.p.subGridUrl)?i.p.subGridUrl.call(i,r):i.p.subGridUrl,dataType:i.p.subgridtype,data:$.isFunction(i.p.serializeSubGridData)?i.p.serializeSubGridData.call(i,r):r,complete:function(e){"xml"===i.p.subgridtype?c(e.responseXML,t):u($.jgrid.parse(e.responseText),t),e=null}},$.jgrid.ajaxOptions,i.p.ajaxSubgridOptions||{}))}return!1},h=0;$.each(i.p.colModel,function(){(this.hidden===!0||"rn"===this.name||"cb"===this.name)&&h++});var f=i.rows.length,m=1;for(void 0!==t&&t>0&&(m=t,f=t+1);f>m;)$(i.rows[m]).hasClass("jqgrow")&&(i.p.scroll&&$(i.rows[m].cells[e]).unbind("click"),$(i.rows[m].cells[e]).bind("click",function(){var t=$(this).parent("tr")[0];if(o=i.p.id,r=t.id,n=$("#"+o+"_"+r+"_expandedContent"),$(this).hasClass("sgcollapsed")){if(s=$(i).triggerHandler("jqGridSubGridBeforeExpand",[o+"_"+r,r]),s=s===!1||"stop"===s?!1:!0,s&&$.isFunction(i.p.subGridBeforeExpand)&&(s=i.p.subGridBeforeExpand.call(i,o+"_"+r,r)),s===!1)return!1;i.p.subGridOptions.reloadOnExpand===!0||i.p.subGridOptions.reloadOnExpand===!1&&!n.hasClass("ui-subgrid")?(a=e>=1?"<td colspan='"+e+"'>&#160;</td>":"",$(t).after("<tr role='row' id='"+o+"_"+r+"_expandedContent' class='ui-subgrid ui-sg-expanded'>"+a+"<td class='"+d.content+" subgrid-cell'><span class='"+d.icon_base+" "+i.p.subGridOptions.openicon+"'></span></td><td colspan='"+parseInt(i.p.colNames.length-1-h,10)+"' class='"+d.content+" subgrid-data'><div id="+o+"_"+r+" class='tablediv'></div></td></tr>"),$(i).triggerHandler("jqGridSubGridRowExpanded",[o+"_"+r,r]),$.isFunction(i.p.subGridRowExpanded)?i.p.subGridRowExpanded.call(i,o+"_"+r,r):g(t)):n.show().removeClass("ui-sg-collapsed").addClass("ui-sg-expanded"),$(this).html("<a style='cursor:pointer;' class='ui-sghref'><span class='"+d.icon_base+" "+i.p.subGridOptions.minusicon+"'></span></a>").removeClass("sgcollapsed").addClass("sgexpanded"),i.p.subGridOptions.selectOnExpand&&$(i).jqGrid("setSelection",r)}else if($(this).hasClass("sgexpanded")){if(s=$(i).triggerHandler("jqGridSubGridRowColapsed",[o+"_"+r,r]),s=s===!1||"stop"===s?!1:!0,s&&$.isFunction(i.p.subGridRowColapsed)&&(s=i.p.subGridRowColapsed.call(i,o+"_"+r,r)),s===!1)return!1;i.p.subGridOptions.reloadOnExpand===!0?n.remove(".ui-subgrid"):n.hasClass("ui-subgrid")&&n.hide().addClass("ui-sg-collapsed").removeClass("ui-sg-expanded"),$(this).html("<a style='cursor:pointer;' class='ui-sghref'><span class='"+d.icon_base+" "+i.p.subGridOptions.plusicon+"'></span></a>").removeClass("sgexpanded").addClass("sgcollapsed"),i.p.subGridOptions.selectOnCollapse&&$(i).jqGrid("setSelection",r)}return!1})),m++;i.p.subGridOptions.expandOnLoad===!0&&$(i.rows).filter(".jqgrow").each(function(e,t){$(t.cells[0]).click()}),i.subGridXml=function(e,t){c(e,t)},i.subGridJson=function(e,t){u(e,t)}}})},expandSubGridRow:function(e){return this.each(function(){var t=this;if((t.grid||e)&&t.p.subGrid===!0){var i=$(this).jqGrid("getInd",e,!0);if(i){var r=$("td.sgcollapsed",i)[0];r&&$(r).trigger("click")}}})},collapseSubGridRow:function(e){return this.each(function(){var t=this;if((t.grid||e)&&t.p.subGrid===!0){var i=$(this).jqGrid("getInd",e,!0);if(i){var r=$("td.sgexpanded",i)[0];r&&$(r).trigger("click")}}})},toggleSubGridRow:function(e){return this.each(function(){var t=this;if((t.grid||e)&&t.p.subGrid===!0){var i=$(this).jqGrid("getInd",e,!0);if(i){var r=$("td.sgcollapsed",i)[0];r?$(r).trigger("click"):(r=$("td.sgexpanded",i)[0],r&&$(r).trigger("click"))}}})}}),$.jgrid.extend({setTreeNode:function(e,t){return this.each(function(){var i=this;if(i.grid&&i.p.treeGrid)for(var r,o,a,s,n,l,d,p,c=i.p.expColInd,u=i.p.treeReader.expanded_field,g=i.p.treeReader.leaf_field,h=i.p.treeReader.level_field,f=i.p.treeReader.icon_field,m=i.p.treeReader.loaded,v=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].common;t>e;){var j,b=$.jgrid.stripPref(i.p.idPrefix,i.rows[e].id),w=i.p._index[b];d=i.p.data[w],"nested"===i.p.treeGridModel&&(d[g]||(r=parseInt(d[i.p.treeReader.left_field],10),o=parseInt(d[i.p.treeReader.right_field],10),d[g]=o===r+1?"true":"false",i.rows[e].cells[i.p._treeleafpos].innerHTML=d[g])),a=parseInt(d[h],10),0===i.p.tree_root_level?(s=a+1,n=a):(s=a,n=a-1),l="<div class='tree-wrap tree-wrap-"+i.p.direction+"' style='width:"+18*s+"px;'>",l+="<div style='"+("rtl"===i.p.direction?"right:":"left:")+18*n+"px;' class='"+v.icon_base+" ",void 0!==d[m]&&(d[m]="true"===d[m]||d[m]===!0?!0:!1),"true"===d[g]||d[g]===!0?(l+=(void 0!==d[f]&&""!==d[f]?d[f]:i.p.treeIcons.leaf)+" tree-leaf treeclick",d[g]=!0,p="leaf"):(d[g]=!1,p=""),d[u]=("true"===d[u]||d[u]===!0?!0:!1)&&(d[m]||void 0===d[m]),l+=d[u]===!1?d[g]===!0?"'":i.p.treeIcons.plus+" tree-plus treeclick'":d[g]===!0?"'":i.p.treeIcons.minus+" tree-minus treeclick'",l+="></div></div>",$(i.rows[e].cells[c]).wrapInner("<span class='cell-wrapper"+p+"'></span>").prepend(l),a!==parseInt(i.p.tree_root_level,10)&&(j=$(i).jqGrid("isVisibleNode",d),j||$(i.rows[e]).css("display","none")),$(i.rows[e].cells[c]).find("div.treeclick").bind("click",function(e){var t=e.target||e.srcElement,r=$.jgrid.stripPref(i.p.idPrefix,$(t,i.rows).closest("tr.jqgrow")[0].id),o=i.p._index[r];return i.p.data[o][g]||(i.p.data[o][u]?($(i).jqGrid("collapseRow",i.p.data[o]),$(i).jqGrid("collapseNode",i.p.data[o])):($(i).jqGrid("expandRow",i.p.data[o]),$(i).jqGrid("expandNode",i.p.data[o]))),!1}),i.p.ExpandColClick===!0&&$(i.rows[e].cells[c]).find("span.cell-wrapper").css("cursor","pointer").bind("click",function(e){var t=e.target||e.srcElement,r=$.jgrid.stripPref(i.p.idPrefix,$(t,i.rows).closest("tr.jqgrow")[0].id),o=i.p._index[r];return i.p.data[o][g]||(i.p.data[o][u]?($(i).jqGrid("collapseRow",i.p.data[o]),$(i).jqGrid("collapseNode",i.p.data[o])):($(i).jqGrid("expandRow",i.p.data[o]),$(i).jqGrid("expandNode",i.p.data[o]))),$(i).jqGrid("setSelection",r),!1}),e++}})},setTreeGrid:function(){return this.each(function(){var e,t,i,r,o=this,a=0,s=!1,n=[],l=$.jgrid.styleUI[o.p.styleUI||"jQueryUI"].treegrid;if(o.p.treeGrid){o.p.treedatatype||$.extend(o.p,{treedatatype:o.p.datatype}),o.p.loadonce&&(o.p.treedatatype="local"),o.p.subGrid=!1,o.p.altRows=!1,o.p.pgbuttons=!1,o.p.pginput=!1,o.p.gridview=!0,null===o.p.rowTotal&&(o.p.rowNum=1e4),o.p.multiselect=!1,o.p.rowList=[],o.p.expColInd=0,e=l.icon_plus,"jQueryUI"===o.p.styleUI&&(e+="rtl"===o.p.direction?"w":"e"),o.p.treeIcons=$.extend({plus:e,minus:l.icon_minus,leaf:l.icon_leaf},o.p.treeIcons||{}),"nested"===o.p.treeGridModel?o.p.treeReader=$.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},o.p.treeReader):"adjacency"===o.p.treeGridModel&&(o.p.treeReader=$.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},o.p.treeReader));for(i in o.p.colModel)if(o.p.colModel.hasOwnProperty(i)){t=o.p.colModel[i].name,t!==o.p.ExpandColumn||s||(s=!0,o.p.expColInd=a),a++;for(r in o.p.treeReader)o.p.treeReader.hasOwnProperty(r)&&o.p.treeReader[r]===t&&n.push(t)}$.each(o.p.treeReader,function(e,t){t&&-1===$.inArray(t,n)&&("leaf_field"===e&&(o.p._treeleafpos=a),a++,o.p.colNames.push(t),o.p.colModel.push({name:t,width:1,hidden:!0,sortable:!1,resizable:!1,hidedlg:!0,editable:!0,search:!1}))})}})},expandRow:function(e){this.each(function(){var t=this;if(t.grid&&t.p.treeGrid){var i=$(t).jqGrid("getNodeChildren",e),r=t.p.treeReader.expanded_field,o=e[t.p.localReader.id],a=$.isFunction(t.p.beforeExpandTreeGridRow)?t.p.beforeExpandTreeGridRow.call(t,o,e,i):!0;a!==!1&&($(i).each(function(){var e=t.p.idPrefix+$.jgrid.getAccessor(this,t.p.localReader.id);$($(t).jqGrid("getGridRowById",e)).css("display",""),this[r]&&$(t).jqGrid("expandRow",this)}),$.isFunction(t.p.afterExpandTreeGridRow)&&t.p.afterExpandTreeGridRow.call(t,o,e,i))}})},collapseRow:function(e){this.each(function(){var t=this;if(t.grid&&t.p.treeGrid){var i=$(t).jqGrid("getNodeChildren",e),r=t.p.treeReader.expanded_field,o=e[t.p.localReader.id],a=$.isFunction(t.p.beforeCollapseTreeGridRow)?t.p.beforeCollapseTreeGridRow.call(t,o,e,i):!0;a!==!1&&($(i).each(function(){var e=t.p.idPrefix+$.jgrid.getAccessor(this,t.p.localReader.id);$($(t).jqGrid("getGridRowById",e)).css("display","none"),this[r]&&$(t).jqGrid("collapseRow",this)}),$.isFunction(t.p.afterCollapseTreeGridRow)&&t.p.afterCollapseTreeGridRow.call(t,o,e,i))}})},getRootNodes:function(e){var t=[];return this.each(function(){var i,r,o,a=this;if(a.grid&&a.p.treeGrid)switch("boolean"!=typeof e&&(e=!1),o=e?$(a).jqGrid("getRowData",null,!0):a.p.data,a.p.treeGridModel){case"nested":i=a.p.treeReader.level_field,$(o).each(function(){parseInt(this[i],10)===parseInt(a.p.tree_root_level,10)&&t.push(e?a.p.data[a.p._index[this[a.p.keyName]]]:this)});break;case"adjacency":r=a.p.treeReader.parent_id_field,$(o).each(function(){(null===this[r]||"null"===String(this[r]).toLowerCase())&&t.push(e?a.p.data[a.p._index[this[a.p.keyName]]]:this)})}}),t},getNodeDepth:function(e){var t=null;return this.each(function(){if(this.grid&&this.p.treeGrid){var i=this;switch(i.p.treeGridModel){case"nested":var r=i.p.treeReader.level_field;t=parseInt(e[r],10)-parseInt(i.p.tree_root_level,10);break;case"adjacency":t=$(i).jqGrid("getNodeAncestors",e).length}}}),t},getNodeParent:function(e){var t=null;return this.each(function(){var i=this;if(i.grid&&i.p.treeGrid)switch(i.p.treeGridModel){case"nested":var r=i.p.treeReader.left_field,o=i.p.treeReader.right_field,a=i.p.treeReader.level_field,s=parseInt(e[r],10),n=parseInt(e[o],10),l=parseInt(e[a],10);$(this.p.data).each(function(){return parseInt(this[a],10)===l-1&&parseInt(this[r],10)<s&&parseInt(this[o],10)>n?(t=this,!1):void 0});break;case"adjacency":for(var d=i.p.treeReader.parent_id_field,p=i.p.localReader.id,c=e[p],u=i.p._index[c];u--;)if(i.p.data[u][p]===$.jgrid.stripPref(i.p.idPrefix,e[d])){t=i.p.data[u];break}}}),t},getNodeChildren:function(e){var t=[];return this.each(function(){var i=this;if(i.grid&&i.p.treeGrid)switch(i.p.treeGridModel){case"nested":var r=i.p.treeReader.left_field,o=i.p.treeReader.right_field,a=i.p.treeReader.level_field,s=parseInt(e[r],10),n=parseInt(e[o],10),l=parseInt(e[a],10);$(this.p.data).each(function(){parseInt(this[a],10)===l+1&&parseInt(this[r],10)>s&&parseInt(this[o],10)<n&&t.push(this)});break;case"adjacency":var d=i.p.treeReader.parent_id_field,p=i.p.localReader.id;$(this.p.data).each(function(){this[d]==$.jgrid.stripPref(i.p.idPrefix,e[p])&&t.push(this)})}}),t},getFullTreeNode:function(e,t){var i=[];return this.each(function(){var r,o=this,a=o.p.treeReader.expanded_field;if(o.grid&&o.p.treeGrid)switch((null==t||"boolean"!=typeof t)&&(t=!1),o.p.treeGridModel){case"nested":var s=o.p.treeReader.left_field,n=o.p.treeReader.right_field,l=o.p.treeReader.level_field,d=parseInt(e[s],10),p=parseInt(e[n],10),c=parseInt(e[l],10);$(this.p.data).each(function(){parseInt(this[l],10)>=c&&parseInt(this[s],10)>=d&&parseInt(this[s],10)<=p&&(t&&(this[a]=!0),i.push(this))});break;case"adjacency":if(e){i.push(e);var u=o.p.treeReader.parent_id_field,g=o.p.localReader.id;$(this.p.data).each(function(e){for(r=i.length,e=0;r>e;e++)if($.jgrid.stripPref(o.p.idPrefix,i[e][g])===this[u]){t&&(this[a]=!0),i.push(this);
break}})}}}),i},getNodeAncestors:function(e){var t=[];return this.each(function(){if(this.grid&&this.p.treeGrid)for(var i=$(this).jqGrid("getNodeParent",e);i;)t.push(i),i=$(this).jqGrid("getNodeParent",i)}),t},isVisibleNode:function(e){var t=!0;return this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var r=$(i).jqGrid("getNodeAncestors",e),o=i.p.treeReader.expanded_field;$(r).each(function(){return t=t&&this[o],t?void 0:!1})}}),t},isNodeLoaded:function(e){var t;return this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var r=i.p.treeReader.leaf_field,o=i.p.treeReader.loaded;t=void 0!==e?void 0!==e[o]?e[o]:e[r]||$(i).jqGrid("getNodeChildren",e).length>0?!0:!1:!1}}),t},reloadNode:function(e){return this.each(function(){if(this.grid&&this.p.treeGrid){var t=this.p.localReader.id,i=this.p.selrow;$(this).jqGrid("delChildren",e[t]);var r=this.p.treeReader.expanded_field,o=this.p.treeReader.parent_id_field,a=this.p.treeReader.loaded,s=this.p.treeReader.level_field,n=this.p.treeReader.left_field,l=this.p.treeReader.right_field,d=$.jgrid.getAccessor(e,this.p.localReader.id),p=$("#"+d,this.grid.bDiv)[0];e[r]=!0,$("div.treeclick",p).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=p.rowIndex,this.p.datatype=this.p.treedatatype,"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{postData:{nodeid:d,n_left:e[n],n_right:e[l],n_level:e[s]}}):$(this).jqGrid("setGridParam",{postData:{nodeid:d,parentid:e[o],n_level:e[s]}}),$(this).trigger("reloadGrid"),e[a]=!0,"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{selrow:i,postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):$(this).jqGrid("setGridParam",{selrow:i,postData:{nodeid:"",parentid:"",n_level:""}})}})},expandNode:function(e){return this.each(function(){if(this.grid&&this.p.treeGrid){var t=this.p.treeReader.expanded_field,i=this.p.treeReader.parent_id_field,r=this.p.treeReader.loaded,o=this.p.treeReader.level_field,a=this.p.treeReader.left_field,s=this.p.treeReader.right_field;if(!e[t]){var n=$.jgrid.getAccessor(e,this.p.localReader.id),l=$("#"+this.p.idPrefix+$.jgrid.jqID(n),this.grid.bDiv)[0],d=this.p._index[n],p=$.isFunction(this.p.beforeExpandTreeGridNode)?this.p.beforeExpandTreeGridNode.call(this,n,e):!0;if(p===!1)return;$(this).jqGrid("isNodeLoaded",this.p.data[d])?(e[t]=!0,$("div.treeclick",l).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus")):this.grid.hDiv.loading||(e[t]=!0,$("div.treeclick",l).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=l.rowIndex,this.p.datatype=this.p.treedatatype,"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{postData:{nodeid:n,n_left:e[a],n_right:e[s],n_level:e[o]}}):$(this).jqGrid("setGridParam",{postData:{nodeid:n,parentid:e[i],n_level:e[o]}}),$(this).trigger("reloadGrid"),e[r]=!0,"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):$(this).jqGrid("setGridParam",{postData:{nodeid:"",parentid:"",n_level:""}})),$.isFunction(this.p.afterExpandTreeGridNode)&&this.p.afterExpandTreeGridNode.call(this,n,e)}}})},collapseNode:function(e){return this.each(function(){if(this.grid&&this.p.treeGrid){var t=this.p.treeReader.expanded_field;if(e[t]){var i=$.jgrid.getAccessor(e,this.p.localReader.id),r=$.isFunction(this.p.beforeCollapseTreeGridNode)?this.p.beforeCollapseTreeGridNode.call(this,i,e):!0,o=$("#"+this.p.idPrefix+$.jgrid.jqID(i),this.grid.bDiv)[0];if(e[t]=!1,r===!1)return;$("div.treeclick",o).removeClass(this.p.treeIcons.minus+" tree-minus").addClass(this.p.treeIcons.plus+" tree-plus"),$.isFunction(this.p.afterCollapseTreeGridNode)&&this.p.afterCollapseTreeGridNode.call(this,i,e)}}})},SortTree:function(e,t,i,r){return this.each(function(){if(this.grid&&this.p.treeGrid){var o,a,s,n,l,d=[],p=this,c=$(this).jqGrid("getRootNodes",p.p.search);for(n=$.jgrid.from.call(this,c),n.orderBy(e,t,i,r),l=n.select(),o=0,a=l.length;a>o;o++)s=l[o],d.push(s),$(this).jqGrid("collectChildrenSortTree",d,s,e,t,i,r);$.each(d,function(e){var t=$.jgrid.getAccessor(this,p.p.localReader.id);$("#"+$.jgrid.jqID(p.p.id)+" tbody tr:eq("+e+")").after($("tr#"+$.jgrid.jqID(t),p.grid.bDiv))}),n=null,l=null,d=null}})},searchTree:function(e){var t,i,r,o=e.length||0,a=[],s=[],n=[];return this.each(function(){if(this.grid&&this.p.treeGrid&&o)for(i=this.p.localReader.id,t=0;o>t;t++)a=$(this).jqGrid("getNodeAncestors",e[t]),a.length||a.push(e[t]),r=a[a.length-1][i],-1===$.inArray(r,s)&&(s.push(r),a=$(this).jqGrid("getFullTreeNode",a[a.length-1],!0),n=n.concat(a))}),n},collectChildrenSortTree:function(e,t,i,r,o,a){return this.each(function(){if(this.grid&&this.p.treeGrid){var s,n,l,d,p,c;for(d=$(this).jqGrid("getNodeChildren",t),p=$.jgrid.from.call(this,d),p.orderBy(i,r,o,a),c=p.select(),s=0,n=c.length;n>s;s++)l=c[s],e.push(l),$(this).jqGrid("collectChildrenSortTree",e,l,i,r,o,a)}})},setTreeRow:function(e,t){var i=!1;return this.each(function(){var r=this;r.grid&&r.p.treeGrid&&(i=$(r).jqGrid("setRowData",e,t))}),i},delTreeNode:function(e){return this.each(function(){var t,i,r,o,a,s=this,n=s.p.localReader.id,l=s.p.treeReader.left_field,d=s.p.treeReader.right_field;if(s.grid&&s.p.treeGrid){var p=s.p._index[e];if(void 0!==p){i=parseInt(s.p.data[p][d],10),r=i-parseInt(s.p.data[p][l],10)+1;var c=$(s).jqGrid("getFullTreeNode",s.p.data[p]);if(c.length>0)for(t=0;t<c.length;t++)$(s).jqGrid("delRowData",c[t][n]);if("nested"===s.p.treeGridModel){if(o=$.jgrid.from.call(s,s.p.data).greater(l,i,{stype:"integer"}).select(),o.length)for(a in o)o.hasOwnProperty(a)&&(o[a][l]=parseInt(o[a][l],10)-r);if(o=$.jgrid.from.call(s,s.p.data).greater(d,i,{stype:"integer"}).select(),o.length)for(a in o)o.hasOwnProperty(a)&&(o[a][d]=parseInt(o[a][d],10)-r)}}}})},delChildren:function(e){return this.each(function(){var t,i,r,o,a=this,s=a.p.localReader.id,n=a.p.treeReader.left_field,l=a.p.treeReader.right_field;if(a.grid&&a.p.treeGrid){var d=a.p._index[e];if(void 0!==d){t=parseInt(a.p.data[d][l],10),i=t-parseInt(a.p.data[d][n],10)+1;var p=$(a).jqGrid("getFullTreeNode",a.p.data[d]);if(p.length>0)for(var c=0;c<p.length;c++)p[c][s]!==e&&$(a).jqGrid("delRowData",p[c][s]);if("nested"===a.p.treeGridModel){if(r=$.jgrid.from(a.p.data).greater(n,t,{stype:"integer"}).select(),r.length)for(o in r)r.hasOwnProperty(o)&&(r[o][n]=parseInt(r[o][n],10)-i);if(r=$.jgrid.from(a.p.data).greater(l,t,{stype:"integer"}).select(),r.length)for(o in r)r.hasOwnProperty(o)&&(r[o][l]=parseInt(r[o][l],10)-i)}}}})},addChildNode:function(e,t,i,r){var o=this[0];if(i){var a,s,n,l,d,p,c,u,g=o.p.treeReader.expanded_field,h=o.p.treeReader.leaf_field,f=o.p.treeReader.level_field,m=o.p.treeReader.parent_id_field,v=o.p.treeReader.left_field,j=o.p.treeReader.right_field,b=o.p.treeReader.loaded,w=0,y=t;if(void 0===r&&(r=!1),null==e){if(d=o.p.data.length-1,d>=0)for(;d>=0;)w=Math.max(w,parseInt(o.p.data[d][o.p.localReader.id],10)),d--;e=w+1}var _=$(o).jqGrid("getInd",t);if(c=!1,void 0===t||null===t||""===t)t=null,y=null,a="last",l=o.p.tree_root_level,d=o.p.data.length+1;else{a="after",s=o.p._index[t],n=o.p.data[s],t=n[o.p.localReader.id],l=parseInt(n[f],10)+1;var x=$(o).jqGrid("getFullTreeNode",n);x.length?(d=x[x.length-1][o.p.localReader.id],y=d,d=$(o).jqGrid("getInd",y)+1):d=$(o).jqGrid("getInd",t)+1,n[h]&&(c=!0,n[g]=!0,$(o.rows[_]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(o.p.treeIcons.leaf+" tree-leaf").addClass(o.p.treeIcons.minus+" tree-minus"),o.p.data[s][h]=!1,n[b]=!0)}if(p=d+1,void 0===i[g]&&(i[g]=!1),void 0===i[b]&&(i[b]=!1),i[f]=l,void 0===i[h]&&(i[h]=!0),"adjacency"===o.p.treeGridModel&&(i[m]=t),"nested"===o.p.treeGridModel){var q,D,C;if(null!==t){if(u=parseInt(n[j],10),q=$.jgrid.from.call(o,o.p.data),q=q.greaterOrEquals(j,u,{stype:"integer"}),D=q.select(),D.length)for(C in D)D.hasOwnProperty(C)&&(D[C][v]=D[C][v]>u?parseInt(D[C][v],10)+2:D[C][v],D[C][j]=D[C][j]>=u?parseInt(D[C][j],10)+2:D[C][j]);i[v]=u,i[j]=u+1}else{if(u=parseInt($(o).jqGrid("getCol",j,!1,"max"),10),D=$.jgrid.from.call(o,o.p.data).greater(v,u,{stype:"integer"}).select(),D.length)for(C in D)D.hasOwnProperty(C)&&(D[C][v]=parseInt(D[C][v],10)+2);if(D=$.jgrid.from.call(o,o.p.data).greater(j,u,{stype:"integer"}).select(),D.length)for(C in D)D.hasOwnProperty(C)&&(D[C][j]=parseInt(D[C][j],10)+2);i[v]=u+1,i[j]=u+2}}(null===t||$(o).jqGrid("isNodeLoaded",n)||c)&&($(o).jqGrid("addRowData",e,i,a,y),$(o).jqGrid("setTreeNode",d,p)),n&&!n[g]&&r&&$(o.rows[_]).find("div.treeclick").click()}}}),$.fn.jqDrag=function(e){return i(this,e,"d")},$.fn.jqResize=function(e,t){return i(this,e,"r",t)},$.jqDnR={dnr:{},e:0,drag:function(e){return"d"==M.k?E.css({left:M.X+e.pageX-M.pX,top:M.Y+e.pageY-M.pY}):(E.css({width:Math.max(e.pageX-M.pX+M.W,0),height:Math.max(e.pageY-M.pY+M.H,0)}),M1&&E1.css({width:Math.max(e.pageX-M1.pX+M1.W,0),height:Math.max(e.pageY-M1.pY+M1.H,0)})),!1},stop:function(){$(document).unbind("mousemove",J.drag).unbind("mouseup",J.stop)}};var J=$.jqDnR,M=J.dnr,E=J.e,E1,M1,i=function(e,t,i,r){return e.each(function(){t=t?$(t,e):e,t.bind("mousedown",{e:e,k:i},function(e){var t=e.data,i={};if(E=t.e,E1=r?$(r):!1,"relative"!=E.css("position"))try{E.position(i)}catch(o){}if(M={X:i.left||f("left")||0,Y:i.top||f("top")||0,W:f("width")||E[0].scrollWidth||0,H:f("height")||E[0].scrollHeight||0,pX:e.pageX,pY:e.pageY,k:t.k},M1=E1&&"d"!=t.k?{X:i.left||f1("left")||0,Y:i.top||f1("top")||0,W:E1[0].offsetWidth||f1("width")||0,H:E1[0].offsetHeight||f1("height")||0,pX:e.pageX,pY:e.pageY,k:t.k}:!1,$("input.hasDatepicker",E[0])[0])try{$("input.hasDatepicker",E[0]).datepicker("hide")}catch(a){}return $(document).mousemove($.jqDnR.drag).mouseup($.jqDnR.stop),!1})})},f=function(e){return parseInt(E.css(e),10)||!1},f1=function(e){return parseInt(E1.css(e),10)||!1};$.fn.jqm=function(e){var t={overlay:50,closeoverlay:!0,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:F,ajaxText:"",target:F,modal:F,toTop:F,onShow:F,onHide:F,onLoad:F};return this.each(function(){return this._jqm?H[this._jqm].c=$.extend({},H[this._jqm].c,e):(s++,this._jqm=s,H[s]={c:$.extend(t,$.jqm.params,e),a:F,w:$(this).addClass("jqmID"+s),s:s},void(t.trigger&&$(this).jqmAddTrigger(t.trigger)))})},$.fn.jqmAddClose=function(e){return hs(this,e,"jqmHide")},$.fn.jqmAddTrigger=function(e){return hs(this,e,"jqmShow")},$.fn.jqmShow=function(e){return this.each(function(){$.jqm.open(this._jqm,e)})},$.fn.jqmHide=function(e){return this.each(function(){$.jqm.close(this._jqm,e)})},$.jqm={hash:{},open:function(t,i){var r=H[t],o=r.c,a="."+o.closeClass,s=parseInt(r.w.css("z-index"));s=s>0?s:3e3;var n=$("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":s-1,opacity:o.overlay/100});if(r.a)return F;if(r.t=i,r.a=!0,r.w.css("z-index",s),o.modal?(A[0]||setTimeout(function(){new L("bind")},1),A.push(t)):o.overlay>0?o.closeoverlay&&r.w.jqmAddClose(n):n=F,r.o=n?n.addClass(o.overlayClass).prependTo("body"):F,o.ajax){var l=o.target||r.w,d=o.ajax;l="string"==typeof l?$(l,r.w):$(l),d="@"===d.substr(0,1)?$(i).attr(d.substring(1)):d,l.html(o.ajaxText).load(d,function(){o.onLoad&&o.onLoad.call(this,r),a&&r.w.jqmAddClose($(a,r.w)),e(r)})}else a&&r.w.jqmAddClose($(a,r.w));return o.toTop&&r.o&&r.w.before('<span id="jqmP'+r.w[0]._jqm+'"></span>').insertAfter(r.o),o.onShow?o.onShow(r):r.w.show(),e(r),F},close:function(e){var t=H[e];return t.a?(t.a=F,A[0]&&(A.pop(),A[0]||new L("unbind")),t.c.toTop&&t.o&&$("#jqmP"+t.w[0]._jqm).after(t.w).remove(),t.c.onHide?t.c.onHide(t):(t.w.hide(),t.o&&t.o.remove()),F):F},params:{}};var s=0,H=$.jqm.hash,A=[],F=!1,e=function(e){void 0===e.c.focusField&&(e.c.focusField=0),e.c.focusField>=0&&f(e)},f=function(e){try{$(":input:visible",e.w)[parseInt(e.c.focusField,10)].focus()}catch(t){}},L=function(e){$(document)[e]("keypress",m)[e]("keydown",m)[e]("mousedown",m)},m=function(e){var t=H[A[A.length-1]],i=!$(e.target).parents(".jqmID"+t.s)[0];return i&&($(".jqmID"+t.s).each(function(){var t=$(this),r=t.offset();return r.top<=e.pageY&&e.pageY<=r.top+t.height()&&r.left<=e.pageX&&e.pageX<=r.left+t.width()?(i=!1,!1):void 0}),f(t)),!i},hs=function(e,t,i){return e.each(function(){var e=this._jqm;$(t).each(function(){this[i]||(this[i]=[],$(this).click(function(){for(var e in{jqmShow:1,jqmHide:1})for(var t in this[e])H[this[e][t]]&&H[this[e][t]].w[e](this);return F})),this[i].push(e)})})};$.fmatter={},$.extend($.fmatter,{isBoolean:function(e){return"boolean"==typeof e},isObject:function(e){return e&&("object"==typeof e||$.isFunction(e))||!1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(e){return!this.isString(e)&&this.isValue(e)?!1:this.isValue(e)?(e=$.trim(e).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===e):!0}}),$.fn.fmatter=function(e,t,i,r,o){var a=t;i=$.extend({},$.jgrid.getRegional(this,"formatter"),i);try{a=$.fn.fmatter[e].call(this,t,i,r,o)}catch(s){}return a},$.fmatter.util={NumberFormat:function(e,t){if($.fmatter.isNumber(e)||(e*=1),$.fmatter.isNumber(e)){var i,r=0>e,o=String(e),a=t.decimalSeparator||".";if($.fmatter.isNumber(t.decimalPlaces)){var s=t.decimalPlaces,n=Math.pow(10,s);if(o=String(Math.round(e*n)/n),i=o.lastIndexOf("."),s>0)for(0>i?(o+=a,i=o.length-1):"."!==a&&(o=o.replace(".",a));o.length-1-i<s;)o+="0"}if(t.thousandsSeparator){var l=t.thousandsSeparator;i=o.lastIndexOf(a),i=i>-1?i:o.length;var d,p=o.substring(i),c=-1;for(d=i;d>0;d--)c++,c%3===0&&d!==i&&(!r||d>1)&&(p=l+p),p=o.charAt(d-1)+p;o=p}return o=t.prefix?t.prefix+o:o,o=t.suffix?o+t.suffix:o}return e}},$.fn.fmatter.defaultFormat=function(e,t){return $.fmatter.isValue(e)&&""!==e?e:t.defaultValue||"&#160;"},$.fn.fmatter.email=function(e,t){return $.fmatter.isEmpty(e)?$.fn.fmatter.defaultFormat(e,t):'<a href="mailto:'+e+'">'+e+"</a>"},$.fn.fmatter.checkbox=function(e,t){var i,r=$.extend({},t.checkbox);void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(r=$.extend({},r,t.colModel.formatoptions)),i=r.disabled===!0?'disabled="disabled"':"",($.fmatter.isEmpty(e)||void 0===e)&&(e=$.fn.fmatter.defaultFormat(e,r)),e=String(e),e=(e+"").toLowerCase();var o=e.search(/(false|f|0|no|n|off|undefined)/i)<0?" checked='checked' ":"";return'<input type="checkbox" '+o+' value="'+e+'" offval="no" '+i+"/>"},$.fn.fmatter.link=function(e,t){var i={target:t.target},r="";return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(i=$.extend({},i,t.colModel.formatoptions)),i.target&&(r="target="+i.target),$.fmatter.isEmpty(e)?$.fn.fmatter.defaultFormat(e,t):"<a "+r+' href="'+e+'">'+e+"</a>"},$.fn.fmatter.showlink=function(e,t){var i,r={baseLinkUrl:t.baseLinkUrl,showAction:t.showAction,addParam:t.addParam||"",target:t.target,idName:t.idName},o="";return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(r=$.extend({},r,t.colModel.formatoptions)),r.target&&(o="target="+r.target),i=r.baseLinkUrl+r.showAction+"?"+r.idName+"="+t.rowId+r.addParam,$.fmatter.isString(e)||$.fmatter.isNumber(e)?"<a "+o+' href="'+i+'">'+e+"</a>":$.fn.fmatter.defaultFormat(e,t)},$.fn.fmatter.integer=function(e,t){var i=$.extend({},t.integer);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(i=$.extend({},i,t.colModel.formatoptions)),$.fmatter.isEmpty(e)?i.defaultValue:$.fmatter.util.NumberFormat(e,i)},$.fn.fmatter.number=function(e,t){var i=$.extend({},t.number);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(i=$.extend({},i,t.colModel.formatoptions)),$.fmatter.isEmpty(e)?i.defaultValue:$.fmatter.util.NumberFormat(e,i)},$.fn.fmatter.currency=function(e,t){var i=$.extend({},t.currency);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(i=$.extend({},i,t.colModel.formatoptions)),$.fmatter.isEmpty(e)?i.defaultValue:$.fmatter.util.NumberFormat(e,i)},$.fn.fmatter.date=function(e,t,i,r){var o=$.extend({},t.date);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(o=$.extend({},o,t.colModel.formatoptions)),o.reformatAfterEdit||"edit"!==r?$.fmatter.isEmpty(e)?$.fn.fmatter.defaultFormat(e,t):$.jgrid.parseDate.call(this,o.srcformat,e,o.newformat,o):$.fn.fmatter.defaultFormat(e,t)},$.fn.fmatter.select=function(e,t){e=String(e);var i,r,o=!1,a=[];if(void 0!==t.colModel.formatoptions?(o=t.colModel.formatoptions.value,i=void 0===t.colModel.formatoptions.separator?":":t.colModel.formatoptions.separator,r=void 0===t.colModel.formatoptions.delimiter?";":t.colModel.formatoptions.delimiter):void 0!==t.colModel.editoptions&&(o=t.colModel.editoptions.value,i=void 0===t.colModel.editoptions.separator?":":t.colModel.editoptions.separator,r=void 0===t.colModel.editoptions.delimiter?";":t.colModel.editoptions.delimiter),o){var s,n=(null!=t.colModel.editoptions&&t.colModel.editoptions.multiple===!0)==!0?!0:!1,l=[];if(n&&(l=e.split(","),l=$.map(l,function(e){return $.trim(e)})),$.fmatter.isString(o)){var d,p=o.split(r),c=0;for(d=0;d<p.length;d++)if(s=p[d].split(i),s.length>2&&(s[1]=$.map(s,function(e,t){return t>0?e:void 0}).join(i)),n)$.inArray(s[0],l)>-1&&(a[c]=s[1],c++);else if($.trim(s[0])===$.trim(e)){a[0]=s[1];break}}else $.fmatter.isObject(o)&&(n?a=$.map(l,function(e){return o[e]}):a[0]=o[e]||"")}return e=a.join(", "),""===e?$.fn.fmatter.defaultFormat(e,t):e},$.fn.fmatter.rowactions=function(e){var t=$(this).closest("tr.jqgrow"),i=t.attr("id"),r=$(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),o=$("#"+r),a=o[0],s=a.p,n=s.colModel[$.jgrid.getCellIndex(this)],l=n.frozen?$("tr#"+i+" td:eq("+$.jgrid.getCellIndex(this)+") > div",o):$(this).parent(),d={extraparam:{}},p=function(e,t){$.isFunction(d.afterSave)&&d.afterSave.call(a,e,t),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide()},c=function(e){$.isFunction(d.afterRestore)&&d.afterRestore.call(a,e),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide()};void 0!==n.formatoptions&&(d=$.extend(d,n.formatoptions)),void 0!==s.editOptions&&(d.editOptions=s.editOptions),void 0!==s.delOptions&&(d.delOptions=s.delOptions),t.hasClass("jqgrid-new-row")&&(d.extraparam[s.prmNames.oper]=s.prmNames.addoper);var u={keys:d.keys,oneditfunc:d.onEdit,successfunc:d.onSuccess,url:d.url,extraparam:d.extraparam,aftersavefunc:p,errorfunc:d.onError,afterrestorefunc:c,restoreAfterError:d.restoreAfterError,mtype:d.mtype};switch(e){case"edit":o.jqGrid("editRow",i,u),l.find("div.ui-inline-edit,div.ui-inline-del").hide(),l.find("div.ui-inline-save,div.ui-inline-cancel").show(),o.triggerHandler("jqGridAfterGridComplete");break;case"save":o.jqGrid("saveRow",i,u)&&(l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide(),o.triggerHandler("jqGridAfterGridComplete"));break;case"cancel":o.jqGrid("restoreRow",i,c),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide(),o.triggerHandler("jqGridAfterGridComplete");break;case"del":o.jqGrid("delGridRow",i,d.delOptions);break;case"formedit":o.jqGrid("setSelection",i),o.jqGrid("editGridRow",i,d.editOptions)}},$.fn.fmatter.actions=function(e,t){var i,r={keys:!1,editbutton:!0,delbutton:!0,editformbutton:!1},o=t.rowId,a="",s=$.jgrid.getRegional(this,"nav"),n=$.jgrid.styleUI[t.styleUI||"jQueryUI"].fmatter,l=$.jgrid.styleUI[t.styleUI||"jQueryUI"].common;if(void 0!==t.colModel.formatoptions&&(r=$.extend(r,t.colModel.formatoptions)),void 0===o||$.fmatter.isEmpty(o))return"";var d="onmouseover=jQuery(this).addClass('"+l.hover+"'); onmouseout=jQuery(this).removeClass('"+l.hover+"');  ";return r.editformbutton?(i="id='jEditButton_"+o+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'formedit'); "+d,a+="<div title='"+s.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+i+"><span class='"+l.icon_base+" "+n.icon_edit+"'></span></div>"):r.editbutton&&(i="id='jEditButton_"+o+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'edit'); "+d,a+="<div title='"+s.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+i+"><span class='"+l.icon_base+" "+n.icon_edit+"'></span></div>"),r.delbutton&&(i="id='jDeleteButton_"+o+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); "+d,a+="<div title='"+s.deltitle+"' style='float:left;' class='ui-pg-div ui-inline-del' "+i+"><span class='"+l.icon_base+" "+n.icon_del+"'></span></div>"),i="id='jSaveButton_"+o+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'save'); "+d,a+="<div title='"+s.savetitle+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' "+i+"><span class='"+l.icon_base+" "+n.icon_save+"'></span></div>",i="id='jCancelButton_"+o+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel'); "+d,a+="<div title='"+s.canceltitle+"' style='float:left;display:none;' class='ui-pg-div ui-inline-cancel' "+i+"><span class='"+l.icon_base+" "+n.icon_cancel+"'></span></div>","<div style='margin-left:8px;'>"+a+"</div>"},$.unformat=function(e,t,i,r){var o,a,s=t.colModel.formatter,n=t.colModel.formatoptions||{},l=/([\.\*\_\'\(\)\{\}\+\?\\])/g,d=t.colModel.unformat||$.fn.fmatter[s]&&$.fn.fmatter[s].unformat;if(void 0!==d&&$.isFunction(d))o=d.call(this,$(e).text(),t,e);else if(void 0!==s&&$.fmatter.isString(s)){var p,c=$.jgrid.getRegional(this,"formatter")||{};switch(s){case"integer":n=$.extend({},c.integer,n),a=n.thousandsSeparator.replace(l,"\\$1"),p=new RegExp(a,"g"),o=$(e).text().replace(p,"");break;case"number":n=$.extend({},c.number,n),a=n.thousandsSeparator.replace(l,"\\$1"),p=new RegExp(a,"g"),o=$(e).text().replace(p,"").replace(n.decimalSeparator,".");break;case"currency":n=$.extend({},c.currency,n),a=n.thousandsSeparator.replace(l,"\\$1"),p=new RegExp(a,"g"),o=$(e).text(),n.prefix&&n.prefix.length&&(o=o.substr(n.prefix.length)),n.suffix&&n.suffix.length&&(o=o.substr(0,o.length-n.suffix.length)),o=o.replace(p,"").replace(n.decimalSeparator,".");break;case"checkbox":var u=t.colModel.editoptions?t.colModel.editoptions.value.split(":"):["Yes","No"];o=$("input",e).is(":checked")?u[0]:u[1];break;case"select":o=$.unformat.select(e,t,i,r);break;case"actions":return"";default:o=$(e).text()}}return void 0!==o?o:r===!0?$(e).text():$.jgrid.htmlDecode($(e).html())},$.unformat.select=function(e,t,i,r){var o=[],a=$(e).text();if(r===!0)return a;var s=$.extend({},void 0!==t.colModel.formatoptions?t.colModel.formatoptions:t.colModel.editoptions),n=void 0===s.separator?":":s.separator,l=void 0===s.delimiter?";":s.delimiter;if(s.value){var d,p=s.value,c=s.multiple===!0?!0:!1,u=[];if(c&&(u=a.split(","),u=$.map(u,function(e){return $.trim(e)})),$.fmatter.isString(p)){var g,h=p.split(l),f=0;for(g=0;g<h.length;g++)if(d=h[g].split(n),d.length>2&&(d[1]=$.map(d,function(e,t){return t>0?e:void 0}).join(n)),c)$.inArray($.trim(d[1]),u)>-1&&(o[f]=d[0],f++);else if($.trim(d[1])===$.trim(a)){o[0]=d[0];break}}else($.fmatter.isObject(p)||$.isArray(p))&&(c||(u[0]=a),o=$.map(u,function(e){var t;return $.each(p,function(i,r){return r===e?(t=i,!1):void 0}),void 0!==t?t:void 0}));return o.join(", ")}return a||""},$.unformat.date=function(e,t){var i=$.jgrid.getRegional(this,"formatter.date")||{};return void 0!==t.formatoptions&&(i=$.extend({},i,t.formatoptions)),$.fmatter.isEmpty(e)?$.fn.fmatter.defaultFormat(e,t):$.jgrid.parseDate.call(this,i.newformat,e,i.srcformat,i)},window.jqGridUtils={stringify:function(e){return JSON.stringify(e,function(e,t){return"function"==typeof t?t.toString():t})},parse:function(str){return JSON.parse(str,function(key,value){return"string"==typeof value&&-1!==value.indexOf("function")?eval("("+value+")"):value})},encode:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},jsonToXML:function(e,t){var i=$.extend({xmlDecl:'<?xml version="1.0" encoding="UTF-8" ?>\n',attr_prefix:"-",encode:!0},t||{}),r=this,o=function(e,t){return"#text"===e?i.encode?r.encode(t):t:"function"==typeof t?"<"+e+"><![CDATA["+t+"]]></"+e+">\n":""===t?"<"+e+">__EMPTY_STRING_</"+e+">\n":"<"+e+">"+(i.encode?r.encode(t):t)+"</"+e+">\n"},a=function(e,t){for(var i=[],r=0;r<t.length;r++){var n=t[r];i[i.length]="undefined"==typeof n||null==n?"<"+e+" />":"object"==typeof n&&n.constructor==Array?a(e,n):"object"==typeof n?s(e,n):o(e,n)}return i.length||(i[0]="<"+e+">__EMPTY_ARRAY_</"+e+">\n"),i.join("")},s=function(e,t){var n=[],l=[];for(var d in t)if(t.hasOwnProperty(d)){var p=t[d];d.charAt(0)!==i.attr_prefix?n[n.length]=null==p?"<"+d+" />":"object"==typeof p&&p.constructor===Array?a(d,p):"object"==typeof p?s(d,p):o(d,p):l[l.length]=" "+d.substring(1)+'="'+(i.encode?r.encode(p):p)+'"'}var c=l.join(""),u=n.join("");return null==e||(u=n.length>0?u.match(/\n/)?"<"+e+c+">\n"+u+"</"+e+">\n":"<"+e+c+">"+u+"</"+e+">\n":"<"+e+c+" />\n"),u},n=s(null,e);return i.xmlDecl+n},xmlToJSON:function(root,options){var o=$.extend({force_array:[],attr_prefix:"-"},options||{});if(root){var __force_array={};if(o.force_array)for(var i=0;i<o.force_array.length;i++)__force_array[o.force_array[i]]=1;"string"==typeof root&&(root=$.parseXML(root)),root.documentElement&&(root=root.documentElement);var addNode=function(hash,key,cnts,val){if("string"==typeof val)if(-1!==val.indexOf("function"))val=eval("("+val+")");else switch(val){case"__EMPTY_ARRAY_":val=[];break;case"__EMPTY_STRING_":val="";break;case"false":val=!1;break;case"true":val=!0}__force_array[key]?(1===cnts&&(hash[key]=[]),hash[key][hash[key].length]=val):1===cnts?hash[key]=val:2===cnts?hash[key]=[hash[key],val]:hash[key][hash[key].length]=val},parseElement=function(e){if(7!==e.nodeType){if(3===e.nodeType||4===e.nodeType){var t=e.nodeValue.match(/[^\x00-\x20]/);if(null==t)return;return e.nodeValue}var i,r,a,s,n={};if(e.attributes&&e.attributes.length)for(i={},r=0;r<e.attributes.length;r++)a=e.attributes[r].nodeName,"string"==typeof a&&(s=e.attributes[r].nodeValue,s&&(a=o.attr_prefix+a,"undefined"==typeof n[a]&&(n[a]=0),n[a]++,addNode(i,a,n[a],s)));if(e.childNodes&&e.childNodes.length){var l=!0;for(i&&(l=!1),r=0;r<e.childNodes.length&&l;r++){var d=e.childNodes[r].nodeType;3!==d&&4!==d&&(l=!1)}if(l)for(i||(i=""),r=0;r<e.childNodes.length;r++)i+=e.childNodes[r].nodeValue;else for(i||(i={}),r=0;r<e.childNodes.length;r++)a=e.childNodes[r].nodeName,"string"==typeof a&&(s=parseElement(e.childNodes[r]),s&&("undefined"==typeof n[a]&&(n[a]=0),n[a]++,addNode(i,a,n[a],s)))}return i}},json=parseElement(root);if(__force_array[root.nodeName]&&(json=[json]),11!==root.nodeType){var tmp={};tmp[root.nodeName]=json,json=tmp}return json}}}});
;/*!pagination/jquery.pagination.js*/
!function(e){"use strict";var t={pageClicked:"pageClicked",jumpClicked:"jumpClicked",pageSizeChanged:"pageSizeChanged"},n=function(n,i){var o={pageSize:10,pageBtnCount:11,showFirstLastBtn:!0,firstBtnText:null,lastBtnText:null,prevBtnText:"&laquo;",nextBtnText:"&raquo;",loadFirstPage:!0,remote:{url:null,params:null,callback:null,success:null,beforeSend:null,complete:null,pageIndexName:"pageIndex",pageSizeName:"pageSize",totalName:"total"},showInfo:!1,infoFormat:"{start} ~ {end} of {total} entires",showJump:!1,jumpBtnText:"Go",showPageSizes:!1,pageSizeItems:null,debug:!1};this.$element=e(n),this.$page=e('<ul class="m-pagination-page"></ul>'),this.$size=e('<div class="m-pagination-size"></div>'),this.$jump=e('<div class="m-pagination-jump"></div>'),this.$info=e('<div class="m-pagination-info"></div>'),this.options=e.extend(!0,{},o,e.fn.page.defaults,i),this.total=this.options.total||0,this.options.pageSizeItems=this.options.pageSizeItems||[5,10,15,20],this.currentPageIndex=0,this.currentPageSize=this.options.pageSize,this.pageCount=r(this.total,this.currentPageSize),null==this.options.remote.success&&(this.options.remote.success=this.options.remote.callback);var a=function(t){for(var n=t,i=e('<select data-page-btn="size"></select>'),o=0;o<n.options.pageSizeItems.length;o++)i.append('<option value="'+n.options.pageSizeItems[o]+'">'+n.options.pageSizeItems[o]+"</option>");i.val(n.currentPageSize),n.$size.append(i);var a='<div class="m-pagination-group"><input type="text"><button data-page-btn="jump" type="button">'+n.options.jumpBtnText+"</button></div>";n.$jump.append(a),n.$jump.find("input").change(function(){u(this.value,n.pageCount)||(this.value=null)}),n.$element.append(n.$page.hide()),n.$element.append(n.$size.hide()),n.$element.append(n.$jump.hide()),n.$element.append(n.$info.hide()),n._remoteOrRedner(0),n.$element.on("click",{page:n},function(e){s(e)}).on("change",{page:n},function(e){s(e)})},s=function(n){var i=n.data.page,o=e(n.target);if("click"!==n.type||void 0===o.data("pageIndex")||o.parent().hasClass("active")){if("click"===n.type&&"jump"===o.data("pageBtn")){var a=i.$jump.find("input").val();if(u(a,i.pageCount)){var s=a-1;i.$element.trigger(t.jumpClicked,s),i.debug("event[ jumpClicked ] : pageIndex = "+s),i._remoteOrRedner(s)}i.$jump.find("input").val(null)}else if("change"===n.type&&"size"===o.data("pageBtn")){var r=i.$size.find("select").val();i.currentPageSize=r,i.$element.trigger(t.pageSizeChanged,r),i.debug("event[ pageSizeChanged ] : pageSize = "+r),i._remoteOrRedner(0)}}else{var s=e(n.target).data("pageIndex");i.$element.trigger(t.pageClicked,s),i.debug("event[ pageClicked ] : pageIndex = "+s),i._remoteOrRedner(s)}};"undefined"==typeof this.options.total&&null===this.options.remote.url?console&&console.error("[init error] : the options must have the parameter of 'remote.url' or 'total'."):"undefined"!=typeof this.options.total||this.options.loadFirstPage?a(this):console&&console.error("[init error] : if you don't remote the first page. you must set the options or 'total'.")};n.prototype={_remoteOrRedner:function(e){null!=this.options.remote.url&&(this.options.loadFirstPage||e>0)?this.remote(e):this.renderPagination(e)},remote:function(t,n){var i=this;(isNaN(parseInt(t))||"object"==typeof t)&&(n=t,t=null),isNaN(parseInt(t))&&(t=i.currentPageIndex);var o={};o[this.options.remote.pageIndexName]=t,o[this.options.remote.pageSizeName]=this.currentPageSize,this.options.remote.params=p(this.options.remote.params),n&&(n=p(n),this.options.remote.params=e.extend({},this.options.remote.params,n));var a=e.extend({},this.options.remote.params,o);e.ajax({url:this.options.remote.url,dataType:"json",data:a,contentType:"application/Json",async:!1,beforeSend:function(e){"function"==typeof i.options.remote.beforeSend&&i.options.remote.beforeSend(e)},complete:function(e,t){"function"==typeof i.options.remote.complete&&i.options.remote.complete(e,t)},success:function(e){i.debug("ajax request : params = "+JSON.stringify(a),e);var n=l(e,i.options.remote.totalName);null==n||void 0==n?console&&console.error("the response of totalName :  '"+i.options.remote.totalName+"'  not found"):(i._updateTotal(n),"function"==typeof i.options.remote.success&&i.options.remote.success(e,t),i.renderPagination(t))}})},renderPagination:function(e){this.currentPageIndex=e;var t=o(this.currentPageIndex,this.currentPageSize,this.total,this.options.pageBtnCount,this.options.firstBtnText,this.options.lastBtnText,this.options.prevBtnText,this.options.nextBtnText,this.options.showFirstLastBtn);this.$page.empty().append(t),this.$info.text(i(this.currentPageIndex,this.currentPageSize,this.total,this.options.infoFormat)),this.pageCount>1?(this.$page.show(),this.options.showPageSizes&&this.$size.show(),this.options.showJump&&this.$jump.show(),this.options.showInfo&&this.$info.show()):1==this.pageCount?this.options.showInfo&&this.$info.show():(this.$page.hide(),this.$size.hide(),this.$jump.hide(),this.$info.hide())},_updateTotal:function(e){this.total=e,this.pageCount=r(e,this.currentPageSize)},destroy:function(){this.$element.unbind().data("page",null).empty()},debug:function(e,t){this.options.debug&&console&&(e&&console.info(e),t&&console.info(t))}};var i=function(e,t,n,i){var o=e*t+1,a=(e+1)*t;return a=a>=n?n:a,i.replace("{start}",o).replace("{end}",a).replace("{total}",n)},o=function(e,t,n,i,o,p,u,l,h){e=void 0==e?1:parseInt(e)+1;var d=r(n,t),g=[];if(i>=d)g=a(1,d,e);else{var c=s(o||1,0),f=s(p||d,d-1),m=s(u,e-2),v=s(l,e),x=(i-1-4)/2;h||(x+=1);var z=(i+1)/2,S=d-(i+1)/2;x=-1==x.toString().indexOf(".")?x:x+.5,z=-1==z.toString().indexOf(".")?z:z+.5,S=-1==S.toString().indexOf(".")?S:S+.5,z>=e?h?(g=a(1,i-2,e),g.push(v),g.push(f)):(g=renderPagenderPage(1,i-1,e),g.push(v)):e>S?h?(g=a(d-i+3,i-2,e),g.unshift(m),g.unshift(c)):(g=a(d-i+2,i-1,e),g.unshift(m)):h?(g=a(e-x,i-4,e),g.unshift(m),g.push(v),g.unshift(c),g.push(f)):(g=a(e-x,i-2,e),g.unshift(m),g.push(v))}return g},a=function(e,t,n){for(var i=[],o=0;t>o;o++){var a=s(e,e-1);e==n&&a.addClass("active"),i.push(a),e++}return i},s=function(t,n){return e("<li><a data-page-index='"+n+"'>"+t+"</a></li>")},r=function(e,t){var n=0,e=parseInt(e),i=e/t;return n=-1!=i.toString().indexOf(".")?parseInt(i.toString().split(".")[0])+1:i},p=function(e){var t={};if("string"==typeof e)for(var n=e.split("&"),i=0;i<n.length;i++){var o=n[i].split("=");t[o[0]]=decodeURIComponent(o[1])}else if(e instanceof Array)for(var i=0;i<e.length;i++)t[e[i].name]=decodeURIComponent(e[i].value);else"object"==typeof e&&(t=e);return t},u=function(e,t){var n=/^\+?[1-9][0-9]*$/;return n.test(e)&&parseInt(e)<=parseInt(t)},l=function(e,t){for(var n=t.split("."),i=e,o=null,a=0;a<n.length;a++){if(i=h(i,n[a]),!isNaN(parseInt(i))){o=i;break}if(null==i)break}return o},h=function(e,t){for(var n in e)if(n==t)return e[n];return null};e.fn.page=function(t){var i=arguments;return this.each(function(){var o=e(this),a=o.data("page");if(a||"object"!=typeof t&&"undefined"!=typeof t)a&&"string"==typeof t?a[t].apply(a,Array.prototype.slice.call(i,1)):a||void 0==a||console&&console.log("jQuery Pagination Plugin is uninitialized.");else{var s="object"==typeof t&&t,r=o.data();s=e.extend(s,r),o.data("page",a=new n(this,s))}})}}(window.jQuery);
;/*!poshytip/jquery.poshytip.js*/
!function(t){function i(){t.each(s,function(){this.refresh(!0)})}var s=[],e=/^url\(["']?([^"'\)]*)["']?\);?$/i,o=/\.png$/i,h=!!window.createPopup&&"undefined"==document.documentElement.currentStyle.minWidth;t(window).resize(i),t.Poshytip=function(i,s){this.$elm=t(i),this.opts=t.extend({},t.fn.poshytip.defaults,s),this.$tip=t(['<div class="',this.opts.className,'">','<div class="tip-inner tip-bg-image"></div>','<div class="tip-arrow tip-arrow-top tip-arrow-right tip-arrow-bottom tip-arrow-left"></div>',"</div>"].join("")).appendTo(document.body),this.$arrow=this.$tip.find("div.tip-arrow"),this.$inner=this.$tip.find("div.tip-inner"),this.disabled=!1,this.content=null,this.init()},t.Poshytip.prototype={init:function(){s.push(this);var i=this.$elm.attr("title");if(this.$elm.data("title.poshytip",void 0!==i?i:null).data("poshytip",this),"none"!=this.opts.showOn)switch(this.$elm.bind({"mouseenter.poshytip":t.proxy(this.mouseenter,this),"mouseleave.poshytip":t.proxy(this.mouseleave,this)}),this.opts.showOn){case"hover":"cursor"==this.opts.alignTo&&this.$elm.bind("mousemove.poshytip",t.proxy(this.mousemove,this)),this.opts.allowTipHover&&this.$tip.hover(t.proxy(this.clearTimeouts,this),t.proxy(this.mouseleave,this));break;case"focus":this.$elm.bind({"focus.poshytip":t.proxy(this.showDelayed,this),"blur.poshytip":t.proxy(this.hideDelayed,this)})}},mouseenter:function(){return this.disabled?!0:(this.$elm.attr("title",""),"focus"==this.opts.showOn?!0:void this.showDelayed())},mouseleave:function(t){if(this.disabled||this.asyncAnimating&&(this.$tip[0]===t.relatedTarget||jQuery.contains(this.$tip[0],t.relatedTarget)))return!0;if(!this.$tip.data("active")){var i=this.$elm.data("title.poshytip");null!==i&&this.$elm.attr("title",i)}return"focus"==this.opts.showOn?!0:void this.hideDelayed()},mousemove:function(t){return this.disabled?!0:(this.eventX=t.pageX,this.eventY=t.pageY,void(this.opts.followCursor&&this.$tip.data("active")&&(this.calcPos(),this.$tip.css({left:this.pos.l,top:this.pos.t}),this.pos.arrow&&(this.$arrow[0].className="tip-arrow tip-arrow-"+this.pos.arrow))))},show:function(){function t(t){t.reset(),t.update(),t.content&&(t.display(),t.opts.timeOnScreen&&t.hideDelayed(t.opts.timeOnScreen),t.opts.show&&t.opts.show.call(t.$elm))}if(!this.disabled&&!this.$tip.data("active")){var i=this;this.opts.showBefore?this.opts.showBefore.call(this.$elm,function(){t(i)}):t(i)}},showDelayed:function(i){this.clearTimeouts(),this.showTimeout=setTimeout(t.proxy(this.show,this),"number"==typeof i?i:this.opts.showTimeout)},hide:function(){!this.disabled&&this.$tip.data("active")&&(this.opts.hideBefore&&this.opts.hideBefore.call(this.$elm),this.display(!0),this.opts.hide&&this.opts.hide.call(this.$elm))},hideDelayed:function(i){this.clearTimeouts(),this.hideTimeout=setTimeout(t.proxy(this.hide,this),"number"==typeof i?i:this.opts.hideTimeout)},reset:function(){this.$tip.queue([]).detach().css("visibility","hidden").data("active",!1),this.$inner.find("*").poshytip("hide"),this.opts.fade&&this.$tip.css("opacity",this.opacity),this.$arrow[0].className="tip-arrow tip-arrow-top tip-arrow-right tip-arrow-bottom tip-arrow-left",this.asyncAnimating=!1},update:function(t,i){if(!this.disabled){var s=void 0!==t;if(s){if(i||(this.opts.content=t),!this.$tip.data("active"))return}else t=this.opts.content;var e=this,o="function"==typeof t?t.call(this.$elm[0],function(t){e.update(t)}):"[title]"==t?this.$elm.data("title.poshytip"):t;this.content!==o&&(this.$inner.empty().append(o),this.content=o),this.refresh(s)}},refresh:function(i){if(!this.disabled){if(i){if(!this.$tip.data("active"))return;var s={left:this.$tip.css("left"),top:this.$tip.css("top")}}this.$tip.css({left:0,top:0}).appendTo(document.body),void 0===this.opacity&&(this.opacity=this.$tip.css("opacity"));var a=this.$tip.css("background-image").match(e),p=this.$arrow.css("background-image").match(e);if(a){var r=o.test(a[1]);h&&r?(this.$tip.css("background-image","none"),this.$inner.css({margin:0,border:0,padding:0}),a=r=!1):this.$tip.prepend('<table class="tip-table" border="0" cellpadding="0" cellspacing="0"><tr><td class="tip-top tip-bg-image" colspan="2"><span></span></td><td class="tip-right tip-bg-image" rowspan="2"><span></span></td></tr><tr><td class="tip-left tip-bg-image" rowspan="2"><span></span></td><td></td></tr><tr><td class="tip-bottom tip-bg-image" colspan="2"><span></span></td></tr></table>').css({border:0,padding:0,"background-image":"none","background-color":"transparent"}).find(".tip-bg-image").css("background-image",'url("'+a[1]+'")').end().find("td").eq(3).append(this.$inner),r&&!t.support.opacity&&(this.opts.fade=!1)}p&&!t.support.opacity&&(h&&o.test(p[1])&&(p=!1,this.$arrow.css("background-image","none")),this.opts.fade=!1);var n=this.$tip.find("> table.tip-table");if(h){this.$tip[0].style.width="",n.width("auto").find("td").eq(3).width("auto");var l=this.$tip.width(),d=parseInt(this.$tip.css("min-width")),c=parseInt(this.$tip.css("max-width"));!isNaN(d)&&d>l?l=d:!isNaN(c)&&l>c&&(l=c),this.$tip.add(n).width(l).eq(0).find("td").eq(3).width("100%")}else n[0]&&n.width("auto").find("td").eq(3).width("auto").end().end().width(document.defaultView&&document.defaultView.getComputedStyle&&parseFloat(document.defaultView.getComputedStyle(this.$tip[0],null).width)||this.$tip.width()).find("td").eq(3).width("100%");if(this.tipOuterW=this.$tip.outerWidth(),this.tipOuterH=this.$tip.outerHeight(),this.calcPos(),p&&this.pos.arrow&&(this.$arrow[0].className="tip-arrow tip-arrow-"+this.pos.arrow,this.$arrow.css("visibility","inherit")),i&&this.opts.refreshAniDuration){this.asyncAnimating=!0;var u=this;this.$tip.css(s).animate({left:this.pos.l,top:this.pos.t},this.opts.refreshAniDuration,function(){u.asyncAnimating=!1})}else this.$tip.css({left:this.pos.l,top:this.pos.t})}},display:function(i){var s=this.$tip.data("active");if(!(s&&!i||!s&&i)){if(this.$tip.stop(),(this.opts.slide&&this.pos.arrow||this.opts.fade)&&(i&&this.opts.hideAniDuration||!i&&this.opts.showAniDuration)){var e={},o={};if(this.opts.slide&&this.pos.arrow){var h,a;"bottom"==this.pos.arrow||"top"==this.pos.arrow?(h="top",a="bottom"):(h="left",a="right");var p=parseInt(this.$tip.css(h));e[h]=p+(i?0:this.pos.arrow==a?-this.opts.slideOffset:this.opts.slideOffset),o[h]=p+(i?this.pos.arrow==a?this.opts.slideOffset:-this.opts.slideOffset:0)+"px"}this.opts.fade&&(e.opacity=i?this.$tip.css("opacity"):0,o.opacity=i?0:this.opacity),this.$tip.css(e).animate(o,this.opts[i?"hideAniDuration":"showAniDuration"])}if(i?this.$tip.queue(t.proxy(this.reset,this)):this.$tip.css("visibility","visible"),s){var r=this.$elm.data("title.poshytip");null!==r&&this.$elm.attr("title",r)}this.$tip.data("active",!s)}},disable:function(){this.reset(),this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){this.reset(),this.$tip.remove(),delete this.$tip,this.content=null,this.$elm.unbind(".poshytip").removeData("title.poshytip").removeData("poshytip"),s.splice(t.inArray(this,s),1)},clearTimeouts:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0),this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0)},calcPos:function(){var i,s,e,o,h,a,p={l:0,t:0,arrow:""},r=t(window),n={l:r.scrollLeft(),t:r.scrollTop(),w:r.width(),h:r.height()};if("cursor"==this.opts.alignTo)i=s=e=this.eventX,o=h=a=this.eventY;else{var l=this.$elm.offset(),d={l:l.left,t:l.top,w:this.$elm.outerWidth(),h:this.$elm.outerHeight()};i=d.l+("inner-right"!=this.opts.alignX?0:d.w),s=i+Math.floor(d.w/2),e=i+("inner-left"!=this.opts.alignX?d.w:0),o=d.t+("inner-bottom"!=this.opts.alignY?0:d.h),h=o+Math.floor(d.h/2),a=o+("inner-top"!=this.opts.alignY?d.h:0)}switch(this.opts.alignX){case"right":case"inner-left":p.l=e+this.opts.offsetX,this.opts.keepInViewport&&p.l+this.tipOuterW>n.l+n.w&&(p.l=n.l+n.w-this.tipOuterW),("right"==this.opts.alignX||"center"==this.opts.alignY)&&(p.arrow="left");break;case"center":p.l=s-Math.floor(this.tipOuterW/2),this.opts.keepInViewport&&(p.l+this.tipOuterW>n.l+n.w?p.l=n.l+n.w-this.tipOuterW:p.l<n.l&&(p.l=n.l));break;default:p.l=i-this.tipOuterW-this.opts.offsetX,this.opts.keepInViewport&&p.l<n.l&&(p.l=n.l),("left"==this.opts.alignX||"center"==this.opts.alignY)&&(p.arrow="right")}switch(this.opts.alignY){case"bottom":case"inner-top":p.t=a+this.opts.offsetY,p.arrow&&"cursor"!=this.opts.alignTo||(p.arrow="top"),this.opts.keepInViewport&&p.t+this.tipOuterH>n.t+n.h&&(p.t=o-this.tipOuterH-this.opts.offsetY,"top"==p.arrow&&(p.arrow="bottom"));break;case"center":p.t=h-Math.floor(this.tipOuterH/2),this.opts.keepInViewport&&(p.t+this.tipOuterH>n.t+n.h?p.t=n.t+n.h-this.tipOuterH:p.t<n.t&&(p.t=n.t));break;default:p.t=o-this.tipOuterH-this.opts.offsetY,p.arrow&&"cursor"!=this.opts.alignTo||(p.arrow="bottom"),this.opts.keepInViewport&&p.t<n.t&&(p.t=a+this.opts.offsetY,"bottom"==p.arrow&&(p.arrow="top"))}this.pos=p}},t.fn.poshytip=function(i){if("string"==typeof i){var s=arguments,e=i;return Array.prototype.shift.call(s),"destroy"==e&&(this.die?this.die("mouseenter.poshytip").die("focus.poshytip"):t(document).undelegate(this.selector,"mouseenter.poshytip").undelegate(this.selector,"focus.poshytip")),this.each(function(){var i=t(this).data("poshytip");i&&i[e]&&i[e].apply(i,s)})}var o=t.extend({},t.fn.poshytip.defaults,i);if(t("#poshytip-css-"+o.className)[0]||t(['<style id="poshytip-css-',o.className,'" type="text/css">',"div.",o.className,"{visibility:hidden;position:absolute;top:0;left:0;}","div.",o.className," table.tip-table, div.",o.className," table.tip-table td{margin:0;font-family:inherit;font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;vertical-align:middle;}","div.",o.className," td.tip-bg-image span{display:block;font:1px/1px sans-serif;height:",o.bgImageFrameSize,"px;width:",o.bgImageFrameSize,"px;overflow:hidden;}","div.",o.className," td.tip-right{background-position:100% 0;}","div.",o.className," td.tip-bottom{background-position:100% 100%;}","div.",o.className," td.tip-left{background-position:0 100%;}","div.",o.className," div.tip-inner{background-position:-",o.bgImageFrameSize,"px -",o.bgImageFrameSize,"px;}","div.",o.className," div.tip-arrow{visibility:hidden;position:absolute;overflow:hidden;font:1px/1px sans-serif;}","</style>"].join("")).appendTo("head"),o.liveEvents&&"none"!=o.showOn){var h,a=t.extend({},o,{liveEvents:!1});switch(o.showOn){case"hover":h=function(){var i=t(this);i.data("poshytip")||i.poshytip(a).poshytip("mouseenter")},this.live?this.live("mouseenter.poshytip",h):t(document).delegate(this.selector,"mouseenter.poshytip",h);break;case"focus":h=function(){var i=t(this);i.data("poshytip")||i.poshytip(a).poshytip("showDelayed")},this.live?this.live("focus.poshytip",h):t(document).delegate(this.selector,"focus.poshytip",h)}return this}return this.each(function(){new t.Poshytip(this,o)})},t.fn.poshytip.defaults={content:"[title]",className:"tip-yellow",bgImageFrameSize:10,showTimeout:500,hideTimeout:100,timeOnScreen:0,showOn:"hover",liveEvents:!1,alignTo:"cursor",alignX:"right",alignY:"top",offsetX:-22,offsetY:18,keepInViewport:!0,allowTipHover:!0,followCursor:!1,fade:!0,slide:!0,slideOffset:8,showAniDuration:300,hideAniDuration:300,refreshAniDuration:200,show:null,hide:null,hideBefore:null}}(jQuery);
;/*!validation/jquery.validationEngine.js*/
!function(e){function t(){for(var e=document.cookie,t=e.split("; "),a=0;a<t.length;a++){var r=t[a].split("=");if("org.springframework.web.servlet.i18n.CookieLocaleResolver.LOCALE"==r[0])return r[1]}return"zh"}e.fn.validationEngineLanguage=function(){},e.validationEngineLanguage={newLang:function(){var a=t();e.validationEngineLanguage.allRules="zh"==a?{required:{regex:"none",alertText:"* ",alertTextCheckboxMultiple:"* ",alertTextCheckboxe:"* ",alertTextDateRange:"* "},dateRange:{regex:"none",alertText:"*  ",alertText2:" "},dateTimeRange:{regex:"none",alertText:"*  ",alertText2:" "},sp:{regex:"none",alertText:"*   <strong>",alertText2:" </strong>"},len:{regex:"none",alertText:"*  <strong>",alertText2:" </strong>"},minSize:{regex:"none",alertText:"*  <strong>",alertText2:" </strong>"},maxSize:{regex:"none",alertText:"* <strong> ",alertText2:" </strong>"},groupRequired:{regex:"none",alertText:"* "},min:{regex:"none",alertText:"*  "},max:{regex:"none",alertText:"*  "},past:{regex:"none",alertText:"*  ",alertText2:" "},future:{regex:"none",alertText:"*  ",alertText2:" "},maxCheckbox:{regex:"none",alertText:"*  ",alertText2:" "},minCheckbox:{regex:"none",alertText:"*  ",alertText2:" "},equals:{regex:"none",alertText:"* "},creditCard:{regex:"none",alertText:"* "},phone:{regex:/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/,alertText:"* "},email:{regex:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,alertText:"* "},integer:{regex:/^[\-\+]?\d+$/,alertText:"* "},number:{regex:/^[\-\+]?((([0-9]{1,3})([,][0-9]{3})*)|([0-9]+))?([\.]([0-9]+))?$/,alertText:"* "},date:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/,alertText:"*  YYYY-MM-DD"},ipv4:{regex:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,alertText:"*  IP "},url:{regex:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,alertText:"* "},onlyNumberSp:{regex:/^[0-9\ ]+$/,alertText:"* "},onlyLetterSp:{regex:/^[a-zA-Z\ \']+$/,alertText:"* "},onlyLetterNumber:{regex:/^[0-9a-zA-Z]+$/,alertText:"* "},dateFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/,alertText:"* "},dateTimeFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/,alertText:"* ",alertText2:" ",alertText3:"mm/dd/yyyy hh:mm:ss AM|PM  ",alertText4:"yyyy-mm-dd hh:mm:ss AM|PM"},chinese:{regex:/^[\u4E00-\u9FA5]+$/,alertText:"* "},chinaId:{regex:/^[1-9]\d{5}[1-9]\d{3}(((0[13578]|1[02])(0[1-9]|[12]\d|3[0-1]))|((0[469]|11)(0[1-9]|[12]\d|30))|(02(0[1-9]|[12]\d)))(\d{4}|\d{3}[xX])$/,alertText:"* "},chinaIdLoose:{regex:/^(\d{18}|\d{15}|\d{17}[xX])$/,alertText:"* "},chinaZip:{regex:/^\d{6}$/,alertText:"* "},qq:{regex:/^[1-9]\d{4,10}$/,alertText:"*  QQ "},mobile:{regex:/^(1[0-9]{10})$/,alertText:"* "}}:{required:{regex:"none",alertText:"* There can't be empty!",alertTextCheckboxMultiple:"* Please select a option!",alertTextCheckboxe:"* You must select a option!",alertTextDateRange:"* Date range cannot be empty!"},dateRange:{regex:"none",alertText:"*Invalid ",alertText2:" date range!"},dateTimeRange:{regex:"none",alertText:"* Invalid ",alertText2:" time range!"},sp:{regex:"none",alertText:"* You input the contents of the can not contain <strong>",alertText2:" </strong>special symbols."},len:{regex:"none",alertText:"* You enter the length of the not between <strong>",alertText2:" </strong>,A Chinese characters of three bytes."},minSize:{regex:"none",alertText:"* At least <strong>",alertText2:" </strong>characters."},maxSize:{regex:"none",alertText:"* Up to<strong> ",alertText2:" </strong>characters."},groupRequired:{regex:"none",alertText:"* Fill out at least one of them."},min:{regex:"none",alertText:"* The minimum value of "},max:{regex:"none",alertText:"* A maximum of "},past:{regex:"none",alertText:"* Date should be before ",alertText2:" ."},future:{regex:"none",alertText:"* The date should be after ",alertText2:" ."},maxCheckbox:{regex:"none",alertText:"* Up to ",alertText2:" options."},minCheckbox:{regex:"none",alertText:"* At least ",alertText2:" options."},equals:{regex:"none",alertText:"* Two times the password is not consistent."},creditCard:{regex:"none",alertText:"* Invalid credit card number."},phone:{regex:/^([\+][0-9]{1,3}[ \.\-])?([\(]{1}[0-9]{2,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,alertText:"* Invalid phone number."},email:{regex:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,alertText:"* Invalid email address."},integer:{regex:/^[\-\+]?\d+$/,alertText:"* Invalid integer."},number:{regex:/^[\-\+]?((([0-9]{1,3})([,][0-9]{3})*)|([0-9]+))?([\.]([0-9]+))?$/,alertText:"* Invalid value."},date:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/,alertText:"* Invalid date, format must be YYYY-MM-DD."},ipv4:{regex:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,alertText:"* Invalid IP address."},url:{regex:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,alertText:"* Invalid URL."},onlyNumberSp:{regex:/^[0-9\ ]+$/,alertText:"* Can only fill in the numbers."},onlyLetterSp:{regex:/^[a-zA-Z\ \']+$/,alertText:"* Can only fill in the English alphabet."},onlyLetterNumber:{regex:/^[0-9a-zA-Z]+$/,alertText:"* Can only fill in numbers and letters in English."},dateFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/,alertText:"* Invalid date format."},dateTimeFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/,alertText:"* Invalid date or time format",alertText2:" Acceptable format ",alertText3:"mm/dd/yyyy hh:mm:ss AM|PM or ",alertText4:"yyyy-mm-dd hh:mm:ss AM|PM"},chinese:{regex:/^[\u4E00-\u9FA5]+$/,alertText:"* Can only fill in Chinese characters."},chinaId:{regex:/^[1-9]\d{5}[1-9]\d{3}(((0[13578]|1[02])(0[1-9]|[12]\d|3[0-1]))|((0[469]|11)(0[1-9]|[12]\d|30))|(02(0[1-9]|[12]\d)))(\d{4}|\d{3}[xX])$/,alertText:"* Invalid ID number."},chinaIdLoose:{regex:/^(\d{18}|\d{15}|\d{17}[xX])$/,alertText:"* Invalid ID number."},chinaZip:{regex:/^\d{6}$/,alertText:"* Invalid post encoding."},qq:{regex:/^[1-9]\d{4,10}$/,alertText:"* Invalid QQ number."},mobile:{regex:/^(1[0-9]{10})$/,alertText:"* Invalid mobile number."}}}},e.validationEngineLanguage.newLang()}(jQuery),function($){"use strict";function getStrLen(e){for(var t=0,a=e.length,r=-1,i=0;a>i;i++)r=e.charCodeAt(i),t+=r>=0&&128>=r?1:3;return t}function cutStrByLen(e,t){for(var a=(getStrLen(e),e),r=0,i=0;t>=i;i++)if(r+=a.charCodeAt(i)>255?3:1,r>t){a=a.slice(0,i);break}return a}Array.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1});var methods={init:function(e){var t=this;return t.data("jqv")&&null!=t.data("jqv")||(e=methods._saveOptions(t,e),$(document).on("click",".formError",function(){$(this).fadeOut(150,function(){$(this).parent(".formErrorOuter").remove(),$(this).remove()})})),this},attach:function(e){var t,a=this;return t=e?methods._saveOptions(a,e):a.data("jqv"),t.validateAttribute=a.find("[data-validation-engine*=validate]").length?"data-validation-engine":"class",t.binded&&(a.on(t.validationEventTrigger,"["+t.validateAttribute+"*=validate]:not([type=checkbox]):not([type=radio]):not(.datepicker)",methods._onFieldEvent),a.on("click","["+t.validateAttribute+"*=validate][type=checkbox],["+t.validateAttribute+"*=validate][type=radio]",methods._onFieldEvent),a.on(t.validationEventTrigger,"["+t.validateAttribute+"*=validate][class*=datepicker]",{delay:300},methods._onFieldEvent)),t.autoPositionUpdate&&$(window).bind("resize",{noAnimation:!0,formElem:a},methods.updatePromptsPosition),a.on("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",methods._submitButtonClick),a.removeData("jqv_submitButton"),a.on("submit",methods._onSubmitEvent),this},detach:function(){var e=this,t=e.data("jqv");return e.find("["+t.validateAttribute+"*=validate]").not("[type=checkbox]").off(t.validationEventTrigger,methods._onFieldEvent),e.find("["+t.validateAttribute+"*=validate][type=checkbox],[class*=validate][type=radio]").off("click",methods._onFieldEvent),e.off("submit",methods._onSubmitEvent),e.removeData("jqv"),e.off("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",methods._submitButtonClick),e.removeData("jqv_submitButton"),t.autoPositionUpdate&&$(window).off("resize",methods.updatePromptsPosition),this},validate:function(){var e=$(this),t=null;if(e.is("form")||e.hasClass("validationEngineContainer")){if(e.hasClass("validating"))return!1;e.addClass("validating");var a=e.data("jqv"),t=methods._validateFields(this);setTimeout(function(){e.removeClass("validating")},100),t&&a.onSuccess?a.onSuccess():!t&&a.onFailure&&a.onFailure()}else if(e.is("form")||e.hasClass("validationEngineContainer"))e.removeClass("validating");else{var r=e.closest("form, .validationEngineContainer"),a=r.data("jqv")?r.data("jqv"):$.validationEngine.defaults,t=methods._validateField(e,a);t&&a.onFieldSuccess?a.onFieldSuccess():a.onFieldFailure&&a.InvalidFields.length>0&&a.onFieldFailure()}return a.onValidationComplete?!!a.onValidationComplete(r,t):t},updatePromptsPosition:function(e){if(e&&this==window)var t=e.data.formElem,a=e.data.noAnimation;else var t=$(this.closest("form, .validationEngineContainer"));var r=t.data("jqv");return t.find("["+r.validateAttribute+"*=validate]").not(":disabled").each(function(){var e=$(this);r.prettySelect&&e.is(":hidden")&&(e=t.find("#"+r.usePrefix+e.attr("id")+r.useSuffix));var i=methods._getPrompt(e),o=$(i).find(".formErrorContent").html();i&&methods._updatePrompt(e,$(i),o,void 0,!1,r,a)}),this},showPrompt:function(e,t,a,r){var i=this.closest("form, .validationEngineContainer"),o=i.data("jqv");return o||(o=methods._saveOptions(this,o)),a&&(o.promptPosition=a),o.showArrow=1==r,methods._showPrompt(this,e,t,!1,o),this},hide:function(){var e,t=$(this).closest("form, .validationEngineContainer"),a=t.data("jqv"),r=a&&a.fadeDuration?a.fadeDuration:.3;return e=$(this).is("form")||$(this).hasClass("validationEngineContainer")?"parentForm"+methods._getClassName($(this).attr("id")):methods._getClassName($(this).attr("id"))+"formError",$("."+e).fadeTo(r,.3,function(){$(this).parent(".formErrorOuter").remove(),$(this).remove()}),this},hideAll:function(){var e=this,t=e.data("jqv"),a=t?t.fadeDuration:300;return $(".formError").fadeTo(a,300,function(){$(this).parent(".formErrorOuter").remove(),$(this).remove()}),this},_onFieldEvent:function(e){var t=$(this),a=t.closest("form, .validationEngineContainer"),r=a.data("jqv");r.eventTrigger="field",window.setTimeout(function(){methods._validateField(t,r),0==r.InvalidFields.length&&r.onFieldSuccess?r.onFieldSuccess():r.InvalidFields.length>0&&r.onFieldFailure&&r.onFieldFailure()},e.data?e.data.delay:0)},_onSubmitEvent:function(){var e=$(this),t=e.data("jqv");if(e.data("jqv_submitButton")){var a=$("#"+e.data("jqv_submitButton"));if(a&&a.length>0&&(a.hasClass("validate-skip")||"true"==a.attr("data-validation-engine-skip")))return!0}t.eventTrigger="submit";var r=methods._validateFields(e);return r&&t.ajaxFormValidation?(methods._validateFormWithAjax(e,t),!1):t.onValidationComplete?!!t.onValidationComplete(e,r):r},_checkAjaxStatus:function(e){var t=!0;return $.each(e.ajaxValidCache,function(e,a){return a?void 0:(t=!1,!1)}),t},_checkAjaxFieldStatus:function(e,t){return 1==t.ajaxValidCache[e]},_validateFields:function(e){var t=e.data("jqv"),a=!1;e.trigger("jqv.form.validating");var r=null;if(e.find("["+t.validateAttribute+"*=validate]").not(":disabled").each(function(){var i=$(this),o=[];if($.inArray(i.attr("name"),o)<0){if(a|=methods._validateField(i,t),a&&null==r&&(i.is(":hidden")&&t.prettySelect?r=i=e.find("#"+t.usePrefix+methods._jqSelector(i.attr("id"))+t.useSuffix):(i.data("jqv-prompt-at")instanceof jQuery?i=i.data("jqv-prompt-at"):i.data("jqv-prompt-at")&&(i=$(i.data("jqv-prompt-at"))),r=i)),t.doNotShowAllErrosOnSubmit)return!1;if(o.push(i.attr("name")),1==t.showOneMessage&&a)return!1}}),e.trigger("jqv.form.result",[a]),a){if(t.scroll){var i=r.offset().top,o=r.offset().left,n=t.promptPosition;if("string"==typeof n&&-1!=n.indexOf(":")&&(n=n.substring(0,n.indexOf(":"))),"bottomRight"!=n&&"bottomLeft"!=n){var s=methods._getPrompt(r);s&&(i=s.offset().top)}if(t.scrollOffset&&(i-=t.scrollOffset),t.isOverflown){var d=$(t.overflownDIV);if(!d.length)return!1;var l=d.scrollTop(),u=-parseInt(d.offset().top);i+=l+u-5;var F=$(t.overflownDIV+":not(:animated)");F.animate({scrollTop:i},1100,function(){t.focusFirstField&&r.focus()})}else $("html, body").animate({scrollTop:i},1100,function(){t.focusFirstField&&r.focus()}),$("html, body").animate({scrollLeft:o},1100)}else t.focusFirstField&&r.focus();return!1}return!0},_validateFormWithAjax:function(e,t){var a=e.serialize(),r=t.ajaxFormValidationMethod?t.ajaxFormValidationMethod:"GET",i=t.ajaxFormValidationURL?t.ajaxFormValidationURL:e.attr("action"),o=t.dataType?t.dataType:"json";$.ajax({type:r,url:i,cache:!1,dataType:o,data:a,form:e,methods:methods,options:t,beforeSend:function(){return t.onBeforeAjaxFormValidation(e,t)},error:function(e,a){t.onFailure?t.onFailure(e,a):methods._ajaxError(e,a)},success:function(a){if("json"==o&&a!==!0){for(var r=!1,i=0;i<a.length;i++){var n=a[i],s=n[0],d=$($("#"+s)[0]);if(1==d.length){var l=n[2];if(1==n[1])if(""!=l&&l){if(t.allrules[l]){var u=t.allrules[l].alertTextOk;u&&(l=u)}t.showPrompts&&methods._showPrompt(d,l,"pass",!1,t,!0)}else methods._closePrompt(d);else{if(r|=!0,t.allrules[l]){var u=t.allrules[l].alertText;u&&(l=u)}t.showPrompts&&methods._showPrompt(d,l,"",!1,t,!0)}}}t.onAjaxFormComplete(!r,e,a,t)}else t.onAjaxFormComplete(!0,e,a,t)}})},_validateField:function(e,t,a){if(e.attr("id")||(e.attr("id","form-validation-field-"+$.validationEngine.fieldIdCounter),++$.validationEngine.fieldIdCounter),!t.validateNonVisibleFields&&(e.is(":hidden")&&!t.prettySelect||e.parent().is(":hidden")))return!1;var r=e.attr(t.validateAttribute),i=/validate\[(.*)\]/.exec(r);if(!i)return!1;var o=i[1],n=o.split(/\[|,|\]/),s=!1,d=e.attr("name"),l="",u="",F=!1,m=!1;t.isError=!1,t.showArrow=!0,t.maxErrorsPerField>0&&(m=!0);for(var c=$(e.closest("form, .validationEngineContainer")),f=0;f<n.length;f++)n[f]=n[f].replace(" ",""),""===n[f]&&delete n[f];for(var f=0,v=0;f<n.length;f++){if(m&&v>=t.maxErrorsPerField){if(!F){var x=$.inArray("required",n);F=-1!=x&&x>=f}break}var p=void 0;switch(n[f]){case"required":F=!0,p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._required);break;case"custom":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._custom);break;case"groupRequired":var h="["+t.validateAttribute+"*="+n[f+1]+"]",g=c.find(h).eq(0);g[0]!=e[0]&&(methods._validateField(g,t,a),t.showArrow=!0),p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._groupRequired),p&&(F=!0),t.showArrow=!1;break;case"ajax":p=methods._ajax(e,n,f,t),p&&(u="load");break;case"sp":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._sp);break;case"nums":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._nums);break;case"len":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._len);break;case"minSize":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._minSize);break;case"maxSize":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._maxSize);break;case"min":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._min);break;case"max":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._max);break;case"past":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._past);break;case"future":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._future);break;case"dateRange":var h="["+t.validateAttribute+"*="+n[f+1]+"]";t.firstOfGroup=c.find(h).eq(0),t.secondOfGroup=c.find(h).eq(1),(t.firstOfGroup[0].value||t.secondOfGroup[0].value)&&(p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._dateRange)),p&&(F=!0),t.showArrow=!1;break;case"dateTimeRange":var h="["+t.validateAttribute+"*="+n[f+1]+"]";t.firstOfGroup=c.find(h).eq(0),t.secondOfGroup=c.find(h).eq(1),(t.firstOfGroup[0].value||t.secondOfGroup[0].value)&&(p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._dateTimeRange)),p&&(F=!0),t.showArrow=!1;break;case"maxCheckbox":e=$(c.find("input[name='"+d+"']")),p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._maxCheckbox);break;case"minCheckbox":e=$(c.find("input[name='"+d+"']")),p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._minCheckbox);break;case"equals":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._equals);break;case"funcCall":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._funcCall);break;case"creditCard":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._creditCard);break;case"condRequired":p=methods._getErrorMessage(c,e,n[f],n,f,t,methods._condRequired),void 0!==p&&(F=!0)}var T=!1;if("object"==typeof p)switch(p.status){case"_break":T=!0;break;case"_error":p=p.message;break;case"_error_no_prompt":return!0}if(T)break;"string"==typeof p&&((""==l||t.showOneMessage!==!0)&&(l+=p+"<br/>"),t.isError=!0,v++)}!F&&!e.val()&&e.val().length<1&&n.indexOf("equals")<0&&(t.isError=!1);var C=e.prop("type"),_=e.data("promptPosition")||t.promptPosition;("radio"==C||"checkbox"==C)&&c.find("input[name='"+d+"']").size()>1&&(e=$("inline"===_?c.find("input[name='"+d+"'][type!=hidden]:last"):c.find("input[name='"+d+"'][type!=hidden]:first")),t.showArrow=!1),e.is(":hidden")&&t.prettySelect&&(e=c.find("#"+t.usePrefix+methods._jqSelector(e.attr("id"))+t.useSuffix)),t.isError&&t.showPrompts?methods._showPrompt(e,l,u,!1,t):s||methods._closePrompt(e),s||e.trigger("jqv.field.result",[e,t.isError,l]);var D=$.inArray(e[0],t.InvalidFields);return-1==D?t.isError&&t.InvalidFields.push(e[0]):t.isError||t.InvalidFields.splice(D,1),methods._handleStatusCssClasses(e,t),t.isError&&t.onFieldFailure&&t.onFieldFailure(e),!t.isError&&t.onFieldSuccess&&t.onFieldSuccess(e),t.isError},_handleStatusCssClasses:function(e,t){t.addSuccessCssClassToField&&e.removeClass(t.addSuccessCssClassToField),t.addFailureCssClassToField&&e.removeClass(t.addFailureCssClassToField),t.addSuccessCssClassToField&&!t.isError&&e.addClass(t.addSuccessCssClassToField),t.addFailureCssClassToField&&t.isError&&e.addClass(t.addFailureCssClassToField)},_getErrorMessage:function(e,t,a,r,i,o,n){var s=jQuery.inArray(a,r);if("custom"===a||"funcCall"===a){var d=r[s+1];a=a+"["+d+"]",delete r[s]}var l,u=a,F=t.attr(t.attr("data-validation-engine")?"data-validation-engine":"class"),m=F.split(" ");if(l="future"==a||"past"==a||"maxCheckbox"==a||"minCheckbox"==a?n(e,t,r,i,o):n(t,r,i,o),void 0!=l){var c=methods._getCustomErrorMessage($(t),m,u,o);c&&(l=c)}return l},_getCustomErrorMessage:function(e,t,a,r){var i=!1,o=/^custom\[.*\]$/.test(a)?methods._validityProp.custom:methods._validityProp[a];if(void 0!=o&&(i=e.attr("data-errormessage-"+o),void 0!=i))return i;if(i=e.attr("data-errormessage"),void 0!=i)return i;var n="#"+e.attr("id");if("undefined"!=typeof r.custom_error_messages[n]&&"undefined"!=typeof r.custom_error_messages[n][a])i=r.custom_error_messages[n][a].message;else if(t.length>0)for(var s=0;s<t.length&&t.length>0;s++){var d="."+t[s];if("undefined"!=typeof r.custom_error_messages[d]&&"undefined"!=typeof r.custom_error_messages[d][a]){i=r.custom_error_messages[d][a].message;break}}return i||"undefined"==typeof r.custom_error_messages[a]||"undefined"==typeof r.custom_error_messages[a].message||(i=r.custom_error_messages[a].message),i},_validityProp:{required:"value-missing",custom:"custom-error",groupRequired:"value-missing",ajax:"custom-error",sp:"range-underflow",len:"range-underflow",minSize:"range-underflow",maxSize:"range-overflow",min:"range-underflow",max:"range-overflow",past:"type-mismatch",future:"type-mismatch",dateRange:"type-mismatch",dateTimeRange:"type-mismatch",maxCheckbox:"range-overflow",minCheckbox:"range-underflow",equals:"pattern-mismatch",funcCall:"custom-error",creditCard:"pattern-mismatch",condRequired:"value-missing"},_required:function(e,t,a,r,i){switch(e.prop("type")){case"text":case"password":case"textarea":case"file":case"select-one":case"select-multiple":default:var o=$.trim(e.val()),n=$.trim(e.attr("data-validation-placeholder")),s=$.trim(e.attr("placeholder"));if(!o||n&&o==n||s&&o==s)return r.allrules[t[a]].alertText;break;case"radio":case"checkbox":if(i){if(!e.attr("checked"))return r.allrules[t[a]].alertTextCheckboxMultiple;break}var d=e.closest("form, .validationEngineContainer"),l=e.attr("name");if(0==d.find("input[name='"+l+"']:checked").size())return 1==d.find("input[name='"+l+"']:visible").size()?r.allrules[t[a]].alertTextCheckboxe:r.allrules[t[a]].alertTextCheckboxMultiple}},_groupRequired:function(e,t,a,r){var i="["+r.validateAttribute+"*="+t[a+1]+"]",o=!1;return e.closest("form, .validationEngineContainer").find(i).each(function(){return methods._required($(this),t,a,r)?void 0:(o=!0,!1)}),o?void 0:r.allrules[t[a]].alertText},_custom:function(e,t,a,r){var i,o=t[a+1],n=r.allrules[o];if(!n)return void alert("jqv:custom rule not found - "+o);if(n.regex){var s=n.regex;if(!s)return void alert("jqv:custom regex not found - "+o);var d=new RegExp(s);if(!d.test(e.val()))return r.allrules[o].alertText}else{if(!n.func)return void alert("jqv:custom type not allowed "+o);if(i=n.func,"function"!=typeof i)return void alert("jqv:custom parameter 'function' is no function - "+o);if(!i(e,t,a,r))return r.allrules[o].alertText}},_funcCall:function(e,t,a,r){var i,o=t[a+1];if(o.indexOf(".")>-1){for(var n=o.split("."),s=window;n.length;)s=s[n.shift()];i=s}else i=window[o]||r.customFunctions[o];return"function"==typeof i?i(e,t,a,r):void 0},_equals:function(e,t,a,r){var i=t[a+1];return e.val()!=$("#"+i).val()?r.allrules.equals.alertText:void 0},_maxSize:function(e,t,a,r){var i=t[a+1],o=e.val(),n=getStrLen(o);if(n>i){var s=cutStrByLen(e.val(),i);e.val(s);var d=r.allrules.maxSize;return d.alertText+i+d.alertText2}},_minSize:function(e,t,a,r){var i=t[a+1],o=e.val(),n=getStrLen(o);if(i>n){var s=r.allrules.minSize;return s.alertText+i+s.alertText2}},_len:function(e,t,a,r){var i=e.val(),o=t[a+1],n=t[a+2],s=getStrLen(i);if(!(s>=o&&n>=s)){var d=r.allrules.len,l=o+" - "+n;if(s>n){var u=cutStrByLen(e.val(),n);e.val(u)}return d.alertText+l+d.alertText2}},_sp:function(field,rules,i,options){function checkSpecialChars(e,t){for(var a=t.split("|"),r="",i=0;i<a.length;i++)(e.indexOf(a[i])>=0||e.indexOf("\\")>=0)&&(r=a.join(" , ").replace("\\\\","\\"));return r}var sign="#|%|<|>|?|$|&|/|'|\\\\",arrayStr=rules[i+1];if(arrayStr&&0==arrayStr.indexOf("[")){var param=eval("("+rules[i+1]+")");param&&param.add&&(sign+="|"+param.add),param&&param.me&&(sign=param.me)}var value=field.val(),message=checkSpecialChars(value,sign);if(message){setTimeout(function(){var e=new RegExp("["+sign+"]","g"),t=field.val().replace(e,"");field.val(t)},800);var rule=options.allrules.sp;return rule.alertText+message+rule.alertText2}},_nums:function(e,t,a,r){var i,o=t[a+1],n=r.allrules[o];if(!n)return void alert("jqv:custom rule not found - "+o);if(n.regex){var s=n.regex;if(!s)return void alert("jqv:custom regex not found - "+o);var d=new RegExp(s);if(!d.test(e.val())){var l=new RegExp("[^\\d\\.]","g"),u=e.val().replace(l,"");return setTimeout(function(){e.val("undefined"!=u&&"null"!=u?u:"")},800),r.allrules[o].alertText}}else{if(!n.func)return void alert("jqv:custom type not allowed "+o);if(i=n.func,"function"!=typeof i)return void alert("jqv:custom parameter 'function' is no function - "+o);if(!i(e,t,a,r))return r.allrules[o].alertText}},_min:function(e,t,a,r){var i=parseFloat(t[a+1]),o=parseFloat(e.val());if(i>o){var n=r.allrules.min;return n.alertText2?n.alertText+i+n.alertText2:n.alertText+i}},_max:function(e,t,a,r){var i=parseFloat(t[a+1]),o=parseFloat(e.val());if(o>i){var n=r.allrules.max;return n.alertText2?n.alertText+i+n.alertText2:n.alertText+i}},_past:function(e,t,a,r,i){var o,n=a[r+1],s=$(e.find("*[name='"+n.replace(/^#+/,"")+"']"));if("now"==n.toLowerCase())o=new Date;else if(void 0!=s.val()){if(s.is(":disabled"))return;o=methods._parseDate(s.val())}else o=methods._parseDate(n);var d=methods._parseDate(t.val());if(d>o){var l=i.allrules.past;return l.alertText2?l.alertText+methods._dateToString(o)+l.alertText2:l.alertText+methods._dateToString(o)}},_future:function(e,t,a,r,i){var o,n=a[r+1],s=$(e.find("*[name='"+n.replace(/^#+/,"")+"']"));if("now"==n.toLowerCase())o=new Date;else if(void 0!=s.val()){if(s.is(":disabled"))return;o=methods._parseDate(s.val())}else o=methods._parseDate(n);var d=methods._parseDate(t.val());if(o>d){var l=i.allrules.future;return l.alertText2?l.alertText+methods._dateToString(o)+l.alertText2:l.alertText+methods._dateToString(o)}},_isDate:function(e){var t=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/);return t.test(e)},_isDateTime:function(e){var t=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/);return t.test(e)},_dateCompare:function(e,t){return new Date(e.toString())<new Date(t.toString())},_dateRange:function(e,t,a,r){return!r.firstOfGroup[0].value&&r.secondOfGroup[0].value||r.firstOfGroup[0].value&&!r.secondOfGroup[0].value?r.allrules[t[a]].alertText+r.allrules[t[a]].alertText2:methods._isDate(r.firstOfGroup[0].value)&&methods._isDate(r.secondOfGroup[0].value)&&methods._dateCompare(r.firstOfGroup[0].value,r.secondOfGroup[0].value)?void 0:r.allrules[t[a]].alertText+r.allrules[t[a]].alertText2},_dateTimeRange:function(e,t,a,r){return!r.firstOfGroup[0].value&&r.secondOfGroup[0].value||r.firstOfGroup[0].value&&!r.secondOfGroup[0].value?r.allrules[t[a]].alertText+r.allrules[t[a]].alertText2:methods._isDateTime(r.firstOfGroup[0].value)&&methods._isDateTime(r.secondOfGroup[0].value)&&methods._dateCompare(r.firstOfGroup[0].value,r.secondOfGroup[0].value)?void 0:r.allrules[t[a]].alertText+r.allrules[t[a]].alertText2
},_maxCheckbox:function(e,t,a,r,i){var o=a[r+1],n=t.attr("name"),s=e.find("input[name='"+n+"']:checked").size();return s>o?(i.showArrow=!1,i.allrules.maxCheckbox.alertText2?i.allrules.maxCheckbox.alertText+" "+o+" "+i.allrules.maxCheckbox.alertText2:i.allrules.maxCheckbox.alertText):void 0},_minCheckbox:function(e,t,a,r,i){var o=a[r+1],n=t.attr("name"),s=e.find("input[name='"+n+"']:checked").size();return o>s?(i.showArrow=!1,i.allrules.minCheckbox.alertText+" "+o+" "+i.allrules.minCheckbox.alertText2):void 0},_creditCard:function(e,t,a,r){var i=!1,o=e.val().replace(/ +/g,"").replace(/-+/g,""),n=o.length;if(n>=14&&16>=n&&parseInt(o)>0){var s,d=0,a=n-1,l=1,u=new String;do s=parseInt(o.charAt(a)),u+=l++%2==0?2*s:s;while(--a>=0);for(a=0;a<u.length;a++)d+=parseInt(u.charAt(a));i=d%10==0}return i?void 0:r.allrules.creditCard.alertText},_ajax:function(e,t,a,r){var i=t[a+1],o=r.allrules[i],n=o.extraData,s=o.extraDataDynamic,d={fieldId:e.attr("id"),fieldValue:e.val()};if("object"==typeof n)$.extend(d,n);else if("string"==typeof n)for(var l=n.split("&"),a=0;a<l.length;a++){var u=l[a].split("=");u[0]&&u[0]&&(d[u[0]]=u[1])}if(s)for(var F=String(s).split(","),a=0;a<F.length;a++){var m=F[a];if($(m).length){{var c=e.closest("form, .validationEngineContainer").find(m).val();m.replace("#","")+"="+escape(c)}d[m.replace("#","")]=c}}return"field"==r.eventTrigger&&delete r.ajaxValidCache[e.attr("id")],r.isError||methods._checkAjaxFieldStatus(e.attr("id"),r)?void 0:($.ajax({type:r.ajaxFormValidationMethod,url:o.url,cache:!1,dataType:"json",data:d,field:e,rule:o,methods:methods,options:r,beforeSend:function(){},error:function(e,t){r.onFailure?r.onFailure(e,t):methods._ajaxError(e,t)},success:function(t){var a=t[0],i=$("#"+a).eq(0);if(1==i.length){var n=t[1],s=t[2];if(n){if(r.ajaxValidCache[a]=!0,s){if(r.allrules[s]){var d=r.allrules[s].alertTextOk;d&&(s=d)}}else s=o.alertTextOk;r.showPrompts&&(s?methods._showPrompt(i,s,"pass",!0,r):methods._closePrompt(i)),"submit"==r.eventTrigger&&e.closest("form").submit()}else{if(r.ajaxValidCache[a]=!1,r.isError=!0,s){if(r.allrules[s]){var d=r.allrules[s].alertText;d&&(s=d)}}else s=o.alertText;r.showPrompts&&methods._showPrompt(i,s,"",!0,r)}}i.trigger("jqv.field.result",[i,r.isError,s])}}),o.alertTextLoad)},_ajaxError:function(e,t){0==e.status&&null==t?alert("The page is not served from a server! ajax call failed"):"undefined"!=typeof console&&console.log("Ajax error: "+e.status+" "+t)},_dateToString:function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},_parseDate:function(e){var t=e.split("-");return t==e&&(t=e.split("/")),t==e?(t=e.split("."),new Date(t[2],t[1]-1,t[0])):new Date(t[0],t[1]-1,t[2])},_showPrompt:function(e,t,a,r,i,o){e.data("jqv-prompt-at")instanceof jQuery?e=e.data("jqv-prompt-at"):e.data("jqv-prompt-at")&&(e=$(e.data("jqv-prompt-at")));var n=methods._getPrompt(e);o&&(n=!1),$.trim(t)&&(n?methods._updatePrompt(e,n,t,a,r,i):methods._buildPrompt(e,t,a,r,i))},_buildPrompt:function(e,t,a,r,i){var o=$("<div>");switch(o.addClass(methods._getClassName(e.attr("id"))+"formError"),o.addClass("parentForm"+methods._getClassName(e.closest("form, .validationEngineContainer").attr("id"))),o.addClass("formError"),a){case"pass":o.addClass("greenPopup");break;case"load":o.addClass("blackPopup")}r&&o.addClass("ajaxed");var n=($("<div>").addClass("formErrorContent").html(t).appendTo(o),e.data("promptPosition")||i.promptPosition);if(i.showArrow){var s=$("<div>").addClass("formErrorArrow");if("string"==typeof n){var d=n.indexOf(":");-1!=d&&(n=n.substring(0,d))}switch(n){case"bottomLeft":case"bottomRight":o.find(".formErrorContent").before(s),s.addClass("formErrorArrowBottom").html('<div class="line1"><!-- --></div><div class="line2"><!-- --></div><div class="line3"><!-- --></div><div class="line4"><!-- --></div><div class="line5"><!-- --></div><div class="line6"><!-- --></div><div class="line7"><!-- --></div><div class="line8"><!-- --></div><div class="line9"><!-- --></div><div class="line10"><!-- --></div>');break;case"topLeft":case"topRight":s.html('<div class="line10"><!-- --></div><div class="line9"><!-- --></div><div class="line8"><!-- --></div><div class="line7"><!-- --></div><div class="line6"><!-- --></div><div class="line5"><!-- --></div><div class="line4"><!-- --></div><div class="line3"><!-- --></div><div class="line2"><!-- --></div><div class="line1"><!-- --></div>'),o.append(s)}}i.addPromptClass&&o.addClass(i.addPromptClass);var l=e.attr("data-required-class");if(void 0!==l)o.addClass(l);else if(i.prettySelect&&$("#"+e.attr("id")).next().is("select")){var u=$("#"+e.attr("id").substr(i.usePrefix.length).substring(i.useSuffix.length)).attr("data-required-class");void 0!==u&&o.addClass(u)}o.css({opacity:0}),"inline"===n?(o.addClass("inline"),"undefined"!=typeof e.attr("data-prompt-target")&&$("#"+e.attr("data-prompt-target")).length>0?o.appendTo($("#"+e.attr("data-prompt-target"))):e.after(o)):e.before(o);var d=methods._calculatePosition(e,o,i);return o.css({position:"inline"===n?"relative":"absolute",top:d.callerTopPosition,left:d.callerleftPosition,marginTop:d.marginTopSize,opacity:0}).data("callerField",e),i.autoHidePrompt&&setTimeout(function(){o.animate({opacity:0},function(){o.closest(".formErrorOuter").remove(),o.remove()})},i.autoHideDelay),o.animate({opacity:.9})},_updatePrompt:function(e,t,a,r,i,o,n){if(t){"undefined"!=typeof r&&("pass"==r?t.addClass("greenPopup"):t.removeClass("greenPopup"),"load"==r?t.addClass("blackPopup"):t.removeClass("blackPopup")),i?t.addClass("ajaxed"):t.removeClass("ajaxed"),t.find(".formErrorContent").html(a);var s=methods._calculatePosition(e,t,o),d={top:s.callerTopPosition,left:s.callerleftPosition,marginTop:s.marginTopSize};n?t.css(d):t.animate(d)}},_closePrompt:function(e){var t=methods._getPrompt(e);t&&t.fadeTo("fast",0,function(){t.parent(".formErrorOuter").remove(),t.remove()})},closePrompt:function(e){return methods._closePrompt(e)},_getPrompt:function(e){var t=$(e).closest("form, .validationEngineContainer").attr("id"),a=methods._getClassName(e.attr("id"))+"formError",r=$("."+methods._escapeExpression(a)+".parentForm"+methods._getClassName(t))[0];return r?$(r):void 0},_escapeExpression:function(e){return e.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},isRTL:function(e){var t=$(document),a=$("body"),r=e&&e.hasClass("rtl")||e&&"rtl"===(e.attr("dir")||"").toLowerCase()||t.hasClass("rtl")||"rtl"===(t.attr("dir")||"").toLowerCase()||a.hasClass("rtl")||"rtl"===(a.attr("dir")||"").toLowerCase();return Boolean(r)},_calculatePosition:function(e,t,a){var r,i,o,n=e.width(),s=e.position().left,d=e.position().top,l=(e.height(),t.height());r=i=0,o=-l;var u=e.data("promptPosition")||a.promptPosition,F="",m="",c=0,f=0;switch("string"==typeof u&&-1!=u.indexOf(":")&&(F=u.substring(u.indexOf(":")+1),u=u.substring(0,u.indexOf(":")),-1!=F.indexOf(",")&&(m=F.substring(F.indexOf(",")+1),F=F.substring(0,F.indexOf(",")),f=parseInt(m),isNaN(f)&&(f=0)),c=parseInt(F),isNaN(F)&&(F=0)),u){default:case"topRight":i+=s+n-30,r+=d;break;case"topLeft":r+=d,i+=s;break;case"centerRight":r=d,o=0,i=s+e.outerWidth(!0)+5;break;case"centerLeft":i=s-t.outerWidth(),r=d,o=0;break;case"bottomLeft":r=d+e.outerHeight(),o=0,i=s;break;case"bottomRight":i=s+n-30,r=d+e.outerHeight(),o=0;break;case"inline":i=0,r=0,o=0}return i+=c,r+=f,{callerTopPosition:r+"px",callerleftPosition:i+"px",marginTopSize:o+"px"}},_saveOptions:function(e,t){if($.validationEngineLanguage)var a=$.validationEngineLanguage.allRules;else $.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page");$.validationEngine.defaults.allrules=a;var r=$.extend(!0,{},$.validationEngine.defaults,t);return e.data("jqv",r),r},_getClassName:function(e){return e?e.replace(/:/g,"_").replace(/\./g,"_"):void 0},_jqSelector:function(e){return e.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1")},_condRequired:function(e,t,a,r){var i,o;for(i=a+1;i<t.length;i++)if(o=jQuery("#"+t[i]).first(),o.length&&void 0==methods._required(o,["required"],0,r,!0))return methods._required(e,["required"],0,r)},_submitButtonClick:function(){var e=$(this),t=e.closest("form, .validationEngineContainer");t.data("jqv_submitButton",e.attr("id"))}};$.fn.validationEngine=function(e){var t=$(this);return t[0]?"string"==typeof e&&"_"!=e.charAt(0)&&methods[e]?("showPrompt"!=e&&"hide"!=e&&"hideAll"!=e&&methods.init.apply(t),methods[e].apply(t,Array.prototype.slice.call(arguments,1))):"object"!=typeof e&&e?void $.error("Method "+e+" does not exist in jQuery.validationEngine"):(methods.init.apply(t,arguments),methods.attach.apply(t)):t},$.validationEngine={fieldIdCounter:0,defaults:{validationEventTrigger:"blur",scroll:!0,focusFirstField:!0,showPrompts:!0,validateNonVisibleFields:!1,promptPosition:"topRight",bindMethod:"bind",inlineAjax:!1,ajaxFormValidation:!1,ajaxFormValidationURL:!1,ajaxFormValidationMethod:"get",onAjaxFormComplete:$.noop,onBeforeAjaxFormValidation:$.noop,onValidationComplete:!1,doNotShowAllErrosOnSubmit:!1,custom_error_messages:{},binded:!0,showArrow:!0,isError:!1,maxErrorsPerField:!1,ajaxValidCache:{},autoPositionUpdate:!1,InvalidFields:[],onFieldSuccess:!1,onFieldFailure:!1,onSuccess:!1,onFailure:!1,validateAttribute:"class",addSuccessCssClassToField:"",addFailureCssClassToField:"",autoHidePrompt:!1,autoHideDelay:1e4,fadeDuration:.3,prettySelect:!1,addPromptClass:"",usePrefix:"",useSuffix:"",showOneMessage:!1}},$(function(){$.validationEngine.defaults.promptPosition=methods.isRTL()?"topLeft":"topRight"})}(jQuery);
;/*!ztree/js/jquery.ztree.all-3.5.js*/
!function($){var settings={},roots={},caches={},_consts={className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove",SELECTED:"ztree_selected",UNSELECTED:"ztree_unselected"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_setting={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0,txtSelectedEnable:!1},data:{key:{children:"children",name:"name",title:"",url:"url",icon:"icon"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},_initRoot=function(e){var t=data.getRoot(e);t||(t={},data.setRoot(e,t)),t[e.data.key.children]=[],t.expandTriggerFlag=!1,t.curSelectedList=[],t.noSelection=!0,t.createdNodes=[],t.zId=0,t._ver=(new Date).getTime()},_initCache=function(e){var t=data.getCache(e);t||(t={},data.setCache(e,t)),t.nodes=[],t.doms=[]},_bindEvent=function(e){var t=e.treeObj,n=consts.event;t.bind(n.NODECREATED,function(t,n,o){tools.apply(e.callback.onNodeCreated,[t,n,o])}),t.bind(n.CLICK,function(t,n,o,a,r){tools.apply(e.callback.onClick,[n,o,a,r])}),t.bind(n.EXPAND,function(t,n,o){tools.apply(e.callback.onExpand,[t,n,o])}),t.bind(n.COLLAPSE,function(t,n,o){tools.apply(e.callback.onCollapse,[t,n,o])}),t.bind(n.ASYNC_SUCCESS,function(t,n,o,a){tools.apply(e.callback.onAsyncSuccess,[t,n,o,a])}),t.bind(n.ASYNC_ERROR,function(t,n,o,a,r,i){tools.apply(e.callback.onAsyncError,[t,n,o,a,r,i])}),t.bind(n.REMOVE,function(t,n,o){tools.apply(e.callback.onRemove,[t,n,o])}),t.bind(n.SELECTED,function(t,n,o){tools.apply(e.callback.onSelected,[n,o])}),t.bind(n.UNSELECTED,function(t,n,o){tools.apply(e.callback.onUnSelected,[n,o])})},_unbindEvent=function(e){var t=e.treeObj,n=consts.event;t.unbind(n.NODECREATED).unbind(n.CLICK).unbind(n.EXPAND).unbind(n.COLLAPSE).unbind(n.ASYNC_SUCCESS).unbind(n.ASYNC_ERROR).unbind(n.REMOVE).unbind(n.SELECTED).unbind(n.UNSELECTED)},_eventProxy=function(e){var t=e.target,n=data.getSetting(e.data.treeId),o="",a=null,r="",i="",d=null,s=null,l=null;if(tools.eqs(e.type,"mousedown")?i="mousedown":tools.eqs(e.type,"mouseup")?i="mouseup":tools.eqs(e.type,"contextmenu")?i="contextmenu":tools.eqs(e.type,"click")?tools.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+consts.id.SWITCH)?(o=tools.getNodeMainDom(t).id,r="switchNode"):(l=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]),l&&(o=tools.getNodeMainDom(l).id,r="clickNode")):tools.eqs(e.type,"dblclick")&&(i="dblclick",l=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]),l&&(o=tools.getNodeMainDom(l).id,r="switchNode")),i.length>0&&0==o.length&&(l=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]),l&&(o=tools.getNodeMainDom(l).id)),o.length>0)switch(a=data.getNodeCache(n,o),r){case"switchNode":a.isParent&&(tools.eqs(e.type,"click")||tools.eqs(e.type,"dblclick")&&tools.apply(n.view.dblClickExpand,[n.treeId,a],n.view.dblClickExpand))?d=handler.onSwitchNode:r="";break;case"clickNode":d=handler.onClickNode}switch(i){case"mousedown":s=handler.onZTreeMousedown;break;case"mouseup":s=handler.onZTreeMouseup;break;case"dblclick":s=handler.onZTreeDblclick;break;case"contextmenu":s=handler.onZTreeContextmenu}var c={stop:!1,node:a,nodeEventType:r,nodeEventCallback:d,treeEventType:i,treeEventCallback:s};return c},_initNode=function(e,t,n,o,a,r){if(n){var i=data.getRoot(e),d=e.data.key.children;n.level=t,n.tId=e.treeId+"_"+ ++i.zId,n.parentTId=o?o.tId:null,n.open="string"==typeof n.open?tools.eqs(n.open,"true"):!!n.open,n[d]&&n[d].length>0?(n.isParent=!0,n.zAsync=!0):(n.isParent="string"==typeof n.isParent?tools.eqs(n.isParent,"true"):!!n.isParent,n.open=n.isParent&&!e.async.enable?n.open:!1,n.zAsync=!n.isParent),n.isFirstNode=a,n.isLastNode=r,n.getParentNode=function(){return data.getNodeCache(e,n.parentTId)},n.getPreNode=function(){return data.getPreNode(e,n)},n.getNextNode=function(){return data.getNextNode(e,n)},n.isAjaxing=!1,data.fixPIdKeyValue(e,n)}},_init={bind:[_bindEvent],unbind:[_unbindEvent],caches:[_initCache],nodes:[_initNode],proxys:[_eventProxy],roots:[_initRoot],beforeA:[],afterA:[],innerBeforeA:[],innerAfterA:[],zTreeTools:[]},data={addNodeCache:function(e,t){data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=t},getNodeCacheId:function(e){return e.substring(e.lastIndexOf("_")+1)},addAfterA:function(e){_init.afterA.push(e)},addBeforeA:function(e){_init.beforeA.push(e)},addInnerAfterA:function(e){_init.innerAfterA.push(e)},addInnerBeforeA:function(e){_init.innerBeforeA.push(e)},addInitBind:function(e){_init.bind.push(e)},addInitUnBind:function(e){_init.unbind.push(e)},addInitCache:function(e){_init.caches.push(e)},addInitNode:function(e){_init.nodes.push(e)},addInitProxy:function(e,t){t?_init.proxys.splice(0,0,e):_init.proxys.push(e)},addInitRoot:function(e){_init.roots.push(e)},addNodesData:function(e,t,n){var o=e.data.key.children;t[o]||(t[o]=[]),t[o].length>0&&(t[o][t[o].length-1].isLastNode=!1,view.setNodeLineIcos(e,t[o][t[o].length-1])),t.isParent=!0,t[o]=t[o].concat(n)},addSelectedNode:function(e,t){var n=data.getRoot(e);data.isSelectedNode(e,t)||n.curSelectedList.push(t)},addCreatedNode:function(e,t){if(e.callback.onNodeCreated||e.view.addDiyDom){var n=data.getRoot(e);n.createdNodes.push(t)}},addZTreeTools:function(e){_init.zTreeTools.push(e)},exSetting:function(e){$.extend(!0,_setting,e)},fixPIdKeyValue:function(e,t){e.data.simpleData.enable&&(t[e.data.simpleData.pIdKey]=t.parentTId?t.getParentNode()[e.data.simpleData.idKey]:e.data.simpleData.rootPId)},getAfterA:function(){for(var e=0,t=_init.afterA.length;t>e;e++)_init.afterA[e].apply(this,arguments)},getBeforeA:function(){for(var e=0,t=_init.beforeA.length;t>e;e++)_init.beforeA[e].apply(this,arguments)},getInnerAfterA:function(){for(var e=0,t=_init.innerAfterA.length;t>e;e++)_init.innerAfterA[e].apply(this,arguments)},getInnerBeforeA:function(){for(var e=0,t=_init.innerBeforeA.length;t>e;e++)_init.innerBeforeA[e].apply(this,arguments)},getCache:function(e){return caches[e.treeId]},getNextNode:function(e,t){if(!t)return null;for(var n=e.data.key.children,o=t.parentTId?t.getParentNode():data.getRoot(e),a=0,r=o[n].length-1;r>=a;a++)if(o[n][a]===t)return a==r?null:o[n][a+1];return null},getNodeByParam:function(e,t,n,o){if(!t||!n)return null;for(var a=e.data.key.children,r=0,i=t.length;i>r;r++){if(t[r][n]==o)return t[r];var d=data.getNodeByParam(e,t[r][a],n,o);if(d)return d}return null},getNodeCache:function(e,t){if(!t)return null;var n=caches[e.treeId].nodes[data.getNodeCacheId(t)];return n?n:null},getNodeName:function(e,t){var n=e.data.key.name;return""+t[n]},getNodeTitle:function(e,t){var n=""===e.data.key.title?e.data.key.name:e.data.key.title;return""+t[n]},getNodes:function(e){return data.getRoot(e)[e.data.key.children]},getNodesByParam:function(e,t,n,o){if(!t||!n)return[];for(var a=e.data.key.children,r=[],i=0,d=t.length;d>i;i++)t[i][n]==o&&r.push(t[i]),r=r.concat(data.getNodesByParam(e,t[i][a],n,o));return r},getNodesByParamFuzzy:function(e,t,n,o){if(!t||!n)return[];var a=e.data.key.children,r=[];o=o.toLowerCase();for(var i=0,d=t.length;d>i;i++)"string"==typeof t[i][n]&&t[i][n].toLowerCase().indexOf(o)>-1&&r.push(t[i]),r=r.concat(data.getNodesByParamFuzzy(e,t[i][a],n,o));return r},getNodesByFilter:function(e,t,n,o,a){if(!t)return o?null:[];for(var r=e.data.key.children,i=o?null:[],d=0,s=t.length;s>d;d++){if(tools.apply(n,[t[d],a],!1)){if(o)return t[d];i.push(t[d])}var l=data.getNodesByFilter(e,t[d][r],n,o,a);if(o&&l)return l;i=o?l:i.concat(l)}return i},getPreNode:function(e,t){if(!t)return null;for(var n=e.data.key.children,o=t.parentTId?t.getParentNode():data.getRoot(e),a=0,r=o[n].length;r>a;a++)if(o[n][a]===t)return 0==a?null:o[n][a-1];return null},getRoot:function(e){return e?roots[e.treeId]:null},getRoots:function(){return roots},getSetting:function(e){return settings[e]},getSettings:function(){return settings},getZTreeTools:function(e){var t=this.getRoot(this.getSetting(e));return t?t.treeTools:null},initCache:function(){for(var e=0,t=_init.caches.length;t>e;e++)_init.caches[e].apply(this,arguments)},initNode:function(){for(var e=0,t=_init.nodes.length;t>e;e++)_init.nodes[e].apply(this,arguments)},initRoot:function(){for(var e=0,t=_init.roots.length;t>e;e++)_init.roots[e].apply(this,arguments)},isSelectedNode:function(e,t){for(var n=data.getRoot(e),o=0,a=n.curSelectedList.length;a>o;o++)if(t===n.curSelectedList[o])return!0;return!1},removeNodeCache:function(e,t){var n=e.data.key.children;if(t[n])for(var o=0,a=t[n].length;a>o;o++)arguments.callee(e,t[n][o]);data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=null},removeSelectedNode:function(e,t){for(var n=data.getRoot(e),o=0,a=n.curSelectedList.length;a>o;o++)t!==n.curSelectedList[o]&&data.getNodeCache(e,n.curSelectedList[o].tId)||(n.curSelectedList.splice(o,1),e.treeObj.trigger(consts.event.UNSELECTED,[e.treeId,t]),o--,a--)},setCache:function(e,t){caches[e.treeId]=t},setRoot:function(e,t){roots[e.treeId]=t},setZTreeTools:function(){for(var e=0,t=_init.zTreeTools.length;t>e;e++)_init.zTreeTools[e].apply(this,arguments)},transformToArrayFormat:function(e,t){if(!t)return[];var n=e.data.key.children,o=[];if(tools.isArray(t))for(var a=0,r=t.length;r>a;a++)o.push(t[a]),t[a][n]&&(o=o.concat(data.transformToArrayFormat(e,t[a][n])));else o.push(t),t[n]&&(o=o.concat(data.transformToArrayFormat(e,t[n])));return o},transformTozTreeFormat:function(e,t){var n,o,a=e.data.simpleData.idKey,r=e.data.simpleData.pIdKey,i=e.data.key.children;if(!a||""==a||!t)return[];if(tools.isArray(t)){var d=[],s=[];for(n=0,o=t.length;o>n;n++)s[t[n][a]]=t[n];for(n=0,o=t.length;o>n;n++)s[t[n][r]]&&t[n][a]!=t[n][r]?(s[t[n][r]][i]||(s[t[n][r]][i]=[]),s[t[n][r]][i].push(t[n])):d.push(t[n]);return d}return[t]}},event={bindEvent:function(){for(var e=0,t=_init.bind.length;t>e;e++)_init.bind[e].apply(this,arguments)},unbindEvent:function(){for(var e=0,t=_init.unbind.length;t>e;e++)_init.unbind[e].apply(this,arguments)},bindTree:function(e){var t={treeId:e.treeId},n=e.treeObj;e.view.txtSelectedEnable||n.bind("selectstart",function(e){var t=e.originalEvent.srcElement.nodeName.toLowerCase();return"input"===t||"textarea"===t}).css({"-moz-user-select":"-moz-none"}),n.bind("click",t,event.proxy),n.bind("dblclick",t,event.proxy),n.bind("mouseover",t,event.proxy),n.bind("mouseout",t,event.proxy),n.bind("mousedown",t,event.proxy),n.bind("mouseup",t,event.proxy),n.bind("contextmenu",t,event.proxy)},unbindTree:function(e){var t=e.treeObj;t.unbind("click",event.proxy).unbind("dblclick",event.proxy).unbind("mouseover",event.proxy).unbind("mouseout",event.proxy).unbind("mousedown",event.proxy).unbind("mouseup",event.proxy).unbind("contextmenu",event.proxy)},doProxy:function(){for(var e=[],t=0,n=_init.proxys.length;n>t;t++){var o=_init.proxys[t].apply(this,arguments);if(e.push(o),o.stop)break}return e},proxy:function(e){var t=data.getSetting(e.data.treeId);if(!tools.uCanDo(t,e))return!0;for(var n=event.doProxy(e),o=!0,a=!1,r=0,i=n.length;i>r;r++){var d=n[r];d.nodeEventCallback&&(a=!0,o=d.nodeEventCallback.apply(d,[e,d.node])&&o),d.treeEventCallback&&(a=!0,o=d.treeEventCallback.apply(d,[e,d.node])&&o)}return o}},handler={onSwitchNode:function(e,t){var n=data.getSetting(e.data.treeId);if(t.open){if(0==tools.apply(n.callback.beforeCollapse,[n.treeId,t],!0))return!0;data.getRoot(n).expandTriggerFlag=!0,view.switchNode(n,t)}else{if(0==tools.apply(n.callback.beforeExpand,[n.treeId,t],!0))return!0;data.getRoot(n).expandTriggerFlag=!0,view.switchNode(n,t)}return!0},onClickNode:function(e,t){var n=data.getSetting(e.data.treeId),o=n.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&data.isSelectedNode(n,t)?0:n.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&n.view.selectedMulti?2:1;return 0==tools.apply(n.callback.beforeClick,[n.treeId,t,o],!0)?!0:(0===o?view.cancelPreSelectedNode(n,t):view.selectNode(n,t,2===o),n.treeObj.trigger(consts.event.CLICK,[e,n.treeId,t,o]),!0)},onZTreeMousedown:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeMouseDown,[n.treeId,t],!0)&&tools.apply(n.callback.onMouseDown,[e,n.treeId,t]),!0},onZTreeMouseup:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeMouseUp,[n.treeId,t],!0)&&tools.apply(n.callback.onMouseUp,[e,n.treeId,t]),!0},onZTreeDblclick:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeDblClick,[n.treeId,t],!0)&&tools.apply(n.callback.onDblClick,[e,n.treeId,t]),!0},onZTreeContextmenu:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeRightClick,[n.treeId,t],!0)&&tools.apply(n.callback.onRightClick,[e,n.treeId,t]),"function"!=typeof n.callback.onRightClick}},tools={apply:function(e,t,n){return"function"==typeof e?e.apply(zt,t?t:[]):n},canAsync:function(e,t){var n=e.data.key.children;return e.async.enable&&t&&t.isParent&&!(t.zAsync||t[n]&&t[n].length>0)},clone:function(e){if(null===e)return null;var t=tools.isArray(e)?[]:{};for(var n in e)t[n]=e[n]instanceof Date?new Date(e[n].getTime()):"object"==typeof e[n]?arguments.callee(e[n]):e[n];return t},eqs:function(e,t){return e.toLowerCase()===t.toLowerCase()},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},$:function(e,t,n){return t&&"string"!=typeof t&&(n=t,t=""),"string"==typeof e?$(e,n?n.treeObj.get(0).ownerDocument:null):$("#"+e.tId+t,n?n.treeObj:null)},getMDom:function(e,t,n){if(!t)return null;for(;t&&t.id!==e.treeId;){for(var o=0,a=n.length;t.tagName&&a>o;o++)if(tools.eqs(t.tagName,n[o].tagName)&&null!==t.getAttribute(n[o].attrName))return t;t=t.parentNode}return null},getNodeMainDom:function(e){return $(e).parent("li").get(0)||$(e).parentsUntil("li").parent().get(0)},isChildOrSelf:function(e,t){return $(e).closest("#"+t).length>0},uCanDo:function(){return!0}},view={addNodes:function(e,t,n,o){if(!e.data.keep.leaf||!t||t.isParent)if(tools.isArray(n)||(n=[n]),e.data.simpleData.enable&&(n=data.transformTozTreeFormat(e,n)),t){var a=$$(t,consts.id.SWITCH,e),r=$$(t,consts.id.ICON,e),i=$$(t,consts.id.UL,e);t.open||(view.replaceSwitchClass(t,a,consts.folder.CLOSE),view.replaceIcoClass(t,r,consts.folder.CLOSE),t.open=!1,i.css({display:"none"})),data.addNodesData(e,t,n),view.createNodes(e,t.level+1,n,t),o||view.expandCollapseParentNode(e,t,!0)}else data.addNodesData(e,data.getRoot(e),n),view.createNodes(e,0,n,null)},appendNodes:function(e,t,n,o,a,r){if(!n)return[];for(var i=[],d=e.data.key.children,s=0,l=n.length;l>s;s++){var c=n[s];if(a){var u=o?o:data.getRoot(e),h=u[d],g=h.length==n.length&&0==s,p=s==n.length-1;data.initNode(e,t,c,o,g,p,r),data.addNodeCache(e,c)}var f=[];c[d]&&c[d].length>0&&(f=view.appendNodes(e,t+1,c[d],c,a,r&&c.open)),r&&(view.makeDOMNodeMainBefore(i,e,c),view.makeDOMNodeLine(i,e,c),data.getBeforeA(e,c,i),view.makeDOMNodeNameBefore(i,e,c),data.getInnerBeforeA(e,c,i),view.makeDOMNodeIcon(i,e,c),data.getInnerAfterA(e,c,i),view.makeDOMNodeNameAfter(i,e,c),data.getAfterA(e,c,i),c.isParent&&c.open&&view.makeUlHtml(e,c,i,f.join("")),view.makeDOMNodeMainAfter(i,e,c),data.addCreatedNode(e,c))}return i},appendParentULDom:function(e,t){var n=[],o=$$(t,e);!o.get(0)&&t.parentTId&&(view.appendParentULDom(e,t.getParentNode()),o=$$(t,e));var a=$$(t,consts.id.UL,e);a.get(0)&&a.remove();var r=e.data.key.children,i=view.appendNodes(e,t.level+1,t[r],t,!1,!0);view.makeUlHtml(e,t,n,i.join("")),o.append(n.join(""))},asyncNode:function(setting,node,isSilent,callback){var i,l;if(node&&!node.isParent)return tools.apply(callback),!1;if(node&&node.isAjaxing)return!1;if(0==tools.apply(setting.callback.beforeAsync,[setting.treeId,node],!0))return tools.apply(callback),!1;if(node){node.isAjaxing=!0;var icoObj=$$(node,consts.id.ICON,setting);icoObj.attr({style:"","class":consts.className.BUTTON+" "+consts.className.ICO_LOADING})}var tmpParam={};for(i=0,l=setting.async.autoParam.length;node&&l>i;i++){var pKey=setting.async.autoParam[i].split("="),spKey=pKey;pKey.length>1&&(spKey=pKey[1],pKey=pKey[0]),tmpParam[spKey]=node[pKey]}if(tools.isArray(setting.async.otherParam))for(i=0,l=setting.async.otherParam.length;l>i;i+=2)tmpParam[setting.async.otherParam[i]]=setting.async.otherParam[i+1];else for(var p in setting.async.otherParam)tmpParam[p]=setting.async.otherParam[p];var _tmpV=data.getRoot(setting)._ver;return $.ajax({contentType:setting.async.contentType,cache:!1,type:setting.async.type,url:tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),data:tmpParam,dataType:setting.async.dataType,success:function(msg){if(_tmpV==data.getRoot(setting)._ver){var newNodes=[];try{newNodes=msg&&0!=msg.length?"string"==typeof msg?eval("("+msg+")"):msg:[]}catch(err){newNodes=msg}node&&(node.isAjaxing=null,node.zAsync=!0),view.setNodeLineIcos(setting,node),newNodes&&""!==newNodes?(newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes),view.addNodes(setting,node,newNodes?tools.clone(newNodes):[],!!isSilent)):view.addNodes(setting,node,[],!!isSilent),setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]),tools.apply(callback)}},error:function(e,t,n){_tmpV==data.getRoot(setting)._ver&&(node&&(node.isAjaxing=null),view.setNodeLineIcos(setting,node),setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,e,t,n]))}}),!0},cancelPreSelectedNode:function(e,t,n){var o,a,r=data.getRoot(e).curSelectedList;for(o=r.length-1;o>=0;o--)if(a=r[o],t===a||!t&&(!n||n!==a)){if($$(a,consts.id.A,e).removeClass(consts.node.CURSELECTED),t){data.removeSelectedNode(e,t);break}r.splice(o,1),e.treeObj.trigger(consts.event.UNSELECTED,[e.treeId,a])}},createNodeCallback:function(e){if(e.callback.onNodeCreated||e.view.addDiyDom)for(var t=data.getRoot(e);t.createdNodes.length>0;){var n=t.createdNodes.shift();tools.apply(e.view.addDiyDom,[e.treeId,n]),e.callback.onNodeCreated&&e.treeObj.trigger(consts.event.NODECREATED,[e.treeId,n])}},createNodes:function(e,t,n,o){if(n&&0!=n.length){var a=data.getRoot(e),r=e.data.key.children,i=!o||o.open||!!$$(o[r][0],e).get(0);a.createdNodes=[];var d=view.appendNodes(e,t,n,o,!0,i);if(o){var s=$$(o,consts.id.UL,e);s.get(0)&&s.append(d.join(""))}else e.treeObj.append(d.join(""));view.createNodeCallback(e)}},destroy:function(e){e&&(data.initCache(e),data.initRoot(e),event.unbindTree(e),event.unbindEvent(e),e.treeObj.empty(),delete settings[e.treeId])},expandCollapseNode:function(e,t,n,o,a){var r=data.getRoot(e),i=e.data.key.children;if(!t)return void tools.apply(a,[]);if(r.expandTriggerFlag){var d=a;a=function(){d&&d(),t.open?e.treeObj.trigger(consts.event.EXPAND,[e.treeId,t]):e.treeObj.trigger(consts.event.COLLAPSE,[e.treeId,t])},r.expandTriggerFlag=!1}if(!t.open&&t.isParent&&(!$$(t,consts.id.UL,e).get(0)||t[i]&&t[i].length>0&&!$$(t[i][0],e).get(0))&&(view.appendParentULDom(e,t),view.createNodeCallback(e)),t.open==n)return void tools.apply(a,[]);var s=$$(t,consts.id.UL,e),l=$$(t,consts.id.SWITCH,e),c=$$(t,consts.id.ICON,e);t.isParent?(t.open=!t.open,t.iconOpen&&t.iconClose&&c.attr("style",view.makeNodeIcoStyle(e,t)),t.open?(view.replaceSwitchClass(t,l,consts.folder.OPEN),view.replaceIcoClass(t,c,consts.folder.OPEN),0==o||""==e.view.expandSpeed?(s.show(),tools.apply(a,[])):t[i]&&t[i].length>0?s.slideDown(e.view.expandSpeed,a):(s.show(),tools.apply(a,[]))):(view.replaceSwitchClass(t,l,consts.folder.CLOSE),view.replaceIcoClass(t,c,consts.folder.CLOSE),0!=o&&""!=e.view.expandSpeed&&t[i]&&t[i].length>0?s.slideUp(e.view.expandSpeed,a):(s.hide(),tools.apply(a,[])))):tools.apply(a,[])},expandCollapseParentNode:function(e,t,n,o,a){if(t){if(!t.parentTId)return void view.expandCollapseNode(e,t,n,o,a);view.expandCollapseNode(e,t,n,o),t.parentTId&&view.expandCollapseParentNode(e,t.getParentNode(),n,o,a)}},expandCollapseSonNode:function(e,t,n,o,a){var r=data.getRoot(e),i=e.data.key.children,d=t?t[i]:r[i],s=t?!1:o,l=data.getRoot(e).expandTriggerFlag;if(data.getRoot(e).expandTriggerFlag=!1,d)for(var c=0,u=d.length;u>c;c++)d[c]&&view.expandCollapseSonNode(e,d[c],n,s);data.getRoot(e).expandTriggerFlag=l,view.expandCollapseNode(e,t,n,o,a)},isSelectedNode:function(e,t){if(!t)return!1;var n,o=data.getRoot(e).curSelectedList;for(n=o.length-1;n>=0;n--)if(t===o[n])return!0;return!1},makeDOMNodeIcon:function(e,t,n){var o=data.getNodeName(t,n),a=t.view.nameIsHTML?o:o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");e.push("<span id='",n.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(t,n),"' style='",view.makeNodeIcoStyle(t,n),"'></span><span id='",n.tId,consts.id.SPAN,"'>",a,"</span>")},makeDOMNodeLine:function(e,t,n){e.push("<span id='",n.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(t,n),"' treeNode",consts.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(e){e.push("</li>")},makeDOMNodeMainBefore:function(e,t,n){e.push("<li id='",n.tId,"' class='",consts.className.LEVEL,n.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(e){e.push("</a>")},makeDOMNodeNameBefore:function(e,t,n){var o=data.getNodeTitle(t,n),a=view.makeNodeUrl(t,n),r=view.makeNodeFontCss(t,n),i=[];for(var d in r)i.push(d,":",r[d],";");e.push("<a id='",n.tId,consts.id.A,"' class='",consts.className.LEVEL,n.level,"' treeNode",consts.id.A,' onclick="',n.click||"",'" ',null!=a&&a.length>0?"href='"+a+"'":""," target='",view.makeNodeTarget(n),"' style='",i.join(""),"'"),tools.apply(t.view.showTitle,[t.treeId,n],t.view.showTitle)&&o&&e.push("title='",o.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),e.push(">")},makeNodeFontCss:function(e,t){var n=tools.apply(e.view.fontCss,[e.treeId,t],e.view.fontCss);return n&&"function"!=typeof n?n:{}},makeNodeIcoClass:function(e,t){var n=["ico"];return t.isAjaxing||(n[0]=(t.iconSkin?t.iconSkin+"_":"")+n[0],n.push(t.isParent?t.open?consts.folder.OPEN:consts.folder.CLOSE:consts.folder.DOCU)),consts.className.BUTTON+" "+n.join("_")},makeNodeIcoStyle:function(e,t){var n=[];if(!t.isAjaxing){var o=t.isParent&&t.iconOpen&&t.iconClose?t.open?t.iconOpen:t.iconClose:t[e.data.key.icon];o&&n.push("background:url(",o,") 0 0 no-repeat;"),0!=e.view.showIcon&&tools.apply(e.view.showIcon,[e.treeId,t],!0)||n.push("width:0px;height:0px;")}return n.join("")},makeNodeLineClass:function(e,t){var n=[];return n.push(e.view.showLine?0==t.level&&t.isFirstNode&&t.isLastNode?consts.line.ROOT:0==t.level&&t.isFirstNode?consts.line.ROOTS:t.isLastNode?consts.line.BOTTOM:consts.line.CENTER:consts.line.NOLINE),n.push(t.isParent?t.open?consts.folder.OPEN:consts.folder.CLOSE:consts.folder.DOCU),view.makeNodeLineClassEx(t)+n.join("_")},makeNodeLineClassEx:function(e){return consts.className.BUTTON+" "+consts.className.LEVEL+e.level+" "+consts.className.SWITCH+" "},makeNodeTarget:function(e){return e.target||"_blank"},makeNodeUrl:function(e,t){var n=e.data.key.url;return t[n]?t[n]:null},makeUlHtml:function(e,t,n,o){n.push("<ul id='",t.tId,consts.id.UL,"' class='",consts.className.LEVEL,t.level," ",view.makeUlLineClass(e,t),"' style='display:",t.open?"block":"none","'>"),n.push(o),n.push("</ul>")},makeUlLineClass:function(e,t){return e.view.showLine&&!t.isLastNode?consts.line.LINE:""},removeChildNodes:function(e,t){if(t){var n=e.data.key.children,o=t[n];if(o){for(var a=0,r=o.length;r>a;a++)data.removeNodeCache(e,o[a]);if(data.removeSelectedNode(e),delete t[n],e.data.keep.parent)$$(t,consts.id.UL,e).empty();else{t.isParent=!1,t.open=!1;var i=$$(t,consts.id.SWITCH,e),d=$$(t,consts.id.ICON,e);view.replaceSwitchClass(t,i,consts.folder.DOCU),view.replaceIcoClass(t,d,consts.folder.DOCU),$$(t,consts.id.UL,e).remove()}}}},setFirstNode:function(e,t){var n=e.data.key.children,o=t[n].length;o>0&&(t[n][0].isFirstNode=!0)},setLastNode:function(e,t){var n=e.data.key.children,o=t[n].length;o>0&&(t[n][o-1].isLastNode=!0)},removeNode:function(e,t){var n=data.getRoot(e),o=e.data.key.children,a=t.parentTId?t.getParentNode():n;if(t.isFirstNode=!1,t.isLastNode=!1,t.getPreNode=function(){return null},t.getNextNode=function(){return null},data.getNodeCache(e,t.tId)){$$(t,e).remove(),data.removeNodeCache(e,t),data.removeSelectedNode(e,t);for(var r=0,i=a[o].length;i>r;r++)if(a[o][r].tId==t.tId){a[o].splice(r,1);break}view.setFirstNode(e,a),view.setLastNode(e,a);var d,s,l,c=a[o].length;if(e.data.keep.parent||0!=c){if(e.view.showLine&&c>0){var u=a[o][c-1];if(d=$$(u,consts.id.UL,e),s=$$(u,consts.id.SWITCH,e),l=$$(u,consts.id.ICON,e),a==n)if(1==a[o].length)view.replaceSwitchClass(u,s,consts.line.ROOT);else{var h=$$(a[o][0],consts.id.SWITCH,e);view.replaceSwitchClass(a[o][0],h,consts.line.ROOTS),view.replaceSwitchClass(u,s,consts.line.BOTTOM)}else view.replaceSwitchClass(u,s,consts.line.BOTTOM);d.removeClass(consts.line.LINE)}}else a.isParent=!1,a.open=!1,d=$$(a,consts.id.UL,e),s=$$(a,consts.id.SWITCH,e),l=$$(a,consts.id.ICON,e),view.replaceSwitchClass(a,s,consts.folder.DOCU),view.replaceIcoClass(a,l,consts.folder.DOCU),d.css("display","none")}},replaceIcoClass:function(e,t,n){if(t&&!e.isAjaxing){var o=t.attr("class");if(void 0!=o){var a=o.split("_");switch(n){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:a[a.length-1]=n}t.attr("class",a.join("_"))}}},replaceSwitchClass:function(e,t,n){if(t){var o=t.attr("class");if(void 0!=o){var a=o.split("_");switch(n){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:a[0]=view.makeNodeLineClassEx(e)+n;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:a[1]=n}t.attr("class",a.join("_")),n!==consts.folder.DOCU?t.removeAttr("disabled"):t.attr("disabled","disabled")}}},selectNode:function(e,t,n){n||view.cancelPreSelectedNode(e,null,t),$$(t,consts.id.A,e).addClass(consts.node.CURSELECTED),data.addSelectedNode(e,t),e.treeObj.trigger(consts.event.SELECTED,[e.treeId,t])},setNodeFontCss:function(e,t){var n=$$(t,consts.id.A,e),o=view.makeNodeFontCss(e,t);o&&n.css(o)},setNodeLineIcos:function(e,t){if(t){var n=$$(t,consts.id.SWITCH,e),o=$$(t,consts.id.UL,e),a=$$(t,consts.id.ICON,e),r=view.makeUlLineClass(e,t);0==r.length?o.removeClass(consts.line.LINE):o.addClass(r),n.attr("class",view.makeNodeLineClass(e,t)),t.isParent?n.removeAttr("disabled"):n.attr("disabled","disabled"),a.removeAttr("style"),a.attr("style",view.makeNodeIcoStyle(e,t)),a.attr("class",view.makeNodeIcoClass(e,t))}},setNodeName:function(e,t){var n=data.getNodeTitle(e,t),o=$$(t,consts.id.SPAN,e);if(o.empty(),e.view.nameIsHTML?o.html(data.getNodeName(e,t)):o.text(data.getNodeName(e,t)),tools.apply(e.view.showTitle,[e.treeId,t],e.view.showTitle)){var a=$$(t,consts.id.A,e);a.attr("title",n?n:"")}},setNodeTarget:function(e,t){var n=$$(t,consts.id.A,e);n.attr("target",view.makeNodeTarget(t))},setNodeUrl:function(e,t){var n=$$(t,consts.id.A,e),o=view.makeNodeUrl(e,t);null==o||0==o.length?n.removeAttr("href"):n.attr("href",o)},switchNode:function(e,t){if(t.open||!tools.canAsync(e,t))view.expandCollapseNode(e,t,!t.open);else if(e.async.enable){if(!view.asyncNode(e,t))return void view.expandCollapseNode(e,t,!t.open)}else t&&view.expandCollapseNode(e,t,!t.open)}};$.fn.zTree={consts:_consts,_z:{tools:tools,view:view,event:event,data:data},getZTreeObj:function(e){var t=data.getZTreeTools(e);return t?t:null},destroy:function(e){if(e&&e.length>0)view.destroy(data.getSetting(e));else for(var t in settings)view.destroy(settings[t])},init:function(e,t,n){var o=tools.clone(_setting);$.extend(!0,o,t),o.treeId=e.attr("id"),o.treeObj=e,o.treeObj.empty(),settings[o.treeId]=o,"undefined"==typeof document.body.style.maxHeight&&(o.view.expandSpeed=""),data.initRoot(o);var a=data.getRoot(o),r=o.data.key.children;n=n?tools.clone(tools.isArray(n)?n:[n]):[],a[r]=o.data.simpleData.enable?data.transformTozTreeFormat(o,n):n,data.initCache(o),event.unbindTree(o),event.bindTree(o),event.unbindEvent(o),event.bindEvent(o);var i={setting:o,addNodes:function(e,t,n){function a(){view.addNodes(o,e,r,1==n)}if(!t)return null;if(e||(e=null),e&&!e.isParent&&o.data.keep.leaf)return null;var r=tools.clone(tools.isArray(t)?t:[t]);return tools.canAsync(o,e)?view.asyncNode(o,e,n,a):a(),r},cancelSelectedNode:function(e){view.cancelPreSelectedNode(o,e)},destroy:function(){view.destroy(o)},expandAll:function(e){return e=!!e,view.expandCollapseSonNode(o,null,e,!0),e},expandNode:function(e,t,n,a,r){if(!e||!e.isParent)return null;if(t!==!0&&t!==!1&&(t=!e.open),r=!!r,r&&t&&0==tools.apply(o.callback.beforeExpand,[o.treeId,e],!0))return null;if(r&&!t&&0==tools.apply(o.callback.beforeCollapse,[o.treeId,e],!0))return null;if(t&&e.parentTId&&view.expandCollapseParentNode(o,e.getParentNode(),t,!1),t===e.open&&!n)return null;if(data.getRoot(o).expandTriggerFlag=r,!tools.canAsync(o,e)&&n)view.expandCollapseSonNode(o,e,t,!0,function(){if(a!==!1)try{$$(e,o).focus().blur()}catch(t){}});else if(e.open=!t,view.switchNode(this.setting,e),a!==!1)try{$$(e,o).focus().blur()}catch(i){}return t},getNodes:function(){return data.getNodes(o)},getNodeByParam:function(e,t,n){return e?data.getNodeByParam(o,n?n[o.data.key.children]:data.getNodes(o),e,t):null},getNodeByTId:function(e){return data.getNodeCache(o,e)},getNodesByParam:function(e,t,n){return e?data.getNodesByParam(o,n?n[o.data.key.children]:data.getNodes(o),e,t):null},getNodesByParamFuzzy:function(e,t,n){return e?data.getNodesByParamFuzzy(o,n?n[o.data.key.children]:data.getNodes(o),e,t):null},getNodesByFilter:function(e,t,n,a){return t=!!t,e&&"function"==typeof e?data.getNodesByFilter(o,n?n[o.data.key.children]:data.getNodes(o),e,t,a):t?null:[]},getNodeIndex:function(e){if(!e)return null;for(var t=o.data.key.children,n=e.parentTId?e.getParentNode():data.getRoot(o),a=0,r=n[t].length;r>a;a++)if(n[t][a]==e)return a;return-1},getSelectedNodes:function(){for(var e=[],t=data.getRoot(o).curSelectedList,n=0,a=t.length;a>n;n++)e.push(t[n]);return e},isSelectedNode:function(e){return data.isSelectedNode(o,e)},reAsyncChildNodes:function(e,t,n,a){if(this.setting.async.enable){var r=!e;if(r&&(e=data.getRoot(o)),"refresh"==t){for(var i=this.setting.data.key.children,d=0,s=e[i]?e[i].length:0;s>d;d++)data.removeNodeCache(o,e[i][d]);if(data.removeSelectedNode(o),e[i]=[],r)this.setting.treeObj.empty();else{var l=$$(e,consts.id.UL,o);l.empty()}}view.asyncNode(this.setting,r?null:e,!!n,a)}},refresh:function(){this.setting.treeObj.empty();var e=data.getRoot(o),t=e[o.data.key.children];data.initRoot(o),e[o.data.key.children]=t,data.initCache(o),view.createNodes(o,0,e[o.data.key.children])},removeChildNodes:function(e){if(!e)return null;var t=o.data.key.children,n=e[t];return view.removeChildNodes(o,e),n?n:null},removeNode:function(e,t){e&&(t=!!t,t&&0==tools.apply(o.callback.beforeRemove,[o.treeId,e],!0)||(view.removeNode(o,e),t&&this.setting.treeObj.trigger(consts.event.REMOVE,[o.treeId,e])))},selectNode:function(e,t){if(e&&tools.uCanDo(o)){if(t=o.view.selectedMulti&&t,e.parentTId)view.expandCollapseParentNode(o,e.getParentNode(),!0,!1,function(){try{$$(e,o).focus().blur()}catch(t){}});else try{$$(e,o).focus().blur()}catch(n){}view.selectNode(o,e,t)}},transformTozTreeNodes:function(e){return data.transformTozTreeFormat(o,e)},transformToArray:function(e){return data.transformToArrayFormat(o,e)
},updateNode:function(e){if(e){var t=$$(e,o);t.get(0)&&tools.uCanDo(o)&&(view.setNodeName(o,e),view.setNodeTarget(o,e),view.setNodeUrl(o,e),view.setNodeLineIcos(o,e),view.setNodeFontCss(o,e))}}};return a.treeTools=i,data.setZTreeTools(o,i),a[r]&&a[r].length>0?view.createNodes(o,0,a[r]):o.async.enable&&o.async.url&&""!==o.async.url&&view.asyncNode(o),i}};var zt=$.fn.zTree,$$=tools.$,consts=zt.consts}(jQuery),function(e){var t={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},n={check:{enable:!1,autoCheckTrigger:!1,chkStyle:t.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:t.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},o=function(e){var t=y.getRoot(e);t.radioCheckedList=[]},a=function(){},r=function(e){var t=e.treeObj,n=m.event;t.bind(n.CHECK,function(t,n,o,a){t.srcEvent=n,k.apply(e.callback.onCheck,[t,o,a])})},i=function(e){var t=e.treeObj,n=m.event;t.unbind(n.CHECK)},d=function(e){var t=e.target,n=y.getSetting(e.data.treeId),o="",a=null,r="",i="",d=null,s=null;if(k.eqs(e.type,"mouseover")?n.check.enable&&k.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+m.id.CHECK)&&(o=k.getNodeMainDom(t).id,r="mouseoverCheck"):k.eqs(e.type,"mouseout")?n.check.enable&&k.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+m.id.CHECK)&&(o=k.getNodeMainDom(t).id,r="mouseoutCheck"):k.eqs(e.type,"click")&&n.check.enable&&k.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+m.id.CHECK)&&(o=k.getNodeMainDom(t).id,r="checkNode"),o.length>0)switch(a=y.getNodeCache(n,o),r){case"checkNode":d=g.onCheckNode;break;case"mouseoverCheck":d=g.onMouseoverCheck;break;case"mouseoutCheck":d=g.onMouseoutCheck}var l={stop:"checkNode"===r,node:a,nodeEventType:r,nodeEventCallback:d,treeEventType:i,treeEventCallback:s};return l},s=function(e,t,n,o){if(n){var a=e.data.key.checked;if("string"==typeof n[a]&&(n[a]=k.eqs(n[a],"true")),n[a]=!!n[a],n.checkedOld=n[a],"string"==typeof n.nocheck&&(n.nocheck=k.eqs(n.nocheck,"true")),n.nocheck=!!n.nocheck||e.check.nocheckInherit&&o&&!!o.nocheck,"string"==typeof n.chkDisabled&&(n.chkDisabled=k.eqs(n.chkDisabled,"true")),n.chkDisabled=!!n.chkDisabled||e.check.chkDisabledInherit&&o&&!!o.chkDisabled,"string"==typeof n.halfCheck&&(n.halfCheck=k.eqs(n.halfCheck,"true")),n.halfCheck=!!n.halfCheck,n.check_Child_State=-1,n.check_Focus=!1,n.getCheckStatus=function(){return y.getCheckStatus(e,n)},e.check.chkStyle==m.radio.STYLE&&e.check.radioType==m.radio.TYPE_ALL&&n[a]){var r=y.getRoot(e);r.radioCheckedList.push(n)}}},l=function(e,t,n){e.data.key.checked;e.check.enable&&(y.makeChkFlag(e,t),n.push("<span ID='",t.tId,m.id.CHECK,"' class='",C.makeChkClass(e,t),"' treeNode",m.id.CHECK,t.nocheck===!0?" style='display:none;'":"","></span>"))},c=function(e,t){t.checkNode=function(e,t,n,o){var a=this.setting.data.key.checked;if(e.chkDisabled!==!0&&(t!==!0&&t!==!1&&(t=!e[a]),o=!!o,(e[a]!==t||n)&&(!o||0!=k.apply(this.setting.callback.beforeCheck,[this.setting.treeId,e],!0))&&k.uCanDo(this.setting)&&this.setting.check.enable&&e.nocheck!==!0)){e[a]=t;var r=T(e,m.id.CHECK,this.setting);(n||this.setting.check.chkStyle===m.radio.STYLE)&&C.checkNodeRelation(this.setting,e),C.setChkClass(this.setting,r,e),C.repairParentChkClassWithSelf(this.setting,e),o&&this.setting.treeObj.trigger(m.event.CHECK,[null,this.setting.treeId,e])}},t.checkAllNodes=function(e){C.repairAllChk(this.setting,!!e)},t.getCheckedNodes=function(e){var t=this.setting.data.key.children;return e=e!==!1,y.getTreeCheckedNodes(this.setting,y.getRoot(this.setting)[t],e)},t.getChangeCheckedNodes=function(){var e=this.setting.data.key.children;return y.getTreeChangeCheckedNodes(this.setting,y.getRoot(this.setting)[e])},t.setChkDisabled=function(e,t,n,o){t=!!t,n=!!n,o=!!o,C.repairSonChkDisabled(this.setting,e,t,o),C.repairParentChkDisabled(this.setting,e.getParentNode(),t,n)};var n=t.updateNode;t.updateNode=function(e,o){if(n&&n.apply(t,arguments),e&&this.setting.check.enable){var a=T(e,this.setting);if(a.get(0)&&k.uCanDo(this.setting)){var r=T(e,m.id.CHECK,this.setting);(1==o||this.setting.check.chkStyle===m.radio.STYLE)&&C.checkNodeRelation(this.setting,e),C.setChkClass(this.setting,r,e),C.repairParentChkClassWithSelf(this.setting,e)}}}},u={getRadioCheckedList:function(e){for(var t=y.getRoot(e).radioCheckedList,n=0,o=t.length;o>n;n++)y.getNodeCache(e,t[n].tId)||(t.splice(n,1),n--,o--);return t},getCheckStatus:function(e,t){if(!e.check.enable||t.nocheck||t.chkDisabled)return null;var n=e.data.key.checked,o={checked:t[n],half:t.halfCheck?t.halfCheck:e.check.chkStyle==m.radio.STYLE?2===t.check_Child_State:t[n]?t.check_Child_State>-1&&t.check_Child_State<2:t.check_Child_State>0};return o},getTreeCheckedNodes:function(e,t,n,o){if(!t)return[];var a=e.data.key.children,r=e.data.key.checked,i=n&&e.check.chkStyle==m.radio.STYLE&&e.check.radioType==m.radio.TYPE_ALL;o=o?o:[];for(var d=0,s=t.length;s>d&&(t[d].nocheck===!0||t[d].chkDisabled===!0||t[d][r]!=n||(o.push(t[d]),!i))&&(y.getTreeCheckedNodes(e,t[d][a],n,o),!(i&&o.length>0));d++);return o},getTreeChangeCheckedNodes:function(e,t,n){if(!t)return[];var o=e.data.key.children,a=e.data.key.checked;n=n?n:[];for(var r=0,i=t.length;i>r;r++)t[r].nocheck!==!0&&t[r].chkDisabled!==!0&&t[r][a]!=t[r].checkedOld&&n.push(t[r]),y.getTreeChangeCheckedNodes(e,t[r][o],n);return n},makeChkFlag:function(e,t){if(t){var n=e.data.key.children,o=e.data.key.checked,a=-1;if(t[n])for(var r=0,i=t[n].length;i>r;r++){var d=t[n][r],s=-1;if(e.check.chkStyle==m.radio.STYLE){if(s=d.nocheck===!0||d.chkDisabled===!0?d.check_Child_State:d.halfCheck===!0?2:d[o]?2:d.check_Child_State>0?2:0,2==s){a=2;break}0==s&&(a=0)}else if(e.check.chkStyle==m.checkbox.STYLE){if(s=d.nocheck===!0||d.chkDisabled===!0?d.check_Child_State:d.halfCheck===!0?1:d[o]?-1===d.check_Child_State||2===d.check_Child_State?2:1:d.check_Child_State>0?1:0,1===s){a=1;break}if(2===s&&a>-1&&r>0&&s!==a){a=1;break}if(2===a&&s>-1&&2>s){a=1;break}s>-1&&(a=s)}}t.check_Child_State=a}}},h={},g={onCheckNode:function(e,t){if(t.chkDisabled===!0)return!1;var n=y.getSetting(e.data.treeId),o=n.data.key.checked;if(0==k.apply(n.callback.beforeCheck,[n.treeId,t],!0))return!0;t[o]=!t[o],C.checkNodeRelation(n,t);var a=T(t,m.id.CHECK,n);return C.setChkClass(n,a,t),C.repairParentChkClassWithSelf(n,t),n.treeObj.trigger(m.event.CHECK,[e,n.treeId,t]),!0},onMouseoverCheck:function(e,t){if(t.chkDisabled===!0)return!1;var n=y.getSetting(e.data.treeId),o=T(t,m.id.CHECK,n);return t.check_Focus=!0,C.setChkClass(n,o,t),!0},onMouseoutCheck:function(e,t){if(t.chkDisabled===!0)return!1;var n=y.getSetting(e.data.treeId),o=T(t,m.id.CHECK,n);return t.check_Focus=!1,C.setChkClass(n,o,t),!0}},p={},f={checkNodeRelation:function(e,t){var n,o,a,r=e.data.key.children,i=e.data.key.checked,d=m.radio;if(e.check.chkStyle==d.STYLE){var s=y.getRadioCheckedList(e);if(t[i])if(e.check.radioType==d.TYPE_ALL){for(o=s.length-1;o>=0;o--)n=s[o],n[i]&&n!=t&&(n[i]=!1,s.splice(o,1),C.setChkClass(e,T(n,m.id.CHECK,e),n),n.parentTId!=t.parentTId&&C.repairParentChkClassWithSelf(e,n));s.push(t)}else{var l=t.parentTId?t.getParentNode():y.getRoot(e);for(o=0,a=l[r].length;a>o;o++)n=l[r][o],n[i]&&n!=t&&(n[i]=!1,C.setChkClass(e,T(n,m.id.CHECK,e),n))}else if(e.check.radioType==d.TYPE_ALL)for(o=0,a=s.length;a>o;o++)if(t==s[o]){s.splice(o,1);break}}else t[i]&&(!t[r]||0==t[r].length||e.check.chkboxType.Y.indexOf("s")>-1)&&C.setSonNodeCheckBox(e,t,!0),t[i]||t[r]&&0!=t[r].length&&!(e.check.chkboxType.N.indexOf("s")>-1)||C.setSonNodeCheckBox(e,t,!1),t[i]&&e.check.chkboxType.Y.indexOf("p")>-1&&C.setParentNodeCheckBox(e,t,!0),!t[i]&&e.check.chkboxType.N.indexOf("p")>-1&&C.setParentNodeCheckBox(e,t,!1)},makeChkClass:function(e,t){var n=e.data.key.checked,o=m.checkbox,a=m.radio,r="";r=t.chkDisabled===!0?o.DISABLED:t.halfCheck?o.PART:e.check.chkStyle==a.STYLE?t.check_Child_State<1?o.FULL:o.PART:t[n]?2===t.check_Child_State||-1===t.check_Child_State?o.FULL:o.PART:t.check_Child_State<1?o.FULL:o.PART;var i=e.check.chkStyle+"_"+(t[n]?o.TRUE:o.FALSE)+"_"+r;return i=t.check_Focus&&t.chkDisabled!==!0?i+"_"+o.FOCUS:i,m.className.BUTTON+" "+o.DEFAULT+" "+i},repairAllChk:function(e,t){if(e.check.enable&&e.check.chkStyle===m.checkbox.STYLE)for(var n=e.data.key.checked,o=e.data.key.children,a=y.getRoot(e),r=0,i=a[o].length;i>r;r++){var d=a[o][r];d.nocheck!==!0&&d.chkDisabled!==!0&&(d[n]=t),C.setSonNodeCheckBox(e,d,t)}},repairChkClass:function(e,t){if(t&&(y.makeChkFlag(e,t),t.nocheck!==!0)){var n=T(t,m.id.CHECK,e);C.setChkClass(e,n,t)}},repairParentChkClass:function(e,t){if(t&&t.parentTId){var n=t.getParentNode();C.repairChkClass(e,n),C.repairParentChkClass(e,n)}},repairParentChkClassWithSelf:function(e,t){if(t){var n=e.data.key.children;t[n]&&t[n].length>0?C.repairParentChkClass(e,t[n][0]):C.repairParentChkClass(e,t)}},repairSonChkDisabled:function(e,t,n,o){if(t){var a=e.data.key.children;if(t.chkDisabled!=n&&(t.chkDisabled=n),C.repairChkClass(e,t),t[a]&&o)for(var r=0,i=t[a].length;i>r;r++){var d=t[a][r];C.repairSonChkDisabled(e,d,n,o)}}},repairParentChkDisabled:function(e,t,n,o){t&&(t.chkDisabled!=n&&o&&(t.chkDisabled=n),C.repairChkClass(e,t),C.repairParentChkDisabled(e,t.getParentNode(),n,o))},setChkClass:function(e,t,n){t&&(n.nocheck===!0?t.hide():t.show(),t.attr("class",C.makeChkClass(e,n)))},setParentNodeCheckBox:function(e,t,n,o){var a=e.data.key.children,r=e.data.key.checked,i=T(t,m.id.CHECK,e);if(o||(o=t),y.makeChkFlag(e,t),t.nocheck!==!0&&t.chkDisabled!==!0&&(t[r]=n,C.setChkClass(e,i,t),e.check.autoCheckTrigger&&t!=o&&e.treeObj.trigger(m.event.CHECK,[null,e.treeId,t])),t.parentTId){var d=!0;if(!n)for(var s=t.getParentNode()[a],l=0,c=s.length;c>l;l++)if(s[l].nocheck!==!0&&s[l].chkDisabled!==!0&&s[l][r]||(s[l].nocheck===!0||s[l].chkDisabled===!0)&&s[l].check_Child_State>0){d=!1;break}d&&C.setParentNodeCheckBox(e,t.getParentNode(),n,o)}},setSonNodeCheckBox:function(e,t,n,o){if(t){var a=e.data.key.children,r=e.data.key.checked,i=T(t,m.id.CHECK,e);o||(o=t);var d=!1;if(t[a])for(var s=0,l=t[a].length;l>s&&t.chkDisabled!==!0;s++){var c=t[a][s];C.setSonNodeCheckBox(e,c,n,o),c.chkDisabled===!0&&(d=!0)}t!=y.getRoot(e)&&t.chkDisabled!==!0&&(d&&t.nocheck!==!0&&y.makeChkFlag(e,t),t.nocheck!==!0&&t.chkDisabled!==!0?(t[r]=n,d||(t.check_Child_State=t[a]&&t[a].length>0?n?2:0:-1)):t.check_Child_State=-1,C.setChkClass(e,i,t),e.check.autoCheckTrigger&&t!=o&&t.nocheck!==!0&&t.chkDisabled!==!0&&e.treeObj.trigger(m.event.CHECK,[null,e.treeId,t]))}}},v={tools:p,view:f,event:h,data:u};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,v);var N=e.fn.zTree,k=N._z.tools,m=N.consts,C=N._z.view,y=N._z.data,T=(N._z.event,k.$);y.exSetting(n),y.addInitBind(r),y.addInitUnBind(i),y.addInitCache(a),y.addInitNode(s),y.addInitProxy(d,!0),y.addInitRoot(o),y.addBeforeA(l),y.addZTreeTools(c);var b=C.createNodes;C.createNodes=function(e,t,n,o){b&&b.apply(C,arguments),n&&C.repairParentChkClassWithSelf(e,o)};var E=C.removeNode;C.removeNode=function(e,t){var n=t.getParentNode();E&&E.apply(C,arguments),t&&n&&(C.repairChkClass(e,n),C.repairParentChkClass(e,n))};var I=C.appendNodes;C.appendNodes=function(e,t,n,o){var a="";return I&&(a=I.apply(C,arguments)),o&&y.makeChkFlag(e,o),a}}(jQuery),function(e){var t={event:{DRAG:"ztree_drag",DROP:"ztree_drop",RENAME:"ztree_rename",DRAGMOVE:"ztree_dragmove"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},n={edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}},o=function(e){var t=C.getRoot(e),n=C.getRoots();t.curEditNode=null,t.curEditInput=null,t.curHoverNode=null,t.dragFlag=0,t.dragNodeShowBefore=[],t.dragMaskList=new Array,n.showHoverDom=!0},a=function(){},r=function(e){var t=e.treeObj,n=k.event;t.bind(n.RENAME,function(t,n,o,a){N.apply(e.callback.onRename,[t,n,o,a])}),t.bind(n.DRAG,function(t,n,o,a){N.apply(e.callback.onDrag,[n,o,a])}),t.bind(n.DRAGMOVE,function(t,n,o,a){N.apply(e.callback.onDragMove,[n,o,a])}),t.bind(n.DROP,function(t,n,o,a,r,i,d){N.apply(e.callback.onDrop,[n,o,a,r,i,d])})},i=function(e){var t=e.treeObj,n=k.event;t.unbind(n.RENAME),t.unbind(n.DRAG),t.unbind(n.DRAGMOVE),t.unbind(n.DROP)},d=function(e){var t=e.target,n=C.getSetting(e.data.treeId),o=e.relatedTarget,a="",r=null,i="",d="",s=null,l=null,c=null;if(N.eqs(e.type,"mouseover")?(c=N.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+k.id.A}]),c&&(a=N.getNodeMainDom(c).id,i="hoverOverNode")):N.eqs(e.type,"mouseout")?(c=N.getMDom(n,o,[{tagName:"a",attrName:"treeNode"+k.id.A}]),c||(a="remove",i="hoverOutNode")):N.eqs(e.type,"mousedown")&&(c=N.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+k.id.A}]),c&&(a=N.getNodeMainDom(c).id,i="mousedownNode")),a.length>0)switch(r=C.getNodeCache(n,a),i){case"mousedownNode":s=h.onMousedownNode;break;case"hoverOverNode":s=h.onHoverOverNode;break;case"hoverOutNode":s=h.onHoverOutNode}var u={stop:!1,node:r,nodeEventType:i,nodeEventCallback:s,treeEventType:d,treeEventCallback:l};return u},s=function(e,t,n){n&&(n.isHover=!1,n.editNameFlag=!1)},l=function(e,t){t.cancelEditName=function(e){var t=C.getRoot(this.setting);t.curEditNode&&m.cancelCurEditNode(this.setting,e?e:null,!0)},t.copyNode=function(e,t,n,o){function a(){m.addNodes(r.setting,e,[i],o)}if(!t)return null;if(e&&!e.isParent&&this.setting.data.keep.leaf&&n===k.move.TYPE_INNER)return null;var r=this,i=N.clone(t);return e||(e=null,n=k.move.TYPE_INNER),n==k.move.TYPE_INNER?N.canAsync(this.setting,e)?m.asyncNode(this.setting,e,o,a):a():(m.addNodes(this.setting,e.parentNode,[i],o),m.moveNode(this.setting,e,i,n,!1,o)),i},t.editName=function(e){e&&e.tId&&e===C.getNodeCache(this.setting,e.tId)&&(e.parentTId&&m.expandCollapseParentNode(this.setting,e.getParentNode(),!0),m.editNode(this.setting,e))},t.moveNode=function(e,t,n,o){function a(){m.moveNode(r.setting,e,t,n,!1,o)}if(!t)return t;if(e&&!e.isParent&&this.setting.data.keep.leaf&&n===k.move.TYPE_INNER)return null;if(e&&(t.parentTId==e.tId&&n==k.move.TYPE_INNER||y(t,this.setting).find("#"+e.tId).length>0))return null;e||(e=null);var r=this;return N.canAsync(this.setting,e)&&n===k.move.TYPE_INNER?m.asyncNode(this.setting,e,o,a):a(),t},t.setEditable=function(e){return this.setting.edit.enable=e,this.refresh()}},c={setSonNodeLevel:function(e,t,n){if(n){var o=e.data.key.children;if(n.level=t?t.level+1:0,n[o])for(var a=0,r=n[o].length;r>a;a++)n[o][a]&&C.setSonNodeLevel(e,n,n[o][a])}}},u={},h={onHoverOverNode:function(e,t){var n=C.getSetting(e.data.treeId),o=C.getRoot(n);o.curHoverNode!=t&&h.onHoverOutNode(e),o.curHoverNode=t,m.addHoverDom(n,t)},onHoverOutNode:function(e){var t=C.getSetting(e.data.treeId),n=C.getRoot(t);n.curHoverNode&&!C.isSelectedNode(t,n.curHoverNode)&&(m.removeTreeDom(t,n.curHoverNode),n.curHoverNode=null)},onMousedownNode:function(n,o){function a(n){if(0==c.dragFlag&&Math.abs(A-n.clientX)<l.edit.drag.minMoveSize&&Math.abs(x-n.clientY)<l.edit.drag.minMoveSize)return!0;var o,a,i,d,s,h=l.data.key.children;if(w.css("cursor","pointer"),0==c.dragFlag){if(0==N.apply(l.callback.beforeDrag,[l.treeId,p],!0))return r(n),!0;for(o=0,a=p.length;a>o;o++)0==o&&(c.dragNodeShowBefore=[]),i=p[o],i.isParent&&i.open?(m.expandCollapseNode(l,i,!i.open),c.dragNodeShowBefore[i.tId]=!0):c.dragNodeShowBefore[i.tId]=!1;c.dragFlag=1,u.showHoverDom=!1,N.showIfameMask(l,!0);var g=!0,_=-1;if(p.length>1){var j=p[0].parentTId?p[0].getParentNode()[h]:C.getNodes(l);for(s=[],o=0,a=j.length;a>o;o++)if(void 0!==c.dragNodeShowBefore[j[o].tId]&&(g&&_>-1&&_+1!==o&&(g=!1),s.push(j[o]),_=o),p.length===s.length){p=s;break}}for(g&&(b=p[0].getPreNode(),E=p[p.length-1].getNextNode()),f=y("<ul class='zTreeDragUL'></ul>",l),o=0,a=p.length;a>o;o++)i=p[o],i.editNameFlag=!1,m.selectNode(l,i,o>0),m.removeTreeDom(l,i),o>l.edit.drag.maxShowNodeNum-1||(d=y("<li id='"+i.tId+"_tmp'></li>",l),d.append(y(i,k.id.A,l).clone()),d.css("padding","0"),d.children("#"+i.tId+k.id.A).removeClass(k.node.CURSELECTED),f.append(d),o==l.edit.drag.maxShowNodeNum-1&&(d=y("<li id='"+i.tId+"_moretmp'><a>  ...  </a></li>",l),f.append(d)));f.attr("id",p[0].tId+k.id.UL+"_tmp"),f.addClass(l.treeObj.attr("class")),f.appendTo(w),v=y("<span class='tmpzTreeMove_arrow'></span>",l),v.attr("id","zTreeMove_arrow_tmp"),v.appendTo(w),l.treeObj.trigger(k.event.DRAG,[n,l.treeId,p])}if(1==c.dragFlag){if(T&&v.attr("id")==n.target.id&&R&&n.clientX+I.scrollLeft()+2>e("#"+R+k.id.A,T).offset().left){var $=e("#"+R+k.id.A,T);n.target=$.length>0?$.get(0):n.target}else T&&(T.removeClass(k.node.TMPTARGET_TREE),R&&e("#"+R+k.id.A,T).removeClass(k.node.TMPTARGET_NODE+"_"+k.move.TYPE_PREV).removeClass(k.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(k.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER));T=null,R=null,S=!1,P=l;var z=C.getSettings();for(var U in z)z[U].treeId&&z[U].edit.enable&&z[U].treeId!=l.treeId&&(n.target.id==z[U].treeId||e(n.target).parents("#"+z[U].treeId).length>0)&&(S=!0,P=z[U]);var B=I.scrollTop(),F=I.scrollLeft(),Y=P.treeObj.offset(),H=P.treeObj.get(0).scrollHeight,K=P.treeObj.get(0).scrollWidth,V=n.clientY+B-Y.top,q=P.treeObj.height()+Y.top-n.clientY-B,W=n.clientX+F-Y.left,G=P.treeObj.width()+Y.left-n.clientX-F,X=V<l.edit.drag.borderMax&&V>l.edit.drag.borderMin,Z=q<l.edit.drag.borderMax&&q>l.edit.drag.borderMin,Q=W<l.edit.drag.borderMax&&W>l.edit.drag.borderMin,J=G<l.edit.drag.borderMax&&G>l.edit.drag.borderMin,et=V>l.edit.drag.borderMin&&q>l.edit.drag.borderMin&&W>l.edit.drag.borderMin&&G>l.edit.drag.borderMin,tt=X&&P.treeObj.scrollTop()<=0,nt=Z&&P.treeObj.scrollTop()+P.treeObj.height()+10>=H,ot=Q&&P.treeObj.scrollLeft()<=0,at=J&&P.treeObj.scrollLeft()+P.treeObj.width()+10>=K;if(n.target&&N.isChildOrSelf(n.target,P.treeId)){for(var rt=n.target;rt&&rt.tagName&&!N.eqs(rt.tagName,"li")&&rt.id!=P.treeId;)rt=rt.parentNode;var it=!0;for(o=0,a=p.length;a>o;o++){if(i=p[o],rt.id===i.tId){it=!1;break}if(y(i,l).find("#"+rt.id).length>0){it=!1;break}}it&&n.target&&N.isChildOrSelf(n.target,rt.id+k.id.A)&&(T=e(rt),R=rt.id)}i=p[0],et&&N.isChildOrSelf(n.target,P.treeId)&&(!T&&(n.target.id==P.treeId||tt||nt||ot||at)&&(S||!S&&i.parentTId)&&(T=P.treeObj),X?P.treeObj.scrollTop(P.treeObj.scrollTop()-10):Z&&P.treeObj.scrollTop(P.treeObj.scrollTop()+10),Q?P.treeObj.scrollLeft(P.treeObj.scrollLeft()-10):J&&P.treeObj.scrollLeft(P.treeObj.scrollLeft()+10),T&&T!=P.treeObj&&T.offset().left<P.treeObj.offset().left&&P.treeObj.scrollLeft(P.treeObj.scrollLeft()+T.offset().left-P.treeObj.offset().left)),f.css({top:n.clientY+B+3+"px",left:n.clientX+F+3+"px"});var dt=0,st=0;if(T&&T.attr("id")!=P.treeId){var lt=null==R?null:C.getNodeCache(P,R),ct=(n.ctrlKey||n.metaKey)&&l.edit.drag.isMove&&l.edit.drag.isCopy||!l.edit.drag.isMove&&l.edit.drag.isCopy,ut=!(!b||R!==b.tId),ht=!(!E||R!==E.tId),gt=i.parentTId&&i.parentTId==R,pt=(ct||!ht)&&N.apply(P.edit.drag.prev,[P.treeId,p,lt],!!P.edit.drag.prev),ft=(ct||!ut)&&N.apply(P.edit.drag.next,[P.treeId,p,lt],!!P.edit.drag.next),vt=!(!ct&&gt||P.data.keep.leaf&&!lt.isParent||!N.apply(P.edit.drag.inner,[P.treeId,p,lt],!!P.edit.drag.inner));if(pt||ft||vt){var Nt=e("#"+R+k.id.A,T),kt=lt.isLastNode?null:e("#"+lt.getNextNode().tId+k.id.A,T.next()),mt=Nt.offset().top,Ct=Nt.offset().left,yt=pt?vt?.25:ft?.5:1:-1,Tt=ft?vt?.75:pt?.5:0:-1,bt=(n.clientY+B-mt)/Nt.height();if((1==yt||yt>=bt&&bt>=-.2)&&pt?(dt=1-v.width(),st=mt-v.height()/2,L=k.move.TYPE_PREV):(0==Tt||bt>=Tt&&1.2>=bt)&&ft?(dt=1-v.width(),st=null==kt||lt.isParent&&lt.open?mt+Nt.height()-v.height()/2:kt.offset().top-v.height()/2,L=k.move.TYPE_NEXT):(dt=5-v.width(),st=mt,L=k.move.TYPE_INNER),v.css({display:"block",top:st+"px",left:Ct+dt+"px"}),Nt.addClass(k.node.TMPTARGET_NODE+"_"+L),(D!=R||O!=L)&&(M=(new Date).getTime()),lt&&lt.isParent&&L==k.move.TYPE_INNER){var Et=!0;window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==lt.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===lt.tId&&(Et=!1),Et&&(window.zTreeMoveTimer=setTimeout(function(){L==k.move.TYPE_INNER&&lt&&lt.isParent&&!lt.open&&(new Date).getTime()-M>P.edit.drag.autoOpenTime&&N.apply(P.callback.beforeDragOpen,[P.treeId,lt],!0)&&(m.switchNode(P,lt),P.edit.drag.autoExpandTrigger&&P.treeObj.trigger(k.event.EXPAND,[P.treeId,lt]))},P.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=lt.tId)}}else T=null,R="",L=k.move.TYPE_INNER,v.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null)}else L=k.move.TYPE_INNER,T&&N.apply(P.edit.drag.inner,[P.treeId,p,null],!!P.edit.drag.inner)?T.addClass(k.node.TMPTARGET_TREE):T=null,v.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null);D=R,O=L,l.treeObj.trigger(k.event.DRAGMOVE,[n,l.treeId,p])}return!1}function r(n){function o(){if(S){if(!g)for(var e=0,t=p.length;t>e;e++)m.removeNode(l,p[e]);if(L==k.move.TYPE_INNER)m.addNodes(P,b,E);else if(m.addNodes(P,b.getParentNode(),E),L==k.move.TYPE_PREV)for(e=0,t=E.length;t>e;e++)m.moveNode(P,b,E[e],L,!1);else for(e=-1,t=E.length-1;t>e;t--)m.moveNode(P,b,E[t],L,!1)}else if(g&&L==k.move.TYPE_INNER)m.addNodes(P,b,E);else if(g&&m.addNodes(P,b.getParentNode(),E),L!=k.move.TYPE_NEXT)for(e=0,t=E.length;t>e;e++)m.moveNode(P,b,E[e],L,!1);else for(e=-1,t=E.length-1;t>e;t--)m.moveNode(P,b,E[t],L,!1);m.selectNodes(P,E),y(E[0],l).focus().blur(),l.treeObj.trigger(k.event.DROP,[n,P.treeId,E,b,L,g])}if(window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null),D=null,O=null,I.unbind("mousemove",a),I.unbind("mouseup",r),I.unbind("selectstart",i),w.css("cursor","auto"),T&&(T.removeClass(k.node.TMPTARGET_TREE),R&&e("#"+R+k.id.A,T).removeClass(k.node.TMPTARGET_NODE+"_"+k.move.TYPE_PREV).removeClass(k.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(k.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER)),N.showIfameMask(l,!1),u.showHoverDom=!0,0!=c.dragFlag){c.dragFlag=0;var d,s,h;for(d=0,s=p.length;s>d;d++)h=p[d],h.isParent&&c.dragNodeShowBefore[h.tId]&&!h.open&&(m.expandCollapseNode(l,h,!h.open),delete c.dragNodeShowBefore[h.tId]);f&&f.remove(),v&&v.remove();var g=(n.ctrlKey||n.metaKey)&&l.edit.drag.isMove&&l.edit.drag.isCopy||!l.edit.drag.isMove&&l.edit.drag.isCopy;if(!g&&T&&R&&p[0].parentTId&&R==p[0].parentTId&&L==k.move.TYPE_INNER&&(T=null),T){var b=null==R?null:C.getNodeCache(P,R);if(0==N.apply(l.callback.beforeDrop,[P.treeId,p,b,L,g],!0))return void m.selectNodes(_,p);var E=g?N.clone(p):p;L==k.move.TYPE_INNER&&N.canAsync(P,b)?m.asyncNode(P,b,!1,o):o()}else m.selectNodes(_,p),l.treeObj.trigger(k.event.DROP,[n,l.treeId,p,null,null,null])}}function i(){return!1}var d,s,l=C.getSetting(n.data.treeId),c=C.getRoot(l),u=C.getRoots();if(2==n.button||!l.edit.enable||!l.edit.drag.isCopy&&!l.edit.drag.isMove)return!0;var h=n.target,g=C.getRoot(l).curSelectedList,p=[];if(C.isSelectedNode(l,o))for(d=0,s=g.length;s>d;d++){if(g[d].editNameFlag&&N.eqs(h.tagName,"input")&&null!==h.getAttribute("treeNode"+k.id.INPUT))return!0;if(p.push(g[d]),p[0].parentTId!==g[d].parentTId){p=[o];break}}else p=[o];m.editNodeBlur=!0,m.cancelCurEditNode(l);var f,v,T,b,E,I=e(l.treeObj.get(0).ownerDocument),w=e(l.treeObj.get(0).ownerDocument.body),S=!1,P=l,_=l,D=null,O=null,R=null,L=k.move.TYPE_INNER,A=n.clientX,x=n.clientY,M=(new Date).getTime();return N.uCanDo(l)&&I.bind("mousemove",a),I.bind("mouseup",r),I.bind("selectstart",i),n.preventDefault&&n.preventDefault(),!0}},g={getAbs:function(e){var t=e.getBoundingClientRect(),n=document.body.scrollTop+document.documentElement.scrollTop,o=document.body.scrollLeft+document.documentElement.scrollLeft;return[t.left+o,t.top+n]},inputFocus:function(e){e.get(0)&&(e.focus(),N.setCursorPosition(e.get(0),e.val().length))},inputSelect:function(e){e.get(0)&&(e.focus(),e.select())},setCursorPosition:function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}},showIfameMask:function(e,t){for(var n=C.getRoot(e);n.dragMaskList.length>0;)n.dragMaskList[0].remove(),n.dragMaskList.shift();if(t)for(var o=y("iframe",e),a=0,r=o.length;r>a;a++){var i=o.get(a),d=N.getAbs(i),s=y("<div id='zTreeMask_"+a+"' class='zTreeMask' style='top:"+d[1]+"px; left:"+d[0]+"px; width:"+i.offsetWidth+"px; height:"+i.offsetHeight+"px;'></div>",e);s.appendTo(y("body",e)),n.dragMaskList.push(s)}}},p={addEditBtn:function(e,t){if(!(t.editNameFlag||y(t,k.id.EDIT,e).length>0)&&N.apply(e.edit.showRenameBtn,[e.treeId,t],e.edit.showRenameBtn)){var n=y(t,k.id.A,e),o="<span class='"+k.className.BUTTON+" edit' id='"+t.tId+k.id.EDIT+"' title='"+N.apply(e.edit.renameTitle,[e.treeId,t],e.edit.renameTitle)+"' treeNode"+k.id.EDIT+" style='display:none;'></span>";n.append(o),y(t,k.id.EDIT,e).bind("click",function(){return N.uCanDo(e)&&0!=N.apply(e.callback.beforeEditName,[e.treeId,t],!0)?(m.editNode(e,t),!1):!1}).show()}},addRemoveBtn:function(e,t){if(!(t.editNameFlag||y(t,k.id.REMOVE,e).length>0)&&N.apply(e.edit.showRemoveBtn,[e.treeId,t],e.edit.showRemoveBtn)){var n=y(t,k.id.A,e),o="<span class='"+k.className.BUTTON+" remove' id='"+t.tId+k.id.REMOVE+"' title='"+N.apply(e.edit.removeTitle,[e.treeId,t],e.edit.removeTitle)+"' treeNode"+k.id.REMOVE+" style='display:none;'></span>";n.append(o),y(t,k.id.REMOVE,e).bind("click",function(){return N.uCanDo(e)&&0!=N.apply(e.callback.beforeRemove,[e.treeId,t],!0)?(m.removeNode(e,t),e.treeObj.trigger(k.event.REMOVE,[e.treeId,t]),!1):!1}).bind("mousedown",function(){return!0}).show()}},addHoverDom:function(e,t){C.getRoots().showHoverDom&&(t.isHover=!0,e.edit.enable&&(m.addEditBtn(e,t),m.addRemoveBtn(e,t)),N.apply(e.view.addHoverDom,[e.treeId,t]))},cancelCurEditNode:function(e,t,n){var o=C.getRoot(e),a=e.data.key.name,r=o.curEditNode;if(r){var i=o.curEditInput,d=t?t:n?r[a]:i.val();if(N.apply(e.callback.beforeRename,[e.treeId,r,d,n],!0)===!1)return!1;r[a]=d;var s=y(r,k.id.A,e);s.removeClass(k.node.CURSELECTED_EDIT),i.unbind(),m.setNodeName(e,r),r.editNameFlag=!1,o.curEditNode=null,o.curEditInput=null,m.selectNode(e,r,!1),e.treeObj.trigger(k.event.RENAME,[e.treeId,r,n])}return o.noSelection=!0,!0},editNode:function(e,t){var n=C.getRoot(e);if(m.editNodeBlur=!1,C.isSelectedNode(e,t)&&n.curEditNode==t&&t.editNameFlag)return void setTimeout(function(){N.inputFocus(n.curEditInput)},0);var o=e.data.key.name;t.editNameFlag=!0,m.removeTreeDom(e,t),m.cancelCurEditNode(e),m.selectNode(e,t,!1),y(t,k.id.SPAN,e).html("<input type=text class='rename' id='"+t.tId+k.id.INPUT+"' treeNode"+k.id.INPUT+" >");var a=y(t,k.id.INPUT,e);a.attr("value",t[o]),e.edit.editNameSelectAll?N.inputSelect(a):N.inputFocus(a),a.bind("blur",function(){m.editNodeBlur||m.cancelCurEditNode(e)}).bind("keydown",function(t){"13"==t.keyCode?(m.editNodeBlur=!0,m.cancelCurEditNode(e)):"27"==t.keyCode&&m.cancelCurEditNode(e,null,!0)}).bind("click",function(){return!1}).bind("dblclick",function(){return!1}),y(t,k.id.A,e).addClass(k.node.CURSELECTED_EDIT),n.curEditInput=a,n.noSelection=!1,n.curEditNode=t},moveNode:function(e,t,n,o,a,r){var i=C.getRoot(e),d=e.data.key.children;if(t!=n&&(!e.data.keep.leaf||!t||t.isParent||o!=k.move.TYPE_INNER)){var s=n.parentTId?n.getParentNode():i,l=null===t||t==i;l&&null===t&&(t=i),l&&(o=k.move.TYPE_INNER);var c=t.parentTId?t.getParentNode():i;o!=k.move.TYPE_PREV&&o!=k.move.TYPE_NEXT&&(o=k.move.TYPE_INNER),o==k.move.TYPE_INNER&&(l?n.parentTId=null:(t.isParent||(t.isParent=!0,t.open=!!t.open,m.setNodeLineIcos(e,t)),n.parentTId=t.tId));var u,h;if(l)u=e.treeObj,h=u;else{if(r||o!=k.move.TYPE_INNER?r||m.expandCollapseNode(e,t.getParentNode(),!0,!1):m.expandCollapseNode(e,t,!0,!1),u=y(t,e),h=y(t,k.id.UL,e),u.get(0)&&!h.get(0)){var g=[];m.makeUlHtml(e,t,g,""),u.append(g.join(""))}h=y(t,k.id.UL,e)}var p=y(n,e);p.get(0)?u.get(0)||p.remove():p=m.appendNodes(e,n.level,[n],null,!1,!0).join(""),h.get(0)&&o==k.move.TYPE_INNER?h.append(p):u.get(0)&&o==k.move.TYPE_PREV?u.before(p):u.get(0)&&o==k.move.TYPE_NEXT&&u.after(p);var f,v,N=-1,T=0,b=null,E=null,I=n.level;if(n.isFirstNode)N=0,s[d].length>1&&(b=s[d][1],b.isFirstNode=!0);else if(n.isLastNode)N=s[d].length-1,b=s[d][N-1],b.isLastNode=!0;else for(f=0,v=s[d].length;v>f;f++)if(s[d][f].tId==n.tId){N=f;break}if(N>=0&&s[d].splice(N,1),o!=k.move.TYPE_INNER)for(f=0,v=c[d].length;v>f;f++)c[d][f].tId==t.tId&&(T=f);if(o==k.move.TYPE_INNER?(t[d]||(t[d]=new Array),t[d].length>0&&(E=t[d][t[d].length-1],E.isLastNode=!1),t[d].splice(t[d].length,0,n),n.isLastNode=!0,n.isFirstNode=1==t[d].length):t.isFirstNode&&o==k.move.TYPE_PREV?(c[d].splice(T,0,n),E=t,E.isFirstNode=!1,n.parentTId=t.parentTId,n.isFirstNode=!0,n.isLastNode=!1):t.isLastNode&&o==k.move.TYPE_NEXT?(c[d].splice(T+1,0,n),E=t,E.isLastNode=!1,n.parentTId=t.parentTId,n.isFirstNode=!1,n.isLastNode=!0):(o==k.move.TYPE_PREV?c[d].splice(T,0,n):c[d].splice(T+1,0,n),n.parentTId=t.parentTId,n.isFirstNode=!1,n.isLastNode=!1),C.fixPIdKeyValue(e,n),C.setSonNodeLevel(e,n.getParentNode(),n),m.setNodeLineIcos(e,n),m.repairNodeLevelClass(e,n,I),!e.data.keep.parent&&s[d].length<1){s.isParent=!1,s.open=!1;var w=y(s,k.id.UL,e),S=y(s,k.id.SWITCH,e),P=y(s,k.id.ICON,e);m.replaceSwitchClass(s,S,k.folder.DOCU),m.replaceIcoClass(s,P,k.folder.DOCU),w.css("display","none")}else b&&m.setNodeLineIcos(e,b);E&&m.setNodeLineIcos(e,E),e.check&&e.check.enable&&m.repairChkClass&&(m.repairChkClass(e,s),m.repairParentChkClassWithSelf(e,s),s!=n.parent&&m.repairParentChkClassWithSelf(e,n)),r||m.expandCollapseParentNode(e,n.getParentNode(),!0,a)}},removeEditBtn:function(e,t){y(t,k.id.EDIT,e).unbind().remove()},removeRemoveBtn:function(e,t){y(t,k.id.REMOVE,e).unbind().remove()},removeTreeDom:function(e,t){t.isHover=!1,m.removeEditBtn(e,t),m.removeRemoveBtn(e,t),N.apply(e.view.removeHoverDom,[e.treeId,t])},repairNodeLevelClass:function(e,t,n){if(n!==t.level){var o=y(t,e),a=y(t,k.id.A,e),r=y(t,k.id.UL,e),i=k.className.LEVEL+n,d=k.className.LEVEL+t.level;o.removeClass(i),o.addClass(d),a.removeClass(i),a.addClass(d),r.removeClass(i),r.addClass(d)}},selectNodes:function(e,t){for(var n=0,o=t.length;o>n;n++)m.selectNode(e,t[n],n>0)}},f={tools:g,view:p,event:u,data:c};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,f);var v=e.fn.zTree,N=v._z.tools,k=v.consts,m=v._z.view,C=v._z.data,y=(v._z.event,N.$);C.exSetting(n),C.addInitBind(r),C.addInitUnBind(i),C.addInitCache(a),C.addInitNode(s),C.addInitProxy(d),C.addInitRoot(o),C.addZTreeTools(l);var T=m.cancelPreSelectedNode;m.cancelPreSelectedNode=function(e,t){for(var n=C.getRoot(e).curSelectedList,o=0,a=n.length;a>o&&(t&&t!==n[o]||(m.removeTreeDom(e,n[o]),!t));o++);T&&T.apply(m,arguments)};var b=m.createNodes;m.createNodes=function(e,t,n,o){b&&b.apply(m,arguments),n&&m.repairParentChkClassWithSelf&&m.repairParentChkClassWithSelf(e,o)};var E=m.makeNodeUrl;m.makeNodeUrl=function(e){return e.edit.enable?null:E.apply(m,arguments)};var I=m.removeNode;m.removeNode=function(e,t){var n=C.getRoot(e);n.curEditNode===t&&(n.curEditNode=null),I&&I.apply(m,arguments)};var w=m.selectNode;m.selectNode=function(e,t){var n=C.getRoot(e);return C.isSelectedNode(e,t)&&n.curEditNode==t&&t.editNameFlag?!1:(w&&w.apply(m,arguments),m.addHoverDom(e,t),!0)};var S=N.uCanDo;N.uCanDo=function(e,t){var n=C.getRoot(e);return t&&(N.eqs(t.type,"mouseover")||N.eqs(t.type,"mouseout")||N.eqs(t.type,"mousedown")||N.eqs(t.type,"mouseup"))?!0:(n.curEditNode&&(m.editNodeBlur=!1,n.curEditInput.focus()),!n.curEditNode&&(S?S.apply(m,arguments):!0))
}}(jQuery),function(e){function t(){e("#"+e(this).data("defaults").id).html('<div class="search-loading">&nbsp;&nbsp;&nbsp;&nbsp;...</div>')}function n(t){var n=e(this).data("defaults"),o={type:"post",cache:!1,data:t,dataType:"json",url:n.url,success:function(t){e.fn.zTree.init(e("#"+n.id),s,t)},error:function(){e("#"+n.id).html('<div class="ztree-search-error"></div>')}};e.ajax(o)}function o(){var t=e(this),n=t.data("defaults");e("#div"+n.id).css({left:e(this).offset().left+"px",top:e(this).offset().top+e(this).outerHeight()+"px","z-index":n.zindex||"1055"}).slideDown("fast"),e("body").bind("mousedown",{object:t},d),e(".modal,window").bind("scroll ",function(){e(".ztree-menuContent").fadeOut("fast")})}function a(t,n){var o=e.fn.zTree.getZTreeObj(t);return o.checkNode(n,!n.checked,null,!0),!1}function r(t,n){for(var o=jQuery("#"+n).attr("targetId"),a=jQuery("#"+o).data("defaults"),r=e.fn.zTree.getZTreeObj(a.id),i=r.getCheckedNodes(!0),d="",s="",l=0,c=i.length;c>l;l++)d+=i[l].name+",",s+=i[l].id+",";d.length>0&&(d=d.substring(0,d.length-1)),s.length>0&&(s=s.substring(0,s.length-1));var u=e("#"+a.targetId);u.val(d),u.attr("trueValue",s),u.attr("value",d),a.onCheck&&"function"==typeof a.onCheck&&a.onCheck()}function i(){var t=e(this).data("defaults");e("#div"+t.id).fadeOut("fast"),e("body").unbind("mousedown",d)}function d(t){var n=t.data.object,o=n.data("defaults"),a=t.target;if(a.id!=o.targetId){var r=e(a).prev()[0];if(void 0==r||r.id!=o.targetId){for(;a.id!="div"+o.id;){var a=e(a).parent()[0];if(void 0==a)break}(void 0==a||a.id!="div"+o.id)&&i.call(n)}}}var s={check:{enable:!0,chkboxType:{Y:"",N:""},radioType:"all"},view:{dblClickExpand:!1},data:{simpleData:{enable:!0}},callback:{beforeClick:a,onCheck:r}};e.fn.treeselect=function(a){e(this).after('<span class="glyphicon glyphicon-chevron-down ztree-dropdown"></span>'),e(this).on("click",function(){var r={id:"",targetId:"",searchAjaxParam:"name",height:300,width:180},i=e(this);if(i.data("defaults"))return void o.call(this);r.targetId=i.attr("id"),r.id=r.targetId+"_"+Date.parse(new Date),a.width=a.width||i.width(),e.extend(r,a),i.data("defaults",r),void 0!=a.chkStyle&&(s.check.chkStyle=a.chkStyle);var d=e('<div id="div'+r.id+'" class="ztree-menuContent"><ul class="ztree" style="margin-top:0px; width:'+r.width+"px; height: "+r.height+'px;">	<li class="ztree-search-input"><input id="input'+r.id+'" value="" type="text" style="height:24px;width:'+(r.width-24)+'px"/>       <img class="find-img"/>	</li>	<li targetId="'+r.targetId+'" id="'+r.id+'" ></li></ul></div>');d.appendTo("body"),e(".find-img").bind("click",function(){var o=e("#input"+r.id),a={};a[r.searchAjaxParam]=o.val(),t.call(i),n.call(i,a)}),e(".ztree-search-input").show(),t.call(this),n.call(this),o.call(this)}),e(".ztree-dropdown").on("click",function(){e(this).prev().click()})};
    e.fn.treeselectUpdate=function (param) {
        ii = e(this);
        n.call(ii,param);
    }
}(jQuery);
;/*!spin/spin.js*/
!function(t,e){t.Spinner2=e()}(this,function(){"use strict";function t(t,e){var i,n=document.createElement(t||"div");for(i in e)n[i]=e[i];return n}function e(t){for(var e=1,i=arguments.length;i>e;e++)t.appendChild(arguments[e]);return t}function i(t,e,i,n){var o=["opacity",e,~~(100*t),i,n].join("-"),r=.01+i/n*100,s=Math.max(1-(1-t)/e*(100-r),t),a=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return u[o]||(p.insertRule("@"+l+"keyframes "+o+"{0%{opacity:"+s+"}"+r+"%{opacity:"+t+"}"+(r+.01)+"%{opacity:1}"+(r+e)%100+"%{opacity:"+t+"}100%{opacity:"+s+"}}",p.cssRules.length),u[o]=1),o}function n(t,e){var i,n,o=t.style;if(e=e.charAt(0).toUpperCase()+e.slice(1),void 0!==o[e])return e;for(n=0;n<d.length;n++)if(i=d[n]+e,void 0!==o[i])return i}function o(t,e){for(var i in e)t.style[n(t,i)||i]=e[i];return t}function r(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)void 0===t[n]&&(t[n]=i[n])}return t}function s(t,e){return"string"==typeof t?t:t[e%t.length]}function a(t){this.opts=r(t||{},a.defaults,f)}function l(){function i(e,i){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',i)}p.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(t,n){function r(){return o(i("group",{coordsize:p+" "+p,coordorigin:-c+" "+-c}),{width:p,height:p})}function a(t,a,l){e(u,e(o(r(),{rotation:360/n.lines*t+"deg",left:~~a}),e(o(i("roundrect",{arcsize:n.corners}),{width:c,height:n.scale*n.width,left:n.scale*n.radius,top:-n.scale*n.width>>1,filter:l}),i("fill",{color:s(n.color,t),opacity:n.opacity}),i("stroke",{opacity:0}))))}var l,c=n.scale*(n.length+n.width),p=2*n.scale*c,d=-(n.width+n.length)*n.scale*2+"px",u=o(r(),{position:"absolute",top:d,left:d});if(n.shadow)for(l=1;l<=n.lines;l++)a(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=n.lines;l++)a(l);return e(t,u)},a.prototype.opacity=function(t,e,i,n){var o=t.firstChild;n=n.shadow&&n.lines||0,o&&e+n<o.childNodes.length&&(o=o.childNodes[e+n],o=o&&o.firstChild,o=o&&o.firstChild,o&&(o.opacity=i))}}var c,p,d=["webkit","Moz","ms","O"],u={},f={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(a.defaults={},r(a.prototype,{spin:function(e){this.stop();var i=this,n=i.opts,r=i.el=t(null,{className:n.className});if(o(r,{position:n.position,width:0,zIndex:n.zIndex,left:n.left,top:n.top}),e&&e.insertBefore(r,e.firstChild||null),r.setAttribute("role","progressbar"),i.lines(r,i.opts),!c){var s,a=0,l=(n.lines-1)*(1-n.direction)/2,p=n.fps,d=p/n.speed,u=(1-n.opacity)/(d*n.trail/100),f=d/n.lines;!function h(){a++;for(var t=0;t<n.lines;t++)s=Math.max(1-(a+(n.lines-t)*f)%d*u,n.opacity),i.opacity(r,t*n.direction+l,s,n);i.timeout=i.el&&setTimeout(h,~~(1e3/p))}()}return i},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(n,r){function a(e,i){return o(t(),{position:"absolute",width:r.scale*(r.length+r.width)+"px",height:r.scale*r.width+"px",background:e,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*p+r.rotate)+"deg) translate("+r.scale*r.radius+"px,0)",borderRadius:(r.corners*r.scale*r.width>>1)+"px"})}for(var l,p=0,d=(r.lines-1)*(1-r.direction)/2;p<r.lines;p++)l=o(t(),{position:"absolute",top:1+~(r.scale*r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:c&&i(r.opacity,r.trail,d+p*r.direction,r.lines)+" "+1/r.speed+"s linear infinite"}),r.shadow&&e(l,o(a("#000","0 0 4px #000"),{top:"2px"})),e(n,e(l,a(s(r.color,p),"0 0 1px rgba(0,0,0,.1)")));return n},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)}}),"undefined"!=typeof document){p=function(){var i=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}();var h=o(t("group"),{behavior:"url(#default#VML)"});!n(h,"transform")&&h.adj?l():c=n(h,"animation")}return a}),$.fn.spin=function(t){return this.each(function(){var e=$(this),i=e.data();i.spinner&&(i.spinner.stop(),delete i.spinner,t&&"close"===t)||t!==!1&&(i.spinner=new Spinner2($.extend({color:e.css("color")},t)).spin(this))}),this};